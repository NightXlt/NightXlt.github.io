{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/Yelee/source/404.html","path":"404.html","modified":1,"renderable":1},{"_id":"themes/Yelee/source/apple-touch-icon.png","path":"apple-touch-icon.png","modified":1,"renderable":1},{"_id":"source/images/2.png","path":"images/2.png","modified":1,"renderable":0},{"_id":"source/images/1.png","path":"images/1.png","modified":1,"renderable":0},{"_id":"source/images/1547971023240.png","path":"images/1547971023240.png","modified":1,"renderable":0},{"_id":"source/images/5-2.png","path":"images/5-2.png","modified":1,"renderable":0},{"_id":"source/images/AVL.jpg","path":"images/AVL.jpg","modified":1,"renderable":0},{"_id":"source/images/B_T_D.jpg","path":"images/B_T_D.jpg","modified":1,"renderable":0},{"_id":"source/images/Deep_copy.png","path":"images/Deep_copy.png","modified":1,"renderable":0},{"_id":"source/images/GradientDescentNegativeGradient.png","path":"images/GradientDescentNegativeGradient.png","modified":1,"renderable":0},{"_id":"source/images/HashMap.png","path":"images/HashMap.png","modified":1,"renderable":0},{"_id":"source/images/RTTI.png","path":"images/RTTI.png","modified":1,"renderable":0},{"_id":"source/images/Messenger.png","path":"images/Messenger.png","modified":1,"renderable":0},{"_id":"source/images/Tensorflow迭代过程.png","path":"images/Tensorflow迭代过程.png","modified":1,"renderable":0},{"_id":"source/images/all_permutations.png","path":"images/all_permutations.png","modified":1,"renderable":0},{"_id":"source/images/app_run_time.jpg","path":"images/app_run_time.jpg","modified":1,"renderable":0},{"_id":"source/images/bitree_spec_num.png","path":"images/bitree_spec_num.png","modified":1,"renderable":0},{"_id":"source/images/binder_pool.png","path":"images/binder_pool.png","modified":1,"renderable":0},{"_id":"source/images/browser_request_again.png","path":"images/browser_request_again.png","modified":1,"renderable":0},{"_id":"source/images/connect_reuse.png","path":"images/connect_reuse.png","modified":1,"renderable":0},{"_id":"source/images/copy_then.PNG","path":"images/copy_then.PNG","modified":1,"renderable":0},{"_id":"source/images/copy_start.PNG","path":"images/copy_start.PNG","modified":1,"renderable":0},{"_id":"source/images/dualpivotsort.PNG","path":"images/dualpivotsort.PNG","modified":1,"renderable":0},{"_id":"source/images/dupilicate_num.gif","path":"images/dupilicate_num.gif","modified":1,"renderable":0},{"_id":"source/images/eventbus_simple_resolve.png","path":"images/eventbus_simple_resolve.png","modified":1,"renderable":0},{"_id":"source/images/coordinate_transformation.jpeg","path":"images/coordinate_transformation.jpeg","modified":1,"renderable":0},{"_id":"source/images/double_bfs.jpg","path":"images/double_bfs.jpg","modified":1,"renderable":0},{"_id":"source/images/feature-2.gif","path":"images/feature-2.gif","modified":1,"renderable":0},{"_id":"source/images/feature-4.jpg","path":"images/feature-4.jpg","modified":1,"renderable":0},{"_id":"source/images/first_request.png","path":"images/first_request.png","modified":1,"renderable":0},{"_id":"source/images/force_cache.PNG","path":"images/force_cache.PNG","modified":1,"renderable":0},{"_id":"source/images/glide_resolve.png","path":"images/glide_resolve.png","modified":1,"renderable":0},{"_id":"source/images/happy.png","path":"images/happy.png","modified":1,"renderable":0},{"_id":"source/images/invoke_process.png","path":"images/invoke_process.png","modified":1,"renderable":0},{"_id":"source/images/helpness.png","path":"images/helpness.png","modified":1,"renderable":0},{"_id":"source/images/jdk_6_concurrent_hashmap.PNG","path":"images/jdk_6_concurrent_hashmap.PNG","modified":1,"renderable":0},{"_id":"source/images/jdk_8_concurrent_hashmap.PNG","path":"images/jdk_8_concurrent_hashmap.PNG","modified":1,"renderable":0},{"_id":"source/images/kmp_principle.png","path":"images/kmp_principle.png","modified":1,"renderable":0},{"_id":"source/images/mergesort.png","path":"images/mergesort.png","modified":1,"renderable":0},{"_id":"source/images/merge_sort.png","path":"images/merge_sort.png","modified":1,"renderable":0},{"_id":"source/images/message_mechanism.PNG","path":"images/message_mechanism.PNG","modified":1,"renderable":0},{"_id":"source/images/noexist.jpg","path":"images/noexist.jpg","modified":1,"renderable":0},{"_id":"source/images/par_condition.PNG","path":"images/par_condition.PNG","modified":1,"renderable":0},{"_id":"source/images/partitionA.PNG","path":"images/partitionA.PNG","modified":1,"renderable":0},{"_id":"source/images/partitionAB.PNG","path":"images/partitionAB.PNG","modified":1,"renderable":0},{"_id":"source/images/partitionB.PNG","path":"images/partitionB.PNG","modified":1,"renderable":0},{"_id":"source/images/performTraversals.png","path":"images/performTraversals.png","modified":1,"renderable":0},{"_id":"source/images/pooling.jpg","path":"images/pooling.jpg","modified":1,"renderable":0},{"_id":"source/images/retrofit_process.png","path":"images/retrofit_process.png","modified":1,"renderable":0},{"_id":"source/images/retrofit_stay.png","path":"images/retrofit_stay.png","modified":1,"renderable":0},{"_id":"source/images/ladder_bfs_redundance.jpg","path":"images/ladder_bfs_redundance.jpg","modified":1,"renderable":0},{"_id":"source/images/ladder_bfs.jpg","path":"images/ladder_bfs.jpg","modified":1,"renderable":0},{"_id":"source/images/shallow_copy.png","path":"images/shallow_copy.png","modified":1,"renderable":0},{"_id":"source/images/sudu.png","path":"images/sudu.png","modified":1,"renderable":0},{"_id":"source/images/trap_water_example.PNG","path":"images/trap_water_example.PNG","modified":1,"renderable":0},{"_id":"source/images/事件分发.png","path":"images/事件分发.png","modified":1,"renderable":0},{"_id":"source/images/事件分发机制图解.png","path":"images/事件分发机制图解.png","modified":1,"renderable":0},{"_id":"source/images/traversalTree.png","path":"images/traversalTree.png","modified":1,"renderable":0},{"_id":"source/images/常量修改编译错误.png","path":"images/常量修改编译错误.png","modified":1,"renderable":0},{"_id":"source/images/Binder.png","path":"images/Binder.png","modified":1,"renderable":0},{"_id":"source/images/RxJava_call_stack_just.png","path":"images/RxJava_call_stack_just.png","modified":1,"renderable":0},{"_id":"source/images/compare_cache.PNG","path":"images/compare_cache.PNG","modified":1,"renderable":0},{"_id":"source/images/cycle_list.PNG","path":"images/cycle_list.PNG","modified":1,"renderable":0},{"_id":"source/images/feature-3.jpg","path":"images/feature-3.jpg","modified":1,"renderable":0},{"_id":"source/images/eventbus_register.png","path":"images/eventbus_register.png","modified":1,"renderable":0},{"_id":"source/images/kmp.png","path":"images/kmp.png","modified":1,"renderable":0},{"_id":"source/images/okhttp_full_process.png","path":"images/okhttp_full_process.png","modified":1,"renderable":0},{"_id":"source/images/okhttp_interceptors.png","path":"images/okhttp_interceptors.png","modified":1,"renderable":0},{"_id":"themes/Yelee/source/background/bg-2.jpg","path":"background/bg-2.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/bg-4.jpg","path":"background/bg-4.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/bg-3.jpg","path":"background/bg-3.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/GithubRepoWidget.js","path":"js/GithubRepoWidget.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/mobile.js","path":"js/mobile.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/pc.js","path":"js/pc.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/instagram.js","path":"js/instagram.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/toc.js","path":"js/toc.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/Coding.png","path":"img/Coding.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/Plunker.png","path":"img/Plunker.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/AcFun.png","path":"img/AcFun.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/CSDN.png","path":"img/CSDN.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/Quora.png","path":"img/Quora.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/TiddlyWiki.png","path":"img/TiddlyWiki.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/LOFTER.png","path":"img/LOFTER.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/V2EX.png","path":"img/V2EX.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/SegmentFault.png","path":"img/SegmentFault.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/avatar.png","path":"img/avatar.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/niconico.png","path":"img/niconico.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/bilibili.png","path":"img/bilibili.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/博客园.png","path":"img/博客园.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/新浪微博.png","path":"img/新浪微博.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/网易云音乐.png","path":"img/网易云音乐.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/知乎.png","path":"img/知乎.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/简书.png","path":"img/简书.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/虾米音乐.png","path":"img/虾米音乐.png","modified":1,"renderable":1},{"_id":"themes/Yelee/source/img/豆瓣.png","path":"img/豆瓣.png","modified":1,"renderable":1},{"_id":"source/images/RxJava_call_stack_just_map.png","path":"images/RxJava_call_stack_just_map.png","modified":1,"renderable":0},{"_id":"source/images/eventbus_post.png","path":"images/eventbus_post.png","modified":1,"renderable":0},{"_id":"source/images/tags _ Night's blog_files/avatar.png","path":"images/tags _ Night's blog_files/avatar.png","modified":1,"renderable":0},{"_id":"themes/Yelee/source/background/bg-1.jpg","path":"background/bg-1.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/bg-5.jpg","path":"background/bg-5.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/bg-6.jpg","path":"background/bg-6.jpg","modified":1,"renderable":1},{"_id":"source/images/CNN.PNG","path":"images/CNN.PNG","modified":1,"renderable":0},{"_id":"source/images/RxJava_call_stack_just_map_subscribeOn_observeOn.png","path":"images/RxJava_call_stack_just_map_subscribeOn_observeOn.png","modified":1,"renderable":0},{"_id":"source/images/rotate_matrix.png","path":"images/rotate_matrix.png","modified":1,"renderable":0},{"_id":"themes/Yelee/source/background/backup/bg-1.jpg","path":"background/backup/bg-1.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/backup/bg-3.jpg","path":"background/backup/bg-3.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/backup/bg-2.jpg","path":"background/backup/bg-2.jpg","modified":1,"renderable":1},{"_id":"themes/Yelee/source/background/backup/bg-4.jpg","path":"background/backup/bg-4.jpg","modified":1,"renderable":1},{"_id":"source/images/CNN-2.PNG","path":"images/CNN-2.PNG","modified":1,"renderable":0},{"_id":"source/images/feature-1.PNG","path":"images/feature-1.PNG","modified":1,"renderable":0},{"_id":"source/images/layer.PNG","path":"images/layer.PNG","modified":1,"renderable":0},{"_id":"source/images/all-connection.PNG","path":"images/all-connection.PNG","modified":1,"renderable":0},{"_id":"source/images/rematch_1.png","path":"images/rematch_1.png","modified":1,"renderable":0},{"_id":"source/images/Find the largest square area dp1.jpg","path":"images/Find the largest square area dp1.jpg","modified":1,"renderable":0}],"Cache":[{"_id":"themes/Yelee/.gitignore","hash":"79b4a9ac435bc5833a0bc461ebacb10908b34ed3","modified":1513821046000},{"_id":"themes/Yelee/README.md","hash":"12bc9cdb68f51df81bcc36a5263e0a6c5860f646","modified":1513821046000},{"_id":"themes/Yelee/npm-debug.log","hash":"5dd3535451560165e766cd4aa371e4d9a5e6f235","modified":1513827228000},{"_id":"themes/Yelee/_config.yml","hash":"4c20acfe35293f9bbebf4cc0a93d5a4b506d99bd","modified":1548222308000},{"_id":"themes/Yelee/package.json","hash":"fc683320a356047243afdf271e2a60ca82091330","modified":1513827714000},{"_id":"source/.DS_Store","hash":"ef0cdfaf1ff5f3344563e7f9167e255550f317db","modified":1584589892590},{"_id":"themes/Yelee/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1513821046000},{"_id":"themes/Yelee/.git/config","hash":"6825ab1d11bf7426de601ee5eea3ad2962e28396","modified":1513821046000},{"_id":"themes/Yelee/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1513821034000},{"_id":"themes/Yelee/.git/index","hash":"1380aa435c4348c81730d04a03ea460106758439","modified":1580388731830},{"_id":"themes/Yelee/.git/packed-refs","hash":"fad6a43ad617793304d9241562a71596db559018","modified":1513821046000},{"_id":"themes/Yelee/.github/ISSUE_TEMPLATE.md","hash":"ce083abf397c12747893a23e901d46558b53e0ad","modified":1513821046000},{"_id":"themes/Yelee/source/404.html","hash":"c312dba7c02a6328bfe089df03914a2d20f074b3","modified":1548231638000},{"_id":"themes/Yelee/source/apple-touch-icon.png","hash":"c0fda117fa166d63b9eb690cc5e4fb2caaf493b3","modified":1513821046000},{"_id":"themes/Yelee/languages/default.yml","hash":"3bdad891c90029447b4fbaedbbb11b8a59d06418","modified":1513821046000},{"_id":"themes/Yelee/languages/en.yml","hash":"ff991c2c80d9ab69c984acb1c40480c8b98be2bc","modified":1513821046000},{"_id":"themes/Yelee/languages/zh-Hans.yml","hash":"4fa4068a65089810e7dd95692f9157eb80c2e8de","modified":1513821046000},{"_id":"themes/Yelee/languages/zh-Hant-HK.yml","hash":"bbc73dcd9170fe9efaab6fbbe1571886e0b8aa89","modified":1513821046000},{"_id":"themes/Yelee/languages/zh-Hant-TW.yml","hash":"88b4678bba940bc270c7aea2debbf869ecf6cc18","modified":1513821046000},{"_id":"themes/Yelee/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1513821046000},{"_id":"themes/Yelee/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1513821046000},{"_id":"themes/Yelee/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1513821046000},{"_id":"themes/Yelee/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1513821046000},{"_id":"themes/Yelee/layout/layout.ejs","hash":"3a4350f23a1286345f76c949466c97a7200dae8e","modified":1513821046000},{"_id":"themes/Yelee/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1513821046000},{"_id":"themes/Yelee/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1513821046000},{"_id":"source/404/index.md","hash":"42fbe45f85ea024473dbc62642f6fac1398725e6","modified":1581578169042},{"_id":"source/categories/index.md","hash":"8b8c0d9974e8b2c4788a73a8fc429829f4d1e86b","modified":1581578169066},{"_id":"source/about/index.md","hash":"4c90a08b01bbae1d804e29a567d58b65b8458954","modified":1581578169066},{"_id":"source/images/2.png","hash":"c2d9f433cd8b1c41fefd05ae1496c521c115803e","modified":1581578169067},{"_id":"source/images/1.png","hash":"592e7d08881670abb72b515b74275daceb5382c4","modified":1581578169066},{"_id":"source/images/1547971023240.png","hash":"e94860e2d06a887d638772b9a5da61d8b8571fe9","modified":1581578169066},{"_id":"source/images/5-2.png","hash":"b2cda59b57fd00afad6e81b578852ae18228f81f","modified":1581578169067},{"_id":"source/images/AVL.jpg","hash":"46cdcfb70b668c3b77e13c85e63ff757f81a87a3","modified":1581578169067},{"_id":"source/images/B_T_D.jpg","hash":"bcda950bc632e582c4baf0990a123dfaf24b0711","modified":1581578169068},{"_id":"source/images/Deep_copy.png","hash":"2ebb53236b8ad57499c57441aaacb50877a22f30","modified":1581578169070},{"_id":"source/images/GradientDescentNegativeGradient.png","hash":"d0f27afdfc0a55ca61b75837459c46769cfd4e08","modified":1581578169073},{"_id":"source/images/HashMap.png","hash":"6e6bac3d916147a096a29b53605c0393c4201645","modified":1581578169074},{"_id":"source/images/RTTI.png","hash":"e589caead22d565b36dcd3915a2596385ce19cc4","modified":1581578169074},{"_id":"source/images/Messenger.png","hash":"e7881e3ad145e03bc597c10a2eed03204f5fa765","modified":1581578169074},{"_id":"source/images/Tensorflow迭代过程.png","hash":"330d8eae0b7c95669d441687d79cce21b822be04","modified":1581578169077},{"_id":"source/images/all_permutations.png","hash":"6a7d173551b8effa13c30cc4a7209544f649cedd","modified":1581578169080},{"_id":"source/images/app_run_time.jpg","hash":"77d94c1f2a800ca7add81b86f752af76e90d535c","modified":1581578169080},{"_id":"source/images/bitree_spec_num.png","hash":"9a3dadb04c78ff946a692db3835d3ebd7f2b0bd2","modified":1581578169080},{"_id":"source/images/binder_pool.png","hash":"df93b32b48d2b6c2eae623a279ccab4ff0f3dc0c","modified":1581578169080},{"_id":"source/images/browser_request_again.png","hash":"fd52fe629f72fd6d508f699b4e0c13309e0892bb","modified":1581578169081},{"_id":"source/images/connect_reuse.png","hash":"66230bf27d1df849d72cc3dcbdf5cc49e9e61464","modified":1581578169081},{"_id":"source/images/copy_then.PNG","hash":"09af7d2bcc213de11536f63ffce55bf334c83658","modified":1581578169082},{"_id":"source/images/copy_start.PNG","hash":"375ffda5e1d6b70299c0feff217828668c646a00","modified":1581578169082},{"_id":"source/images/dualpivotsort.PNG","hash":"b8750ef15976ec9e78b255730fd1356d3b9ca664","modified":1581578169083},{"_id":"source/images/dupilicate_num.gif","hash":"83dd4fd1c274cf7ac93478bfa7dcb49736896f61","modified":1581578169083},{"_id":"source/images/eventbus_simple_resolve.png","hash":"12617d97a7f9f6e48efde3f1d4239be16dd05733","modified":1581578169085},{"_id":"source/images/coordinate_transformation.jpeg","hash":"0173c5adcc777092be74bb9bb7f6449e3daa2f94","modified":1583154361664},{"_id":"source/images/double_bfs.jpg","hash":"d031a39743a031822b404d239bbe91710ccd834f","modified":1584573822645},{"_id":"source/images/feature-2.gif","hash":"05c0c84c210f5d25a8250ff1455d897f74aa372d","modified":1581578169087},{"_id":"source/images/feature-4.jpg","hash":"df83ea504d4e0112efaaa11734b32d4f836fea7d","modified":1581578169088},{"_id":"source/images/first_request.png","hash":"7e93298ad1223b85691c9c6b8f4f080b3e794b96","modified":1581578169088},{"_id":"source/images/force_cache.PNG","hash":"9c7ddc02c726b3cdd12f0e7445ba3076aa5778ea","modified":1581578169088},{"_id":"source/images/glide_resolve.png","hash":"5de2a2f5787c7c65d1497917740b1c77f7ec02be","modified":1581578169089},{"_id":"source/images/happy.png","hash":"6c989257d1b575b928b56d392e15281ebbfe5957","modified":1581578169089},{"_id":"source/images/invoke_process.png","hash":"acffa7dd63674cc54fd060c4d6e34d97fb8ede9b","modified":1581578169089},{"_id":"source/images/helpness.png","hash":"4f87def0e5addd56aa7ea6112a075945b305bf9d","modified":1581578169089},{"_id":"source/images/jdk_6_concurrent_hashmap.PNG","hash":"5d4391a70dbb2c428e5a16f0b7ea98f694b7948e","modified":1581578169090},{"_id":"source/images/jdk_8_concurrent_hashmap.PNG","hash":"49f86a92896fbba4d2022728d8b64203cf2f1488","modified":1581578169090},{"_id":"source/images/kmp_principle.png","hash":"831a6ddbf1ca00277729d3cb222e973a6b8eaf9a","modified":1581578169092},{"_id":"source/images/mergesort.png","hash":"cc23c5530f9fa0045eb682487c4ba1d5d4700691","modified":1581578169095},{"_id":"source/images/merge_sort.png","hash":"b3a03faf10d49a9002361b418c8c43307c511f9f","modified":1581578169095},{"_id":"source/images/message_mechanism.PNG","hash":"31408e94b306731e05fd8f177d806c666ec494f5","modified":1581578169095},{"_id":"source/images/noexist.jpg","hash":"d5f27482aa3c5f0f9bf61a13f4bd3454cc63a8fb","modified":1581578169095},{"_id":"source/images/par_condition.PNG","hash":"fc6740d000eff3d5ffd02de1778e46b41e58df9f","modified":1581578169097},{"_id":"source/images/partitionA.PNG","hash":"6acddf4464d3ff69126c3b866410ab42d24832cb","modified":1581578169097},{"_id":"source/images/partitionAB.PNG","hash":"23059dc51a3d83a210fcc978000ae796bd3913f7","modified":1581578169097},{"_id":"source/images/partitionB.PNG","hash":"1adfb2862654e7d8b7b103ce819ca7fd94897084","modified":1581578169097},{"_id":"source/images/performTraversals.png","hash":"3a541051cc05eb598ef2408a90908d26e15f58b6","modified":1581578169097},{"_id":"source/images/pooling.jpg","hash":"f7cdc43f6d19e19b1f6aa160375dac8def18220c","modified":1581578169098},{"_id":"source/images/retrofit_process.png","hash":"499952968b226f76d8fda02055d9b65c6a81b6e7","modified":1581578169098},{"_id":"source/images/retrofit_stay.png","hash":"d5cbf6443cdf565482f05512e6703b2e52665854","modified":1581578169098},{"_id":"source/images/ladder_bfs_redundance.jpg","hash":"4d644870a28d0d9e0a9080e8c0f2bc74f62a31c1","modified":1584426311606},{"_id":"source/images/ladder_bfs.jpg","hash":"0954b2ecffd95cbd4352f0dbc1b924b2bffd293a","modified":1584414517002},{"_id":"source/images/shallow_copy.png","hash":"abc384e7a6429d90784a4780e520a1aa3e0f55d7","modified":1581578169098},{"_id":"source/images/sudu.png","hash":"5c7f2030f99b58f4342b18c1af1fc8a24cf0c73b","modified":1581578169098},{"_id":"source/images/trap_water_example.PNG","hash":"eeb81fb700589aefe0140a0502c0a6f53b376e7f","modified":1581578169099},{"_id":"source/images/事件分发.png","hash":"1132ba1ba3574a5dba212ad47ce40c6d4d835f55","modified":1581578169099},{"_id":"source/images/tags _ Night's blog.htm","hash":"2b2b11fb46ca8e765a13f69d705b53d87c624c32","modified":1585989276669},{"_id":"source/images/事件分发机制图解.png","hash":"4cc4b51337b6c6915dbe8975cf4810b33e2629c6","modified":1581578169099},{"_id":"source/images/traversalTree.png","hash":"cb66ee80f7eb635aba240e95f299b05152a40dc6","modified":1585182951543},{"_id":"source/images/常量修改编译错误.png","hash":"ea6ecd6cd2ea745a5e28242924d254e165a09023","modified":1581578169100},{"_id":"source/_posts/.DS_Store","hash":"9d0c2aebbee567373186f2b6301ade6060635571","modified":1580378576177},{"_id":"source/_posts/Android 8.0 apk自动更新的一些坑.md","hash":"ed47e7ea66604e14374ece00a11c49bb4e3ca972","modified":1581578169043},{"_id":"source/_posts/Add the two non-negative numbers.md","hash":"39b3d08649a1410489e51cad0c6b09a91a9a8899","modified":1581578169042},{"_id":"source/_posts/Best Time to Buy and Sell Stock.md","hash":"12e2f2536c5daea26b4fba59dc279abe3c49e7f1","modified":1581578169044},{"_id":"source/_posts/Android事件分发源码解析.md","hash":"3b09392431130d6557b32d7ef6d2278e9642f4c6","modified":1581578169043},{"_id":"source/_posts/AnsyncTask Mechanism.md","hash":"c12d2c46596a1990743591a8ec06924d3482fe06","modified":1581578169044},{"_id":"source/_posts/Binder Resolve.md","hash":"caa96d39c05d66a31f4a3f555f7a64828cf876fc","modified":1581578169044},{"_id":"source/_posts/Binder Pool.md","hash":"7d085852089941a6d95d35394059509530a4a011","modified":1581578169044},{"_id":"source/_posts/Bitmap的高效加载.md","hash":"df74329cfd6fbd9213fa107d783c27bc5b445df3","modified":1581578169044},{"_id":"source/_posts/Build apk with an illegal state exception.md","hash":"e61e1cef91401341aecdf3e36ae2f09a3fde0356","modified":1581578169044},{"_id":"source/_posts/Climbing a stair.md","hash":"cfa6ab5e6479a925dcac16e2165248b44417e9cf","modified":1581578169044},{"_id":"source/_posts/Combinations of a Phone Number.md","hash":"90f50170a7fa0a95c0c34a17b0925273b30d3891","modified":1581578169044},{"_id":"source/_posts/ConcurrentHashMap源码简析.md","hash":"a3fd9262dc863281997e7582bd2483f99deec847","modified":1581578169045},{"_id":"source/_posts/ContentProvider源码解析.md","hash":"bedd1b697d140af1db6812d8ca5adb1dedae8250","modified":1581578169045},{"_id":"source/_posts/CountDownLatch.md","hash":"1d43c5448a3d1288348d195a5d02362e9b1dbfb1","modified":1581578169045},{"_id":"source/_posts/DTO与VO辨析.md","hash":"7c7c9202f9ba7cf90ca7841818653ca33962b9a0","modified":1581578169045},{"_id":"source/_posts/Delete the duplicates in a sorted array.md","hash":"5cfe35e51b587557151a2a02924aaa96c9dc2432","modified":1581578169045},{"_id":"source/_posts/DualPivotSort.md","hash":"de2d381a3cdb1cd9b63329b5b402c8ca2810d8bb","modified":1581578169046},{"_id":"source/_posts/Determine if it is a power of two.md","hash":"e4c304310117ea97df3090c7706f11f8480a57a8","modified":1581578169045},{"_id":"source/_posts/Find all possible subsets.md","hash":"44ec07f129950de37a6439f977e8271b34f47468","modified":1581578169046},{"_id":"source/_posts/Find all possible permutations.md","hash":"1c7ee9d60fbade0ef0695d8012dcd9c136b741ac","modified":1581578169046},{"_id":"source/_posts/EventBus解析.md","hash":"4243cc66af27af46e863d7544c694834b2491e5d","modified":1581578169046},{"_id":"source/_posts/Find longest palindromic substring.md","hash":"57d52c34e67a05ce544e0bc7712b541bf261a0e7","modified":1581578169046},{"_id":"source/_posts/Find the cycle begins node.md","hash":"de6df68084d2c350ca90c8fe6af2da948413f31d","modified":1581578169047},{"_id":"source/_posts/Counting_Bits.md","hash":"45be574df5b52f5d46e35fe20ede5eb54f2044ed","modified":1581475083978},{"_id":"source/_posts/Find the largest square area.md","hash":"7c85c26c789ddac248bc3f2d2ae1b663e4b93f87","modified":1581578169047},{"_id":"source/_posts/Find the length of the longest.md","hash":"f50bf3c6c2fee8b08b89eaa558bc372204d0dd77","modified":1581578169047},{"_id":"source/_posts/Find the maximum path sum.md","hash":"6eafcb4726e839a6a0fb767d2c6f329db98df6b4","modified":1581578169047},{"_id":"source/_posts/Find the single one number.md","hash":"4e2dedc35ea9a513798b4cd28e3eb28a3130552f","modified":1581578169048},{"_id":"source/_posts/Find the median of the two sorted arrays.md","hash":"9d272a2e819e00d70080e897fad45611d0fe4073","modified":1581578169047},{"_id":"source/_posts/Find three integers in nums such that the sum is closest to target.md","hash":"4c059b11caf9e74a2ae42222a041bdce9c168941","modified":1581578169048},{"_id":"source/_posts/Foreach与迭代器.md","hash":"22660fa7254a438dd4a41c1dfdd951bd7e41d575","modified":1581578169048},{"_id":"source/_posts/Get water.md","hash":"291a1c4b9ad36beb928380fca26c594fbebe5dbd","modified":1581578169049},{"_id":"source/_posts/Github Gist.md","hash":"664da76c7d587838f8685c6b30fc74e2736fc16b","modified":1581578169049},{"_id":"source/_posts/Gray code.md","hash":"17a88849644d51759b90e9a5577573197ce391e5","modified":1581578169050},{"_id":"source/_posts/Glide源码解析.md","hash":"67a3f60fbf15d50828380fb8ffc3613d27a5e356","modified":1581578169049},{"_id":"source/_posts/HandlerThread和IntentService源码解析.md","hash":"bed1a4f38fc647745bb87820ad4d44c97eac8b7e","modified":1581578169050},{"_id":"source/_posts/Http缓存.md","hash":"17052b0220cdddc0b2620c3335639a85cd93169d","modified":1581578169050},{"_id":"source/_posts/IM上拉加载RecylerView.md","hash":"7218531b20fc03a950284340da38e2ca7292f421","modified":1581578169051},{"_id":"source/_posts/Jupyter配置.md","hash":"2f9c964c807669b1745f7232dce36e5d6158a8be","modified":1581578169051},{"_id":"source/_posts/Kotlin觉醒篇.md","hash":"1d700351cb0a0ff5892aa4827072342f6a69ff4e","modified":1581578169051},{"_id":"source/_posts/Hexadecimal.md","hash":"4cf8b7611ce9f7daaf1d74ec623931fb44eddfe8","modified":1581476188209},{"_id":"source/_posts/Kotlin逍遥篇.md","hash":"14ba94b9bb296b04cd9cd0c405cc950effdad01a","modified":1581578169052},{"_id":"source/_posts/LRU.md","hash":"38806701e09955a5fe82b57d9ab8b40660340fed","modified":1581578169052},{"_id":"source/_posts/LCA.md","hash":"fd1ead805c3462078890b731bf6a4020de580a6f","modified":1581578169052},{"_id":"source/_posts/LongestCommonPrefix.md","hash":"1e1734559f29b5acb3d2fb65056171a8e01ea5d5","modified":1581578169052},{"_id":"source/_posts/LongestSubString.md","hash":"2cf76dc150bff212309190be84a665c2c9a595c1","modified":1581578169052},{"_id":"source/_posts/Linux epoll模型.md","hash":"2527ddbe1dd67c4c14fd47e058ca8f48ac896b10","modified":1581578169052},{"_id":"source/_posts/Merge K linked list.md","hash":"b78d943c083c60c1dcb3d11b9b7f6117e6d7b53a","modified":1581578169053},{"_id":"source/_posts/Merge overlapping intervals.md","hash":"64d9298430a71bf82c083a06c42cc2330058b83f","modified":1581578169053},{"_id":"source/_posts/Message Mechanism.md","hash":"72f481ed75341932db85a812a40ef0bb0a19e0df","modified":1581578169053},{"_id":"source/_posts/Move 0.md","hash":"6fe91b516e30ef07bdc7d9af93e63d9268456c40","modified":1581578169053},{"_id":"source/_posts/Messenger Again.md","hash":"fe14b5fa7b801be3e091b7b7508399cdd1fcef13","modified":1581578169053},{"_id":"source/_posts/OKHttp源码.md","hash":"60ef32e0fd7343d18c9e8c8281c58a8d68473c43","modified":1581578169053},{"_id":"source/_posts/REMatch.md","hash":"ffe37fe31498130e95fc7dac3fb69cf92dc53ded","modified":1585989353233},{"_id":"source/_posts/OKHttp责任链分析.md","hash":"9ca3f264e87d1f269a1d79322a2694bb9ee5bd17","modified":1581578169054},{"_id":"source/_posts/Otto源码剖析.md","hash":"986f4a544ed288dbbb4fb593f1647db2e26e790c","modified":1581578169054},{"_id":"source/_posts/MAX_XOR.md","hash":"b7ac9060033f52764604271ee2300910df04a3a5","modified":1581389947684},{"_id":"source/_posts/Max_Length_Concatenated_String_with_Unique_Characters.md","hash":"1d281bc25830e3d9b21666154271b8257d454aac","modified":1581389934679},{"_id":"source/_posts/Pow(x, n).md","hash":"0032bf3842fb075fd4058f09e0816e153735c49f","modified":1581578169054},{"_id":"source/_posts/Product of all the elements of nums except nums[i].md","hash":"1c22a9849c16866bda9aaa5c63a7b6b2fd608dfe","modified":1581578169054},{"_id":"source/_posts/Recylerview多布局显示.md","hash":"9933b63b7e98dda78f50b7ef3ff30e955f18210a","modified":1581578169055},{"_id":"source/_posts/RecylerView嵌套横向滑动冲突.md","hash":"7eddf3d18963074dde2a798f6ea34dcd5393d5ec","modified":1581578169055},{"_id":"source/_posts/RelativeLayout与LinearLayout的onMeasure方法.md","hash":"1268d9b3edd3798d277c0926b35285cfe92e958c","modified":1581578169056},{"_id":"source/_posts/Replace Blank.md","hash":"768648969bef0ead9b10413edb4e1268aa568b99","modified":1581578169056},{"_id":"source/_posts/Restore  IP address.md","hash":"2683895cc34b7ff7c80625dd0b91fdf7a81e183c","modified":1581578169056},{"_id":"source/_posts/Reverse the string word by word.md","hash":"feabc0dcf7e7546a11629f9a2c2606642951ac30","modified":1581578169057},{"_id":"source/_posts/Retrofit源码解析.md","hash":"8dbab355b8a4a274f68d64f58b8ea88ad53e7ca3","modified":1581578169057},{"_id":"source/_posts/Russian doll envelopes.md","hash":"3a45e11a02e6ed8d2c046b02bc01f5948ddb2add","modified":1581578169057},{"_id":"source/_posts/Rotate the list.md","hash":"80fd3b2ebc25d424d59edb16ebfdfc1b8c959aaf","modified":1581578169057},{"_id":"source/_posts/Rxjava订阅解析.md","hash":"c446730e0b6707eb3272c8dd4cabab38ed40c113","modified":1581578169057},{"_id":"source/_posts/Scroller、ScrollTo、ScrollBy源码解析.md","hash":"21161235bde5a39f76606ffa62127a8a6715ed64","modified":1581578169057},{"_id":"source/_posts/Searching Rotated array.md","hash":"18e4ff0e4e1897ecdfaad5eef10962e95fc56f39","modified":1581578169058},{"_id":"source/_posts/Simplify path.md","hash":"39097eda5f86028ff3a05a04b93df656b1a6c463","modified":1581578169058},{"_id":"source/_posts/Sort a linked list.md","hash":"134beeca8ee1d0555c7b5485f6b6a8c91ff986f1","modified":1581578169058},{"_id":"source/_posts/Tensorflow的迭代方法.md","hash":"fa9fb1315fd3ce1cc0a403e468ea1df657d61c48","modified":1581578169058},{"_id":"source/_posts/Symmetric Tree.md","hash":"c0d57647749f4b5d43604bc6b0e52dba233ac15d","modified":1581578169058},{"_id":"source/_posts/The kth largest element.md","hash":"9ded3b4f44097e44345089ced8f43a7387e39a4d","modified":1581578169058},{"_id":"source/_posts/Single_Number_III.md","hash":"89421f8f71ced8db86f6de24641a870773919d4d","modified":1581477110165},{"_id":"source/_posts/The kth permutation sequence.md","hash":"9e74a42f642b5221dee621b0945993d95f913542","modified":1581578169058},{"_id":"source/_posts/The min stack.md","hash":"5acaef853b066e4689a0b6b1b281020f8ef4ff39","modified":1581578169059},{"_id":"source/_posts/UndergroundSystem.md","hash":"629399abd45ad48eadf89167d570f7d878ef8f6f","modified":1585613710141},{"_id":"source/_posts/The permutation of string.md","hash":"743525d1497c8c7e0775ec120bdb9c231ecadde9","modified":1581578169059},{"_id":"source/_posts/The sum of three elements is zero.md","hash":"079c1d73bcae693a674b97c08bbac5673d580eb1","modified":1581578169059},{"_id":"source/_posts/Think about FP.md","hash":"33ef51d7d6c3b1e6f9b7bc30edb88b0e25d74395","modified":1581578169059},{"_id":"source/_posts/The zigzag level order traversal.md","hash":"7ce2ef2be1308142c4aeeb54801fb23f486502d4","modified":1581578169059},{"_id":"source/_posts/Unique paths.md","hash":"5bea8a4f71e8da59e81a51b104dd80ed6c7685c8","modified":1581578169059},{"_id":"source/_posts/UTF-8 validation.md","hash":"d7950def3d7ac7d5d4b73bc4e9f9b7346554bdbb","modified":1581578169059},{"_id":"source/_posts/Valid  sequence of Binary Tree‘s post order.md","hash":"c0f87180f9fc16443c5ebc9cacefd198697aa149","modified":1581578169060},{"_id":"source/_posts/ValidSudoku.md","hash":"f9e211ef4f032cd27629cc5819a81f965454ddaf","modified":1581578169060},{"_id":"source/_posts/View的滑动冲突.md","hash":"36a4963b75e820b0a1ef0bf1c38ce74008e27373","modified":1581578169060},{"_id":"source/_posts/View的工作原理.md","hash":"4abf2ba2414e4b51afa77dc4bece3cc23cd5bf0e","modified":1581578169060},{"_id":"source/_posts/combine.md","hash":"2b6b09c72c110ded868ffa2957b619611c9725cb","modified":1583637533612},{"_id":"source/_posts/countNumbersWithUniqueDigits.md","hash":"02359d62732e4e25de6d4911160d744615f801a1","modified":1584924730845},{"_id":"source/_posts/constructArray.md","hash":"8db24e708168763920cac1b522241e4200777e5b","modified":1585138829319},{"_id":"source/_posts/combinationSum2.md","hash":"7425ad896e37ef87b639f6c024aaccdc3c9ee15c","modified":1583293563371},{"_id":"source/_posts/countArrangement.md","hash":"25450a8b5ea1dc6ecd639b7817d6fc44cf45a149","modified":1585008838093},{"_id":"source/_posts/findNumOfValidWords.md","hash":"0f08277969563ac37ae3b6ce526f9d3797e8cad0","modified":1582945041274},{"_id":"source/_posts/dividend_with_bit.md","hash":"91fc82814994bc6a6da3f4a8d4e37ba8f0a1c78a","modified":1580477112064},{"_id":"source/_posts/combinationSum.md","hash":"2e43ec614d2e3b03f7e7c8f2cb04081848f541ca","modified":1583631671816},{"_id":"source/_posts/generate all combinations of well-formed parentheses.md","hash":"65d06980215f498d118753e29115f0b9f209ab85","modified":1581578169060},{"_id":"source/_posts/findComplement.md","hash":"e15ef134e3c0175ae90526ada3bc8f664f861545","modified":1581734705626},{"_id":"source/_posts/isAdditiveNumber.md","hash":"9b3b5464967baa4c87ff18a6dc9abb5b46165f82","modified":1584838035574},{"_id":"source/_posts/findeLadder.md","hash":"6ac89f1a585dac85033264fc5a291ef66122b063","modified":1584754407040},{"_id":"source/_posts/maxAreaOfIsland date.md","hash":"0248810d8c2235ce50def7baadb41afc871f971a","modified":1581578169061},{"_id":"source/_posts/isPowerOfFour.md","hash":"4fdaab34adc33e24514bd4042b1865143209b0a3","modified":1581645662857},{"_id":"source/_posts/letterCasePermutation.md","hash":"525e648f619a72fa9ab9d1d931a9160b5127d820","modified":1582340923754},{"_id":"source/_posts/numTilePossibilities.md","hash":"651616a5dbdcd6c6ce5370f0002619f1a38a6977","modified":1585182665597},{"_id":"source/_posts/maxAbsValExpr.md","hash":"1ea507db8e8ebc5078f12ffd763a18437e8c192b","modified":1582088260470},{"_id":"source/_posts/permuteUnique.md","hash":"786c40087ab73992da518334429cf9dc5eed2cad","modified":1583631704551},{"_id":"source/_posts/maxFreq.md","hash":"05cc36c208204ad179b9171e6b23052db88e079b","modified":1582195303711},{"_id":"source/_posts/queue implement stack.md","hash":"2cb89a299d04f0b8a4460a03181cffe86be18625","modified":1581578169061},{"_id":"source/_posts/pyramidTransition.md","hash":"65082136d1c5c2618b2b0430b4d005b2072f4e58","modified":1582341047289},{"_id":"source/_posts/partition.md","hash":"057116549fd8a1dd055f4c8cc2dd1840df849e0d","modified":1583638529045},{"_id":"source/_posts/prefix_tree.md","hash":"cc06cfa77c32575b158904c0a2ebb69632101886","modified":1584837092246},{"_id":"source/_posts/minFlips.md","hash":"d2379044632b0a0b8a62876be7cdb572589b4325","modified":1582595487161},{"_id":"source/_posts/strStr_kmp.md","hash":"0a9dea11801df2cf8163fc0482b844353429b98f","modified":1581578169062},{"_id":"source/_posts/rectangle_rotate.md","hash":"df2f83fccaaafb41df78890bc22d0bb2c479fff0","modified":1583154927581},{"_id":"source/_posts/the contiguous subarray which has the largest sum.md","hash":"6285ca9c008acd3c42532337cf6e31d6bfd6e990","modified":1581578169062},{"_id":"source/_posts/reverseBits.md","hash":"e97c5213f7ae89f04a70651e19da73a18ed5faae","modified":1583028683304},{"_id":"source/_posts/subarrayBitwiseORs.md","hash":"e0d6b99e786e30d05ff0ca811065e0ac965bbeb7","modified":1581990654996},{"_id":"source/_posts/solveNQueens.md","hash":"81ebb12c8e2b5cf56a8f79d321132a22bf276b6a","modified":1583996921008},{"_id":"source/_posts/totalHammingDistance.md","hash":"ea057b2525b9780135ac58fe5ab3aa9e1d8bc568","modified":1581578088767},{"_id":"source/_posts/二叉搜索树转换双向链表.md","hash":"5af4108b96165f0ed200e01264adfbd8c1efbdaf","modified":1581578169062},{"_id":"source/_posts/事件分发源码解析.md","hash":"53aa96419d91d0355cac01c4a9896cb601215bb1","modified":1581578169062},{"_id":"source/_posts/二叉树中和为某一特定值的路径.md","hash":"88804f075ad9758eec6cdb4432a9b8286e82f79a","modified":1581578169062},{"_id":"source/_posts/代理.md","hash":"eb520055e94c35943ef13a352c27517247ee8e43","modified":1581578169063},{"_id":"source/_posts/卷积神经网络工作原理.md","hash":"54770a73c05d3597a548215b32f261ffdfd4a178","modified":1581578169063},{"_id":"source/_posts/word_search.md","hash":"44a5248e6ed6c561cc58eaa8782043556383e1eb","modified":1583556443087},{"_id":"source/_posts/xorQueries.md","hash":"009ad29625a3872e0ad5331f29d2798c0efadbff","modified":1582768659367},{"_id":"source/_posts/word_search2.md","hash":"b610e161acb3dcc19b09af49c20f796a767fcf0b","modified":1584156853385},{"_id":"source/_posts/和为S的连续正数序列.md","hash":"24cef25576739c3c49d59600fd929e809375a81a","modified":1581578169063},{"_id":"source/_posts/导入新项目安装在真机时出现dex.jar is missing错误.md","hash":"0d81810c9b4133ebd63c6a626dc53e4e82540895","modified":1581578169063},{"_id":"source/_posts/对象拷贝.md","hash":"44c6f8219f8b68821dad95713d088c98fc5c1a5b","modified":1581578169063},{"_id":"source/_posts/左旋转字符串.md","hash":"45d99883bd438a1d73f0b0a3430e404833710ba6","modified":1581578169064},{"_id":"source/_posts/平衡二叉树的判断.md","hash":"f6404b0e2832cb2384a1abc9a22d8cf31e984ecf","modified":1581578169064},{"_id":"source/_posts/手势密码源码解析.md","hash":"564dcc73daa2a0e54cf89f7d5a78192becc4486d","modified":1581578169064},{"_id":"source/_posts/把数组排成最小的数.md","hash":"06491f6e63eb69dfd154efb866b31c0f37822cd1","modified":1581578169064},{"_id":"source/_posts/手撕HashMap.md","hash":"202c83ca08db65e0ad179e113837b2f589ef8399","modified":1581578169064},{"_id":"source/_posts/数组中的K个最大元素.md","hash":"46c5418bd78bc06cce88a90df1f022b7b15b369a","modified":1581578169065},{"_id":"source/_posts/数组中的逆序对.md","hash":"f24be19aabe93a1e45167d08b64d27a28bed2872","modified":1581578169065},{"_id":"source/_posts/拍照，图册选取，截图的心路历程.md","hash":"a27e9384a93c6e175697c86889a340e1305af235","modified":1581578169064},{"_id":"source/_posts/盛最多水的容器.md","hash":"b0a3c54f926b5679dbfdb712768dfdf97ccdd6a5","modified":1581578169065},{"_id":"source/_posts/翻转单词顺序.md","hash":"61ccc09ae06e8e532583e26f9e37978f1064eb6e","modified":1581578169065},{"_id":"source/_posts/数组中重复的数字.md","hash":"b06a5006473c912f49076f1cc5aedc80a4413f73","modified":1581578169065},{"_id":"source/_posts/自定义View.md","hash":"372fa1403c92fa0144979f733f4520ae452a68d1","modified":1581578169065},{"_id":"source/_posts/运行时类型信息.md","hash":"519902cc45f93fdb51cf0a75d231afbbefbd87a7","modified":1581578169066},{"_id":"themes/Yelee/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1513821034000},{"_id":"themes/Yelee/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1513821034000},{"_id":"source/tags/index.md","hash":"de190f8a2219ad3e58acaa7d78e4271ce0a334a5","modified":1581578169100},{"_id":"themes/Yelee/.git/logs/HEAD","hash":"4d8d648e0f20676a9eff0fc83c38654e6530b5b4","modified":1513821046000},{"_id":"themes/Yelee/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1513821034000},{"_id":"themes/Yelee/node_modules/ejs/.gitmodules","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1513827714000},{"_id":"source/images/Binder.png","hash":"95e09b9d5e3ba11833f58149ce79fd110a4e4859","modified":1581578169068},{"_id":"source/images/RxJava_call_stack_just.png","hash":"a9490521957176cebbd4dcd5777b8846e32249b9","modified":1581578169075},{"_id":"source/images/compare_cache.PNG","hash":"9887eecd02462a809533955e8a28b6f6a02fdfaf","modified":1581578169081},{"_id":"source/images/cycle_list.PNG","hash":"cc719f757b12451fb6ca278186dfaa94e5860911","modified":1581578169082},{"_id":"source/images/feature-3.jpg","hash":"56b489214e2cb2a86194c1d5926b04d4708939b3","modified":1581578169087},{"_id":"source/images/eventbus_register.png","hash":"dde2eab33e356657b52c46272260c8cda4b323b4","modified":1581578169084},{"_id":"source/images/kmp.png","hash":"97dba4f77f3385fa6f70cacc105d761fc29171ae","modified":1581578169092},{"_id":"source/images/okhttp_full_process.png","hash":"c3e4498417f7b063de19adae1c252afaad56cb4c","modified":1581578169096},{"_id":"source/images/okhttp_interceptors.png","hash":"d663566d86f0f803515847d7241ab7fd4336e344","modified":1581578169097},{"_id":"themes/Yelee/source/background/bg-2.jpg","hash":"d1e0b92e8fa822e44d185b5e1bf94ab47bc98a0a","modified":1513821046000},{"_id":"themes/Yelee/source/background/bg-4.jpg","hash":"8e80d0b7786c3bf7b9648c0190719e78001e9eeb","modified":1513821046000},{"_id":"themes/Yelee/source/background/bg-3.jpg","hash":"d476909f06fe8267c676952e3582bf9e9ff73585","modified":1513821046000},{"_id":"themes/Yelee/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1513821046000},{"_id":"themes/Yelee/source/css/_variables.styl","hash":"f429eb9bc9f0a270ec68c4f4c63903250746a01c","modified":1513821046000},{"_id":"themes/Yelee/source/js/GithubRepoWidget.js","hash":"5fb1bf6cf973062771ddf275ceeca5bc69c81c77","modified":1513821046000},{"_id":"themes/Yelee/source/css/style.styl","hash":"b285f9a75abd09c7d06fe89e70f9e1819eac27dd","modified":1513821046000},{"_id":"themes/Yelee/source/js/mobile.js","hash":"8abc32d18f16db56f51caad607cffb6ca756eca9","modified":1513821046000},{"_id":"themes/Yelee/source/js/pc.js","hash":"bc289c5dc610e2a34d308daeb9adea96d01f7788","modified":1513821046000},{"_id":"themes/Yelee/source/js/instagram.js","hash":"81e13cacf4947118ed1920e59b04ccf6beef6b86","modified":1513821046000},{"_id":"themes/Yelee/source/js/main.js","hash":"369774a7ff45a2e5117a796330a04aeb50a61fdf","modified":1513821046000},{"_id":"themes/Yelee/source/js/toc.js","hash":"973c1a4e2c9de8f4f662b99623027658fe6d94c2","modified":1513821046000},{"_id":"themes/Yelee/source/img/Coding.png","hash":"afb4bce19bebf61e3c486fd5199369d6eb191b78","modified":1513821046000},{"_id":"themes/Yelee/source/img/Plunker.png","hash":"14a0054b9b4a0e459987f34b9ab48ab22dbe5cf9","modified":1513821046000},{"_id":"themes/Yelee/source/js/search.js","hash":"001e324844e63f3bfb6f60d173b9c6954127be0b","modified":1513821046000},{"_id":"themes/Yelee/source/img/AcFun.png","hash":"df6b0fa39ced4dc988359fc7b7cd1e5403de08a6","modified":1513821046000},{"_id":"themes/Yelee/source/img/CSDN.png","hash":"59f7d89eda8a7310a0ee1607e153c0829af7eb6e","modified":1513821046000},{"_id":"themes/Yelee/source/img/Quora.png","hash":"1a624ade0d07f2482b21bef1e2a5ddd0110ba352","modified":1513821046000},{"_id":"themes/Yelee/source/img/TiddlyWiki.png","hash":"b7f68f8f9c45561a9455aee0bfb80e35cae6f8df","modified":1513821046000},{"_id":"themes/Yelee/source/img/LOFTER.png","hash":"88670eaea8612839e9d6a40a3636e4231ab56c0f","modified":1513821046000},{"_id":"themes/Yelee/source/img/V2EX.png","hash":"d0768de8555f9be0ee8ce956198cef454d4e4d7c","modified":1513821046000},{"_id":"themes/Yelee/source/img/SegmentFault.png","hash":"1afbc7e575e2e9ed9404be84a3f92f7ca8345a9c","modified":1513821046000},{"_id":"themes/Yelee/source/img/scrollbar_arrow.png","hash":"af987032f2171867bb58b165d2180eb5dcbea637","modified":1513821046000},{"_id":"themes/Yelee/source/img/avatar.png","hash":"293bef9390b3cd35d8228d640823388b1f25fe2c","modified":1547819512000},{"_id":"themes/Yelee/source/img/niconico.png","hash":"fabc7ca45e9ee5698db33a25de8b1f8a7c7d6723","modified":1513821046000},{"_id":"themes/Yelee/source/img/bilibili.png","hash":"be37b7e9a091c8547b8ee8b9d29583af8ded61c0","modified":1513821046000},{"_id":"themes/Yelee/source/img/博客园.png","hash":"5ff6f4c9f1fc1695217a57436d58b246d9d2f197","modified":1513821046000},{"_id":"themes/Yelee/source/img/新浪微博.png","hash":"7a145ed1daee0c172cda77098f4254fc21f9eeee","modified":1513821046000},{"_id":"themes/Yelee/source/img/网易云音乐.png","hash":"4fd1275fd988584811cf710207eb077f2306f271","modified":1513821046000},{"_id":"themes/Yelee/source/img/知乎.png","hash":"ed6d3c304789e112d09f40784fa6add1f1a38bd6","modified":1513821046000},{"_id":"themes/Yelee/source/img/简书.png","hash":"5c91ee83cab4abe160240e09de345b6935c8cb37","modified":1513821046000},{"_id":"themes/Yelee/source/img/虾米音乐.png","hash":"a0039b049779b1f37c0b0b91760943b7bf25c8f1","modified":1513821046000},{"_id":"themes/Yelee/source/img/豆瓣.png","hash":"f1fc97f98612bcdf4a681542e5388483b40a5300","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/background.ejs","hash":"aeef39abef66ee0bd6c9efe856eaeb1b81416d41","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/archive.ejs","hash":"a4eacc2bc1278095a0ef99f904b0634c78f980eb","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/after-footer.ejs","hash":"748391b89b661fa1ed7da0b15ed6870981ec4dc3","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/archive-post.ejs","hash":"0ecc2ad07b4abad80f564ac1858c50bcbdff34f8","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/article.ejs","hash":"afd85b362d732fa9b439af7dc44b657d0d1aae3d","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/footer.ejs","hash":"82653e3bbdc605b51e1b0a36e30f3ac1180c838e","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/header.ejs","hash":"b69855e07b65117769adc515cb64b803932068c9","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/head.ejs","hash":"55e90c3d5de6d7ffcfe26c4dc22189a7a27b6651","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/mathjax.ejs","hash":"ce868f8b2b5b377cadc270e3a5bb5826f8bf0dee","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/left-col.ejs","hash":"90fd7c763faf8d64d58612f592cbacbefdaea161","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/ie-updater.ejs","hash":"8d1e1f3953efbcf5ec84a451439a62a1c95b55d7","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/mobile-nav.ejs","hash":"306be982577b0ef968f855d0dfeaab6b180b8a50","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/open-in-new-tab.ejs","hash":"a59d4c768009dd621e741a29cf6446ebc2668fe9","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post-nav-button.ejs","hash":"0a98bffdd14f6677721841c0ac4487a86c77266c","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/scrolling-button.ejs","hash":"c5e1c3a8e1e6b0d927ac25a7fb8720ee7ac83ad8","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/page.ejs","hash":"cfce60062cdb60893baeda7fa0266ae4086c2bc8","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/tag-cloud-page.ejs","hash":"c7b25ef136e129c948ac37d6ff19e8815ab9fee6","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/toc.ejs","hash":"7ee88b1a98eea5cbd44c0f9a11b86b46aa2d6752","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/tab-title-change.ejs","hash":"7c4a7177e0c77de2d7607ca29fc395abebd34db7","modified":1513821046000},{"_id":"themes/Yelee/node_modules/ejs/.npmignore","hash":"f20aac0f0abd2abe222a1dfc9a65303694db8c60","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/.travis.yml","hash":"7b76b5696d88f9f7f5f2e6f8dad2af14d227d826","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/History.md","hash":"91c90c25ebed8fe8a0a78202362b23c7ce2d1552","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/benchmark.js","hash":"9cda2f8eaaadf524e15fdcb8719cfb8cfb07665d","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/ejs.js","hash":"2f81e75490d194c8e4d4ee2ce45d59b7471b1bc1","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/ejs.min.js","hash":"8f755c89d7057e1067ba6653b90f8c758ebf73e0","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/Makefile","hash":"d0ebcd7407d10f34b158bde26c087823b7f66ac7","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/Readme.md","hash":"e771cccf0a192ffb85f1b3fe8f5c1560eb875c3f","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/index.js","hash":"fe96bab13b61573b071d4bf94307845d99fdfb63","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/package.json","hash":"3e9a9027f171d44c95589cc3975320c115ec123a","modified":1513827714000},{"_id":"themes/Yelee/node_modules/utils-merge/LICENSE","hash":"840ec17dc7b3131dee404954b69c62b882ba6599","modified":1513827714000},{"_id":"themes/Yelee/node_modules/utils-merge/README.md","hash":"3139b3182f49c480a6a6417d69a6657e37a56f2f","modified":1513827714000},{"_id":"themes/Yelee/node_modules/utils-merge/.npmignore","hash":"c675b26b3b3f739f86e570525fbafa1af6598031","modified":1513827714000},{"_id":"themes/Yelee/node_modules/utils-merge/package.json","hash":"c461af857318ebd095463276bd39089111fa54cf","modified":1513827714000},{"_id":"themes/Yelee/node_modules/utils-merge/index.js","hash":"77759a680bd22cacb94bdc438ed6250eeb10e50a","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/LICENSE","hash":"1af810604d6faa6c3d2597557150952d85d98407","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/README.md","hash":"2add6475093f4831a40ba53a4d4d97c266603029","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/.npmignore","hash":"d9a1f6432f1be0351e2bc3e16cf5e3658283ddbf","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/package.json","hash":"40c6101e09948fa58b4f7581c0ba5ca57a99d63b","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/index.js","hash":"f735901c9d11924a14f9c486c8a3e2ed78ef9b1e","modified":1513827714000},{"_id":"source/images/RxJava_call_stack_just_map.png","hash":"66114ab8de968a71c6bed78714b6a22332299a9f","modified":1581578169076},{"_id":"source/images/eventbus_post.png","hash":"95cb00efb1682aa7ac5af6837697677d693bafe9","modified":1581578169084},{"_id":"source/images/tags _ Night's blog_files/avatar.png","hash":"293bef9390b3cd35d8228d640823388b1f25fe2c","modified":1585989276507},{"_id":"source/images/tags _ Night's blog_files/clipboard.min.js","hash":"09c88705f3dc7c4509e1cbe86158bd2fc6b91429","modified":1585989276434},{"_id":"source/images/tags _ Night's blog_files/jquery.fancybox.min.css","hash":"bae79ef61b23b0a9e20ebad9a701de5bfa9f6fd1","modified":1585989276377},{"_id":"source/images/tags _ Night's blog_files/font-awesome.min.css","hash":"fb5b49426dee7f1508500e698d1b3c6b04c8fcce","modified":1585989276416},{"_id":"source/images/tags _ Night's blog_files/jquery.fancybox.min.js","hash":"1e618c9201c7888df9e50b8d93a30783238a988e","modified":1585989276487},{"_id":"source/images/tags _ Night's blog_files/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1585989276386},{"_id":"source/images/tags _ Night's blog_files/share.js","hash":"2d87e25588928ca7badfb7c229a07b74a34b2b93","modified":1585989276441},{"_id":"source/images/tags _ Night's blog_files/require.min.js","hash":"f6b53a8342309a03f7b1374764c9cfc585caaade","modified":1585989276526},{"_id":"source/images/tags _ Night's blog_files/share_style0_24.css","hash":"7d1f9f32b80f91001f4f951aa045180cde22d82e","modified":1585989276498},{"_id":"source/images/tags _ Night's blog_files/mobile.js","hash":"0f4c1fcd6df47a196ed9495c225173402aa7d769","modified":1585989276457},{"_id":"source/images/tags _ Night's blog_files/main.js","hash":"d58bbc593d94d48e85d4ebfb002910444080cb06","modified":1585989276449},{"_id":"themes/Yelee/source/background/bg-1.jpg","hash":"9a5241de4c880f13a278f6980bf11d4dfb214d82","modified":1513821046000},{"_id":"source/images/tags _ Night's blog_files/pace-theme-minimal.css","hash":"c014ef2d8c144d37435a278b69b1ee32fe185ad4","modified":1585989276395},{"_id":"themes/Yelee/source/background/bg-5.jpg","hash":"e4a3631b6b0f94ebce30a6f01ecb2b6ed7cfdb0b","modified":1513821046000},{"_id":"themes/Yelee/source/background/bg-6.jpg","hash":"51b427f07ffc6f2ad97651f23cc16e8f19ed02f9","modified":1513821046000},{"_id":"source/_posts/images/message_mechanism.PNG","hash":"31408e94b306731e05fd8f177d806c666ec494f5","modified":1581578169061},{"_id":"themes/Yelee/.git/refs/heads/master","hash":"a098c9ba7d644627d0ba7fb675f0168faedeb258","modified":1513821046000},{"_id":"themes/Yelee/.git/objects/09/20f746825d3349a27c5ca43c5002891a3438fe","hash":"c8de2d3220987501439ffd575c96a1b26e5f090e","modified":1580388731827},{"_id":"themes/Yelee/.git/objects/0b/ced639da7f0ff7e817b476f6f505f3d5c249f1","hash":"2220275a40b646c7f6e8911b05b36d7ec059e5df","modified":1580388731796},{"_id":"themes/Yelee/.git/objects/0a/b45cdb1d3846130b0c9f3c5030bbbc835a3542","hash":"2c4b3d879866e8e5f1af07b49510d9687111c829","modified":1580388731801},{"_id":"themes/Yelee/.git/objects/11/ca9367ebf36cd18ddf11de06de13d393253806","hash":"cf202333cefdddec9a4aeeb5ed8e182cbb0e0b35","modified":1580388731824},{"_id":"themes/Yelee/.git/objects/02/9b4618c9f7f4d549c40f4deb1d487777e0c716","hash":"a36f90db41fdbce1d98bfeb17f1b6aac988bd9a6","modified":1580388731814},{"_id":"themes/Yelee/.git/objects/02/0ddac2ced1ad22babbbc596a98cba81f5a1268","hash":"99235f6a929b20c191094eeb5cd1cca0ae39580d","modified":1580388731791},{"_id":"themes/Yelee/.git/objects/0c/5b7f5d97e2429e27c16064934a3d1247ea6aa2","hash":"c8ed22fae5855814ccd4d345f1ec3cd4044f9066","modified":1580388731792},{"_id":"themes/Yelee/.git/objects/1c/982786e3750939704a6b9056758bd32c96e70d","hash":"fa1e082593e0fe96b5b05075a11f1867ec53e040","modified":1580388731791},{"_id":"themes/Yelee/.git/objects/1c/cd29932a6eb25fe9cf6c29337024ea2ef84473","hash":"e46ea715041ff52c8a0556e2f63131361054ffa9","modified":1580388731792},{"_id":"themes/Yelee/.git/objects/0b/378a9c724cc79ae07764a3e025b39f39eff59e","hash":"72492671afa90f0b6435cd84c671c8d7d68f0281","modified":1580388731798},{"_id":"themes/Yelee/.git/objects/0c/b71171255f78b087185dba6e09f7bb6a74dd98","hash":"304724da36ef085c7644d3a891e4e7b4f71fadd4","modified":1580388731826},{"_id":"themes/Yelee/.git/objects/16/30b8c984b38788c1b57a5f607999bb6f25f6a5","hash":"9149201ec85fdc84999d8a9048e51a84d36a0be1","modified":1580388731817},{"_id":"themes/Yelee/.git/objects/1a/7a0f7da7ac68493a2b8639dbe976b4c8004825","hash":"32787094411aaeee4a60fc205649bd466fe33faa","modified":1580388731807},{"_id":"themes/Yelee/.git/objects/1f/9e45fdaea9d85219dc0666ce14f2c6e0d54d70","hash":"527e25868ea38f89d6e52f6940a93305bf8d4c16","modified":1580388731812},{"_id":"themes/Yelee/.git/objects/1e/35a95b497b373c4bc18252c3a4ed03615b3748","hash":"14eb065ca0041e2eef403a11488db9c438e79cd4","modified":1580388731816},{"_id":"themes/Yelee/.git/objects/21/db45d2368ca7564b88ce31a344345dd2c51e1d","hash":"52dd9ff84f02d1056e9ac5d2717e5f4db28144b6","modified":1580388731781},{"_id":"themes/Yelee/.git/objects/20/bf71a3fc130d643c21b12e63140fe1f239b119","hash":"55897c70a7f85e5e23f1f989fe8b90073d86d3d3","modified":1580388731799},{"_id":"themes/Yelee/.git/objects/1e/491488e8e349eea19c593142c060730d9ab5a3","hash":"42fafc0e323a32c05bfe31facda3da152e0520c8","modified":1580388731813},{"_id":"themes/Yelee/.git/objects/27/5a953d1f31888401dffe77392ed69f8b25d1ac","hash":"7f5fd581b9d376484e57ad4a0545559d5dc90414","modified":1580388731778},{"_id":"themes/Yelee/.git/objects/2b/885ebc578fbcea6c93c5d85d5715cd52f8ea27","hash":"1a6fe2787c6e85a4d3269bd7c5cdfcaebd6f7f98","modified":1580388731829},{"_id":"themes/Yelee/.git/objects/30/dfea9f242b8a663bd5aa00d758b4366a59f72c","hash":"7b968278e103aad4d85e2a9e15e07118114f1d9a","modified":1580388731797},{"_id":"themes/Yelee/.git/objects/2b/fe28fb3af3641224569c76cee4ff42b53ca37a","hash":"0ce0cd640d572113be7c03920d7967968148a7fc","modified":1580388731821},{"_id":"themes/Yelee/.git/objects/31/25173d58ceddc1ac8ea8f86ac5d3d9b4fd1047","hash":"38bf5465de61f9e94c2aaf5d508e6789b1cbf375","modified":1580388731816},{"_id":"themes/Yelee/.git/objects/2e/194d42e6b180a331f2e8133aad79362e30aa3a","hash":"d734649e39ca85e3ca7281a1641f0ee96b3efa04","modified":1580388731788},{"_id":"themes/Yelee/.git/objects/3e/53844186447e50779e1a5d63835e7fb7b134ce","hash":"e6933e112d1046a5ae3c10f090a544f15c7dc612","modified":1580388731825},{"_id":"themes/Yelee/.git/objects/2d/8478e699e46038aa5290ae1c21ca0dcde91bc1","hash":"9189b83018d09667237ba4f6f981a5a9e4f51060","modified":1580388731795},{"_id":"themes/Yelee/.git/objects/3d/83c707fa085843c2358a2d954acc291e2f0dee","hash":"de406d81e4faf1271f458e23c9aeb17af0a89e33","modified":1580388731819},{"_id":"themes/Yelee/.git/objects/37/cca5f936f705ec8b55ca5b76bd029af4bd5ccc","hash":"9f0b523b2db969c2ad52624c683b2cdff73bf9d5","modified":1580388731810},{"_id":"themes/Yelee/.git/objects/3b/ccdcfd931cf230808d0cc15e5a3031a2f9631f","hash":"6fa0025957e86c8e54f2ec41c8c67d7e57183c66","modified":1580388731805},{"_id":"themes/Yelee/.git/objects/43/3f532e20ef3bd3fdeeec970d8ccc8bb0a6aa53","hash":"7865abcc50d74a257fb344082698b21acd451f4b","modified":1580388731823},{"_id":"themes/Yelee/.git/objects/47/401b26632c16ff3fe3a1937a87348776e1accc","hash":"0aef1325b89d4961b61f9d8611ac535e90e61c85","modified":1580388731813},{"_id":"themes/Yelee/.git/objects/43/343fef42c19ba0cfaf58d04665e11d6a9de64e","hash":"c4ce124a35c999626b740419d6cb272996f62d55","modified":1580388731808},{"_id":"themes/Yelee/.git/objects/45/b04781a876b90d42d6cd65b6bc0051db22b8e5","hash":"f867d38bfac6f12cd4358fef5a950a507f6fd93a","modified":1580388731800},{"_id":"themes/Yelee/.git/objects/42/2cd708194d094b4f54fa397390f8b033059f68","hash":"b2c23fa04ed4b586cb4bff52751f993f136ec046","modified":1580388731782},{"_id":"themes/Yelee/.git/objects/42/65c694fec6f4eb174612ee434c3ab7da8e40fa","hash":"157abe4c28f108fce7b4503315d8209a246ac34b","modified":1580388731827},{"_id":"themes/Yelee/.git/objects/55/f9001ba5985bc48adf954d958be91c7f80c368","hash":"bf88d1f193d186e9a8c1bc4e74eca52c69390d81","modified":1580388731830},{"_id":"themes/Yelee/.git/objects/49/4ea966651da898b057d3ed68f4b5c69af641ee","hash":"fb9be88f2d06595846e4a1f3d6015d2c92661a14","modified":1580388731775},{"_id":"themes/Yelee/.git/objects/57/88558a7545adf1b3f02fb7b1e862fd0cd1219f","hash":"032e7a29983e5b06d88962860ad75948e7088e44","modified":1580388731815},{"_id":"themes/Yelee/.git/objects/60/7833f8d60bddb4bc9fbcc7dc6a676511100d35","hash":"ec310adb19bd9d56845de7d3b567f4242b916f09","modified":1580388731798},{"_id":"themes/Yelee/.git/objects/5c/ef804695b71222b5087ba795101c1894288a28","hash":"e7858f48c6fdadcef6c0b62d29087cdd569cb82d","modified":1580388731822},{"_id":"themes/Yelee/.git/objects/64/739798cfa8f42bd40a9482cb038483fa91fe84","hash":"8ae82ac7b5b1908f4fcfec9f69fb54f68e57d4d2","modified":1580388731806},{"_id":"themes/Yelee/.git/objects/67/e1868a9374d016a51720d9ec8ab19f027d1d98","hash":"6cd5d2f457a550bbd230f0c34c219022fcbe8504","modified":1580388731789},{"_id":"themes/Yelee/.git/objects/6d/00172c3fd161ba0b38a48a950577c4e073c2a5","hash":"4617b809c03bdecc4714147413919eaaa4f5d086","modified":1580388731818},{"_id":"themes/Yelee/.git/objects/61/fad41878ee83ddb02c88d8d881a960753dfd00","hash":"d243fca6af6e8262a386330edc3234e922b1fd8e","modified":1580388731811},{"_id":"themes/Yelee/.git/objects/6d/3a5eb2fcd4e6bdf59ae7e3e9ecd50a34d01f46","hash":"808d844d48246236acfcb2448058917c6e400171","modified":1580388731802},{"_id":"themes/Yelee/.git/objects/7b/267e1603f2cad7894aa05b5641dc74e6302ccb","hash":"5d28b99296201d0f39739108e41e715af50fcca9","modified":1580388731794},{"_id":"themes/Yelee/.git/objects/6e/fee2c5176eeb423413e74f33f29b7814d65551","hash":"40b50049fd69793e68e5eaec78a72253a5619d38","modified":1580388731814},{"_id":"themes/Yelee/.git/objects/76/8857f052289f58a8e3385f36ee2d75bcf7709b","hash":"2c470f0fb1e6fb4c0a6414e3fcfe2f4adb845c3b","modified":1580388731780},{"_id":"themes/Yelee/.git/objects/80/17337cad0999e7a5429d4995bbac266a7f695c","hash":"5f4e22ba0c651b97a7fb8652bc69f1646c9a5943","modified":1580388731809},{"_id":"themes/Yelee/.git/objects/7d/6903314912257b895426a97c70eb9273d40483","hash":"eaa8ebfe459eaea288a213a435e686b1c8a67cc8","modified":1580388731812},{"_id":"themes/Yelee/.git/objects/76/f6d083db5f4d381a91b89f6ff437e10d1a0fb8","hash":"8f8b989fcde2e3e297b46c8610f793565df0016d","modified":1580388731825},{"_id":"themes/Yelee/.git/objects/89/da779f4d5004362f6ebe74a8449fb2d185d907","hash":"b5a050b727cdfdfb570b4197905ca0420b9399f0","modified":1580388731815},{"_id":"themes/Yelee/.git/objects/8b/20d44b331b3370c4294342e103cbd30144699a","hash":"16739b71a8dfe10e10805a7252a3ff368ef360d2","modified":1580388731790},{"_id":"themes/Yelee/.git/objects/85/c249a6f3a1ee8a8bd6b9c7c998ad81df07351a","hash":"6255ef7c563a3445f95e8ea56b79b54b1a449f77","modified":1580388731787},{"_id":"themes/Yelee/.git/objects/8a/bc3fe41191f1d5ec4c676a9a7008e63fdb8190","hash":"b6054f1444ce53a2865b3f4b600f50db6e676d25","modified":1580388731810},{"_id":"themes/Yelee/.git/objects/a2/be4300e2a14d1a204a5031056e6e864be6ee3b","hash":"b76661b380467fea901adfde0e8dc6e0b15ad084","modified":1580388731787},{"_id":"themes/Yelee/.git/objects/9b/cf8d88c457711b052b1b625f689d56305f323e","hash":"41301c8130a80fbada6747ba32b4a608e1584e8a","modified":1580388731786},{"_id":"themes/Yelee/.git/objects/94/d2daf6c055f7671a4affa94a9faa76e748762a","hash":"fac4df92736b66c5e067e23fd2721d07f67f32bd","modified":1580388731820},{"_id":"themes/Yelee/.git/objects/a2/c910827ac1ffade4eb9707f4a1016cb25c8b62","hash":"56f940f81863cf94d78738704d9ce7ed593e4989","modified":1580388731807},{"_id":"themes/Yelee/.git/objects/bd/5610e2dcad21fb1e00083708de72740812829a","hash":"9ca8749e7a817c18ed636e3dc4d09ea59099ba10","modified":1580388731797},{"_id":"themes/Yelee/.git/objects/ac/c2da138b5f7b1d60ed8c74c013303efdc569e7","hash":"0adc1b1ba8e47be72b1a440a64c8e8008cc6b45a","modified":1580388731803},{"_id":"themes/Yelee/.git/objects/ab/dafbfbdccb220782b3959546f9421107220e01","hash":"a78a357080e95374799a5abf8b7f5752104e838a","modified":1580388731821},{"_id":"themes/Yelee/.git/objects/ab/0a3dd14b0023af37f66e163c286092e1e0966d","hash":"309980d974e97976974b8f6ec496867760d7c121","modified":1580388731794},{"_id":"themes/Yelee/.git/objects/a6/87a0a52d000d88550261376ac9adb1173c51f5","hash":"decd5a131715db74e8c37fc1f8fb9c2a48ea26af","modified":1580388731793},{"_id":"themes/Yelee/.git/objects/ba/34b0addacf63d7ba9e468bf4883b0849e10491","hash":"218d86204acc17d79bd314254981f8593d18d39b","modified":1580388731804},{"_id":"themes/Yelee/.git/objects/bf/0f296b7e137a82cb147f3ceb6d6d5c866ec1da","hash":"9937102bdad1e8e4a129a2893bddf4a7a7d6b5ef","modified":1580388731785},{"_id":"themes/Yelee/.git/objects/b3/12b5daa597141504eb0eb2a747aa2ecb66b889","hash":"daaa33563d7d5c20c4fd5825bae247ad2a5f9bf7","modified":1580388731817},{"_id":"themes/Yelee/.git/objects/ca/3e298d2429ed848ce1a44c604167cf0ef1e19b","hash":"dcf707003b8150c43095be31cab70a5ec2859abb","modified":1580388731000},{"_id":"themes/Yelee/.git/objects/c8/cf6149b124a9fdd16ff97cb4e454cd8bb1c32d","hash":"916074c50dd87e46cc229eb1c32609fdfb7e1a96","modified":1580388731800},{"_id":"themes/Yelee/.git/objects/d2/6759454fafbb6e1268461335ee0cef57b2c058","hash":"5231fdf8d838040b63fd9f9571284f645f2bd6c5","modified":1580388731779},{"_id":"themes/Yelee/.git/objects/ec/2f9991f8de744cfab81d1d52a2876278df529c","hash":"1089927e49e42a214c7e559a536e0dcfc994491f","modified":1580388731784},{"_id":"themes/Yelee/.git/objects/e9/65416fefc39bc4ccb41f8508c66d5b6bae4320","hash":"8778fcc91a283fdb1fcf3871facdbcbfde3d755e","modified":1580388731781},{"_id":"themes/Yelee/.git/objects/dc/373b357df925fe4e720fa949bf3bb276f511fa","hash":"f1827e81eb066c13fd9d5ee62fbb101746f54db7","modified":1580388731776},{"_id":"themes/Yelee/.git/objects/dd/dff70bbc217ed4e076da106e91ae2a5b286c44","hash":"65ff3dc3306bcc995d452fb29bcf88885170fc87","modified":1580388731775},{"_id":"themes/Yelee/.git/objects/ec/614ed6240dd396912460e1c68cfac9d78e5437","hash":"f3ceee87a75cf373dea00147d6d4399076405132","modified":1580388731799},{"_id":"themes/Yelee/.git/objects/ee/b4a4825570827fdd2c0e9c306587d4abda3b2b","hash":"14e602b2680ce69e4cfa746eb9728e1b23dd70e4","modified":1580388731000},{"_id":"themes/Yelee/.git/objects/d3/d850cee84bb4ce6b1cce38074b253361fb76ed","hash":"23ad9d7f2e8dc498898ca9473b2fc6d405cde1ce","modified":1580388731783},{"_id":"themes/Yelee/.git/objects/ea/2858111664ed99e2c54472cff5567ee4629f62","hash":"930363bc06843f281e5f7ec5ab09e435058d9051","modified":1580388731823},{"_id":"themes/Yelee/.git/objects/f0/32730b21af420a59581a7c2790935cb3c5dc53","hash":"a476a85649f59d6ae6eeb906e558d8380b707f5b","modified":1580388731806},{"_id":"themes/Yelee/.git/objects/fb/79aaf7f9ad02ee83b75ecd6a01e073f7ad3e7e","hash":"d0e8f3d9db1ea4bb6e7767ac0510a16c980adeb6","modified":1580388731818},{"_id":"themes/Yelee/.git/objects/f7/2892324f296e5467b88415c9ddbb375fb6af6d","hash":"4ce2d820fa9579e8b408ef173b4ca5b66a845b51","modified":1580388731805},{"_id":"themes/Yelee/.git/objects/ff/7e34a8669f8a59d38ad84eafe313d9190a23ed","hash":"1f0cd17ee1435bcef7d9079408510501c3fc4d12","modified":1580388731777},{"_id":"themes/Yelee/.git/objects/fd/cd3fda3a81b5c8e54cf25024c1df40f68d998e","hash":"1845954239a2d9332218a62f21e66baa1ff750dd","modified":1580388731782},{"_id":"themes/Yelee/.git/objects/f2/88b2f2fc281e02469b95875a33ddc33a5dc23b","hash":"ee95f8b63fc11355501cad36a3d46eebb431af9c","modified":1580388731779},{"_id":"themes/Yelee/.git/objects/fe/a0a5258bf27cbe1d147de9674baa8309a6df2d","hash":"b3b8422d897e5091366970f64056095e37754a21","modified":1580388731802},{"_id":"themes/Yelee/.git/objects/f4/7358bd5ac871b9d0d5ce43d4df019f039b6fd0","hash":"81fba9236d56c17245937a663dba31cf87476bf8","modified":1580388731808},{"_id":"source/images/CNN.PNG","hash":"6ee7f12b8bc309cc8b46cc006e35499dc225487e","modified":1581578169070},{"_id":"source/images/RxJava_call_stack_just_map_subscribeOn_observeOn.png","hash":"eae9ace652deafb4c972933b1a00126b326d555d","modified":1581578169077},{"_id":"source/images/rotate_matrix.png","hash":"f510669bbbb619f1c1980a9422775ffc81fc4669","modified":1583152455485},{"_id":"source/images/tags _ Night's blog_files/GithubRepoWidget.js","hash":"624e81a3b0e57495b0c0e0b3e056296c6e8ae5df","modified":1585989276517},{"_id":"source/images/tags _ Night's blog_files/MathJax.js","hash":"b860b98142b33d65eedc20c8b7e5324e2e343f8a","modified":1585989276534},{"_id":"source/images/tags _ Night's blog_files/animate.min.css","hash":"b11aacb1868d4f4b9c9a14fe7668de2e24e7b96f","modified":1585989276369},{"_id":"source/images/tags _ Night's blog_files/hm.js","hash":"16b501384817724ec0816984f3c682951c7bfd38","modified":1585989276357},{"_id":"themes/Yelee/source/background/backup/bg-1.jpg","hash":"31d7bb15211000c05656899302f8ec9ee3de0e9f","modified":1513821046000},{"_id":"source/images/tags _ Night's blog_files/jquery.min.js","hash":"69bb69e25ca7d5ef0935317584e6153f3fd9a88c","modified":1585989276425},{"_id":"themes/Yelee/source/background/backup/bg-3.jpg","hash":"1a06d3a660bfb99b62d760e4e1e09de168a4c74c","modified":1513821046000},{"_id":"themes/Yelee/source/background/backup/bg-2.jpg","hash":"7ae358f3ab8b41558444053400e796c41b3ba0e2","modified":1513821046000},{"_id":"themes/Yelee/source/background/backup/bg-4.jpg","hash":"6df1383d0f6134016d844df9abb740a6e0c0b2c5","modified":1513821046000},{"_id":"source/images/tags _ Night's blog_files/style.css","hash":"1b92c38176a5a4b9b816a5983e8b189dde340e44","modified":1585989276404},{"_id":"themes/Yelee/source/css/_partial/archive.styl","hash":"102c23dbb6cde3cbfca3b151c742e0d77911186e","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/footer.styl","hash":"a419108f1b820c59fcc56d218bfaaa4ffc4f1d4d","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/highlight.styl","hash":"4e34bf9340ce9b15d2d59fc4ea761d1d110927cf","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/main.styl","hash":"405db411896f3c7de9e7dd27e58c920fb90b9834","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/mobile-slider.styl","hash":"39db458d4e9f6973afc1390b4d3fc0291fff4c40","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/mobile.styl","hash":"dfb20f2515a26d75e42fe09741e91cc889426b11","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/page.styl","hash":"ca3f871adf8fdb296e4394070605dded53d93cb2","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/instagram.styl","hash":"a093443add2f529396d6b6bdef1675bc3acf3958","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/scroll.styl","hash":"f32deb9192568a2ea789d77a23a08d07f4e57d59","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/search.styl","hash":"688ff535a6005be02d947be75d22cfe1f8ce72cd","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/tagcloud.styl","hash":"b38b275728bfe11809defe1077b03cb423c3c92f","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/toc.styl","hash":"8f2a057dc072285093e37f1f645e9cb53608642f","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/share.styl","hash":"88c1277397b71eb1f3473a94d9542314f983cd09","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/wheelmenu.styl","hash":"9e57421eab562ea13d0ed2b2e1415eee79fa23d0","modified":1513821046000},{"_id":"themes/Yelee/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1513821046000},{"_id":"themes/Yelee/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/comments/disqus.ejs","hash":"df7ee469b648b12b5ee3104ef513d54cbb7418af","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/comments/duoshuo.ejs","hash":"e7f12f1246a67a5b556c2d5b37dc78733f1cf15a","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/comments/click2show.ejs","hash":"ecc4d3ca997c6fd127e00fa2edf0158b925d1d3e","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/comments/count-comment.ejs","hash":"ada2032e401b73b312c50b75bdbb8ee71d5a291e","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/comments/youyan.ejs","hash":"d150085faee4809ba50f69c55d904605699040cb","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/category.ejs","hash":"08c8d98bc6a73d3f72a3b0b30521ff28e1b657a7","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/date.ejs","hash":"329ed372296a86bce73ff8936af5601723fdd70a","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/tag.ejs","hash":"7d2693a1162bf26e4b1ae9b789e0b2a2637ddbd5","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/nav.ejs","hash":"6f531dbc9cc7ae42d2486d6707f826cfe7d9d8bc","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1513821046000},{"_id":"themes/Yelee/layout/_partial/post/share.ejs","hash":"58c2db54a9867aaafe68a7f052b04701c7c3df0f","modified":1513821046000},{"_id":"themes/Yelee/node_modules/ejs/examples/client.html","hash":"ebb66398695c7400519405c23ce698bb1be13c1e","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/examples/functions.js","hash":"08d4fa435832ed6a574acc1a9a07c2e6d34a9a26","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/examples/functions.ejs","hash":"5803f1d7af0e448fea4ad8d554f650a35a19e3eb","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/examples/list.ejs","hash":"0068d51e729f234ebbaefc5f1d18a007e4b64ffb","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/lib/ejs.js","hash":"cb3c8e8267e98a68935272600d90eef7b3bdd806","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/examples/list.js","hash":"54cbd7bf086d1002aa94e534883c13f05960c23c","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/lib/filters.js","hash":"d9feedb8345d28e91b352ee27f3f6f2b754f12e6","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/lib/utils.js","hash":"b210c38a459ef429bb5a8ef153995265760eb7fd","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/ejs.js","hash":"5b847e4ba8af224c586667b482f4ce30195e329a","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/support/compile.js","hash":"ff3dbf545202da0ca5635dffd8fe0c85cacfcb9a","modified":1513827714000},{"_id":"source/images/CNN-2.PNG","hash":"796f761c24412dbdf74be7901d260f85f317b1ba","modified":1581578169069},{"_id":"themes/Yelee/node_modules/hexo-generator-search/demo_output/search.json","hash":"f52bded22e2453ef45a8cc89f7382fd22fd95ba5","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/lib/json_generator.js","hash":"b43b4ceab98e52e5a974a3aaeab783917723beb7","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/demo_output/search.xml","hash":"b0a9d121adf4e940039cf7d4929f09ff7f78b3fb","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/lib/xml_generator.js","hash":"276b0e308db2c4deae41201c34fc45cf9ff1adff","modified":1513827714000},{"_id":"themes/Yelee/node_modules/hexo-generator-search/templates/xml.ejs","hash":"e9b7cdef6e3a6ad5e2024106d005ec1ef41acfab","modified":1513827714000},{"_id":"source/images/feature-1.PNG","hash":"272d08a318399b2f34a3f39ed9d5cf6b6e07fb91","modified":1581578169086},{"_id":"source/images/layer.PNG","hash":"34eb9e4fc2af97ba5ca4fd8f2d5d0bc7ec8abc83","modified":1581578169094},{"_id":"themes/Yelee/source/css/_partial/article.styl","hash":"190828c822096bb3098a7d14c3340eb004057aa0","modified":1513821046000},{"_id":"themes/Yelee/.git/logs/refs/heads/master","hash":"4d8d648e0f20676a9eff0fc83c38654e6530b5b4","modified":1513821046000},{"_id":"themes/Yelee/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1513821046000},{"_id":"themes/Yelee/.git/objects/pack/pack-43cb0eaaa489da5440ad042aed82de10dcc9644f.idx","hash":"2ae3f05e8acb2cc1204d4f21e192c144c849b547","modified":1513821046000},{"_id":"source/images/all-connection.PNG","hash":"94e567438fe229fa64f69a61af65887a3110af41","modified":1581578169079},{"_id":"themes/Yelee/source/css/_partial/customise/code-block.styl","hash":"4db1a992a06fd92b779f0afc9bb8bb3667bdb101","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/blockquote.styl","hash":"5e6edb9ad49288743ed550a2bd8c9a3c8e208455","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/color-scheme.styl","hash":"b58262a9f8903e75df431291745e19ccd8ff243a","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/inline-code.styl","hash":"a15292b2b3541ea022c0fb7441875192dee5ad9d","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/heading.styl","hash":"c29799f09ebd87767fd9cc3b1fa795db44a94670","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/social-icon.styl","hash":"bfa5c863d474266f32a570e34a0effda964f7f40","modified":1513821046000},{"_id":"themes/Yelee/source/css/_partial/customise/list.styl","hash":"7db683e2837a078ad7817fb88914535588e49cfa","modified":1513821046000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/backslash.ejs","hash":"18a070d30ad4cc26df5f174b9578c1f68416aaf4","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/backslash.html","hash":"18a070d30ad4cc26df5f174b9578c1f68416aaf4","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/double-quote.ejs","hash":"ac031342a3590e9615daa9c922714fca0551f449","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/comments.ejs","hash":"e3d2f0898f2700a542990cef8c498256498e4620","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/error.ejs","hash":"5e827a7ad547bc53fc41537c2e81710b84cf5ed5","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/comments.html","hash":"a2d69055bfef06ffc6ea30194c5be6f28011c5fc","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/fail.ejs","hash":"c65363f5098ea72604a4a5c5fd84dcf82bdd4f60","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/double-quote.html","hash":"23371722e089bb10145c0f0fc0608051d644b10d","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/error.out","hash":"bfce2934f00f3c76e9e98af8f10ae078788bb1e7","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/include.css.html","hash":"7ec5f5acb61d2010d80beb311dfb2c5e088032fc","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/include.css.ejs","hash":"a7df2fa04ad5af8b2f9433d92e187b6124043bb2","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/include.ejs","hash":"e69725c21712fc289225eec65e0a74e1d8597dc8","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/include.html","hash":"4b1bee0563390b68865927eff23147ce617e9a4f","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/menu.ejs","hash":"436d0251cdca42ce544662bec60209d9478a9473","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/messed.html","hash":"b40b47540d56db242f9fe02a0f92c380606684aa","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/newlines.html","hash":"4b1bee0563390b68865927eff23147ce617e9a4f","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/newlines.ejs","hash":"6b52582848f9568a2c53b5f1e0b9add63a6a8315","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/no.newlines.ejs","hash":"ccadc859e7bd160ee217dc8633ebb4f3232522cd","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/messed.ejs","hash":"a65c9ec2a966095af55b41300ab53944ab0e1ccc","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/para.ejs","hash":"4c20544a8937c1db84b437e441888e9155a946a9","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/menu.html","hash":"e269f3027bf86b95c9be38489756519469434100","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/no.newlines.html","hash":"2f42658ce62882e75a8cc52fa2bf7e49a16d0226","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/single-quote.html","hash":"d232931918d3a6cf348aa634290a4e6cfb824eef","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/single-quote.ejs","hash":"7069bea2ecb49d15f63ee15c32ef68e42879ef38","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/user.ejs","hash":"a9a1f04a73755c23cb3e1cc9f3d01dbc54482a93","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/pet.ejs","hash":"39438a2b5d153c86969393b7aa5a67a8136dfdc8","modified":1513827714000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/style.css","hash":"492f69267cc97a2b345fee1c3134fe415830fffc","modified":1513827714000},{"_id":"themes/Yelee/.git/logs/refs/remotes/origin/HEAD","hash":"4d8d648e0f20676a9eff0fc83c38654e6530b5b4","modified":1513821046000},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/includes/menu-item.ejs","hash":"354d594133b9dbf03b5bf077828c249bb3c5c8f6","modified":1513827714000},{"_id":"source/images/rematch_1.png","hash":"c747f4c4d40e2e0cc0a1043dd2511a84a7da77d3","modified":1585986936366},{"_id":"themes/Yelee/node_modules/ejs/test/fixtures/includes/menu/item.ejs","hash":"da30c245c5612951ef69ca4c81cbc69cf51faec8","modified":1513827714000},{"_id":"source/images/Find the largest square area dp1.jpg","hash":"da7c457e3e1b9afe9521c4e2e8636c3212ba77d1","modified":1581578169072},{"_id":"themes/Yelee/.git/objects/pack/pack-43cb0eaaa489da5440ad042aed82de10dcc9644f.pack","hash":"aed4c5e1ce3f4a19feb97902d43cb07d37edd027","modified":1580388731000}],"Category":[{"name":"algorithm","_id":"ck8npaxy10007qr3lx1gc4ywv"},{"name":"bug","_id":"ck8npaxy7000cqr3lnwts2wnv"},{"name":"Android开发艺术探索","_id":"ck8npaxy9000hqr3llv0wxx2v"},{"name":"进阶之光","_id":"ck8npaxyc000oqr3lxrahwgjv"},{"name":"Java源码","_id":"ck8npaxyn001kqr3lgulxz0wr"},{"name":"Java API","_id":"ck8npaxyq001uqr3llheatdbk"},{"name":"Android","_id":"ck8npaxyu0023qr3lw5vg03g4"},{"name":"源码解析","_id":"ck8npaxyw002bqr3lgm1a2gv3"},{"name":"Thinking in Java","_id":"ck8npaxz40030qr3l1jwku2l7"},{"name":"skills","_id":"ck8npaxz70039qr3lcrhw6num"},{"name":"计算机网络","_id":"ck8npaxzb003nqr3l11kckpja"},{"name":"Kotlin学习笔记","_id":"ck8npaxzh0049qr3lu8ecf980"},{"name":"bug修复","_id":"ck8npay000064qr3lku2wq91r"},{"name":"Android进阶之光","_id":"ck8npay090070qr3ldr63yox3"},{"name":"Machine Learning","_id":"ck8npay0d007hqr3ledqj4pcl"},{"name":"Java","_id":"ck8npay0m008aqr3lifjt5c67"},{"name":"math","_id":"ck8npay1p00baqr3lzlppzoh7"},{"name":"Java核心技术","_id":"ck8npay1y00c2qr3lkzkkrmv6"},{"name":"Java编程思想","_id":"ck8npay2500cqqr3lhewr9y3q"},{"name":"JavaAPI","_id":"ck8npay2b00d7qr3llvmuphz1"},{"name":"Anki开发","_id":"ck8npay2e00dfqr3ln3mkyw3x"}],"Data":[],"Page":[{"title":"404 Not Found：该页无法显示","toc":false,"comments":0,"_content":"<iframe scrolling='no' frameborder='0' src='http://yibo.iyiyun.com/Home/Distribute/ad404/key/1349493' width='654' height='470' style='display:block;'></iframe>","source":"404/index.md","raw":"title: 404 Not Found：该页无法显示\ntoc: false\ncomments: false\npermalink: /404\n---\n<iframe scrolling='no' frameborder='0' src='http://yibo.iyiyun.com/Home/Distribute/ad404/key/1349493' width='654' height='470' style='display:block;'></iframe>","date":"2020-02-13T07:16:09.042Z","updated":"2020-02-13T07:16:09.042Z","path":"/404.html","layout":"page","_id":"ck8npaxx00000qr3ld7vu0ttx"},{"title":"categories","date":"2017-12-23T03:21:11.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2017-12-23 11:21:11\ntype: \"categories\"\n---\n","updated":"2020-02-13T07:16:09.066Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ck8npaxx10001qr3lszrai2ho"},{"title":"about","date":"2017-12-21T03:12:01.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2017-12-21 11:12:01\n---\n","updated":"2020-02-13T07:16:09.066Z","path":"about/index.html","comments":1,"layout":"page","_id":"ck8npaxx20002qr3lyvu14133"},{"_content":"<!DOCTYPE html>\n<!-- saved from url=(0027)http://localhost:4000/tags/ -->\n<html lang=\"zh-Hans\" class=\"\"><script src=\"./tags _ Night&#39;s blog_files/hm.js\"></script><script type=\"text/javascript\" src=\"chrome-extension://kajfghlhfkcocafkcjlajldicbikpgnp/catcher.js\"><!-- script injected by Request Maker --></script><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><meta name=\"generator\" content=\"Hexo 3.9.0\">\n\n    <!--[if lt IE 9]>\n        <style>body {display: none; background: none !important} </style>\n        <meta http-equiv=\"Refresh\" Content=\"0; url=//outdatedbrowser.com/\" />\n    <![endif]-->\n\n\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge, chrome=1\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta name=\"author\" content=\"Night\">\n\n\n\n<meta property=\"og:type\" content=\"website\">\n<meta property=\"og:title\" content=\"tags\">\n<meta property=\"og:url\" content=\"http://yoursite.com/tags/index.html\">\n<meta property=\"og:site_name\" content=\"Night&#39;s blog\">\n<meta property=\"og:locale\" content=\"zh-Hans\">\n<meta property=\"og:updated_time\" content=\"2020-02-13T07:16:09.100Z\"><link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css\">\n<meta name=\"twitter:card\" content=\"summary\">\n<meta name=\"twitter:title\" content=\"tags\">\n\n<link rel=\"apple-touch-icon\" href=\"http://localhost:4000/apple-touch-icon.png\">\n\n\n    <link rel=\"alternate\" href=\"http://localhost:4000/atom.xml\" title=\"Night&#39;s blog\" type=\"application/atom+xml\">\n\n\n\n    <link rel=\"shortcut icon\" href=\"./tags _ Night&#39;s blog_files/avatar.png\">\n\n\n\n    <link href=\"./tags _ Night&#39;s blog_files/animate.min.css\" rel=\"stylesheet\">\n\n\n\n    <link href=\"./tags _ Night&#39;s blog_files/jquery.fancybox.min.css\" rel=\"stylesheet\">\n\n\n\n    <script src=\"./tags _ Night&#39;s blog_files/pace.min.js\"></script>\n    <link href=\"./tags _ Night&#39;s blog_files/pace-theme-minimal.css\" rel=\"stylesheet\">\n\n\n<link rel=\"stylesheet\" href=\"./tags _ Night&#39;s blog_files/style.css\">\n\n\n\n<link href=\"./tags _ Night&#39;s blog_files/font-awesome.min.css\" rel=\"stylesheet\">\n\n\n<title>tags | Night's blog</title>\n\n<script src=\"./tags _ Night&#39;s blog_files/jquery.min.js\"></script>\n<script src=\"./tags _ Night&#39;s blog_files/clipboard.min.js\"></script>\n\n<script>\n    var yiliaConfig = {\n        fancybox: true,\n        animate: true,\n        isHome: false,\n        isPost: false,\n        isArchive: false,\n        isTag: false,\n        isCategory: false,\n        fancybox_js: \"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js\",\n        scrollreveal: \"//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js\",\n        search: true\n    }\n</script>\n\n\n    <script>\n        yiliaConfig.jquery_ui = [true, \"//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\", \"//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css\"];\n    </script>\n\n\n\n    <script> yiliaConfig.rootUrl = \"\\/\";</script>\n\n\n\n\n\n    <script>\n        var _hmt = _hmt || [];\n        (function() {\n            var hm = document.createElement(\"script\");\n            hm.src = \"//hm.baidu.com/hm.js?78b7e9790ada71496450ca708cc57e36\";\n            var s = document.getElementsByTagName(\"script\")[0]; \n            s.parentNode.insertBefore(hm, s);\n        })();\n    </script>\n\n\n<script src=\"./tags _ Night&#39;s blog_files/share.js\"></script><style>.path-divider{margin:0 .25em}.github-box *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{word-wrap:break-word;font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 30px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAXBAMAAAD0LQLXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURQAAAL29vc3NzcLCwsjIyNbW1pvTNOEAAAABdFJOUwBA5thmAAAATElEQVQI12MIFoQAEQZFYwcGEGBkUDRUQLCcsYjRXhbqKkEGZQYGqJgSnKXCwGgsAGYpqyobG4WGhioyhBhDgClI3EQAqpaZwQBEAQARmA4G2o55nQAAAABJRU5ErkJggg==) 7px center no-repeat; width: auto;}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{float:right;position:absolute;top:8px;right:10px;font-size:11px;font-weight:bold;line-height:21px;height:auto;min-height:21px}.github-box .github-box-title .github-stats a{display:inline-block;height:21px;color:#666;border:1px solid #ddd;border-radius:3px;padding:0 5px 0 18px;background: white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqBAMAAABB12bjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURf///5mZmdbW1u/v7/r6+rGxscXFxaSkpHLccIMAAABsSURBVBjTY2CgBmBODTOAsFgSi9TFHMBMc1Fmk8BiEItJUMhQWFFQAZXJoC7q7FJYhNBmgG7YQAIWMYTvEExXIbh8oAJWQQe4IGsIlKmowAZVwaKowgxlMgkKmwtCjRAUYBSEqnVkYBAm39EALMwNXwql3eYAAAAASUVORK5CYII=) no-repeat}.github-box .github-box-title .github-stats .watchers{border-right:1px solid #ddd}.github-box .github-box-title .github-stats .forks{background-position:-4px -21px;padding-left:15px}.github-box .github-box-content{padding:10px;font-weight:300}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:10px;height:auto;min-height:24px;}.github-box .github-box-download .updated{word-wrap:break-word;margin:0;font-size:11px;color:#666;line-height:24px;font-weight:300;width:auto}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{float:right;position:absolute;top:10px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);}@media (max-width: 767px) {.github-box .github-box-title{height:auto;min-height:60px}.github-box .github-box-title h3 .repo{display:block}.github-box .github-box-title .github-stats a{display:block;clear:right;float:right;}.github-box .github-box-download{height:auto;min-height:46px;}.github-box .github-box-download .download{top:32px;}}</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"main\" src=\"./tags _ Night&#39;s blog_files/main.js\"></script><style type=\"text/css\">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}\n.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}\n.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}\n.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}\n.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}\n</style><style type=\"text/css\">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n#MathJax_About.MathJax_MousePost {outline: none}\n.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n.MathJax_MenuItem {padding: 1px 2em; background: transparent}\n.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}\n.MathJax_MenuActive .MathJax_MenuArrow {color: white}\n.MathJax_MenuArrow.RTL {left: .5em; right: auto}\n.MathJax_MenuCheck {position: absolute; left: .7em}\n.MathJax_MenuCheck.RTL {right: .7em; left: auto}\n.MathJax_MenuRadioCheck {position: absolute; left: .7em}\n.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}\n.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}\n.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}\n.MathJax_MenuDisabled {color: GrayText}\n.MathJax_MenuActive {background-color: #606872; color: white}\n.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}\n.MathJax_ContextMenu:focus {outline: none}\n.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}\n#MathJax_AboutClose {top: .2em; right: .2em}\n.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}\n.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}\n.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}\n.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}\n.MathJax_MenuClose:hover span {background-color: #CCC!important}\n.MathJax_MenuClose:hover:focus {outline: none}\n</style><style type=\"text/css\">.MathJax_Preview .MJXf-math {color: inherit!important}\n</style><style type=\"text/css\">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}\n.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}\n</style><style type=\"text/css\">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}\n#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}\n#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}\n</style><style type=\"text/css\">.MathJax_Preview {color: #888}\n#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}\n#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}\n.MathJax_Error {color: #CC0000; font-style: italic}\n</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/mobile.js\" src=\"./tags _ Night&#39;s blog_files/mobile.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js\" src=\"./tags _ Night&#39;s blog_files/jquery.fancybox.min.js\"></script><link rel=\"stylesheet\" href=\"./tags _ Night&#39;s blog_files/share_style0_24.css\"><style type=\"text/css\">.MJXp-script {font-size: .8em}\n.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}\n.MJXp-bold {font-weight: bold}\n.MJXp-italic {font-style: italic}\n.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-largeop {font-size: 150%}\n.MJXp-largeop.MJXp-int {vertical-align: -.2em}\n.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}\n.MJXp-display {display: block; text-align: center; margin: 1em 0}\n.MJXp-math span {display: inline-block}\n.MJXp-box {display: block!important; text-align: center}\n.MJXp-box:after {content: \" \"}\n.MJXp-rule {display: block!important; margin-top: .1em}\n.MJXp-char {display: block!important}\n.MJXp-mo {margin: 0 .15em}\n.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}\n.MJXp-denom {display: inline-table!important; width: 100%}\n.MJXp-denom > * {display: table-row!important}\n.MJXp-surd {vertical-align: top}\n.MJXp-surd > * {display: block!important}\n.MJXp-script-box > *  {display: table!important; height: 50%}\n.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}\n.MJXp-script-box > *:last-child > * {vertical-align: bottom}\n.MJXp-script-box > * > * > * {display: block!important}\n.MJXp-mphantom {visibility: hidden}\n.MJXp-munderover {display: inline-table!important}\n.MJXp-over {display: inline-block!important; text-align: center}\n.MJXp-over > * {display: block!important}\n.MJXp-munderover > * {display: table-row!important}\n.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}\n.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}\n.MJXp-mtr {display: table-row!important}\n.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}\n.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}\n.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}\n.MJXp-mlabeledtr {display: table-row!important}\n.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}\n.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}\n.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}\n.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}\n.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}\n.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}\n.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}\n.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}\n.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}\n.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}\n.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}\n.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}\n.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}\n.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}\n</style><style type=\"text/css\">.fancybox-margin{margin-right:10px;}</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/pc.js\" src=\"http://localhost:4000/js/pc.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\" src=\"http://cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/search.js\" src=\"http://localhost:4000/js/search.js\"></script></head><body style=\"background: url(&quot;/background/bg-2.jpg&quot;) 0% 0% / cover fixed;\" class=\"  pace-done\"><div id=\"MathJax_Message\" style=\"display: none;\"></div><div class=\"pace  pace-inactive\"><div class=\"pace-progress\" data-progress-text=\"100%\" data-progress=\"99\" style=\"transform: translate3d(100%, 0px, 0px);\">\n  <div class=\"pace-progress-inner\"></div>\n</div>\n<div class=\"pace-activity\"></div></div>\n\n  <div id=\"container\">\n    <div class=\"left-col\">\n    <div class=\"overlay\" style=\"background-color: rgb(118, 190, 204); opacity: 0.3;\"></div>\n<div class=\"intrude-less\">\n    <header id=\"header\" class=\"inner\">\n        <a href=\"http://localhost:4000/\" class=\"profilepic\">\n            <img src=\"./tags _ Night&#39;s blog_files/avatar.png\" class=\"animated zoomIn\">\n        </a>\n        <hgroup>\n          <h1 class=\"header-author\"><a href=\"http://localhost:4000/\">Night</a></h1>\n        </hgroup>\n\n        \n\n        \n            <form id=\"search-form\">\n            <input type=\"text\" id=\"local-search-input\" name=\"q\" placeholder=\"search...\" class=\"search form-control\" autocomplete=\"off\" autocorrect=\"off\" searchonload=\"false\">\n            <i class=\"fa fa-times\" onclick=\"resetSearch()\"></i>\n            </form>\n            <div id=\"local-search-result\"></div>\n            <p class=\"no-result\">No results found <i class=\"fa fa-spinner fa-pulse\"></i></p>\n        \n\n\n        \n            <div id=\"switch-btn\" class=\"switch-btn\">\n                <div class=\"icon\">\n                    <div class=\"icon-ctn\">\n                        <div class=\"icon-wrap icon-house\" data-idx=\"0\">\n                            <div class=\"birdhouse\"></div>\n                            <div class=\"birdhouse_holes\"></div>\n                        </div>\n                        <div class=\"icon-wrap icon-ribbon hide\" data-idx=\"1\">\n                            <div class=\"ribbon\"></div>\n                        </div>\n                        \n                        <div class=\"icon-wrap icon-link hide\" data-idx=\"2\">\n                            <div class=\"loopback_l\"></div>\n                            <div class=\"loopback_r\"></div>\n                        </div>\n                        \n                        \n                        <div class=\"icon-wrap icon-me hide\" data-idx=\"3\">\n                            <div class=\"user\"></div>\n                            <div class=\"shoulder\"></div>\n                        </div>\n                        \n                    </div>\n                    \n                </div>\n                <div class=\"tips-box hide\">\n                    <div class=\"tips-arrow\"></div>\n                    <ul class=\"tips-inner\">\n                        <li>菜单</li>\n                        <li>标签</li>\n                        \n                        <li>友情链接</li>\n                        \n                        \n                        <li>关于我</li>\n                        \n                    </ul>\n                </div>\n            </div>\n        \n\n        <div id=\"switch-area\" class=\"switch-area\">\n            <div class=\"switch-wrap\">\n                <section class=\"switch-part switch-part1\">\n                    <nav class=\"header-menu\">\n                        <ul>\n                        \n                            <li><a href=\"http://localhost:4000/\">主页</a></li>\n                        \n                            <li><a href=\"http://localhost:4000/archives/\">所有文章</a></li>\n                        \n                            <li><a href=\"http://localhost:4000/tags/\">标签云</a></li>\n                        \n                        </ul>\n                    </nav>\n                    <nav class=\"header-nav\">\n                        <ul class=\"social\">\n                            \n                                <a class=\"fa Email\" href=\"https://nightfeng26@gmail.com/\" title=\"Email\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa GitHub\" href=\"https://github.com/NightXlt\" title=\"GitHub\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa RSS\" href=\"http://localhost:4000/atom.xml\" title=\"RSS\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa 网易云音乐\" href=\"http://music.163.com/#/my/m/music/playlist?id=526373324\" title=\"网易云音乐\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa QQ\" href=\"http://qm.qq.com/cgi-bin/qm/qr?k=xzAF8AJLQ00oiD7K0u1ESFlAEfsSlojq\" title=\"QQ\" target=\"_blank\"></a>\n                            \n                        </ul>\n                    </nav>\n                </section>\n                \n                \n                <section class=\"switch-part switch-part2\">\n                    <div class=\"widget tagcloud\" id=\"js-tagcloud\">\n                        <ul class=\"tag-list\"><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/Android/\">Android</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color2\" href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\">Android，消息机制</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color3\" href=\"http://localhost:4000/tags/BFS/\">BFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1\" href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\">Bug调试</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color2\" href=\"http://localhost:4000/tags/DFS/\">DFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/Function-Programming/\">Function Programming</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color5\" href=\"http://localhost:4000/tags/IPC/\">IPC</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/Java/\">Java</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color4\" href=\"http://localhost:4000/tags/Kotlin/\">Kotlin</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/Leetcode/\">Leetcode</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/Machine-Learning/\">Machine Learning</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color1\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\">View事件体系</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\">View事件分发</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color4\" href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\">View的工作原理</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color4\" href=\"http://localhost:4000/tags/tensorflow/\">tensorflow</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color2\" href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\">事件总线</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\">位运算</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\">剑指Offer</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\">动态规划</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\">回溯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color6\" href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\">字符串</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\">字节跳动</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\">开源框架</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\">数学</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color0\" href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\">暴力</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color3\" href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\">深搜</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1\" href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\">线程</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color1\" href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\">缓存</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color5\" href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\">腾讯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color4\" href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\">自定义View</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\">贪心</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color3\" href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\">递归</a></li></ul>\n                    </div>\n                </section>\n                \n                \n                \n                <section class=\"switch-part switch-part3\">\n                    <div id=\"js-friends\">\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://hexo.io/\" target=\"_blank\">Hexo</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://pages.github.com/\" target=\"_blank\">GitHub</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"http://moxfive.xyz/\" target=\"_blank\">MOxFIVE</a>\n                    \n                    </div>\n                </section>\n                \n\n                \n                \n                <section class=\"switch-part switch-part4\">\n                \n                    <div id=\"js-aboutme\">Android Geeker</div>\n                </section>\n                \n            </div>\n        </div>\n    </header>                \n</div>\n    </div>\n    <div class=\"mid-col\">\n      <nav id=\"mobile-nav\">\n      <div class=\"overlay fixed\" style=\"background-color: rgb(118, 190, 204); opacity: 0.7;\">\n          <div class=\"slider-trigger\"></div>\n          <h1 class=\"header-author js-mobile-header fixed\"><a href=\"http://localhost:4000/\" title=\"回到主页\">Night</a></h1>\n      </div>\n    <div class=\"intrude-less\">\n        <header id=\"header\" class=\"inner\">\n            <a href=\"http://localhost:4000/\" class=\"profilepic\">\n                <img src=\"./tags _ Night&#39;s blog_files/avatar.png\" class=\"animated zoomIn\">\n            </a>\n            <hgroup>\n              <h1 class=\"header-author\"><a href=\"http://localhost:4000/\" title=\"回到主页\">Night</a></h1>\n            </hgroup>\n            \n            <nav class=\"header-menu\">\n                <ul>\n                \n                    <li><a href=\"http://localhost:4000/\">主页</a></li>\n                \n                    <li><a href=\"http://localhost:4000/archives/\">所有文章</a></li>\n                \n                    <li><a href=\"http://localhost:4000/tags/\">标签云</a></li>\n                \n                <div class=\"clearfix\"></div>\n                </ul>\n            </nav>\n            <nav class=\"header-nav\">\n                        <ul class=\"social\">\n                            \n                                <a class=\"fa Email\" target=\"_blank\" href=\"https://nightfeng26@gmail.com/\" title=\"Email\"></a>\n                            \n                                <a class=\"fa GitHub\" target=\"_blank\" href=\"https://github.com/NightXlt\" title=\"GitHub\"></a>\n                            \n                                <a class=\"fa RSS\" target=\"_blank\" href=\"http://localhost:4000/atom.xml\" title=\"RSS\"></a>\n                            \n                                <a class=\"fa 网易云音乐\" target=\"_blank\" href=\"http://music.163.com/#/my/m/music/playlist?id=526373324\" title=\"网易云音乐\"></a>\n                            \n                                <a class=\"fa QQ\" target=\"_blank\" href=\"http://qm.qq.com/cgi-bin/qm/qr?k=xzAF8AJLQ00oiD7K0u1ESFlAEfsSlojq\" title=\"QQ\"></a>\n                            \n                        </ul>\n            </nav>\n        </header>                \n    </div>\n    <link class=\"menu-list\" tags=\"标签\" friends=\"友情链接\" about=\"关于我\">\n</nav>\n      <div class=\"body-wrap\"><article id=\"page-\" class=\"article article-type-page\" itemscope=\"\" itemprop=\"blogPost\" style=\"opacity: 1;\">\n  \n    <div class=\"article-meta\">\n      <a href=\"http://localhost:4000/tags/index.html\" class=\"article-date\">\n      <time datetime=\"2017-12-21T03:08:43.000Z\" itemprop=\"datePublished\">2017-12-21</time>\n</a>\n\n\n    </div>\n  \n  <div class=\"article-inner\">\n    \n      <input type=\"hidden\" class=\"isFancy\">\n    \n    \n      <header class=\"article-header\">\n        \n  \n    <h1 class=\"article-title\" itemprop=\"name\">\n      tags\n    </h1>\n  \n\n      </header>\n      \n      <div class=\"article-info article-info-post\">\n        \n\n        \n        <div class=\"clearfix\"></div>\n      </div>\n      \n    \n    <div class=\"article-entry\" itemprop=\"articleBody\">\n      \n          \n              <style>\n    .article-meta { display: none; }\n    #container .article .article-title { padding-right: 0; }\n    .article-header {\n        padding: 0;\n        padding-top: 26px;\n        border-left: none;\n        text-align: center;\n    }\n    .article-header:hover { border-left: none; }\n    .article-title { font-size: 1.6em }\n    .article-entry hr { margin: 0;}\n    .article-meta,\n    #container .article-info-post.article-info { display: none;}\n    #container .article .article-title { padding: 0; }\n</style>\n\n\n    <!-- Tag Cloud Page -->\n    <hr>\n<br>\n<ul class=\"category-list\"><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android/\">Android</a><span class=\"category-list-count\">3</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android%E5%BC%80%E5%8F%91%E8%89%BA%E6%9C%AF%E6%8E%A2%E7%B4%A2/\">Android开发艺术探索</a><span class=\"category-list-count\">18</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%85%89/\">Android进阶之光</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Anki%E5%BC%80%E5%8F%91/\">Anki开发</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java/\">Java</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java-API/\">Java API</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/JavaAPI/\">JavaAPI</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/\">Java核心技术</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E6%BA%90%E7%A0%81/\">Java源码</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/\">Java编程思想</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/\">Kotlin学习笔记</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Machine-Learning/\">Machine Learning</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Thinking-in-Java/\">Thinking in Java</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/algorithm/\">algorithm</a><span class=\"category-list-count\">99</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/bug/\">bug</a><span class=\"category-list-count\">3</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/bug%E4%BF%AE%E5%A4%8D/\">bug修复</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/math/\">math</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/skills/\">skills</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a><span class=\"category-list-count\">4</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/\">计算机网络</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%85%89/\">进阶之光</a><span class=\"category-list-count\">1</span></li></ul>\n\n<p class=\"count\"><p id=\"count\">\n        已有<span><script>document.write($(\".category-list-item\").length)</script>21</span>个分类，\n        共计<span><script>document.write($(\".tags > a\").length)</script>33</span>个标签\n</p></p>\n\n<div class=\"tags\">\n    <a href=\"http://localhost:4000/tags/Android/\" style=\"font-size: 31.2px; color: #1a1a1a\">Android</a> <a href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\" style=\"font-size: 16px; color: #808080\">Android，消息机制</a> <a href=\"http://localhost:4000/tags/BFS/\" style=\"font-size: 16px; color: #808080\">BFS</a> <a href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\" style=\"font-size: 16px; color: #808080\">Bug调试</a> <a href=\"http://localhost:4000/tags/DFS/\" style=\"font-size: 16px; color: #808080\">DFS</a> <a href=\"http://localhost:4000/tags/Function-Programming/\" style=\"font-size: 16px; color: #808080\">Function Programming</a> <a href=\"http://localhost:4000/tags/IPC/\" style=\"font-size: 17.9px; color: #737373\">IPC</a> <a href=\"http://localhost:4000/tags/Java/\" style=\"font-size: 23.6px; color: #4d4d4d\">Java</a> <a href=\"http://localhost:4000/tags/Kotlin/\" style=\"font-size: 17.9px; color: #737373\">Kotlin</a> <a href=\"http://localhost:4000/tags/Leetcode/\" style=\"font-size: 35px; color: #000\">Leetcode</a> <a href=\"http://localhost:4000/tags/Machine-Learning/\" style=\"font-size: 16px; color: #808080\">Machine Learning</a> <a href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\" style=\"font-size: 16px; color: #808080\">View事件体系</a> <a href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\" style=\"font-size: 17.9px; color: #737373\">View事件分发</a> <a href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\" style=\"font-size: 17.9px; color: #737373\">View的工作原理</a> <a href=\"http://localhost:4000/tags/tensorflow/\" style=\"font-size: 16px; color: #808080\">tensorflow</a> <a href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\" style=\"font-size: 16px; color: #808080\">事件总线</a> <a href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\" style=\"font-size: 25.5px; color: #404040\">位运算</a> <a href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\" style=\"font-size: 19.8px; color: #666\">剑指Offer</a> <a href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\" style=\"font-size: 17.9px; color: #737373\">动态规划</a> <a href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\" style=\"font-size: 27.4px; color: #333\">回溯</a> <a href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\" style=\"font-size: 16px; color: #808080\">字符串</a> <a href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\" style=\"font-size: 33.1px; color: #0d0d0d\">字节跳动</a> <a href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\" style=\"font-size: 17.9px; color: #737373\">开源框架</a> <a href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\" style=\"font-size: 17.9px; color: #737373\">数学</a> <a href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\" style=\"font-size: 16px; color: #808080\">暴力</a> <a href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\" style=\"font-size: 16px; color: #808080\">深搜</a> <a href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\" style=\"font-size: 21.7px; color: #5a5a5a\">源码解析</a> <a href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\" style=\"font-size: 16px; color: #808080\">线程</a> <a href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\" style=\"font-size: 16px; color: #808080\">缓存</a> <a href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\" style=\"font-size: 29.3px; color: #262626\">腾讯</a> <a href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\" style=\"font-size: 16px; color: #808080\">自定义View</a> <a href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\" style=\"font-size: 16px; color: #808080\">贪心</a> <a href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\" style=\"font-size: 16px; color: #808080\">递归</a>\n</div>\n<style>\n    .category-list li{\n        display: inline-block;\n        margin: 0 1em .5em 0;\n        padding: 4px;\n        border: 1px solid lightgray;\n        font-size: 1.2rem;\n    }\n    .category-list a { color: gray; }\n    .category-list-item:hover a {\n        color: gray;\n        text-decoration: none;\n    }\n    .category-list-count {\n        margin-left: 2px;\n        font-size: .9rem;\n    }\n    .article-entry ul li:before{ display: none; }\n    .article-inner { text-align: center; }\n    .tags {\n        max-width: 42em;\n        margin: 2em auto;\n        margin-top: 0em;\n    }\n    .tags a {\n        margin-right: 1em;\n        line-height: 65px;\n        border-bottom: 1px solid gray;\n        white-space: nowrap;\n        transition: border-bottom .5s;\n    }\n    .tags a:hover {\n        border-bottom: 3px dotted gray;\n        text-decoration: none;\n    }\n    #count > span {\n        margin: auto .2em;\n        font-weight: bold;\n    }\n</style>\n\n<!-- Count tags and categories -->\n\n<script>\n    $('#count').appendTo('.count');\n</script>\n\n          \n        \n      \n    </div>\n    \n  </div>\n  \n    \n\n\n  \n</article>\n\n\n\n    \n<div class=\"share\">\n    \n        <div class=\"bdsharebuttonbox bdshare-button-style0-24\" data-bd-bind=\"1585989266525\">\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-twitter bds_twi\" data-cmd=\"twi\" title=\"分享到推特\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-weibo bds_tsina\" data-cmd=\"tsina\" title=\"分享到新浪微博\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-qq bds_sqq\" data-cmd=\"sqq\" title=\"分享给 QQ 好友\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-files-o bds_copy\" data-cmd=\"copy\" title=\"复制网址\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa fa-envelope-o bds_mail\" data-cmd=\"mail\" title=\"通过邮件分享\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-weixin bds_weixin\" data-cmd=\"weixin\" title=\"生成文章二维码\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-share-alt bds_more\" data-cmd=\"more\"></a>\n        </div>\n        <script>\n            window._bd_share_config={\n                \"common\":{\"bdSnsKey\":{},\"bdText\":\"tags　| Night's blog　\",\"bdMini\":\"2\",\"bdMiniList\":false,\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"24\"},\"share\":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];\n        </script>\n    \n\n    \n</div>\n\n\n\n\n\n\n\n    \n\n\n\n\n\n    <script>\n        \n    </script>\n</div>\n      <footer id=\"footer\">\n    <div class=\"outer\">\n        <div id=\"footer-info\">\n            <div class=\"footer-left\">\n                <i class=\"fa fa-copyright\"></i> \n                2015-2020 Night\n            </div>\n            <div class=\"footer-right\">\n                <a href=\"http://hexo.io/\" target=\"_blank\" title=\"快速、简洁且高效的博客框架\">Hexo</a>  Theme <a href=\"https://github.com/MOxFIVE/hexo-theme-yelee\" target=\"_blank\" title=\"简而不减 Hexo 双栏博客主题  v3.5\">Yelee</a> by MOxFIVE <i class=\"fa fa-heart animated infinite pulse\"></i>\n            </div>\n        </div>\n        \n            <div class=\"visit\">\n                \n                    <span id=\"busuanzi_container_site_pv\" style=\"display:none\">\n                        <span id=\"site-visit\" title=\"本站到访数\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i><span id=\"busuanzi_value_site_uv\"></span>\n                        </span>\n                    </span>\n                \n                \n                    <span>| </span>\n                \n                \n                    <span id=\"busuanzi_container_page_pv\" style=\"display:none\">\n                        <span id=\"page-visit\" title=\"本页阅读量\"><i class=\"fa fa-eye animated infinite pulse\" aria-hidden=\"true\"></i><span id=\"busuanzi_value_page_pv\"></span>\n                        </span>\n                    </span>\n                \n            </div>\n        \n    </div>\n</footer>\n    </div>\n    \n    <script src=\"./tags _ Night&#39;s blog_files/GithubRepoWidget.js\"></script>\n\n<script data-main=\"/js/main.js\" src=\"./tags _ Night&#39;s blog_files/require.min.js\"></script>\n\n    <script>\n        $(document).ready(function() {\n            var iPad = window.navigator.userAgent.indexOf('iPad');\n            if (iPad > -1 || $(\".left-col\").css(\"display\") === \"none\") {\n                var bgColorList = [\"#9db3f4\", \"#414141\", \"#e5a859\", \"#f5dfc6\", \"#c084a0\", \"#847e72\", \"#cd8390\", \"#996731\"];\n                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));\n                $(\"body\").css({\"background-color\": bgColorList[bgColor], \"background-size\": \"cover\"});\n            }\n            else {\n                var backgroundnum = 5;\n                var backgroundimg = \"url(/background/bg-x.jpg)\".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));\n                $(\"body\").css({\"background\": backgroundimg, \"background-attachment\": \"fixed\", \"background-size\": \"cover\"});\n            }\n        })\n    </script>\n\n\n\n\n\n    <script type=\"text/x-mathjax-config;executed=true\">\nMathJax.Hub.Config({\n    tex2jax: {\n        inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"]  ],\n        processEscapes: true,\n        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']\n    }\n});\n\nMathJax.Hub.Queue(function() {\n    var all = MathJax.Hub.getAllJax(), i;\n    for(i=0; i < all.length; i += 1) {\n        all[i].SourceElement().parentNode.className += ' has-jax';                 \n    }       \n});\n</script>\n\n<script src=\"./tags _ Night&#39;s blog_files/MathJax.js\">\n</script>\n\n\n<div class=\"scroll\" id=\"scroll\">\n    <a href=\"http://localhost:4000/tags/#\" title=\"返回顶部\"><i class=\"fa fa-arrow-up\"></i></a>\n    <a href=\"http://localhost:4000/tags/#comments\" onclick=\"load$hide();\" title=\"查看评论\" style=\"display: none;\"><i class=\"fa fa-comments-o\"></i></a>\n    <a href=\"http://localhost:4000/tags/#footer\" title=\"转到底部\"><i class=\"fa fa-arrow-down\"></i></a>\n</div>\n<script>\n    // Open in New Window\n    \n        var oOpenInNew = {\n             github: \".github-widget a\", \n            \n            \n            \n            \n            \n             archives: \".archive-article-title\", \n             miniArchives: \"a.post-list-link\", \n            \n             friends: \"#js-friends a\", \n             socail: \".social a\" \n        }\n        for (var x in oOpenInNew) {\n            $(oOpenInNew[x]).attr(\"target\", \"_blank\");\n        }\n    \n</script>\n\n    <script>\n        var originTitle = document.title;\n        var titleTime;\n        document.addEventListener(\"visibilitychange\", function() {\n            if (document.hidden) {\n                document.title = \"(つェ⊂) 我藏好了哦~ \" + originTitle;\n                clearTimeout(titleTime);\n            }\n            else {\n                document.title = \"(*´∇｀*) 被你发现啦~ \" + originTitle;\n                titleTime = setTimeout(function() {\n                    document.title = originTitle;\n                }, 2000);\n            }\n        })\n    </script>\n\n<script async=\"\" src=\"./tags _ Night&#39;s blog_files/busuanzi.pure.mini.js\">\n</script>\n  </div>\n\n<div id=\"viewer\" class=\"hide\"><div id=\"viewer-box\" style=\"height: 0px;\">        <div class=\"viewer-box-l\">            <div class=\"viewer-box-wrap\"><span class=\"viewer-title\">关于我</span><div class=\"viewer-div aboutme\" id=\"js-mobile-aboutme\">Android Geeker</div><span class=\"viewer-title\">友情链接</span><div class=\"viewer-div friends\" id=\"js-mobile-friends\">\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://hexo.io/\" target=\"_blank\">Hexo</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://pages.github.com/\" target=\"_blank\">GitHub</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"http://moxfive.xyz/\" target=\"_blank\">MOxFIVE</a>\n                    \n                    </div><span class=\"viewer-title\">标签</span><div class=\"viewer-div tagcloud\" id=\"js-mobile-tagcloud\">\n                        <ul class=\"tag-list\"><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color5\" href=\"http://localhost:4000/tags/Android/\">Android</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color3\" href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\">Android，消息机制</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color4\" href=\"http://localhost:4000/tags/BFS/\">BFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\">Bug调试</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color5\" href=\"http://localhost:4000/tags/DFS/\">DFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color2\" href=\"http://localhost:4000/tags/Function-Programming/\">Function Programming</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color0\" href=\"http://localhost:4000/tags/IPC/\">IPC</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color5\" href=\"http://localhost:4000/tags/Java/\">Java</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color6\" href=\"http://localhost:4000/tags/Kotlin/\">Kotlin</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0\" href=\"http://localhost:4000/tags/Leetcode/\">Leetcode</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color5\" href=\"http://localhost:4000/tags/Machine-Learning/\">Machine Learning</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color6\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\">View事件体系</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color0\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\">View事件分发</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\">View的工作原理</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color0\" href=\"http://localhost:4000/tags/tensorflow/\">tensorflow</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color4\" href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\">事件总线</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color3\" href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\">位运算</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color6\" href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\">剑指Offer</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color2\" href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\">动态规划</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\">回溯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color2\" href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\">字符串</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\">字节跳动</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color1\" href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\">开源框架</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color2\" href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\">数学</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color4\" href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\">暴力</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color6\" href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\">深搜</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color6\" href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3\" href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\">线程</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\">缓存</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color5\" href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\">腾讯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color0\" href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\">自定义View</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color5\" href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\">贪心</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color4\" href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\">递归</a></li></ul>\n                    </div></div>        </div>        <div class=\"viewer-box-r\"></div>        </div></div></body></html>","source":"images/tags _ Night's blog.htm","raw":"<!DOCTYPE html>\n<!-- saved from url=(0027)http://localhost:4000/tags/ -->\n<html lang=\"zh-Hans\" class=\"\"><script src=\"./tags _ Night&#39;s blog_files/hm.js\"></script><script type=\"text/javascript\" src=\"chrome-extension://kajfghlhfkcocafkcjlajldicbikpgnp/catcher.js\"><!-- script injected by Request Maker --></script><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><meta name=\"generator\" content=\"Hexo 3.9.0\">\n\n    <!--[if lt IE 9]>\n        <style>body {display: none; background: none !important} </style>\n        <meta http-equiv=\"Refresh\" Content=\"0; url=//outdatedbrowser.com/\" />\n    <![endif]-->\n\n\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge, chrome=1\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta name=\"author\" content=\"Night\">\n\n\n\n<meta property=\"og:type\" content=\"website\">\n<meta property=\"og:title\" content=\"tags\">\n<meta property=\"og:url\" content=\"http://yoursite.com/tags/index.html\">\n<meta property=\"og:site_name\" content=\"Night&#39;s blog\">\n<meta property=\"og:locale\" content=\"zh-Hans\">\n<meta property=\"og:updated_time\" content=\"2020-02-13T07:16:09.100Z\"><link rel=\"stylesheet\" href=\"http://cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css\">\n<meta name=\"twitter:card\" content=\"summary\">\n<meta name=\"twitter:title\" content=\"tags\">\n\n<link rel=\"apple-touch-icon\" href=\"http://localhost:4000/apple-touch-icon.png\">\n\n\n    <link rel=\"alternate\" href=\"http://localhost:4000/atom.xml\" title=\"Night&#39;s blog\" type=\"application/atom+xml\">\n\n\n\n    <link rel=\"shortcut icon\" href=\"./tags _ Night&#39;s blog_files/avatar.png\">\n\n\n\n    <link href=\"./tags _ Night&#39;s blog_files/animate.min.css\" rel=\"stylesheet\">\n\n\n\n    <link href=\"./tags _ Night&#39;s blog_files/jquery.fancybox.min.css\" rel=\"stylesheet\">\n\n\n\n    <script src=\"./tags _ Night&#39;s blog_files/pace.min.js\"></script>\n    <link href=\"./tags _ Night&#39;s blog_files/pace-theme-minimal.css\" rel=\"stylesheet\">\n\n\n<link rel=\"stylesheet\" href=\"./tags _ Night&#39;s blog_files/style.css\">\n\n\n\n<link href=\"./tags _ Night&#39;s blog_files/font-awesome.min.css\" rel=\"stylesheet\">\n\n\n<title>tags | Night's blog</title>\n\n<script src=\"./tags _ Night&#39;s blog_files/jquery.min.js\"></script>\n<script src=\"./tags _ Night&#39;s blog_files/clipboard.min.js\"></script>\n\n<script>\n    var yiliaConfig = {\n        fancybox: true,\n        animate: true,\n        isHome: false,\n        isPost: false,\n        isArchive: false,\n        isTag: false,\n        isCategory: false,\n        fancybox_js: \"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js\",\n        scrollreveal: \"//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js\",\n        search: true\n    }\n</script>\n\n\n    <script>\n        yiliaConfig.jquery_ui = [true, \"//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\", \"//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css\"];\n    </script>\n\n\n\n    <script> yiliaConfig.rootUrl = \"\\/\";</script>\n\n\n\n\n\n    <script>\n        var _hmt = _hmt || [];\n        (function() {\n            var hm = document.createElement(\"script\");\n            hm.src = \"//hm.baidu.com/hm.js?78b7e9790ada71496450ca708cc57e36\";\n            var s = document.getElementsByTagName(\"script\")[0]; \n            s.parentNode.insertBefore(hm, s);\n        })();\n    </script>\n\n\n<script src=\"./tags _ Night&#39;s blog_files/share.js\"></script><style>.path-divider{margin:0 .25em}.github-box *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{word-wrap:break-word;font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 30px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAXBAMAAAD0LQLXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURQAAAL29vc3NzcLCwsjIyNbW1pvTNOEAAAABdFJOUwBA5thmAAAATElEQVQI12MIFoQAEQZFYwcGEGBkUDRUQLCcsYjRXhbqKkEGZQYGqJgSnKXCwGgsAGYpqyobG4WGhioyhBhDgClI3EQAqpaZwQBEAQARmA4G2o55nQAAAABJRU5ErkJggg==) 7px center no-repeat; width: auto;}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{float:right;position:absolute;top:8px;right:10px;font-size:11px;font-weight:bold;line-height:21px;height:auto;min-height:21px}.github-box .github-box-title .github-stats a{display:inline-block;height:21px;color:#666;border:1px solid #ddd;border-radius:3px;padding:0 5px 0 18px;background: white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqBAMAAABB12bjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURf///5mZmdbW1u/v7/r6+rGxscXFxaSkpHLccIMAAABsSURBVBjTY2CgBmBODTOAsFgSi9TFHMBMc1Fmk8BiEItJUMhQWFFQAZXJoC7q7FJYhNBmgG7YQAIWMYTvEExXIbh8oAJWQQe4IGsIlKmowAZVwaKowgxlMgkKmwtCjRAUYBSEqnVkYBAm39EALMwNXwql3eYAAAAASUVORK5CYII=) no-repeat}.github-box .github-box-title .github-stats .watchers{border-right:1px solid #ddd}.github-box .github-box-title .github-stats .forks{background-position:-4px -21px;padding-left:15px}.github-box .github-box-content{padding:10px;font-weight:300}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:10px;height:auto;min-height:24px;}.github-box .github-box-download .updated{word-wrap:break-word;margin:0;font-size:11px;color:#666;line-height:24px;font-weight:300;width:auto}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{float:right;position:absolute;top:10px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);}@media (max-width: 767px) {.github-box .github-box-title{height:auto;min-height:60px}.github-box .github-box-title h3 .repo{display:block}.github-box .github-box-title .github-stats a{display:block;clear:right;float:right;}.github-box .github-box-download{height:auto;min-height:46px;}.github-box .github-box-download .download{top:32px;}}</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"main\" src=\"./tags _ Night&#39;s blog_files/main.js\"></script><style type=\"text/css\">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}\n.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}\n.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}\n.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}\n.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}\n</style><style type=\"text/css\">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n#MathJax_About.MathJax_MousePost {outline: none}\n.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n.MathJax_MenuItem {padding: 1px 2em; background: transparent}\n.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}\n.MathJax_MenuActive .MathJax_MenuArrow {color: white}\n.MathJax_MenuArrow.RTL {left: .5em; right: auto}\n.MathJax_MenuCheck {position: absolute; left: .7em}\n.MathJax_MenuCheck.RTL {right: .7em; left: auto}\n.MathJax_MenuRadioCheck {position: absolute; left: .7em}\n.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}\n.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}\n.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}\n.MathJax_MenuDisabled {color: GrayText}\n.MathJax_MenuActive {background-color: #606872; color: white}\n.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}\n.MathJax_ContextMenu:focus {outline: none}\n.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}\n#MathJax_AboutClose {top: .2em; right: .2em}\n.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}\n.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}\n.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}\n.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}\n.MathJax_MenuClose:hover span {background-color: #CCC!important}\n.MathJax_MenuClose:hover:focus {outline: none}\n</style><style type=\"text/css\">.MathJax_Preview .MJXf-math {color: inherit!important}\n</style><style type=\"text/css\">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}\n.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}\n</style><style type=\"text/css\">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}\n#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}\n#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}\n#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}\n</style><style type=\"text/css\">.MathJax_Preview {color: #888}\n#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}\n#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}\n.MathJax_Error {color: #CC0000; font-style: italic}\n</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/mobile.js\" src=\"./tags _ Night&#39;s blog_files/mobile.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js\" src=\"./tags _ Night&#39;s blog_files/jquery.fancybox.min.js\"></script><link rel=\"stylesheet\" href=\"./tags _ Night&#39;s blog_files/share_style0_24.css\"><style type=\"text/css\">.MJXp-script {font-size: .8em}\n.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}\n.MJXp-bold {font-weight: bold}\n.MJXp-italic {font-style: italic}\n.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}\n.MJXp-largeop {font-size: 150%}\n.MJXp-largeop.MJXp-int {vertical-align: -.2em}\n.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}\n.MJXp-display {display: block; text-align: center; margin: 1em 0}\n.MJXp-math span {display: inline-block}\n.MJXp-box {display: block!important; text-align: center}\n.MJXp-box:after {content: \" \"}\n.MJXp-rule {display: block!important; margin-top: .1em}\n.MJXp-char {display: block!important}\n.MJXp-mo {margin: 0 .15em}\n.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}\n.MJXp-denom {display: inline-table!important; width: 100%}\n.MJXp-denom > * {display: table-row!important}\n.MJXp-surd {vertical-align: top}\n.MJXp-surd > * {display: block!important}\n.MJXp-script-box > *  {display: table!important; height: 50%}\n.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}\n.MJXp-script-box > *:last-child > * {vertical-align: bottom}\n.MJXp-script-box > * > * > * {display: block!important}\n.MJXp-mphantom {visibility: hidden}\n.MJXp-munderover {display: inline-table!important}\n.MJXp-over {display: inline-block!important; text-align: center}\n.MJXp-over > * {display: block!important}\n.MJXp-munderover > * {display: table-row!important}\n.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}\n.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}\n.MJXp-mtr {display: table-row!important}\n.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}\n.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}\n.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}\n.MJXp-mlabeledtr {display: table-row!important}\n.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}\n.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}\n.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}\n.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}\n.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}\n.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}\n.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}\n.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}\n.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}\n.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}\n.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}\n.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}\n.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}\n.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}\n</style><style type=\"text/css\">.fancybox-margin{margin-right:10px;}</style><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/pc.js\" src=\"http://localhost:4000/js/pc.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\" src=\"http://cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" data-requirecontext=\"_\" data-requiremodule=\"/js/search.js\" src=\"http://localhost:4000/js/search.js\"></script></head><body style=\"background: url(&quot;/background/bg-2.jpg&quot;) 0% 0% / cover fixed;\" class=\"  pace-done\"><div id=\"MathJax_Message\" style=\"display: none;\"></div><div class=\"pace  pace-inactive\"><div class=\"pace-progress\" data-progress-text=\"100%\" data-progress=\"99\" style=\"transform: translate3d(100%, 0px, 0px);\">\n  <div class=\"pace-progress-inner\"></div>\n</div>\n<div class=\"pace-activity\"></div></div>\n\n  <div id=\"container\">\n    <div class=\"left-col\">\n    <div class=\"overlay\" style=\"background-color: rgb(118, 190, 204); opacity: 0.3;\"></div>\n<div class=\"intrude-less\">\n    <header id=\"header\" class=\"inner\">\n        <a href=\"http://localhost:4000/\" class=\"profilepic\">\n            <img src=\"./tags _ Night&#39;s blog_files/avatar.png\" class=\"animated zoomIn\">\n        </a>\n        <hgroup>\n          <h1 class=\"header-author\"><a href=\"http://localhost:4000/\">Night</a></h1>\n        </hgroup>\n\n        \n\n        \n            <form id=\"search-form\">\n            <input type=\"text\" id=\"local-search-input\" name=\"q\" placeholder=\"search...\" class=\"search form-control\" autocomplete=\"off\" autocorrect=\"off\" searchonload=\"false\">\n            <i class=\"fa fa-times\" onclick=\"resetSearch()\"></i>\n            </form>\n            <div id=\"local-search-result\"></div>\n            <p class=\"no-result\">No results found <i class=\"fa fa-spinner fa-pulse\"></i></p>\n        \n\n\n        \n            <div id=\"switch-btn\" class=\"switch-btn\">\n                <div class=\"icon\">\n                    <div class=\"icon-ctn\">\n                        <div class=\"icon-wrap icon-house\" data-idx=\"0\">\n                            <div class=\"birdhouse\"></div>\n                            <div class=\"birdhouse_holes\"></div>\n                        </div>\n                        <div class=\"icon-wrap icon-ribbon hide\" data-idx=\"1\">\n                            <div class=\"ribbon\"></div>\n                        </div>\n                        \n                        <div class=\"icon-wrap icon-link hide\" data-idx=\"2\">\n                            <div class=\"loopback_l\"></div>\n                            <div class=\"loopback_r\"></div>\n                        </div>\n                        \n                        \n                        <div class=\"icon-wrap icon-me hide\" data-idx=\"3\">\n                            <div class=\"user\"></div>\n                            <div class=\"shoulder\"></div>\n                        </div>\n                        \n                    </div>\n                    \n                </div>\n                <div class=\"tips-box hide\">\n                    <div class=\"tips-arrow\"></div>\n                    <ul class=\"tips-inner\">\n                        <li>菜单</li>\n                        <li>标签</li>\n                        \n                        <li>友情链接</li>\n                        \n                        \n                        <li>关于我</li>\n                        \n                    </ul>\n                </div>\n            </div>\n        \n\n        <div id=\"switch-area\" class=\"switch-area\">\n            <div class=\"switch-wrap\">\n                <section class=\"switch-part switch-part1\">\n                    <nav class=\"header-menu\">\n                        <ul>\n                        \n                            <li><a href=\"http://localhost:4000/\">主页</a></li>\n                        \n                            <li><a href=\"http://localhost:4000/archives/\">所有文章</a></li>\n                        \n                            <li><a href=\"http://localhost:4000/tags/\">标签云</a></li>\n                        \n                        </ul>\n                    </nav>\n                    <nav class=\"header-nav\">\n                        <ul class=\"social\">\n                            \n                                <a class=\"fa Email\" href=\"https://nightfeng26@gmail.com/\" title=\"Email\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa GitHub\" href=\"https://github.com/NightXlt\" title=\"GitHub\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa RSS\" href=\"http://localhost:4000/atom.xml\" title=\"RSS\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa 网易云音乐\" href=\"http://music.163.com/#/my/m/music/playlist?id=526373324\" title=\"网易云音乐\" target=\"_blank\"></a>\n                            \n                                <a class=\"fa QQ\" href=\"http://qm.qq.com/cgi-bin/qm/qr?k=xzAF8AJLQ00oiD7K0u1ESFlAEfsSlojq\" title=\"QQ\" target=\"_blank\"></a>\n                            \n                        </ul>\n                    </nav>\n                </section>\n                \n                \n                <section class=\"switch-part switch-part2\">\n                    <div class=\"widget tagcloud\" id=\"js-tagcloud\">\n                        <ul class=\"tag-list\"><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/Android/\">Android</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color2\" href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\">Android，消息机制</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color3\" href=\"http://localhost:4000/tags/BFS/\">BFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1\" href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\">Bug调试</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color2\" href=\"http://localhost:4000/tags/DFS/\">DFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/Function-Programming/\">Function Programming</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color5\" href=\"http://localhost:4000/tags/IPC/\">IPC</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/Java/\">Java</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color4\" href=\"http://localhost:4000/tags/Kotlin/\">Kotlin</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/Leetcode/\">Leetcode</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/Machine-Learning/\">Machine Learning</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color1\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\">View事件体系</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\">View事件分发</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color4\" href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\">View的工作原理</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color4\" href=\"http://localhost:4000/tags/tensorflow/\">tensorflow</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color2\" href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\">事件总线</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color1\" href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\">位运算</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\">剑指Offer</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\">动态规划</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\">回溯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color6\" href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\">字符串</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\">字节跳动</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\">开源框架</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\">数学</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color0\" href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\">暴力</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color3\" href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\">深搜</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1\" href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\">线程</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color1\" href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\">缓存</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color5\" href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\">腾讯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color4\" href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\">自定义View</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\">贪心</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color3\" href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\">递归</a></li></ul>\n                    </div>\n                </section>\n                \n                \n                \n                <section class=\"switch-part switch-part3\">\n                    <div id=\"js-friends\">\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://hexo.io/\" target=\"_blank\">Hexo</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://pages.github.com/\" target=\"_blank\">GitHub</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"http://moxfive.xyz/\" target=\"_blank\">MOxFIVE</a>\n                    \n                    </div>\n                </section>\n                \n\n                \n                \n                <section class=\"switch-part switch-part4\">\n                \n                    <div id=\"js-aboutme\">Android Geeker</div>\n                </section>\n                \n            </div>\n        </div>\n    </header>                \n</div>\n    </div>\n    <div class=\"mid-col\">\n      <nav id=\"mobile-nav\">\n      <div class=\"overlay fixed\" style=\"background-color: rgb(118, 190, 204); opacity: 0.7;\">\n          <div class=\"slider-trigger\"></div>\n          <h1 class=\"header-author js-mobile-header fixed\"><a href=\"http://localhost:4000/\" title=\"回到主页\">Night</a></h1>\n      </div>\n    <div class=\"intrude-less\">\n        <header id=\"header\" class=\"inner\">\n            <a href=\"http://localhost:4000/\" class=\"profilepic\">\n                <img src=\"./tags _ Night&#39;s blog_files/avatar.png\" class=\"animated zoomIn\">\n            </a>\n            <hgroup>\n              <h1 class=\"header-author\"><a href=\"http://localhost:4000/\" title=\"回到主页\">Night</a></h1>\n            </hgroup>\n            \n            <nav class=\"header-menu\">\n                <ul>\n                \n                    <li><a href=\"http://localhost:4000/\">主页</a></li>\n                \n                    <li><a href=\"http://localhost:4000/archives/\">所有文章</a></li>\n                \n                    <li><a href=\"http://localhost:4000/tags/\">标签云</a></li>\n                \n                <div class=\"clearfix\"></div>\n                </ul>\n            </nav>\n            <nav class=\"header-nav\">\n                        <ul class=\"social\">\n                            \n                                <a class=\"fa Email\" target=\"_blank\" href=\"https://nightfeng26@gmail.com/\" title=\"Email\"></a>\n                            \n                                <a class=\"fa GitHub\" target=\"_blank\" href=\"https://github.com/NightXlt\" title=\"GitHub\"></a>\n                            \n                                <a class=\"fa RSS\" target=\"_blank\" href=\"http://localhost:4000/atom.xml\" title=\"RSS\"></a>\n                            \n                                <a class=\"fa 网易云音乐\" target=\"_blank\" href=\"http://music.163.com/#/my/m/music/playlist?id=526373324\" title=\"网易云音乐\"></a>\n                            \n                                <a class=\"fa QQ\" target=\"_blank\" href=\"http://qm.qq.com/cgi-bin/qm/qr?k=xzAF8AJLQ00oiD7K0u1ESFlAEfsSlojq\" title=\"QQ\"></a>\n                            \n                        </ul>\n            </nav>\n        </header>                \n    </div>\n    <link class=\"menu-list\" tags=\"标签\" friends=\"友情链接\" about=\"关于我\">\n</nav>\n      <div class=\"body-wrap\"><article id=\"page-\" class=\"article article-type-page\" itemscope=\"\" itemprop=\"blogPost\" style=\"opacity: 1;\">\n  \n    <div class=\"article-meta\">\n      <a href=\"http://localhost:4000/tags/index.html\" class=\"article-date\">\n      <time datetime=\"2017-12-21T03:08:43.000Z\" itemprop=\"datePublished\">2017-12-21</time>\n</a>\n\n\n    </div>\n  \n  <div class=\"article-inner\">\n    \n      <input type=\"hidden\" class=\"isFancy\">\n    \n    \n      <header class=\"article-header\">\n        \n  \n    <h1 class=\"article-title\" itemprop=\"name\">\n      tags\n    </h1>\n  \n\n      </header>\n      \n      <div class=\"article-info article-info-post\">\n        \n\n        \n        <div class=\"clearfix\"></div>\n      </div>\n      \n    \n    <div class=\"article-entry\" itemprop=\"articleBody\">\n      \n          \n              <style>\n    .article-meta { display: none; }\n    #container .article .article-title { padding-right: 0; }\n    .article-header {\n        padding: 0;\n        padding-top: 26px;\n        border-left: none;\n        text-align: center;\n    }\n    .article-header:hover { border-left: none; }\n    .article-title { font-size: 1.6em }\n    .article-entry hr { margin: 0;}\n    .article-meta,\n    #container .article-info-post.article-info { display: none;}\n    #container .article .article-title { padding: 0; }\n</style>\n\n\n    <!-- Tag Cloud Page -->\n    <hr>\n<br>\n<ul class=\"category-list\"><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android/\">Android</a><span class=\"category-list-count\">3</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android%E5%BC%80%E5%8F%91%E8%89%BA%E6%9C%AF%E6%8E%A2%E7%B4%A2/\">Android开发艺术探索</a><span class=\"category-list-count\">18</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%85%89/\">Android进阶之光</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Anki%E5%BC%80%E5%8F%91/\">Anki开发</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java/\">Java</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java-API/\">Java API</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/JavaAPI/\">JavaAPI</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/\">Java核心技术</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E6%BA%90%E7%A0%81/\">Java源码</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Java%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/\">Java编程思想</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Kotlin%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/\">Kotlin学习笔记</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Machine-Learning/\">Machine Learning</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/Thinking-in-Java/\">Thinking in Java</a><span class=\"category-list-count\">2</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/algorithm/\">algorithm</a><span class=\"category-list-count\">99</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/bug/\">bug</a><span class=\"category-list-count\">3</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/bug%E4%BF%AE%E5%A4%8D/\">bug修复</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/math/\">math</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/skills/\">skills</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a><span class=\"category-list-count\">4</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/\">计算机网络</a><span class=\"category-list-count\">1</span></li><li class=\"category-list-item\"><a class=\"category-list-link\" href=\"http://localhost:4000/categories/%E8%BF%9B%E9%98%B6%E4%B9%8B%E5%85%89/\">进阶之光</a><span class=\"category-list-count\">1</span></li></ul>\n\n<p class=\"count\"><p id=\"count\">\n        已有<span><script>document.write($(\".category-list-item\").length)</script>21</span>个分类，\n        共计<span><script>document.write($(\".tags > a\").length)</script>33</span>个标签\n</p></p>\n\n<div class=\"tags\">\n    <a href=\"http://localhost:4000/tags/Android/\" style=\"font-size: 31.2px; color: #1a1a1a\">Android</a> <a href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\" style=\"font-size: 16px; color: #808080\">Android，消息机制</a> <a href=\"http://localhost:4000/tags/BFS/\" style=\"font-size: 16px; color: #808080\">BFS</a> <a href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\" style=\"font-size: 16px; color: #808080\">Bug调试</a> <a href=\"http://localhost:4000/tags/DFS/\" style=\"font-size: 16px; color: #808080\">DFS</a> <a href=\"http://localhost:4000/tags/Function-Programming/\" style=\"font-size: 16px; color: #808080\">Function Programming</a> <a href=\"http://localhost:4000/tags/IPC/\" style=\"font-size: 17.9px; color: #737373\">IPC</a> <a href=\"http://localhost:4000/tags/Java/\" style=\"font-size: 23.6px; color: #4d4d4d\">Java</a> <a href=\"http://localhost:4000/tags/Kotlin/\" style=\"font-size: 17.9px; color: #737373\">Kotlin</a> <a href=\"http://localhost:4000/tags/Leetcode/\" style=\"font-size: 35px; color: #000\">Leetcode</a> <a href=\"http://localhost:4000/tags/Machine-Learning/\" style=\"font-size: 16px; color: #808080\">Machine Learning</a> <a href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\" style=\"font-size: 16px; color: #808080\">View事件体系</a> <a href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\" style=\"font-size: 17.9px; color: #737373\">View事件分发</a> <a href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\" style=\"font-size: 17.9px; color: #737373\">View的工作原理</a> <a href=\"http://localhost:4000/tags/tensorflow/\" style=\"font-size: 16px; color: #808080\">tensorflow</a> <a href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\" style=\"font-size: 16px; color: #808080\">事件总线</a> <a href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\" style=\"font-size: 25.5px; color: #404040\">位运算</a> <a href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\" style=\"font-size: 19.8px; color: #666\">剑指Offer</a> <a href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\" style=\"font-size: 17.9px; color: #737373\">动态规划</a> <a href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\" style=\"font-size: 27.4px; color: #333\">回溯</a> <a href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\" style=\"font-size: 16px; color: #808080\">字符串</a> <a href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\" style=\"font-size: 33.1px; color: #0d0d0d\">字节跳动</a> <a href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\" style=\"font-size: 17.9px; color: #737373\">开源框架</a> <a href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\" style=\"font-size: 17.9px; color: #737373\">数学</a> <a href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\" style=\"font-size: 16px; color: #808080\">暴力</a> <a href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\" style=\"font-size: 16px; color: #808080\">深搜</a> <a href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\" style=\"font-size: 21.7px; color: #5a5a5a\">源码解析</a> <a href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\" style=\"font-size: 16px; color: #808080\">线程</a> <a href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\" style=\"font-size: 16px; color: #808080\">缓存</a> <a href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\" style=\"font-size: 29.3px; color: #262626\">腾讯</a> <a href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\" style=\"font-size: 16px; color: #808080\">自定义View</a> <a href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\" style=\"font-size: 16px; color: #808080\">贪心</a> <a href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\" style=\"font-size: 16px; color: #808080\">递归</a>\n</div>\n<style>\n    .category-list li{\n        display: inline-block;\n        margin: 0 1em .5em 0;\n        padding: 4px;\n        border: 1px solid lightgray;\n        font-size: 1.2rem;\n    }\n    .category-list a { color: gray; }\n    .category-list-item:hover a {\n        color: gray;\n        text-decoration: none;\n    }\n    .category-list-count {\n        margin-left: 2px;\n        font-size: .9rem;\n    }\n    .article-entry ul li:before{ display: none; }\n    .article-inner { text-align: center; }\n    .tags {\n        max-width: 42em;\n        margin: 2em auto;\n        margin-top: 0em;\n    }\n    .tags a {\n        margin-right: 1em;\n        line-height: 65px;\n        border-bottom: 1px solid gray;\n        white-space: nowrap;\n        transition: border-bottom .5s;\n    }\n    .tags a:hover {\n        border-bottom: 3px dotted gray;\n        text-decoration: none;\n    }\n    #count > span {\n        margin: auto .2em;\n        font-weight: bold;\n    }\n</style>\n\n<!-- Count tags and categories -->\n\n<script>\n    $('#count').appendTo('.count');\n</script>\n\n          \n        \n      \n    </div>\n    \n  </div>\n  \n    \n\n\n  \n</article>\n\n\n\n    \n<div class=\"share\">\n    \n        <div class=\"bdsharebuttonbox bdshare-button-style0-24\" data-bd-bind=\"1585989266525\">\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-twitter bds_twi\" data-cmd=\"twi\" title=\"分享到推特\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-weibo bds_tsina\" data-cmd=\"tsina\" title=\"分享到新浪微博\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-qq bds_sqq\" data-cmd=\"sqq\" title=\"分享给 QQ 好友\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-files-o bds_copy\" data-cmd=\"copy\" title=\"复制网址\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa fa-envelope-o bds_mail\" data-cmd=\"mail\" title=\"通过邮件分享\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-weixin bds_weixin\" data-cmd=\"weixin\" title=\"生成文章二维码\"></a>\n            <a href=\"http://localhost:4000/tags/#\" class=\"fa fa-share-alt bds_more\" data-cmd=\"more\"></a>\n        </div>\n        <script>\n            window._bd_share_config={\n                \"common\":{\"bdSnsKey\":{},\"bdText\":\"tags　| Night's blog　\",\"bdMini\":\"2\",\"bdMiniList\":false,\"bdPic\":\"\",\"bdStyle\":\"0\",\"bdSize\":\"24\"},\"share\":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];\n        </script>\n    \n\n    \n</div>\n\n\n\n\n\n\n\n    \n\n\n\n\n\n    <script>\n        \n    </script>\n</div>\n      <footer id=\"footer\">\n    <div class=\"outer\">\n        <div id=\"footer-info\">\n            <div class=\"footer-left\">\n                <i class=\"fa fa-copyright\"></i> \n                2015-2020 Night\n            </div>\n            <div class=\"footer-right\">\n                <a href=\"http://hexo.io/\" target=\"_blank\" title=\"快速、简洁且高效的博客框架\">Hexo</a>  Theme <a href=\"https://github.com/MOxFIVE/hexo-theme-yelee\" target=\"_blank\" title=\"简而不减 Hexo 双栏博客主题  v3.5\">Yelee</a> by MOxFIVE <i class=\"fa fa-heart animated infinite pulse\"></i>\n            </div>\n        </div>\n        \n            <div class=\"visit\">\n                \n                    <span id=\"busuanzi_container_site_pv\" style=\"display:none\">\n                        <span id=\"site-visit\" title=\"本站到访数\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i><span id=\"busuanzi_value_site_uv\"></span>\n                        </span>\n                    </span>\n                \n                \n                    <span>| </span>\n                \n                \n                    <span id=\"busuanzi_container_page_pv\" style=\"display:none\">\n                        <span id=\"page-visit\" title=\"本页阅读量\"><i class=\"fa fa-eye animated infinite pulse\" aria-hidden=\"true\"></i><span id=\"busuanzi_value_page_pv\"></span>\n                        </span>\n                    </span>\n                \n            </div>\n        \n    </div>\n</footer>\n    </div>\n    \n    <script src=\"./tags _ Night&#39;s blog_files/GithubRepoWidget.js\"></script>\n\n<script data-main=\"/js/main.js\" src=\"./tags _ Night&#39;s blog_files/require.min.js\"></script>\n\n    <script>\n        $(document).ready(function() {\n            var iPad = window.navigator.userAgent.indexOf('iPad');\n            if (iPad > -1 || $(\".left-col\").css(\"display\") === \"none\") {\n                var bgColorList = [\"#9db3f4\", \"#414141\", \"#e5a859\", \"#f5dfc6\", \"#c084a0\", \"#847e72\", \"#cd8390\", \"#996731\"];\n                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));\n                $(\"body\").css({\"background-color\": bgColorList[bgColor], \"background-size\": \"cover\"});\n            }\n            else {\n                var backgroundnum = 5;\n                var backgroundimg = \"url(/background/bg-x.jpg)\".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));\n                $(\"body\").css({\"background\": backgroundimg, \"background-attachment\": \"fixed\", \"background-size\": \"cover\"});\n            }\n        })\n    </script>\n\n\n\n\n\n    <script type=\"text/x-mathjax-config;executed=true\">\nMathJax.Hub.Config({\n    tex2jax: {\n        inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"]  ],\n        processEscapes: true,\n        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']\n    }\n});\n\nMathJax.Hub.Queue(function() {\n    var all = MathJax.Hub.getAllJax(), i;\n    for(i=0; i < all.length; i += 1) {\n        all[i].SourceElement().parentNode.className += ' has-jax';                 \n    }       \n});\n</script>\n\n<script src=\"./tags _ Night&#39;s blog_files/MathJax.js\">\n</script>\n\n\n<div class=\"scroll\" id=\"scroll\">\n    <a href=\"http://localhost:4000/tags/#\" title=\"返回顶部\"><i class=\"fa fa-arrow-up\"></i></a>\n    <a href=\"http://localhost:4000/tags/#comments\" onclick=\"load$hide();\" title=\"查看评论\" style=\"display: none;\"><i class=\"fa fa-comments-o\"></i></a>\n    <a href=\"http://localhost:4000/tags/#footer\" title=\"转到底部\"><i class=\"fa fa-arrow-down\"></i></a>\n</div>\n<script>\n    // Open in New Window\n    \n        var oOpenInNew = {\n             github: \".github-widget a\", \n            \n            \n            \n            \n            \n             archives: \".archive-article-title\", \n             miniArchives: \"a.post-list-link\", \n            \n             friends: \"#js-friends a\", \n             socail: \".social a\" \n        }\n        for (var x in oOpenInNew) {\n            $(oOpenInNew[x]).attr(\"target\", \"_blank\");\n        }\n    \n</script>\n\n    <script>\n        var originTitle = document.title;\n        var titleTime;\n        document.addEventListener(\"visibilitychange\", function() {\n            if (document.hidden) {\n                document.title = \"(つェ⊂) 我藏好了哦~ \" + originTitle;\n                clearTimeout(titleTime);\n            }\n            else {\n                document.title = \"(*´∇｀*) 被你发现啦~ \" + originTitle;\n                titleTime = setTimeout(function() {\n                    document.title = originTitle;\n                }, 2000);\n            }\n        })\n    </script>\n\n<script async=\"\" src=\"./tags _ Night&#39;s blog_files/busuanzi.pure.mini.js\">\n</script>\n  </div>\n\n<div id=\"viewer\" class=\"hide\"><div id=\"viewer-box\" style=\"height: 0px;\">        <div class=\"viewer-box-l\">            <div class=\"viewer-box-wrap\"><span class=\"viewer-title\">关于我</span><div class=\"viewer-div aboutme\" id=\"js-mobile-aboutme\">Android Geeker</div><span class=\"viewer-title\">友情链接</span><div class=\"viewer-div friends\" id=\"js-mobile-friends\">\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://hexo.io/\" target=\"_blank\">Hexo</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"https://pages.github.com/\" target=\"_blank\">GitHub</a>\n                    \n                      <a class=\"main-nav-link switch-friends-link\" href=\"http://moxfive.xyz/\" target=\"_blank\">MOxFIVE</a>\n                    \n                    </div><span class=\"viewer-title\">标签</span><div class=\"viewer-div tagcloud\" id=\"js-mobile-tagcloud\">\n                        <ul class=\"tag-list\"><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color5\" href=\"http://localhost:4000/tags/Android/\">Android</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color3\" href=\"http://localhost:4000/tags/Android%EF%BC%8C%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/\">Android，消息机制</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color4\" href=\"http://localhost:4000/tags/BFS/\">BFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color6\" href=\"http://localhost:4000/tags/Bug%E8%B0%83%E8%AF%95/\">Bug调试</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color5\" href=\"http://localhost:4000/tags/DFS/\">DFS</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color2\" href=\"http://localhost:4000/tags/Function-Programming/\">Function Programming</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color0\" href=\"http://localhost:4000/tags/IPC/\">IPC</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color5\" href=\"http://localhost:4000/tags/Java/\">Java</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color6\" href=\"http://localhost:4000/tags/Kotlin/\">Kotlin</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0\" href=\"http://localhost:4000/tags/Leetcode/\">Leetcode</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color5\" href=\"http://localhost:4000/tags/Machine-Learning/\">Machine Learning</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color6\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E4%BD%93%E7%B3%BB/\">View事件体系</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color0\" href=\"http://localhost:4000/tags/View%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/\">View事件分发</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color1\" href=\"http://localhost:4000/tags/View%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/\">View的工作原理</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color0\" href=\"http://localhost:4000/tags/tensorflow/\">tensorflow</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color4\" href=\"http://localhost:4000/tags/%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF/\">事件总线</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color3\" href=\"http://localhost:4000/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/\">位运算</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color6\" href=\"http://localhost:4000/tags/%E5%89%91%E6%8C%87Offer/\">剑指Offer</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color2\" href=\"http://localhost:4000/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/\">动态规划</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color2 color3\" href=\"http://localhost:4000/tags/%E5%9B%9E%E6%BA%AF/\">回溯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color2\" href=\"http://localhost:4000/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/\">字符串</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color6 color0\" href=\"http://localhost:4000/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/\">字节跳动</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color1\" href=\"http://localhost:4000/tags/%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6/\">开源框架</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color2\" href=\"http://localhost:4000/tags/%E6%95%B0%E5%AD%A6/\">数学</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color4\" href=\"http://localhost:4000/tags/%E6%9A%B4%E5%8A%9B/\">暴力</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color4 color6\" href=\"http://localhost:4000/tags/%E6%B7%B1%E6%90%9C/\">深搜</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color6\" href=\"http://localhost:4000/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/\">源码解析</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3\" href=\"http://localhost:4000/tags/%E7%BA%BF%E7%A8%8B/\">线程</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color3 color6\" href=\"http://localhost:4000/tags/%E7%BC%93%E5%AD%98/\">缓存</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color1 color5\" href=\"http://localhost:4000/tags/%E8%85%BE%E8%AE%AF/\">腾讯</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color0\" href=\"http://localhost:4000/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/\">自定义View</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color0 color5\" href=\"http://localhost:4000/tags/%E8%B4%AA%E5%BF%83/\">贪心</a></li><li class=\"tag-list-item\"><a class=\"tag-list-link color5 color4\" href=\"http://localhost:4000/tags/%E9%80%92%E5%BD%92/\">递归</a></li></ul>\n                    </div></div>        </div>        <div class=\"viewer-box-r\"></div>        </div></div></body></html>","date":"2020-04-04T08:34:37.799Z","updated":"2020-04-04T08:34:36.669Z","path":"images/tags _ Night's blog.html","title":"","comments":1,"layout":"page","_id":"ck8npaxx30003qr3l965xk5i2"},{"title":"tags","date":"2017-12-21T03:08:43.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2017-12-21 11:08:43\n---\n","updated":"2020-02-13T07:16:09.100Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ck8npaxxz0005qr3lh6wd1au0"},{"_content":"/*!\n * clipboard.js v1.5.10\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=\"function\"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error(\"Cannot find module '\"+c+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r=\"function\"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=t(\"matches-selector\");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{\"matches-selector\":5}],2:[function(t,e,n){function o(t,e,n,o,r){var c=i.apply(this,arguments);return t.addEventListener(n,c,r),{destroy:function(){t.removeEventListener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t(\"closest\");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&(\"[object NodeList]\"===e||\"[object HTMLCollection]\"===e)&&\"length\"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return\"string\"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return\"[object Function]\"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error(\"Missing required arguments\");if(!a.string(e))throw new TypeError(\"Second argument must be a String\");if(!a.fn(n))throw new TypeError(\"Third argument must be a Function\");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var a=t(\"./is\"),s=t(\"delegate\");e.exports=o},{\"./is\":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if(\"INPUT\"===t.nodeName||\"TEXTAREA\"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute(\"contenteditable\")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"select\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"select\"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){\"use strict\";function n(t){return t&&t.__esModule?t:{\"default\":t}}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=n(e),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=\"\"},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake(),this.fakeHandler=document.body.addEventListener(\"click\",function(){return e.removeFake()}),this.fakeElem=document.createElement(\"textarea\"),this.fakeElem.style.fontSize=\"12pt\",this.fakeElem.style.border=\"0\",this.fakeElem.style.padding=\"0\",this.fakeElem.style.margin=\"0\",this.fakeElem.style.position=\"fixed\",this.fakeElem.style[n?\"right\":\"left\"]=\"-9999px\",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+\"px\",this.fakeElem.setAttribute(\"readonly\",\"\"),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener(\"click\"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit(\"success\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit(\"error\",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},c(t,[{key:\"action\",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?\"copy\":arguments[0];if(this._action=e,\"copy\"!==this._action&&\"cut\"!==this._action)throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"')},get:function t(){return this._action}},{key:\"target\",set:function t(e){if(void 0!==e){if(!e||\"object\"!==(\"undefined\"==typeof e?\"undefined\":r(e))||1!==e.nodeType)throw new Error('Invalid \"target\" value, use a valid Element');if(\"copy\"===this.action&&e.hasAttribute(\"disabled\"))throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(e.hasAttribute(\"readonly\")||e.hasAttribute(\"disabled\")))throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"./clipboard-action\",\"tiny-emitter\",\"good-listener\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"./clipboard-action\"),e(\"tiny-emitter\"),e(\"good-listener\"));else{var c={exports:{}};r(c,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=c.exports}}(this,function(t,e,n,o){\"use strict\";function i(t){return t&&t.__esModule?t:{\"default\":t}}function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=\"data-clipboard-\"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=c(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return a(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=\"function\"==typeof e.action?e.action:this.defaultAction,this.target=\"function\"==typeof e.target?e.target:this.defaultTarget,this.text=\"function\"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,\"click\",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s(\"action\",e)},e.prototype.defaultTarget=function t(e){var n=s(\"target\",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s(\"text\",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{\"./clipboard-action\":8,\"good-listener\":4,\"tiny-emitter\":7}]},{},[9])(9)});","source":"images/tags _ Night's blog_files/clipboard.min.js","raw":"/*!\n * clipboard.js v1.5.10\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=\"function\"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error(\"Cannot find module '\"+c+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r=\"function\"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=t(\"matches-selector\");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{\"matches-selector\":5}],2:[function(t,e,n){function o(t,e,n,o,r){var c=i.apply(this,arguments);return t.addEventListener(n,c,r),{destroy:function(){t.removeEventListener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t(\"closest\");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&(\"[object NodeList]\"===e||\"[object HTMLCollection]\"===e)&&\"length\"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return\"string\"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return\"[object Function]\"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error(\"Missing required arguments\");if(!a.string(e))throw new TypeError(\"Second argument must be a String\");if(!a.fn(n))throw new TypeError(\"Third argument must be a Function\");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var a=t(\"./is\"),s=t(\"delegate\");e.exports=o},{\"./is\":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if(\"INPUT\"===t.nodeName||\"TEXTAREA\"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute(\"contenteditable\")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"select\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"select\"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){\"use strict\";function n(t){return t&&t.__esModule?t:{\"default\":t}}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=n(e),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=\"\"},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake(),this.fakeHandler=document.body.addEventListener(\"click\",function(){return e.removeFake()}),this.fakeElem=document.createElement(\"textarea\"),this.fakeElem.style.fontSize=\"12pt\",this.fakeElem.style.border=\"0\",this.fakeElem.style.padding=\"0\",this.fakeElem.style.margin=\"0\",this.fakeElem.style.position=\"fixed\",this.fakeElem.style[n?\"right\":\"left\"]=\"-9999px\",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+\"px\",this.fakeElem.setAttribute(\"readonly\",\"\"),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener(\"click\"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit(\"success\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit(\"error\",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},c(t,[{key:\"action\",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?\"copy\":arguments[0];if(this._action=e,\"copy\"!==this._action&&\"cut\"!==this._action)throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"')},get:function t(){return this._action}},{key:\"target\",set:function t(e){if(void 0!==e){if(!e||\"object\"!==(\"undefined\"==typeof e?\"undefined\":r(e))||1!==e.nodeType)throw new Error('Invalid \"target\" value, use a valid Element');if(\"copy\"===this.action&&e.hasAttribute(\"disabled\"))throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(e.hasAttribute(\"readonly\")||e.hasAttribute(\"disabled\")))throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"./clipboard-action\",\"tiny-emitter\",\"good-listener\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"./clipboard-action\"),e(\"tiny-emitter\"),e(\"good-listener\"));else{var c={exports:{}};r(c,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=c.exports}}(this,function(t,e,n,o){\"use strict\";function i(t){return t&&t.__esModule?t:{\"default\":t}}function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=\"data-clipboard-\"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=c(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return a(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=\"function\"==typeof e.action?e.action:this.defaultAction,this.target=\"function\"==typeof e.target?e.target:this.defaultTarget,this.text=\"function\"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,\"click\",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s(\"action\",e)},e.prototype.defaultTarget=function t(e){var n=s(\"target\",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s(\"text\",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{\"./clipboard-action\":8,\"good-listener\":4,\"tiny-emitter\":7}]},{},[9])(9)});","date":"2020-04-04T08:34:36.680Z","updated":"2020-04-04T08:34:36.434Z","path":"images/tags _ Night's blog_files/clipboard.min.js","layout":"false","title":"","comments":1,"_id":"ck8npay3200hdqr3lcg17jmcg","content":"/*!\n * clipboard.js v1.5.10\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=\"function\"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error(\"Cannot find module '\"+c+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r=\"function\"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=\"t(\"matches-selector\");e.exports=function(t,e,n){for(var\" i=\"n?t:t.parentNode;i&&i!==document;){if(o(i,e))return\" i;i=\"i.parentNode}}},{\"matches-selector\":5}],2:[function(t,e,n){function\" o(t,e,n,o,r){var c=\"i.apply(this,arguments);return\" t.addeventlistener(n,c,r),{destroy:function(){t.removeeventlistener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegatetarget=\"r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var\" r=\"t(\"closest\");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return\" void 0!=\"=t&&t\" instanceof htmlelement&&1=\"==t.nodeType},n.nodeList=function(t){var\" e=\"Object.prototype.toString.call(t);return\" nodelist]\"=\"==e||\"[object\" htmlcollection]\"=\"==e)&&\"length\"in\" t&&(0=\"==t.length||n.node(t[0]))},n.string=function(t){return\"string\"==typeof\" t||t string},n.fn=\"function(t){var\" function]\"=\"==e}},{}],4:[function(t,e,n){function\" o(t,e,n){if(!t&&!e&&!n)throw new error(\"missing required arguments\");if(!a.string(e))throw typeerror(\"second argument must be a string\");if(!a.fn(n))throw typeerror(\"third function\");if(a.node(t))return i(t,e,n);if(a.nodelist(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw typeerror(\"first string, htmlelement, htmlcollection, or nodelist\")}function i(t,e,n){return t.addeventlistener(e,n),{destroy:function(){t.removeeventlistener(e,n)}}}function r(t,e,n){return array.prototype.foreach.call(t,function(t){t.addeventlistener(e,n)}),{destroy:function(){array.prototype.foreach.call(t,function(t){t.removeeventlistener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var o(t,e){if(r)return r.call(t,e);for(var n=\"t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var\" o(t){var e;if(\"input\"=\"==t.nodeName||\"TEXTAREA\"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute(\"contenteditable\")&&t.focus();var\" e}e.exports=\"o},{}],7:[function(t,e,n){function\" o(){}o.prototype=\"{on:function(t,e,n){var\" o(){i.off(t,o),e.apply(n,arguments)}var o._=\"e,this.on(t,o,n)},emit:function(t){var\">o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"select\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"select\"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){\"use strict\";function n(t){return t&&t.__esModule?t:{\"default\":t}}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=n(e),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t},c=function(){function t(t,e){for(var n=0;n</o.length;c++)i(o[c]);return>","site":{"data":{}},"excerpt":"","more":"/*!\n * clipboard.js v1.5.10\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s=\"function\"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error(\"Cannot find module '\"+c+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r=\"function\"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=\"t(\"matches-selector\");e.exports=function(t,e,n){for(var\" i=\"n?t:t.parentNode;i&&i!==document;){if(o(i,e))return\" i;i=\"i.parentNode}}},{\"matches-selector\":5}],2:[function(t,e,n){function\" o(t,e,n,o,r){var c=\"i.apply(this,arguments);return\" t.addeventlistener(n,c,r),{destroy:function(){t.removeeventlistener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegatetarget=\"r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var\" r=\"t(\"closest\");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return\" void 0!=\"=t&&t\" instanceof htmlelement&&1=\"==t.nodeType},n.nodeList=function(t){var\" e=\"Object.prototype.toString.call(t);return\" nodelist]\"=\"==e||\"[object\" htmlcollection]\"=\"==e)&&\"length\"in\" t&&(0=\"==t.length||n.node(t[0]))},n.string=function(t){return\"string\"==typeof\" t||t string},n.fn=\"function(t){var\" function]\"=\"==e}},{}],4:[function(t,e,n){function\" o(t,e,n){if(!t&&!e&&!n)throw new error(\"missing required arguments\");if(!a.string(e))throw typeerror(\"second argument must be a string\");if(!a.fn(n))throw typeerror(\"third function\");if(a.node(t))return i(t,e,n);if(a.nodelist(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw typeerror(\"first string, htmlelement, htmlcollection, or nodelist\")}function i(t,e,n){return t.addeventlistener(e,n),{destroy:function(){t.removeeventlistener(e,n)}}}function r(t,e,n){return array.prototype.foreach.call(t,function(t){t.addeventlistener(e,n)}),{destroy:function(){array.prototype.foreach.call(t,function(t){t.removeeventlistener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var o(t,e){if(r)return r.call(t,e);for(var n=\"t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var\" o(t){var e;if(\"input\"=\"==t.nodeName||\"TEXTAREA\"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute(\"contenteditable\")&&t.focus();var\" e}e.exports=\"o},{}],7:[function(t,e,n){function\" o(){}o.prototype=\"{on:function(t,e,n){var\" o(){i.off(t,o),e.apply(n,arguments)}var o._=\"e,this.on(t,o,n)},emit:function(t){var\">o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if(\"function\"==typeof t&&t.amd)t([\"module\",\"select\"],r);else if(\"undefined\"!=typeof o)r(n,e(\"select\"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){\"use strict\";function n(t){return t&&t.__esModule?t:{\"default\":t}}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=n(e),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t},c=function(){function t(t,e){for(var n=0;n</o.length;c++)i(o[c]);return>"},{"_content":"/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */.fancybox-wrap,.fancybox-skin,.fancybox-outer,.fancybox-inner,.fancybox-image,.fancybox-wrap iframe,.fancybox-wrap object,.fancybox-nav,.fancybox-nav span,.fancybox-tmp{padding:0;margin:0;border:0;outline:0;vertical-align:top}.fancybox-wrap{position:absolute;top:0;left:0;z-index:8020}.fancybox-skin{position:relative;background:#f9f9f9;color:#444;text-shadow:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.fancybox-opened{z-index:8030}.fancybox-opened .fancybox-skin{-webkit-box-shadow:0 10px 25px rgba(0,0,0,.5);-moz-box-shadow:0 10px 25px rgba(0,0,0,.5);box-shadow:0 10px 25px rgba(0,0,0,.5)}.fancybox-outer,.fancybox-inner{position:relative}.fancybox-inner{overflow:hidden}.fancybox-type-iframe .fancybox-inner{-webkit-overflow-scrolling:touch}.fancybox-error{color:#444;font:14px/20px \"Helvetica Neue\",Helvetica,Arial,sans-serif;margin:0;padding:15px;white-space:nowrap}.fancybox-image,.fancybox-iframe{display:block;width:100%;height:100%}.fancybox-image{max-width:100%;max-height:100%}#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url(fancybox_sprite.png)}#fancybox-loading{position:fixed;top:50%;left:50%;margin-top:-22px;margin-left:-22px;background-position:0 -108px;opacity:.8;cursor:pointer;z-index:8060}#fancybox-loading div{width:44px;height:44px;background:url(fancybox_loading.gif) center center no-repeat}.fancybox-close{position:absolute;top:-18px;right:-18px;width:36px;height:36px;cursor:pointer;z-index:8040}.fancybox-nav{position:absolute;top:0;width:40%;height:100%;cursor:pointer;text-decoration:none;background:transparent url(blank.gif);-webkit-tap-highlight-color:rgba(0,0,0,0);z-index:8040}.fancybox-prev{left:0}.fancybox-next{right:0}.fancybox-nav span{position:absolute;top:50%;width:36px;height:34px;margin-top:-18px;cursor:pointer;z-index:8040;visibility:hidden}.fancybox-prev span{left:10px;background-position:0 -36px}.fancybox-next span{right:10px;background-position:0 -72px}.fancybox-nav:hover span{visibility:visible}.fancybox-tmp{position:absolute;top:-99999px;left:-99999px;visibility:hidden;max-width:99999px;max-height:99999px;overflow:visible!important}.fancybox-lock{overflow:hidden!important;width:auto}.fancybox-lock body{overflow:hidden!important}.fancybox-lock-test{overflow-y:hidden!important}.fancybox-overlay{position:absolute;top:0;left:0;overflow:hidden;display:none;z-index:8010;background:url(fancybox_overlay.png)}.fancybox-overlay-fixed{position:fixed;bottom:0;right:0}.fancybox-lock .fancybox-overlay{overflow:auto;overflow-y:scroll}.fancybox-title{visibility:hidden;font:400 13px/20px \"Helvetica Neue\",Helvetica,Arial,sans-serif;position:relative;text-shadow:none;z-index:8050}.fancybox-opened .fancybox-title{visibility:visible}.fancybox-title-float-wrap{position:absolute;bottom:0;right:50%;margin-bottom:-35px;z-index:8050;text-align:center}.fancybox-title-float-wrap .child{display:inline-block;margin-right:-100%;padding:2px 20px;background:transparent;background:rgba(0,0,0,.8);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;text-shadow:0 1px 2px #222;color:#FFF;font-weight:700;line-height:24px;white-space:nowrap}.fancybox-title-outside-wrap{position:relative;margin-top:10px;color:#fff}.fancybox-title-inside-wrap{padding-top:10px}.fancybox-title-over-wrap{position:absolute;bottom:0;left:0;color:#fff;padding:10px;background:#000;background:rgba(0,0,0,.8)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5){#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url(fancybox_sprite@2x.png);background-size:44px 152px}#fancybox-loading div{background-image:url(fancybox_loading@2x.gif);background-size:24px 24px}}","source":"images/tags _ Night's blog_files/jquery.fancybox.min.css","raw":"/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */.fancybox-wrap,.fancybox-skin,.fancybox-outer,.fancybox-inner,.fancybox-image,.fancybox-wrap iframe,.fancybox-wrap object,.fancybox-nav,.fancybox-nav span,.fancybox-tmp{padding:0;margin:0;border:0;outline:0;vertical-align:top}.fancybox-wrap{position:absolute;top:0;left:0;z-index:8020}.fancybox-skin{position:relative;background:#f9f9f9;color:#444;text-shadow:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.fancybox-opened{z-index:8030}.fancybox-opened .fancybox-skin{-webkit-box-shadow:0 10px 25px rgba(0,0,0,.5);-moz-box-shadow:0 10px 25px rgba(0,0,0,.5);box-shadow:0 10px 25px rgba(0,0,0,.5)}.fancybox-outer,.fancybox-inner{position:relative}.fancybox-inner{overflow:hidden}.fancybox-type-iframe .fancybox-inner{-webkit-overflow-scrolling:touch}.fancybox-error{color:#444;font:14px/20px \"Helvetica Neue\",Helvetica,Arial,sans-serif;margin:0;padding:15px;white-space:nowrap}.fancybox-image,.fancybox-iframe{display:block;width:100%;height:100%}.fancybox-image{max-width:100%;max-height:100%}#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url(fancybox_sprite.png)}#fancybox-loading{position:fixed;top:50%;left:50%;margin-top:-22px;margin-left:-22px;background-position:0 -108px;opacity:.8;cursor:pointer;z-index:8060}#fancybox-loading div{width:44px;height:44px;background:url(fancybox_loading.gif) center center no-repeat}.fancybox-close{position:absolute;top:-18px;right:-18px;width:36px;height:36px;cursor:pointer;z-index:8040}.fancybox-nav{position:absolute;top:0;width:40%;height:100%;cursor:pointer;text-decoration:none;background:transparent url(blank.gif);-webkit-tap-highlight-color:rgba(0,0,0,0);z-index:8040}.fancybox-prev{left:0}.fancybox-next{right:0}.fancybox-nav span{position:absolute;top:50%;width:36px;height:34px;margin-top:-18px;cursor:pointer;z-index:8040;visibility:hidden}.fancybox-prev span{left:10px;background-position:0 -36px}.fancybox-next span{right:10px;background-position:0 -72px}.fancybox-nav:hover span{visibility:visible}.fancybox-tmp{position:absolute;top:-99999px;left:-99999px;visibility:hidden;max-width:99999px;max-height:99999px;overflow:visible!important}.fancybox-lock{overflow:hidden!important;width:auto}.fancybox-lock body{overflow:hidden!important}.fancybox-lock-test{overflow-y:hidden!important}.fancybox-overlay{position:absolute;top:0;left:0;overflow:hidden;display:none;z-index:8010;background:url(fancybox_overlay.png)}.fancybox-overlay-fixed{position:fixed;bottom:0;right:0}.fancybox-lock .fancybox-overlay{overflow:auto;overflow-y:scroll}.fancybox-title{visibility:hidden;font:400 13px/20px \"Helvetica Neue\",Helvetica,Arial,sans-serif;position:relative;text-shadow:none;z-index:8050}.fancybox-opened .fancybox-title{visibility:visible}.fancybox-title-float-wrap{position:absolute;bottom:0;right:50%;margin-bottom:-35px;z-index:8050;text-align:center}.fancybox-title-float-wrap .child{display:inline-block;margin-right:-100%;padding:2px 20px;background:transparent;background:rgba(0,0,0,.8);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;text-shadow:0 1px 2px #222;color:#FFF;font-weight:700;line-height:24px;white-space:nowrap}.fancybox-title-outside-wrap{position:relative;margin-top:10px;color:#fff}.fancybox-title-inside-wrap{padding-top:10px}.fancybox-title-over-wrap{position:absolute;bottom:0;left:0;color:#fff;padding:10px;background:#000;background:rgba(0,0,0,.8)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5){#fancybox-loading,.fancybox-close,.fancybox-prev span,.fancybox-next span{background-image:url(fancybox_sprite@2x.png);background-size:44px 152px}#fancybox-loading div{background-image:url(fancybox_loading@2x.gif);background-size:24px 24px}}","date":"2020-04-04T08:34:36.682Z","updated":"2020-04-04T08:34:36.377Z","path":"images/tags _ Night's blog_files/jquery.fancybox.min.css","layout":"false","title":"","comments":1,"_id":"ck8npay3200heqr3lutqbog64"},{"_content":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"http://bdimg.share.baidu.com/\"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function r(e,t){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n)===!1)return}else for(var n in e)if(e.hasOwnProperty(n)&&t.call(e[n],e[n],n)===!1)return}function i(e,t){this.svnMod=\"\",this.name=null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],i.cache[this.path]=this;if(t&&t.charAt(0)!==\".\"){var n=t.split(\":\");n.length>1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split(\"/js/\")[0].substr(1)),this.type=\"js\",this.getKey=function(){return this.svnMod+\":\"+this.name},this._info={}}function o(e,t){var n=t==\"css\",r=document.createElement(n?\"link\":\"script\");return r}function u(t,n,r,i){function c(){c.isCalled||(c.isCalled=!0,clearTimeout(l),r&&r())}var s=o(t,n);s.nodeName===\"SCRIPT\"?a(s,c):f(s,c);var l=setTimeout(function(){throw new Error(\"load \"+n+\" timeout : \"+t)},e._loadScriptTimeout||1e4),h=document.getElementsByTagName(\"head\")[0];n==\"css\"?(s.rel=\"stylesheet\",s.href=t,h.appendChild(s)):(s.type=\"text/javascript\",s.src=t,h.insertBefore(s,h.firstChild))}function a(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){e.onload=e.onerror=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(r){}}e=undefined,t&&t()}}}function f(e,t){e.attachEvent?e.attachEvent(\"onload\",t):setTimeout(function(){l(e,t)},0)}function l(e,t){if(t&&t.isCalled)return;var n,r=navigator.userAgent,i=~r.indexOf(\"AppleWebKit\"),s=~r.indexOf(\"Opera\");if(i||s)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(o){if(o.name===\"SecurityError\"||o.name===\"NS_ERROR_DOM_SECURITY_ERR\")n=!0}setTimeout(function(){n?t&&t():l(e,t)},1)}var n=\"api\";e.each=r,i.currentPath=\"\",i.loadedPaths={},i.loadingPaths={},i.cache={},i.paths={},i.handlers=[],i.moduleFileMap={},i.requiredPaths={},i.lazyLoadPaths={},i.services={},i.isPathsLoaded=function(e){var t=!0;return r(e,function(e){if(!(e in i.loadedPaths))return t=!1}),t},i.require=function(e,t){e.search(\":\")<0&&(t||(t=n,i.currentPath&&(t=i.currentPath.split(\"/js/\")[0].substr(1))),e=t+\":\"+e);var r=i.get(e,i.currentPath);if(r.type==\"css\")return;if(r){if(!r._inited){r._inited=!0;var s,o=r.svnMod;if(s=r.fn.call(null,function(e){return i.require(e,o)},r.exports,new h(r.name,o)))r.exports=s}return r.exports}throw new Error('Module \"'+e+'\" not found!')},i.baseUrl=t?t[t.length-1]==\"/\"?t:t+\"/\":\"/\",i.getBasePath=function(e){var t,n;return(n=e.indexOf(\"/\"))!==-1&&(t=e.slice(0,n)),t&&t in i.paths?i.paths[t]:i.baseUrl},i.getJsPath=function(t,r){if(t.charAt(0)===\".\"){r=r.replace(/\\/[^\\/]+\\/[^\\/]+$/,\"\"),t.search(\"./\")===0&&(t=t.substr(2));var s=0;t=t.replace(/^(\\.\\.\\/)+/g,function(e){return s=e.length/3,\"\"});while(s>0)r=r.substr(0,r.lastIndexOf(\"/\")),s--;return r+\"/\"+t+\"/\"+t.substr(t.lastIndexOf(\"/\")+1)+\".js\"}var o,u,a,f,l,c;if(t.search(\":\")>=0){var h=t.split(\":\");o=h[0],t=h[1]}else r&&(o=r.split(\"/\")[1]);o=o||n;var p=/\\.css(?:\\?|$)/i.test(t);p&&e._useConfig&&i.moduleFileMap[o][t]&&(t=i.moduleFileMap[o][t]);var t=l=t,d=i.getBasePath(t);return(a=t.indexOf(\"/\"))!==-1&&(u=t.slice(0,a),f=t.lastIndexOf(\"/\"),l=t.slice(f+1)),u&&u in i.paths&&(t=t.slice(a+1)),c=d+o+\"/js/\"+t+\".js\",c},i.get=function(e,t){var n=i.getJsPath(e,t);return i.cache[n]?i.cache[n]:new i(n,e)},i.prototype={load:function(){i.loadingPaths[this.path]=!0;var t=this.svnMod||n,r=window._bd_share_main.jscfg.domain.staticUrl+\"static/\"+t+\"/\",o=this,u=/\\.css(?:\\?|$)/i.test(this.name);this.type=u?\"css\":\"js\";var a=\"/\"+this.type+\"/\"+i.moduleFileMap[t][this.name];e._useConfig&&i.moduleFileMap[t][this.name]?r+=this.type+\"/\"+i.moduleFileMap[t][this.name]:r+=this.type+\"/\"+this.name+(u?\"\":\".js\");if(e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&a==e._firstScreenJS)o._loaded=!0,o.ready();else{var f=(new Date).getTime();s.create({src:r,type:this.type,loaded:function(){o._info.loadedTime=(new Date).getTime()-f,o.type==\"css\"&&(o._loaded=!0,o.ready())}})}},lazyLoad:function(){var e=this.name;if(i.lazyLoadPaths[this.getKey()])this.define(),delete i.lazyLoadPaths[this.getKey()];else{if(this.exist())return;i.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var n=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():n.push(e);else{i.loadedPaths[this.path]=!0,delete i.loadingPaths[this.path],this._loaded=!0,i.currentPath=this.path;if(this._readyStack&&this._readyStack.length>0){this._inited=!0;var s,o=this.svnMod;this.fn&&(s=this.fn.call(null,function(e){return i.require(e,o)},this.exports,new h(this.name,o)))&&(this.exports=s),r(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(r(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,n=this.path,s=[];t||(t=this.getDependents()),t.length?(r(t,function(t){s.push(i.getJsPath(t,e.path))}),r(t,function(t){var n=i.get(t,e.path);n.ready(function(){i.isPathsLoaded(s)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in i.loadedPaths||e in i.loadingPaths},getDependents:function(){var e=this,t=this.fn.toString(),n=t.match(/function\\s*\\(([^,]*),/i),i=new RegExp(\"[^.]\\\\b\"+n[1]+\"\\\\(\\\\s*('|\\\")([^()\\\"']*)('|\\\")\\\\s*\\\\)\",\"g\"),s=t.match(i),o=[];return s&&r(s,function(e,t){o[t]=e.substr(n[1].length+3).slice(0,-2)}),o}};var s={create:function(e){var t=e.src;if(t in this._paths)return;this._paths[t]=!0,r(this._rules,function(e){t=e.call(null,t)}),u(t,e.type,e.loaded)},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version=\"1.0\",e.use=function(e,t){typeof e==\"string\"&&(e=[e]);var n=[],s=[];r(e,function(e,t){s[t]=!1}),r(e,function(e,o){var u=i.get(e),a=u._loaded;u.ready(function(){var e=u.exports||{};e._INFO=u._info,e._INFO&&(e._INFO.isNew=!a),n[o]=e,s[o]=!0;var i=!0;r(s,function(e){if(e===!1)return i=!1}),t&&i&&t.apply(null,n)}),u.lazyLoad()})},e.module=function(e,t,n){var r=i.get(e);r.fn=t,r.deps=n,i.requiredPaths[r.getKey()]?r.define():i.lazyLoadPaths[r.getKey()]=!0},e.pathRule=function(e){s.addPathRule(e)},e._addPath=function(e,t){t.slice(-1)!==\"/\"&&(t+=\"/\");if(e in i.paths)throw new Error(e+\" has already in Module.paths\");i.paths[e]=t};var c=n;e._setMod=function(e){c=e||n},e._fileMap=function(t,n){if(typeof t==\"object\")r(t,function(t,n){e._fileMap(n,t)});else{var s=c;typeof n==\"string\"&&(n=[n]),t=t.indexOf(\"js/\")==1?t.substr(4):t,t=t.indexOf(\"css/\")==1?t.substr(5):t;var o=i.moduleFileMap[s];o||(o={}),r(n,function(e){o[e]||(o[e]=t)}),i.moduleFileMap[s]=o}},e._eventMap={},e.call=function(t,n,r){var i=[];for(var s=2,o=arguments.length;s<o;s++)i.push(arguments[s]);e.use(t,function(e){var t=n.split(\".\");for(var r=0,s=t.length;r<s;r++)e=e[t[r]];e&&e.apply(this,i)})},e._setContext=function(e){typeof e==\"object\"&&r(e,function(e,t){h.prototype[t]=i.require(e)})},e._setContextMethod=function(e,t){h.prototype[e]=t};var h=function(e,t){this.modName=e,this.svnMod=t};return h.prototype={domain:window._bd_share_main.jscfg.domain,use:function(t,n){typeof t==\"string\"&&(t=[t]);for(var r=t.length-1;r>=0;r--)t[r]=this.svnMod+\":\"+t[r];e.use(t,n)}},e._Context=h,e.addLog=function(t,n){e.use(\"lib/log\",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,r){e.use(\"lib/mod_evt\",function(e){e.fire(t,n,r)})},e._defService=function(e,t){if(e){var n=i.services[e];n=n||{},r(t,function(e,t){n[t]=e}),i.services[e]=n}},e.getService=function(t,n,r){var s=i.services[t];if(!s)throw new Error(t+\" mod didn't define any services\");var o=s[n];if(!o)throw new Error(t+\" mod didn't provide service \"+n);e.use(t+\":\"+o,r)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/min_tangram\",function(e,t){var n={};n.each=function(e,t,n){var r,i,s,o=e.length;if(\"function\"==typeof t)for(s=0;s<o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return e};var r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};n.extend=function(){var e=arguments[0];for(var t=1,n=arguments.length;t<n;t++)r(e,arguments[t]);return e},n.domready=function(e,t){t=t||document;if(/complete/.test(t.readyState))e();else if(t.addEventListener)\"interactive\"==t.readyState?e():t.addEventListener(\"DOMContentLoaded\",e,!1);else{var n=function(){n=new Function,e()};void function(){try{t.body.doScroll(\"left\")}catch(e){return setTimeout(arguments.callee,10)}n()}(),t.attachEvent(\"onreadystatechange\",function(){\"complete\"==t.readyState&&n()})}},n.isArray=function(e){return\"[object Array]\"==Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(e,t,n){var r=e(\"base/min_tangram\").T;t.BaseClass=function(){var e=this,t={};e.on=function(e,n){var r=t[e];r||(r=t[e]=[]),r.push(n)},e.un=function(e,n){if(!e){t={};return}var i=t[e];i&&(n?r.each(i,function(e,t){if(t==n)return i.splice(e,1),!1}):t[e]=[])},e.fire=function(n,i){var s=t[n];s&&(i=i||{},r.each(s,function(t,n){i._result=n.call(e,r.extend({_ctx:{src:e}},i))}))}};var i={};i.create=function(e,n){return n=n||t.BaseClass,function(){n.apply(this,arguments);var i=r.extend({},this);e.apply(this,arguments),this._super=i}},t.Class=i}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"conf/const\",function(e,t,n){t.CMD_ATTR=\"data-cmd\",t.CONFIG_TAG_ATTR=\"data-tag\",t.URLS={likeSetUrl:\"http://like.baidu.com/set\",commitUrl:\"http://s.share.baidu.com/commit\",jumpUrl:\"http://s.share.baidu.com\",mshareUrl:\"http://s.share.baidu.com/mshare\",emailUrl:\"http://s.share.baidu.com/sendmail\",nsClick:\"http://nsclick.baidu.com/v.gif\",backUrl:\"http://s.share.baidu.com/back\",shortUrl:\"http://dwz.cn/v2cut.php\"}}),!window._bd_share_is_recently_loaded&&function(){window._bd_share_main.F._setMod(\"api\"),window._bd_share_main.F._fileMap({\"/js/share.js?v=da893e3e.js\":[\"conf/define\",\"base/fis\",\"base/tangrammin\",\"base/class.js\",\"conf/define.js\",\"conf/const.js\",\"config\",\"share/api_base.js\",\"view/view_base.js\",\"start/router.js\",\"component/comm_tools.js\",\"trans/trans.js\"],\"/js/base/tangram.js?v=37768233.js\":[\"base/tangram\"],\"/js/view/share_view.js?v=3ae6026d.js\":[\"view/share_view\"],\"/js/view/slide_view.js?v=9fecb657.js\":[\"view/slide_view\"],\"/js/view/like_view.js?v=df3e0eca.js\":[\"view/like_view\"],\"/js/view/select_view.js?v=14bb0f0f.js\":[\"view/select_view\"],\"/js/trans/data.js?v=17af2bd2.js\":[\"trans/data\"],\"/js/trans/logger.js?v=60603cb3.js\":[\"trans/logger\"],\"/js/trans/trans_bdxc.js?v=7ac21555.js\":[\"trans/trans_bdxc\"],\"/js/trans/trans_bdysc.js?v=fc21acaa.js\":[\"trans/trans_bdysc\"],\"/js/trans/trans_weixin.js?v=6e098bbd.js\":[\"trans/trans_weixin\"],\"/js/share/combine_api.js?v=8d37a7b3.js\":[\"share/combine_api\"],\"/js/share/like_api.js?v=d3693f0a.js\":[\"share/like_api\"],\"/js/share/likeshare.js?v=e1f4fbf1.js\":[\"share/likeshare\"],\"/js/share/share_api.js?v=226108fe.js\":[\"share/share_api\"],\"/js/share/slide_api.js?v=ec14f516.js\":[\"share/slide_api\"],\"/js/component/animate.js?v=5b737477.js\":[\"component/animate\"],\"/js/component/anticheat.js?v=44b9b245.js\":[\"component/anticheat\"],\"/js/component/partners.js?v=96dbe85a.js\":[\"component/partners\"],\"/js/component/pop_base.js?v=36f92e70.js\":[\"component/pop_base\"],\"/js/component/pop_dialog.js?v=d479767d.js\":[\"component/pop_dialog\"],\"/js/component/pop_popup.js?v=4387b4e1.js\":[\"component/pop_popup\"],\"/js/component/pop_popup_slide.js?v=b16a1f10.js\":[\"component/pop_popup_slide\"],\"/js/component/qrcode.js?v=d69754a9.js\":[\"component/qrcode\"],\"/css/share_style0_16.css?v=8105b07e.css\":[\"share_style0_16.css\"],\"/css/share_style0_32.css?v=5090ac8b.css\":[\"share_style0_32.css\"],\"/css/share_style2.css?v=adaec91f.css\":[\"share_style2.css\"],\"/css/share_style4.css?v=3516ee8a.css\":[\"share_style4.css\"],\"/css/slide_share.css?v=855af98e.css\":[\"slide_share.css\"],\"/css/share_popup.css?v=ecc6050c.css\":[\"share_popup.css\"],\"/css/like.css?v=2797cee5.css\":[\"like.css\"],\"/css/imgshare.css?v=754091cd.css\":[\"imgshare.css\"],\"/css/select_share.css?v=cab3cb22.css\":[\"select_share.css\"],\"/css/weixin_popup.css?v=43591908.css\":[\"weixin_popup.css\"]}),window._bd_share_main.F._loadScriptTimeout=15e3,window._bd_share_main.F._useConfig=!0,window._bd_share_main.F._firstScreenCSS=\"\",window._bd_share_main.F._firstScreenJS=\"\"}(),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.use(\"base/min_tangram\",function(e){function n(e,t,n){var r=new e(n);r.setView(new t(n)),r.init(),n&&n._handleId&&(_bd_share_main.api=_bd_share_main.api||{},_bd_share_main.api[n._handleId]=r)}function r(e,r){window._bd_share_main.F.use(e,function(e,i){t.isArray(r)?t.each(r,function(t,r){n(e.Api,i.View,r)}):n(e.Api,i.View,r)})}function i(e){var n=e.common||window._bd_share_config&&_bd_share_config.common||{},r={like:{type:\"like\"},share:{type:\"share\",bdStyle:0,bdMini:2,bdSign:\"on\"},slide:{type:\"slide\",bdStyle:\"1\",bdMini:2,bdImg:0,bdPos:\"right\",bdTop:100,bdSign:\"on\"},image:{viewType:\"list\",viewStyle:\"0\",viewPos:\"top\",viewColor:\"black\",viewSize:\"16\",viewList:[\"qzone\",\"tsina\",\"huaban\",\"tqq\",\"renren\"]},selectShare:{type:\"select\",bdStyle:0,bdMini:2,bdSign:\"on\"}},i={share:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},slide:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},image:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null}};return t.each([\"like\",\"share\",\"slide\",\"image\",\"selectShare\"],function(s,o){e[o]&&(t.isArray(e[o])&&e[o].length>0?t.each(e[o],function(s,u){e[o][s]=t.extend({},r[o],n,u,i[o])}):e[o]=t.extend({},r[o],n,e[o],i[o]))}),e}var t=e.T;_bd_share_main.init=function(e){e=e||window._bd_share_config||{share:{}};if(e){var t=i(e);t.like&&r([\"share/like_api\",\"view/like_view\"],t.like),t.share&&r([\"share/share_api\",\"view/share_view\"],t.share),t.slide&&r([\"share/slide_api\",\"view/slide_view\"],t.slide),t.selectShare&&r([\"share/select_api\",\"view/select_view\"],t.selectShare),t.image&&r([\"share/image_api\",\"view/image_view\"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),t.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(e,t){var n=function(){var e=window.location||document.location||{};return e.href||\"\"},r=function(e,t){var n=e.length,r=\"\";for(var i=1;i<=t;i++){var s=Math.floor(n*Math.random());r+=e.charAt(s)}return r},i=function(){var e=(+(new Date)).toString(36),t=r(\"0123456789abcdefghijklmnopqrstuvwxyz\",3);return e+t};t.getLinkId=i,t.getPageUrl=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"trans/trans\",function(e,t){var n=e(\"component/comm_tools\"),r=e(\"conf/const\").URLS,i=function(){window._bd_share_main.F.use(\"base/tangram\",function(e){var t=e.T;t.cookie.get(\"bdshare_firstime\")==null&&t.cookie.set(\"bdshare_firstime\",new Date*1,{path:\"/\",expires:(new Date).setFullYear(2022)-new Date})})},s=function(e){var t=e.bdUrl||n.getPageUrl();return t=t.replace(/\\'/g,\"%27\").replace(/\\\"/g,\"%22\"),t},o=function(e){var t=(new Date).getTime()+3e3,r={click:1,url:s(e),uid:e.bdUid||\"0\",to:e.__cmd,type:\"text\",pic:e.bdPic||\"\",title:(e.bdText||document.title).substr(0,300),key:(e.bdSnsKey||{})[e.__cmd]||\"\",desc:e.bdDesc||\"\",comment:e.bdComment||\"\",relateUid:e.bdWbuid||\"\",searchPic:e.bdSearchPic||0,sign:e.bdSign||\"on\",l:window._bd_share_main.n1.toString(32)+window._bd_share_main.n2.toString(32)+t.toString(32),linkid:n.getLinkId(),firstime:a(\"bdshare_firstime\")||\"\"};switch(e.__cmd){case\"copy\":l(r);break;case\"print\":c();break;case\"bdxc\":h();break;case\"bdysc\":p(r);break;case\"weixin\":d(r);break;default:u(e,r)}window._bd_share_main.F.use(\"trans/logger\",function(t){t.commit(e,r)})},u=function(e,t){var n=r.jumpUrl;e.__cmd==\"mshare\"?n=r.mshareUrl:e.__cmd==\"mail\"&&(n=r.emailUrl);var i=n+\"?\"+f(t);window.open(i)},a=function(e){if(e){var t=new RegExp(\"(^| )\"+e+\"=([^;]*)(;|$)\"),n=t.exec(document.cookie);if(n)return decodeURIComponent(n[2]||null)}},f=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\").replace(/%20/g,\"+\")},l=function(e){window._bd_share_main.F.use(\"base/tangram\",function(t){var r=t.T;r.browser.ie?(window.clipboardData.setData(\"text\",document.title+\" \"+(e.bdUrl||n.getPageUrl())),alert(\"\\u6807\\u9898\\u548c\\u94fe\\u63a5\\u590d\\u5236\\u6210\\u529f\\uff0c\\u60a8\\u53ef\\u4ee5\\u63a8\\u8350\\u7ed9QQ/MSN\\u4e0a\\u7684\\u597d\\u53cb\\u4e86\\uff01\")):window.prompt(\"\\u60a8\\u4f7f\\u7528\\u7684\\u662f\\u975eIE\\u6838\\u5fc3\\u6d4f\\u89c8\\u5668\\uff0c\\u8bf7\\u6309\\u4e0b Ctrl+C \\u590d\\u5236\\u4ee3\\u7801\\u5230\\u526a\\u8d34\\u677f\",document.title+\" \"+(e.bdUrl||n.getPageUrl()))})},c=function(){window.print()},h=function(){window._bd_share_main.F.use(\"trans/trans_bdxc\",function(e){e&&e.run()})},p=function(e){window._bd_share_main.F.use(\"trans/trans_bdysc\",function(t){t&&t.run(e)})},d=function(e){window._bd_share_main.F.use(\"trans/trans_weixin\",function(t){t&&t.run(e)})},v=function(e){o(e)};t.run=v,i()});","source":"images/tags _ Night's blog_files/share.js","raw":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"http://bdimg.share.baidu.com/\"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function r(e,t){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n)===!1)return}else for(var n in e)if(e.hasOwnProperty(n)&&t.call(e[n],e[n],n)===!1)return}function i(e,t){this.svnMod=\"\",this.name=null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],i.cache[this.path]=this;if(t&&t.charAt(0)!==\".\"){var n=t.split(\":\");n.length>1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split(\"/js/\")[0].substr(1)),this.type=\"js\",this.getKey=function(){return this.svnMod+\":\"+this.name},this._info={}}function o(e,t){var n=t==\"css\",r=document.createElement(n?\"link\":\"script\");return r}function u(t,n,r,i){function c(){c.isCalled||(c.isCalled=!0,clearTimeout(l),r&&r())}var s=o(t,n);s.nodeName===\"SCRIPT\"?a(s,c):f(s,c);var l=setTimeout(function(){throw new Error(\"load \"+n+\" timeout : \"+t)},e._loadScriptTimeout||1e4),h=document.getElementsByTagName(\"head\")[0];n==\"css\"?(s.rel=\"stylesheet\",s.href=t,h.appendChild(s)):(s.type=\"text/javascript\",s.src=t,h.insertBefore(s,h.firstChild))}function a(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){e.onload=e.onerror=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(r){}}e=undefined,t&&t()}}}function f(e,t){e.attachEvent?e.attachEvent(\"onload\",t):setTimeout(function(){l(e,t)},0)}function l(e,t){if(t&&t.isCalled)return;var n,r=navigator.userAgent,i=~r.indexOf(\"AppleWebKit\"),s=~r.indexOf(\"Opera\");if(i||s)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(o){if(o.name===\"SecurityError\"||o.name===\"NS_ERROR_DOM_SECURITY_ERR\")n=!0}setTimeout(function(){n?t&&t():l(e,t)},1)}var n=\"api\";e.each=r,i.currentPath=\"\",i.loadedPaths={},i.loadingPaths={},i.cache={},i.paths={},i.handlers=[],i.moduleFileMap={},i.requiredPaths={},i.lazyLoadPaths={},i.services={},i.isPathsLoaded=function(e){var t=!0;return r(e,function(e){if(!(e in i.loadedPaths))return t=!1}),t},i.require=function(e,t){e.search(\":\")<0&&(t||(t=n,i.currentPath&&(t=i.currentPath.split(\"/js/\")[0].substr(1))),e=t+\":\"+e);var r=i.get(e,i.currentPath);if(r.type==\"css\")return;if(r){if(!r._inited){r._inited=!0;var s,o=r.svnMod;if(s=r.fn.call(null,function(e){return i.require(e,o)},r.exports,new h(r.name,o)))r.exports=s}return r.exports}throw new Error('Module \"'+e+'\" not found!')},i.baseUrl=t?t[t.length-1]==\"/\"?t:t+\"/\":\"/\",i.getBasePath=function(e){var t,n;return(n=e.indexOf(\"/\"))!==-1&&(t=e.slice(0,n)),t&&t in i.paths?i.paths[t]:i.baseUrl},i.getJsPath=function(t,r){if(t.charAt(0)===\".\"){r=r.replace(/\\/[^\\/]+\\/[^\\/]+$/,\"\"),t.search(\"./\")===0&&(t=t.substr(2));var s=0;t=t.replace(/^(\\.\\.\\/)+/g,function(e){return s=e.length/3,\"\"});while(s>0)r=r.substr(0,r.lastIndexOf(\"/\")),s--;return r+\"/\"+t+\"/\"+t.substr(t.lastIndexOf(\"/\")+1)+\".js\"}var o,u,a,f,l,c;if(t.search(\":\")>=0){var h=t.split(\":\");o=h[0],t=h[1]}else r&&(o=r.split(\"/\")[1]);o=o||n;var p=/\\.css(?:\\?|$)/i.test(t);p&&e._useConfig&&i.moduleFileMap[o][t]&&(t=i.moduleFileMap[o][t]);var t=l=t,d=i.getBasePath(t);return(a=t.indexOf(\"/\"))!==-1&&(u=t.slice(0,a),f=t.lastIndexOf(\"/\"),l=t.slice(f+1)),u&&u in i.paths&&(t=t.slice(a+1)),c=d+o+\"/js/\"+t+\".js\",c},i.get=function(e,t){var n=i.getJsPath(e,t);return i.cache[n]?i.cache[n]:new i(n,e)},i.prototype={load:function(){i.loadingPaths[this.path]=!0;var t=this.svnMod||n,r=window._bd_share_main.jscfg.domain.staticUrl+\"static/\"+t+\"/\",o=this,u=/\\.css(?:\\?|$)/i.test(this.name);this.type=u?\"css\":\"js\";var a=\"/\"+this.type+\"/\"+i.moduleFileMap[t][this.name];e._useConfig&&i.moduleFileMap[t][this.name]?r+=this.type+\"/\"+i.moduleFileMap[t][this.name]:r+=this.type+\"/\"+this.name+(u?\"\":\".js\");if(e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&a==e._firstScreenJS)o._loaded=!0,o.ready();else{var f=(new Date).getTime();s.create({src:r,type:this.type,loaded:function(){o._info.loadedTime=(new Date).getTime()-f,o.type==\"css\"&&(o._loaded=!0,o.ready())}})}},lazyLoad:function(){var e=this.name;if(i.lazyLoadPaths[this.getKey()])this.define(),delete i.lazyLoadPaths[this.getKey()];else{if(this.exist())return;i.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var n=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():n.push(e);else{i.loadedPaths[this.path]=!0,delete i.loadingPaths[this.path],this._loaded=!0,i.currentPath=this.path;if(this._readyStack&&this._readyStack.length>0){this._inited=!0;var s,o=this.svnMod;this.fn&&(s=this.fn.call(null,function(e){return i.require(e,o)},this.exports,new h(this.name,o)))&&(this.exports=s),r(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(r(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,n=this.path,s=[];t||(t=this.getDependents()),t.length?(r(t,function(t){s.push(i.getJsPath(t,e.path))}),r(t,function(t){var n=i.get(t,e.path);n.ready(function(){i.isPathsLoaded(s)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in i.loadedPaths||e in i.loadingPaths},getDependents:function(){var e=this,t=this.fn.toString(),n=t.match(/function\\s*\\(([^,]*),/i),i=new RegExp(\"[^.]\\\\b\"+n[1]+\"\\\\(\\\\s*('|\\\")([^()\\\"']*)('|\\\")\\\\s*\\\\)\",\"g\"),s=t.match(i),o=[];return s&&r(s,function(e,t){o[t]=e.substr(n[1].length+3).slice(0,-2)}),o}};var s={create:function(e){var t=e.src;if(t in this._paths)return;this._paths[t]=!0,r(this._rules,function(e){t=e.call(null,t)}),u(t,e.type,e.loaded)},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version=\"1.0\",e.use=function(e,t){typeof e==\"string\"&&(e=[e]);var n=[],s=[];r(e,function(e,t){s[t]=!1}),r(e,function(e,o){var u=i.get(e),a=u._loaded;u.ready(function(){var e=u.exports||{};e._INFO=u._info,e._INFO&&(e._INFO.isNew=!a),n[o]=e,s[o]=!0;var i=!0;r(s,function(e){if(e===!1)return i=!1}),t&&i&&t.apply(null,n)}),u.lazyLoad()})},e.module=function(e,t,n){var r=i.get(e);r.fn=t,r.deps=n,i.requiredPaths[r.getKey()]?r.define():i.lazyLoadPaths[r.getKey()]=!0},e.pathRule=function(e){s.addPathRule(e)},e._addPath=function(e,t){t.slice(-1)!==\"/\"&&(t+=\"/\");if(e in i.paths)throw new Error(e+\" has already in Module.paths\");i.paths[e]=t};var c=n;e._setMod=function(e){c=e||n},e._fileMap=function(t,n){if(typeof t==\"object\")r(t,function(t,n){e._fileMap(n,t)});else{var s=c;typeof n==\"string\"&&(n=[n]),t=t.indexOf(\"js/\")==1?t.substr(4):t,t=t.indexOf(\"css/\")==1?t.substr(5):t;var o=i.moduleFileMap[s];o||(o={}),r(n,function(e){o[e]||(o[e]=t)}),i.moduleFileMap[s]=o}},e._eventMap={},e.call=function(t,n,r){var i=[];for(var s=2,o=arguments.length;s<o;s++)i.push(arguments[s]);e.use(t,function(e){var t=n.split(\".\");for(var r=0,s=t.length;r<s;r++)e=e[t[r]];e&&e.apply(this,i)})},e._setContext=function(e){typeof e==\"object\"&&r(e,function(e,t){h.prototype[t]=i.require(e)})},e._setContextMethod=function(e,t){h.prototype[e]=t};var h=function(e,t){this.modName=e,this.svnMod=t};return h.prototype={domain:window._bd_share_main.jscfg.domain,use:function(t,n){typeof t==\"string\"&&(t=[t]);for(var r=t.length-1;r>=0;r--)t[r]=this.svnMod+\":\"+t[r];e.use(t,n)}},e._Context=h,e.addLog=function(t,n){e.use(\"lib/log\",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,r){e.use(\"lib/mod_evt\",function(e){e.fire(t,n,r)})},e._defService=function(e,t){if(e){var n=i.services[e];n=n||{},r(t,function(e,t){n[t]=e}),i.services[e]=n}},e.getService=function(t,n,r){var s=i.services[t];if(!s)throw new Error(t+\" mod didn't define any services\");var o=s[n];if(!o)throw new Error(t+\" mod didn't provide service \"+n);e.use(t+\":\"+o,r)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/min_tangram\",function(e,t){var n={};n.each=function(e,t,n){var r,i,s,o=e.length;if(\"function\"==typeof t)for(s=0;s<o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return e};var r=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};n.extend=function(){var e=arguments[0];for(var t=1,n=arguments.length;t<n;t++)r(e,arguments[t]);return e},n.domready=function(e,t){t=t||document;if(/complete/.test(t.readyState))e();else if(t.addEventListener)\"interactive\"==t.readyState?e():t.addEventListener(\"DOMContentLoaded\",e,!1);else{var n=function(){n=new Function,e()};void function(){try{t.body.doScroll(\"left\")}catch(e){return setTimeout(arguments.callee,10)}n()}(),t.attachEvent(\"onreadystatechange\",function(){\"complete\"==t.readyState&&n()})}},n.isArray=function(e){return\"[object Array]\"==Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(e,t,n){var r=e(\"base/min_tangram\").T;t.BaseClass=function(){var e=this,t={};e.on=function(e,n){var r=t[e];r||(r=t[e]=[]),r.push(n)},e.un=function(e,n){if(!e){t={};return}var i=t[e];i&&(n?r.each(i,function(e,t){if(t==n)return i.splice(e,1),!1}):t[e]=[])},e.fire=function(n,i){var s=t[n];s&&(i=i||{},r.each(s,function(t,n){i._result=n.call(e,r.extend({_ctx:{src:e}},i))}))}};var i={};i.create=function(e,n){return n=n||t.BaseClass,function(){n.apply(this,arguments);var i=r.extend({},this);e.apply(this,arguments),this._super=i}},t.Class=i}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"conf/const\",function(e,t,n){t.CMD_ATTR=\"data-cmd\",t.CONFIG_TAG_ATTR=\"data-tag\",t.URLS={likeSetUrl:\"http://like.baidu.com/set\",commitUrl:\"http://s.share.baidu.com/commit\",jumpUrl:\"http://s.share.baidu.com\",mshareUrl:\"http://s.share.baidu.com/mshare\",emailUrl:\"http://s.share.baidu.com/sendmail\",nsClick:\"http://nsclick.baidu.com/v.gif\",backUrl:\"http://s.share.baidu.com/back\",shortUrl:\"http://dwz.cn/v2cut.php\"}}),!window._bd_share_is_recently_loaded&&function(){window._bd_share_main.F._setMod(\"api\"),window._bd_share_main.F._fileMap({\"/js/share.js?v=da893e3e.js\":[\"conf/define\",\"base/fis\",\"base/tangrammin\",\"base/class.js\",\"conf/define.js\",\"conf/const.js\",\"config\",\"share/api_base.js\",\"view/view_base.js\",\"start/router.js\",\"component/comm_tools.js\",\"trans/trans.js\"],\"/js/base/tangram.js?v=37768233.js\":[\"base/tangram\"],\"/js/view/share_view.js?v=3ae6026d.js\":[\"view/share_view\"],\"/js/view/slide_view.js?v=9fecb657.js\":[\"view/slide_view\"],\"/js/view/like_view.js?v=df3e0eca.js\":[\"view/like_view\"],\"/js/view/select_view.js?v=14bb0f0f.js\":[\"view/select_view\"],\"/js/trans/data.js?v=17af2bd2.js\":[\"trans/data\"],\"/js/trans/logger.js?v=60603cb3.js\":[\"trans/logger\"],\"/js/trans/trans_bdxc.js?v=7ac21555.js\":[\"trans/trans_bdxc\"],\"/js/trans/trans_bdysc.js?v=fc21acaa.js\":[\"trans/trans_bdysc\"],\"/js/trans/trans_weixin.js?v=6e098bbd.js\":[\"trans/trans_weixin\"],\"/js/share/combine_api.js?v=8d37a7b3.js\":[\"share/combine_api\"],\"/js/share/like_api.js?v=d3693f0a.js\":[\"share/like_api\"],\"/js/share/likeshare.js?v=e1f4fbf1.js\":[\"share/likeshare\"],\"/js/share/share_api.js?v=226108fe.js\":[\"share/share_api\"],\"/js/share/slide_api.js?v=ec14f516.js\":[\"share/slide_api\"],\"/js/component/animate.js?v=5b737477.js\":[\"component/animate\"],\"/js/component/anticheat.js?v=44b9b245.js\":[\"component/anticheat\"],\"/js/component/partners.js?v=96dbe85a.js\":[\"component/partners\"],\"/js/component/pop_base.js?v=36f92e70.js\":[\"component/pop_base\"],\"/js/component/pop_dialog.js?v=d479767d.js\":[\"component/pop_dialog\"],\"/js/component/pop_popup.js?v=4387b4e1.js\":[\"component/pop_popup\"],\"/js/component/pop_popup_slide.js?v=b16a1f10.js\":[\"component/pop_popup_slide\"],\"/js/component/qrcode.js?v=d69754a9.js\":[\"component/qrcode\"],\"/css/share_style0_16.css?v=8105b07e.css\":[\"share_style0_16.css\"],\"/css/share_style0_32.css?v=5090ac8b.css\":[\"share_style0_32.css\"],\"/css/share_style2.css?v=adaec91f.css\":[\"share_style2.css\"],\"/css/share_style4.css?v=3516ee8a.css\":[\"share_style4.css\"],\"/css/slide_share.css?v=855af98e.css\":[\"slide_share.css\"],\"/css/share_popup.css?v=ecc6050c.css\":[\"share_popup.css\"],\"/css/like.css?v=2797cee5.css\":[\"like.css\"],\"/css/imgshare.css?v=754091cd.css\":[\"imgshare.css\"],\"/css/select_share.css?v=cab3cb22.css\":[\"select_share.css\"],\"/css/weixin_popup.css?v=43591908.css\":[\"weixin_popup.css\"]}),window._bd_share_main.F._loadScriptTimeout=15e3,window._bd_share_main.F._useConfig=!0,window._bd_share_main.F._firstScreenCSS=\"\",window._bd_share_main.F._firstScreenJS=\"\"}(),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.use(\"base/min_tangram\",function(e){function n(e,t,n){var r=new e(n);r.setView(new t(n)),r.init(),n&&n._handleId&&(_bd_share_main.api=_bd_share_main.api||{},_bd_share_main.api[n._handleId]=r)}function r(e,r){window._bd_share_main.F.use(e,function(e,i){t.isArray(r)?t.each(r,function(t,r){n(e.Api,i.View,r)}):n(e.Api,i.View,r)})}function i(e){var n=e.common||window._bd_share_config&&_bd_share_config.common||{},r={like:{type:\"like\"},share:{type:\"share\",bdStyle:0,bdMini:2,bdSign:\"on\"},slide:{type:\"slide\",bdStyle:\"1\",bdMini:2,bdImg:0,bdPos:\"right\",bdTop:100,bdSign:\"on\"},image:{viewType:\"list\",viewStyle:\"0\",viewPos:\"top\",viewColor:\"black\",viewSize:\"16\",viewList:[\"qzone\",\"tsina\",\"huaban\",\"tqq\",\"renren\"]},selectShare:{type:\"select\",bdStyle:0,bdMini:2,bdSign:\"on\"}},i={share:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},slide:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null},image:{__cmd:\"\",__buttonType:\"\",__type:\"\",__element:null}};return t.each([\"like\",\"share\",\"slide\",\"image\",\"selectShare\"],function(s,o){e[o]&&(t.isArray(e[o])&&e[o].length>0?t.each(e[o],function(s,u){e[o][s]=t.extend({},r[o],n,u,i[o])}):e[o]=t.extend({},r[o],n,e[o],i[o]))}),e}var t=e.T;_bd_share_main.init=function(e){e=e||window._bd_share_config||{share:{}};if(e){var t=i(e);t.like&&r([\"share/like_api\",\"view/like_view\"],t.like),t.share&&r([\"share/share_api\",\"view/share_view\"],t.share),t.slide&&r([\"share/slide_api\",\"view/slide_view\"],t.slide),t.selectShare&&r([\"share/select_api\",\"view/select_view\"],t.selectShare),t.image&&r([\"share/image_api\",\"view/image_view\"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),t.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(e,t){var n=function(){var e=window.location||document.location||{};return e.href||\"\"},r=function(e,t){var n=e.length,r=\"\";for(var i=1;i<=t;i++){var s=Math.floor(n*Math.random());r+=e.charAt(s)}return r},i=function(){var e=(+(new Date)).toString(36),t=r(\"0123456789abcdefghijklmnopqrstuvwxyz\",3);return e+t};t.getLinkId=i,t.getPageUrl=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"trans/trans\",function(e,t){var n=e(\"component/comm_tools\"),r=e(\"conf/const\").URLS,i=function(){window._bd_share_main.F.use(\"base/tangram\",function(e){var t=e.T;t.cookie.get(\"bdshare_firstime\")==null&&t.cookie.set(\"bdshare_firstime\",new Date*1,{path:\"/\",expires:(new Date).setFullYear(2022)-new Date})})},s=function(e){var t=e.bdUrl||n.getPageUrl();return t=t.replace(/\\'/g,\"%27\").replace(/\\\"/g,\"%22\"),t},o=function(e){var t=(new Date).getTime()+3e3,r={click:1,url:s(e),uid:e.bdUid||\"0\",to:e.__cmd,type:\"text\",pic:e.bdPic||\"\",title:(e.bdText||document.title).substr(0,300),key:(e.bdSnsKey||{})[e.__cmd]||\"\",desc:e.bdDesc||\"\",comment:e.bdComment||\"\",relateUid:e.bdWbuid||\"\",searchPic:e.bdSearchPic||0,sign:e.bdSign||\"on\",l:window._bd_share_main.n1.toString(32)+window._bd_share_main.n2.toString(32)+t.toString(32),linkid:n.getLinkId(),firstime:a(\"bdshare_firstime\")||\"\"};switch(e.__cmd){case\"copy\":l(r);break;case\"print\":c();break;case\"bdxc\":h();break;case\"bdysc\":p(r);break;case\"weixin\":d(r);break;default:u(e,r)}window._bd_share_main.F.use(\"trans/logger\",function(t){t.commit(e,r)})},u=function(e,t){var n=r.jumpUrl;e.__cmd==\"mshare\"?n=r.mshareUrl:e.__cmd==\"mail\"&&(n=r.emailUrl);var i=n+\"?\"+f(t);window.open(i)},a=function(e){if(e){var t=new RegExp(\"(^| )\"+e+\"=([^;]*)(;|$)\"),n=t.exec(document.cookie);if(n)return decodeURIComponent(n[2]||null)}},f=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\").replace(/%20/g,\"+\")},l=function(e){window._bd_share_main.F.use(\"base/tangram\",function(t){var r=t.T;r.browser.ie?(window.clipboardData.setData(\"text\",document.title+\" \"+(e.bdUrl||n.getPageUrl())),alert(\"\\u6807\\u9898\\u548c\\u94fe\\u63a5\\u590d\\u5236\\u6210\\u529f\\uff0c\\u60a8\\u53ef\\u4ee5\\u63a8\\u8350\\u7ed9QQ/MSN\\u4e0a\\u7684\\u597d\\u53cb\\u4e86\\uff01\")):window.prompt(\"\\u60a8\\u4f7f\\u7528\\u7684\\u662f\\u975eIE\\u6838\\u5fc3\\u6d4f\\u89c8\\u5668\\uff0c\\u8bf7\\u6309\\u4e0b Ctrl+C \\u590d\\u5236\\u4ee3\\u7801\\u5230\\u526a\\u8d34\\u677f\",document.title+\" \"+(e.bdUrl||n.getPageUrl()))})},c=function(){window.print()},h=function(){window._bd_share_main.F.use(\"trans/trans_bdxc\",function(e){e&&e.run()})},p=function(e){window._bd_share_main.F.use(\"trans/trans_bdysc\",function(t){t&&t.run(e)})},d=function(e){window._bd_share_main.F.use(\"trans/trans_weixin\",function(t){t&&t.run(e)})},v=function(e){o(e)};t.run=v,i()});","date":"2020-04-04T08:34:36.679Z","updated":"2020-04-04T08:34:36.441Z","path":"images/tags _ Night's blog_files/share.js","layout":"false","title":"","comments":1,"_id":"ck8npay3200hfqr3l6creluh1","content":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"http://bdimg.share.baidu.com/\"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function r(e,t){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n)===!1)return}else for(var n in e)if(e.hasownproperty(n)&&t.call(e[n],e[n],n)=\"==!1)return}function\" i(e,t){this.svnmod ,this.name=\"null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],i.cache[this.path]=this;if(t&&t.charAt(0)!==\".\"){var\">1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split(\"/js/\")[0].substr(1)),this.type=\"js\",this.getKey=function(){return this.svnMod+\":\"+this.name},this._info={}}function o(e,t){var n=t==\"css\",r=document.createElement(n?\"link\":\"script\");return r}function u(t,n,r,i){function c(){c.isCalled||(c.isCalled=!0,clearTimeout(l),r&&r())}var s=o(t,n);s.nodeName===\"SCRIPT\"?a(s,c):f(s,c);var l=setTimeout(function(){throw new Error(\"load \"+n+\" timeout : \"+t)},e._loadScriptTimeout||1e4),h=document.getElementsByTagName(\"head\")[0];n==\"css\"?(s.rel=\"stylesheet\",s.href=t,h.appendChild(s)):(s.type=\"text/javascript\",s.src=t,h.insertBefore(s,h.firstChild))}function a(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){e.onload=e.onerror=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(r){}}e=undefined,t&&t()}}}function f(e,t){e.attachEvent?e.attachEvent(\"onload\",t):setTimeout(function(){l(e,t)},0)}function l(e,t){if(t&&t.isCalled)return;var n,r=navigator.userAgent,i=~r.indexOf(\"AppleWebKit\"),s=~r.indexOf(\"Opera\");if(i||s)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(o){if(o.name===\"SecurityError\"||o.name===\"NS_ERROR_DOM_SECURITY_ERR\")n=!0}setTimeout(function(){n?t&&t():l(e,t)},1)}var n=\"api\";e.each=r,i.currentPath=\"\",i.loadedPaths={},i.loadingPaths={},i.cache={},i.paths={},i.handlers=[],i.moduleFileMap={},i.requiredPaths={},i.lazyLoadPaths={},i.services={},i.isPathsLoaded=function(e){var t=!0;return r(e,function(e){if(!(e in i.loadedPaths))return t=!1}),t},i.require=function(e,t){e.search(\":\")<0&&(t||(t=n,i.currentpath&&(t=i.currentpath.split(\" js \")[0].substr(1))),e=\"t+\":\"+e);var\" r=\"i.get(e,i.currentPath);if(r.type==\"css\")return;if(r){if(!r._inited){r._inited=!0;var\" s,o=\"r.svnMod;if(s=r.fn.call(null,function(e){return\" i.require(e,o)},r.exports,new h(r.name,o)))r.exports=\"s}return\" r.exports}throw new error('module \"'+e+'\" not found!')},i.baseurl=\"t?t[t.length-1]==\"/\"?t:t+\"/\":\"/\",i.getBasePath=function(e){var\" t,n;return(n=\"e.indexOf(\"/\"))!==-1&&(t=e.slice(0,n)),t&&t\" in i.paths?i.paths[t]:i.baseurl},i.getjspath=\"function(t,r){if(t.charAt(0)===\".\"){r=r.replace(/\\/[^\\/]+\\/[^\\/]+$/,\"\"),t.search(\"./\")===0&&(t=t.substr(2));var\" s=\"0;t=t.replace(/^(\\.\\.\\/)+/g,function(e){return\">0)r=r.substr(0,r.lastIndexOf(\"/\")),s--;return r+\"/\"+t+\"/\"+t.substr(t.lastIndexOf(\"/\")+1)+\".js\"}var o,u,a,f,l,c;if(t.search(\":\")>=0){var h=t.split(\":\");o=h[0],t=h[1]}else r&&(o=r.split(\"/\")[1]);o=o||n;var p=/\\.css(?:\\?|$)/i.test(t);p&&e._useConfig&&i.moduleFileMap[o][t]&&(t=i.moduleFileMap[o][t]);var t=l=t,d=i.getBasePath(t);return(a=t.indexOf(\"/\"))!==-1&&(u=t.slice(0,a),f=t.lastIndexOf(\"/\"),l=t.slice(f+1)),u&&u in i.paths&&(t=t.slice(a+1)),c=d+o+\"/js/\"+t+\".js\",c},i.get=function(e,t){var n=i.getJsPath(e,t);return i.cache[n]?i.cache[n]:new i(n,e)},i.prototype={load:function(){i.loadingPaths[this.path]=!0;var t=this.svnMod||n,r=window._bd_share_main.jscfg.domain.staticUrl+\"static/\"+t+\"/\",o=this,u=/\\.css(?:\\?|$)/i.test(this.name);this.type=u?\"css\":\"js\";var a=\"/\"+this.type+\"/\"+i.moduleFileMap[t][this.name];e._useConfig&&i.moduleFileMap[t][this.name]?r+=this.type+\"/\"+i.moduleFileMap[t][this.name]:r+=this.type+\"/\"+this.name+(u?\"\":\".js\");if(e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&a==e._firstScreenJS)o._loaded=!0,o.ready();else{var f=(new Date).getTime();s.create({src:r,type:this.type,loaded:function(){o._info.loadedTime=(new Date).getTime()-f,o.type==\"css\"&&(o._loaded=!0,o.ready())}})}},lazyLoad:function(){var e=this.name;if(i.lazyLoadPaths[this.getKey()])this.define(),delete i.lazyLoadPaths[this.getKey()];else{if(this.exist())return;i.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var n=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():n.push(e);else{i.loadedPaths[this.path]=!0,delete i.loadingPaths[this.path],this._loaded=!0,i.currentPath=this.path;if(this._readyStack&&this._readyStack.length>0){this._inited=!0;var s,o=this.svnMod;this.fn&&(s=this.fn.call(null,function(e){return i.require(e,o)},this.exports,new h(this.name,o)))&&(this.exports=s),r(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(r(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,n=this.path,s=[];t||(t=this.getDependents()),t.length?(r(t,function(t){s.push(i.getJsPath(t,e.path))}),r(t,function(t){var n=i.get(t,e.path);n.ready(function(){i.isPathsLoaded(s)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in i.loadedPaths||e in i.loadingPaths},getDependents:function(){var e=this,t=this.fn.toString(),n=t.match(/function\\s*\\(([^,]*),/i),i=new RegExp(\"[^.]\\\\b\"+n[1]+\"\\\\(\\\\s*('|\\\")([^()\\\"']*)('|\\\")\\\\s*\\\\)\",\"g\"),s=t.match(i),o=[];return s&&r(s,function(e,t){o[t]=e.substr(n[1].length+3).slice(0,-2)}),o}};var s={create:function(e){var t=e.src;if(t in this._paths)return;this._paths[t]=!0,r(this._rules,function(e){t=e.call(null,t)}),u(t,e.type,e.loaded)},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version=\"1.0\",e.use=function(e,t){typeof e==\"string\"&&(e=[e]);var n=[],s=[];r(e,function(e,t){s[t]=!1}),r(e,function(e,o){var u=i.get(e),a=u._loaded;u.ready(function(){var e=u.exports||{};e._INFO=u._info,e._INFO&&(e._INFO.isNew=!a),n[o]=e,s[o]=!0;var i=!0;r(s,function(e){if(e===!1)return i=!1}),t&&i&&t.apply(null,n)}),u.lazyLoad()})},e.module=function(e,t,n){var r=i.get(e);r.fn=t,r.deps=n,i.requiredPaths[r.getKey()]?r.define():i.lazyLoadPaths[r.getKey()]=!0},e.pathRule=function(e){s.addPathRule(e)},e._addPath=function(e,t){t.slice(-1)!==\"/\"&&(t+=\"/\");if(e in i.paths)throw new Error(e+\" has already in Module.paths\");i.paths[e]=t};var c=n;e._setMod=function(e){c=e||n},e._fileMap=function(t,n){if(typeof t==\"object\")r(t,function(t,n){e._fileMap(n,t)});else{var s=c;typeof n==\"string\"&&(n=[n]),t=t.indexOf(\"js/\")==1?t.substr(4):t,t=t.indexOf(\"css/\")==1?t.substr(5):t;var o=i.moduleFileMap[s];o||(o={}),r(n,function(e){o[e]||(o[e]=t)}),i.moduleFileMap[s]=o}},e._eventMap={},e.call=function(t,n,r){var i=[];for(var s=2,o=arguments.length;s<o;s++)i.push(arguments[s]);e.use(t,function(e){var t=\"n.split(\".\");for(var\" r=\"0,s=t.length;r<s;r++)e=e[t[r]];e&&e.apply(this,i)})},e._setContext=function(e){typeof\" e=\"=\"object\"&&r(e,function(e,t){h.prototype[t]=i.require(e)})},e._setContextMethod=function(e,t){h.prototype[e]=t};var\" h=\"function(e,t){this.modName=e,this.svnMod=t};return\" h.prototype=\"{domain:window._bd_share_main.jscfg.domain,use:function(t,n){typeof\">=0;r--)t[r]=this.svnMod+\":\"+t[r];e.use(t,n)}},e._Context=h,e.addLog=function(t,n){e.use(\"lib/log\",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,r){e.use(\"lib/mod_evt\",function(e){e.fire(t,n,r)})},e._defService=function(e,t){if(e){var n=i.services[e];n=n||{},r(t,function(e,t){n[t]=e}),i.services[e]=n}},e.getService=function(t,n,r){var s=i.services[t];if(!s)throw new Error(t+\" mod didn't define any services\");var o=s[n];if(!o)throw new Error(t+\" mod didn't provide service \"+n);e.use(t+\":\"+o,r)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/min_tangram\",function(e,t){var n={};n.each=function(e,t,n){var r,i,s,o=e.length;if(\"function\"==typeof t)for(s=0;s<o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return e};var r=\"function(e,t){for(var\" n in t)t.hasownproperty(n)&&(e[n]=\"t[n]);return\" e};n.extend=\"function(){var\" e=\"arguments[0];for(var\" t=\"1,n=arguments.length;t<n;t++)r(e,arguments[t]);return\" e},n.domready=\"function(e,t){t=t||document;if(/complete/.test(t.readyState))e();else\" if(t.addeventlistener)\"interactive\"=\"=t.readyState?e():t.addEventListener(\"DOMContentLoaded\",e,!1);else{var\" function,e()};void function(){try{t.body.doscroll(\"left\")}catch(e){return settimeout(arguments.callee,10)}n()}(),t.attachevent(\"onreadystatechange\",function(){\"complete\"=\"=t.readyState&&n()})}},n.isArray=function(e){return\"[object\" array]\"=\"=Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(e,t,n){var\" i=\"t[e];i&&(n?r.each(i,function(e,t){if(t==n)return\" i.splice(e,1),!1}):t[e]=\"[])},e.fire=function(n,i){var\" s=\"t[n];s&&(i=i||{},r.each(s,function(t,n){i._result=n.call(e,r.extend({_ctx:{src:e}},i))}))}};var\" n(e,t,n){var e(n);r.setview(new t(n)),r.init(),n&&n._handleid&&(_bd_share_main.api=\"_bd_share_main.api||{},_bd_share_main.api[n._handleId]=r)}function\" r(e,r){window._bd_share_main.f.use(e,function(e,i){t.isarray(r)?t.each(r,function(t,r){n(e.api,i.view,r)}):n(e.api,i.view,r)})}function i(e){var t.each([\"like\",\"share\",\"slide\",\"image\",\"selectshare\"],function(s,o){e[o]&&(t.isarray(e[o])&&e[o].length>0?t.each(e[o],function(s,u){e[o][s]=t.extend({},r[o],n,u,i[o])}):e[o]=t.extend({},r[o],n,e[o],i[o]))}),e}var t=e.T;_bd_share_main.init=function(e){e=e||window._bd_share_config||{share:{}};if(e){var t=i(e);t.like&&r([\"share/like_api\",\"view/like_view\"],t.like),t.share&&r([\"share/share_api\",\"view/share_view\"],t.share),t.slide&&r([\"share/slide_api\",\"view/slide_view\"],t.slide),t.selectShare&&r([\"share/select_api\",\"view/select_view\"],t.selectShare),t.image&&r([\"share/image_api\",\"view/image_view\"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),t.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(e,t){var n=function(){var e=window.location||document.location||{};return e.href||\"\"},r=function(e,t){var n=e.length,r=\"\";for(var i=1;i</o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return></o;s++)i.push(arguments[s]);e.use(t,function(e){var></0&&(t||(t=n,i.currentpath&&(t=i.currentpath.split(\"></r;n++)if(t.call(e[n],e[n],n)===!1)return}else>","site":{"data":{}},"excerpt":"","more":"window._bd_share_main?window._bd_share_is_recently_loaded=!0:(window._bd_share_is_recently_loaded=!1,window._bd_share_main={version:\"2.0\",jscfg:{domain:{staticUrl:\"http://bdimg.share.baidu.com/\"}}}),!window._bd_share_is_recently_loaded&&(window._bd_share_main.F=window._bd_share_main.F||function(e,t){function r(e,t){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n)===!1)return}else for(var n in e)if(e.hasownproperty(n)&&t.call(e[n],e[n],n)=\"==!1)return}function\" i(e,t){this.svnmod ,this.name=\"null,this.path=e,this.fn=null,this.exports={},this._loaded=!1,this._requiredStack=[],this._readyStack=[],i.cache[this.path]=this;if(t&&t.charAt(0)!==\".\"){var\">1?(this.svnMod=n[0],this.name=n[1]):this.name=t}this.svnMod||(this.svnMod=this.path.split(\"/js/\")[0].substr(1)),this.type=\"js\",this.getKey=function(){return this.svnMod+\":\"+this.name},this._info={}}function o(e,t){var n=t==\"css\",r=document.createElement(n?\"link\":\"script\");return r}function u(t,n,r,i){function c(){c.isCalled||(c.isCalled=!0,clearTimeout(l),r&&r())}var s=o(t,n);s.nodeName===\"SCRIPT\"?a(s,c):f(s,c);var l=setTimeout(function(){throw new Error(\"load \"+n+\" timeout : \"+t)},e._loadScriptTimeout||1e4),h=document.getElementsByTagName(\"head\")[0];n==\"css\"?(s.rel=\"stylesheet\",s.href=t,h.appendChild(s)):(s.type=\"text/javascript\",s.src=t,h.insertBefore(s,h.firstChild))}function a(e,t){e.onload=e.onerror=e.onreadystatechange=function(){if(/loaded|complete|undefined/.test(e.readyState)){e.onload=e.onerror=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e);try{if(e.clearAttributes)e.clearAttributes();else for(var n in e)delete e[n]}catch(r){}}e=undefined,t&&t()}}}function f(e,t){e.attachEvent?e.attachEvent(\"onload\",t):setTimeout(function(){l(e,t)},0)}function l(e,t){if(t&&t.isCalled)return;var n,r=navigator.userAgent,i=~r.indexOf(\"AppleWebKit\"),s=~r.indexOf(\"Opera\");if(i||s)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(o){if(o.name===\"SecurityError\"||o.name===\"NS_ERROR_DOM_SECURITY_ERR\")n=!0}setTimeout(function(){n?t&&t():l(e,t)},1)}var n=\"api\";e.each=r,i.currentPath=\"\",i.loadedPaths={},i.loadingPaths={},i.cache={},i.paths={},i.handlers=[],i.moduleFileMap={},i.requiredPaths={},i.lazyLoadPaths={},i.services={},i.isPathsLoaded=function(e){var t=!0;return r(e,function(e){if(!(e in i.loadedPaths))return t=!1}),t},i.require=function(e,t){e.search(\":\")<0&&(t||(t=n,i.currentpath&&(t=i.currentpath.split(\" js \")[0].substr(1))),e=\"t+\":\"+e);var\" r=\"i.get(e,i.currentPath);if(r.type==\"css\")return;if(r){if(!r._inited){r._inited=!0;var\" s,o=\"r.svnMod;if(s=r.fn.call(null,function(e){return\" i.require(e,o)},r.exports,new h(r.name,o)))r.exports=\"s}return\" r.exports}throw new error('module \"'+e+'\" not found!')},i.baseurl=\"t?t[t.length-1]==\"/\"?t:t+\"/\":\"/\",i.getBasePath=function(e){var\" t,n;return(n=\"e.indexOf(\"/\"))!==-1&&(t=e.slice(0,n)),t&&t\" in i.paths?i.paths[t]:i.baseurl},i.getjspath=\"function(t,r){if(t.charAt(0)===\".\"){r=r.replace(/\\/[^\\/]+\\/[^\\/]+$/,\"\"),t.search(\"./\")===0&&(t=t.substr(2));var\" s=\"0;t=t.replace(/^(\\.\\.\\/)+/g,function(e){return\">0)r=r.substr(0,r.lastIndexOf(\"/\")),s--;return r+\"/\"+t+\"/\"+t.substr(t.lastIndexOf(\"/\")+1)+\".js\"}var o,u,a,f,l,c;if(t.search(\":\")>=0){var h=t.split(\":\");o=h[0],t=h[1]}else r&&(o=r.split(\"/\")[1]);o=o||n;var p=/\\.css(?:\\?|$)/i.test(t);p&&e._useConfig&&i.moduleFileMap[o][t]&&(t=i.moduleFileMap[o][t]);var t=l=t,d=i.getBasePath(t);return(a=t.indexOf(\"/\"))!==-1&&(u=t.slice(0,a),f=t.lastIndexOf(\"/\"),l=t.slice(f+1)),u&&u in i.paths&&(t=t.slice(a+1)),c=d+o+\"/js/\"+t+\".js\",c},i.get=function(e,t){var n=i.getJsPath(e,t);return i.cache[n]?i.cache[n]:new i(n,e)},i.prototype={load:function(){i.loadingPaths[this.path]=!0;var t=this.svnMod||n,r=window._bd_share_main.jscfg.domain.staticUrl+\"static/\"+t+\"/\",o=this,u=/\\.css(?:\\?|$)/i.test(this.name);this.type=u?\"css\":\"js\";var a=\"/\"+this.type+\"/\"+i.moduleFileMap[t][this.name];e._useConfig&&i.moduleFileMap[t][this.name]?r+=this.type+\"/\"+i.moduleFileMap[t][this.name]:r+=this.type+\"/\"+this.name+(u?\"\":\".js\");if(e._firstScreenCSS.indexOf(this.name)>0||e._useConfig&&a==e._firstScreenJS)o._loaded=!0,o.ready();else{var f=(new Date).getTime();s.create({src:r,type:this.type,loaded:function(){o._info.loadedTime=(new Date).getTime()-f,o.type==\"css\"&&(o._loaded=!0,o.ready())}})}},lazyLoad:function(){var e=this.name;if(i.lazyLoadPaths[this.getKey()])this.define(),delete i.lazyLoadPaths[this.getKey()];else{if(this.exist())return;i.requiredPaths[this.getKey()]=!0,this.load()}},ready:function(e,t){var n=t?this._requiredStack:this._readyStack;if(e)this._loaded?e():n.push(e);else{i.loadedPaths[this.path]=!0,delete i.loadingPaths[this.path],this._loaded=!0,i.currentPath=this.path;if(this._readyStack&&this._readyStack.length>0){this._inited=!0;var s,o=this.svnMod;this.fn&&(s=this.fn.call(null,function(e){return i.require(e,o)},this.exports,new h(this.name,o)))&&(this.exports=s),r(this._readyStack,function(e){e()}),delete this._readyStack}this._requiredStack&&this._requiredStack.length>0&&(r(this._requiredStack,function(e){e()}),delete this._requiredStack)}},define:function(){var e=this,t=this.deps,n=this.path,s=[];t||(t=this.getDependents()),t.length?(r(t,function(t){s.push(i.getJsPath(t,e.path))}),r(t,function(t){var n=i.get(t,e.path);n.ready(function(){i.isPathsLoaded(s)&&e.ready()},!0),n.lazyLoad()})):this.ready()},exist:function(){var e=this.path;return e in i.loadedPaths||e in i.loadingPaths},getDependents:function(){var e=this,t=this.fn.toString(),n=t.match(/function\\s*\\(([^,]*),/i),i=new RegExp(\"[^.]\\\\b\"+n[1]+\"\\\\(\\\\s*('|\\\")([^()\\\"']*)('|\\\")\\\\s*\\\\)\",\"g\"),s=t.match(i),o=[];return s&&r(s,function(e,t){o[t]=e.substr(n[1].length+3).slice(0,-2)}),o}};var s={create:function(e){var t=e.src;if(t in this._paths)return;this._paths[t]=!0,r(this._rules,function(e){t=e.call(null,t)}),u(t,e.type,e.loaded)},_paths:{},_rules:[],addPathRule:function(e){this._rules.push(e)}};e.version=\"1.0\",e.use=function(e,t){typeof e==\"string\"&&(e=[e]);var n=[],s=[];r(e,function(e,t){s[t]=!1}),r(e,function(e,o){var u=i.get(e),a=u._loaded;u.ready(function(){var e=u.exports||{};e._INFO=u._info,e._INFO&&(e._INFO.isNew=!a),n[o]=e,s[o]=!0;var i=!0;r(s,function(e){if(e===!1)return i=!1}),t&&i&&t.apply(null,n)}),u.lazyLoad()})},e.module=function(e,t,n){var r=i.get(e);r.fn=t,r.deps=n,i.requiredPaths[r.getKey()]?r.define():i.lazyLoadPaths[r.getKey()]=!0},e.pathRule=function(e){s.addPathRule(e)},e._addPath=function(e,t){t.slice(-1)!==\"/\"&&(t+=\"/\");if(e in i.paths)throw new Error(e+\" has already in Module.paths\");i.paths[e]=t};var c=n;e._setMod=function(e){c=e||n},e._fileMap=function(t,n){if(typeof t==\"object\")r(t,function(t,n){e._fileMap(n,t)});else{var s=c;typeof n==\"string\"&&(n=[n]),t=t.indexOf(\"js/\")==1?t.substr(4):t,t=t.indexOf(\"css/\")==1?t.substr(5):t;var o=i.moduleFileMap[s];o||(o={}),r(n,function(e){o[e]||(o[e]=t)}),i.moduleFileMap[s]=o}},e._eventMap={},e.call=function(t,n,r){var i=[];for(var s=2,o=arguments.length;s<o;s++)i.push(arguments[s]);e.use(t,function(e){var t=\"n.split(\".\");for(var\" r=\"0,s=t.length;r<s;r++)e=e[t[r]];e&&e.apply(this,i)})},e._setContext=function(e){typeof\" e=\"=\"object\"&&r(e,function(e,t){h.prototype[t]=i.require(e)})},e._setContextMethod=function(e,t){h.prototype[e]=t};var\" h=\"function(e,t){this.modName=e,this.svnMod=t};return\" h.prototype=\"{domain:window._bd_share_main.jscfg.domain,use:function(t,n){typeof\">=0;r--)t[r]=this.svnMod+\":\"+t[r];e.use(t,n)}},e._Context=h,e.addLog=function(t,n){e.use(\"lib/log\",function(e){e.defaultLog(t,n)})},e.fire=function(t,n,r){e.use(\"lib/mod_evt\",function(e){e.fire(t,n,r)})},e._defService=function(e,t){if(e){var n=i.services[e];n=n||{},r(t,function(e,t){n[t]=e}),i.services[e]=n}},e.getService=function(t,n,r){var s=i.services[t];if(!s)throw new Error(t+\" mod didn't define any services\");var o=s[n];if(!o)throw new Error(t+\" mod didn't provide service \"+n);e.use(t+\":\"+o,r)},e}({})),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/min_tangram\",function(e,t){var n={};n.each=function(e,t,n){var r,i,s,o=e.length;if(\"function\"==typeof t)for(s=0;s<o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return e};var r=\"function(e,t){for(var\" n in t)t.hasownproperty(n)&&(e[n]=\"t[n]);return\" e};n.extend=\"function(){var\" e=\"arguments[0];for(var\" t=\"1,n=arguments.length;t<n;t++)r(e,arguments[t]);return\" e},n.domready=\"function(e,t){t=t||document;if(/complete/.test(t.readyState))e();else\" if(t.addeventlistener)\"interactive\"=\"=t.readyState?e():t.addEventListener(\"DOMContentLoaded\",e,!1);else{var\" function,e()};void function(){try{t.body.doscroll(\"left\")}catch(e){return settimeout(arguments.callee,10)}n()}(),t.attachevent(\"onreadystatechange\",function(){\"complete\"=\"=t.readyState&&n()})}},n.isArray=function(e){return\"[object\" array]\"=\"=Object.prototype.toString.call(e)},t.T=n}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"base/class\",function(e,t,n){var\" i=\"t[e];i&&(n?r.each(i,function(e,t){if(t==n)return\" i.splice(e,1),!1}):t[e]=\"[])},e.fire=function(n,i){var\" s=\"t[n];s&&(i=i||{},r.each(s,function(t,n){i._result=n.call(e,r.extend({_ctx:{src:e}},i))}))}};var\" n(e,t,n){var e(n);r.setview(new t(n)),r.init(),n&&n._handleid&&(_bd_share_main.api=\"_bd_share_main.api||{},_bd_share_main.api[n._handleId]=r)}function\" r(e,r){window._bd_share_main.f.use(e,function(e,i){t.isarray(r)?t.each(r,function(t,r){n(e.api,i.view,r)}):n(e.api,i.view,r)})}function i(e){var t.each([\"like\",\"share\",\"slide\",\"image\",\"selectshare\"],function(s,o){e[o]&&(t.isarray(e[o])&&e[o].length>0?t.each(e[o],function(s,u){e[o][s]=t.extend({},r[o],n,u,i[o])}):e[o]=t.extend({},r[o],n,e[o],i[o]))}),e}var t=e.T;_bd_share_main.init=function(e){e=e||window._bd_share_config||{share:{}};if(e){var t=i(e);t.like&&r([\"share/like_api\",\"view/like_view\"],t.like),t.share&&r([\"share/share_api\",\"view/share_view\"],t.share),t.slide&&r([\"share/slide_api\",\"view/slide_view\"],t.slide),t.selectShare&&r([\"share/select_api\",\"view/select_view\"],t.selectShare),t.image&&r([\"share/image_api\",\"view/image_view\"],t.image)}},window._bd_share_main._LogPoolV2=[],window._bd_share_main.n1=(new Date).getTime(),t.domready(function(){window._bd_share_main.n2=(new Date).getTime()+1e3,_bd_share_main.init(),setTimeout(function(){window._bd_share_main.F.use(\"trans/logger\",function(e){e.nsClick(),e.back(),e.duration()})},3e3)})}),!window._bd_share_is_recently_loaded&&window._bd_share_main.F.module(\"component/comm_tools\",function(e,t){var n=function(){var e=window.location||document.location||{};return e.href||\"\"},r=function(e,t){var n=e.length,r=\"\";for(var i=1;i</o;s++){i=e[s],r=t.call(n||e,s,i);if(r===!1)break}return></o;s++)i.push(arguments[s]);e.use(t,function(e){var></0&&(t||(t=n,i.currentpath&&(t=i.currentpath.split(\"></r;n++)if(t.call(e[n],e[n],n)===!1)return}else>"},{"_content":"!function(e,t,i,n){\"use strict\";var a=i(\"html\"),s=i(e),o=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,h=function(e){return e&&e.hasOwnProperty&&e instanceof i},p=function(e){return e&&\"string\"===i.type(e)},u=function(e){return p(e)&&e.indexOf(\"%\")>0},f=function(e){return e&&!(e.style.overflow&&\"hidden\"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var i=parseInt(e,10)||0;return t&&u(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},m=function(e,t){return g(e,t)+\"px\"};i.extend(r,{version:\"2.1.5\",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:\"auto\",wrapCSS:\"\",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:\"html\",headers:{\"X-fancyBox\":!0}},iframe:{scrolling:\"auto\",preload:!0},swf:{wmode:\"transparent\",allowfullscreen:\"true\",allowscriptaccess:\"always\"},keys:{next:{13:\"left\",34:\"up\",39:\"left\",40:\"up\"},prev:{8:\"right\",33:\"down\",37:\"right\",38:\"down\"},close:[27],play:[32],toggle:[70]},direction:{next:\"left\",prev:\"right\"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',image:'<img class=\"fancybox-image\" src=\"{href}\" alt=\"\" />',iframe:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency=\"true\"':\"\")+\"></iframe>\",error:'<p class=\"fancybox-error\">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\"></a>',next:'<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\"><span></span></a>',prev:'<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\"><span></span></a>'},openEffect:\"fade\",openSpeed:250,openEasing:\"swing\",openOpacity:!0,openMethod:\"zoomIn\",closeEffect:\"fade\",closeSpeed:250,closeEasing:\"swing\",closeOpacity:!0,closeMethod:\"zoomOut\",nextEffect:\"elastic\",nextSpeed:250,nextEasing:\"swing\",nextMethod:\"changeIn\",prevEffect:\"elastic\",prevSpeed:250,prevEasing:\"swing\",prevMethod:\"changeOut\",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=h(e)?i(e).get():[e]),i.each(e,function(a,s){var o,l,c,d,u,f,g,m={};\"object\"===i.type(s)&&(s.nodeType&&(s=i(s)),h(s)?(m={href:s.data(\"fancybox-href\")||s.attr(\"href\"),title:s.data(\"fancybox-title\")||s.attr(\"title\"),isDom:!0,element:s},i.metadata&&i.extend(!0,m,s.metadata())):m=s),o=t.href||m.href||(p(s)?s:null),l=t.title!==n?t.title:m.title||\"\",c=t.content||m.content,d=c?\"html\":t.type||m.type,!d&&m.isDom&&(d=s.data(\"fancybox-type\"),d||(u=s.prop(\"class\").match(/fancybox\\.(\\w+)/),d=u?u[1]:null)),p(o)&&(d||(r.isImage(o)?d=\"image\":r.isSWF(o)?d=\"swf\":\"#\"===o.charAt(0)?d=\"inline\":p(s)&&(d=\"html\",c=s)),\"ajax\"===d&&(f=o.split(/\\s+/,2),o=f.shift(),g=f.shift())),c||(\"inline\"===d?o?c=i(p(o)?o.replace(/.*(?=#[^\\s]+$)/,\"\"):o):m.isDom&&(c=s):\"html\"===d?c=o:d||o||!m.isDom||(d=\"inline\",c=s)),i.extend(m,{href:o,type:d,content:c,title:l,selector:g}),e[a]=m}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger(\"onCancel\")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger(\"onReset\").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger(\"beforeClose\")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(\".fancybox-item, .fancybox-nav\").remove(),r.wrap.stop(!0,!0).removeClass(\"fancybox-opened\"),r.transitions[r.current.closeMethod]()):(i(\".fancybox-wrap\").stop(!0).trigger(\"onReset\").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){t(),o.unbind(\".player\"),r.player.isActive=!1,r.trigger(\"onPlayEnd\")},a=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,o.bind({\"onCancel.player beforeClose.player\":n,\"onUpdate.player\":i,\"beforeLoad.player\":t}),i(),r.trigger(\"onPlayStart\"))};e===!0||!r.player.isActive&&e!==!1?a():n()},next:function(e){var t=r.current;t&&(p(e)||(e=t.direction.next),r.jumpto(t.index+1,e,\"next\"))},prev:function(e){var t=r.current;t&&(p(e)||(e=t.direction.prev),r.jumpto(t.index-1,e,\"prev\"))},jumpto:function(e,t,i){var a=r.current;a&&(e=g(e),r.direction=t||a.direction[e>=a.index?\"next\":\"prev\"],r.router=i||\"jumpto\",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var n,a=r.current,s=a?a.wrap:null;s&&(n=r._getPosition(t),e&&\"scroll\"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),a.pos=i.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,i=!t||\"orientationchange\"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass(\"fancybox-tmp\"),(i||\"load\"===t||\"resize\"===t&&n.autoResize)&&r._setDimension(),\"scroll\"===t&&n.canShrink||r.reposition(e),r.trigger(\"onUpdate\"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView=\"boolean\"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr(\"style\").addClass(\"fancybox-tmp\"),r.trigger(\"onUpdate\")),r.update())},hideLoading:function(){o.unbind(\".loading\"),i(\"#fancybox-loading\").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id=\"fancybox-loading\"><div></div></div>').click(r.cancel).appendTo(\"body\"),o.bind(\"keydown.loading\",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:\"absolute\",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:s.width(),i.h=d&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){r.wrap&&h(r.wrap)&&r.wrap.unbind(\".fb\"),o.unbind(\".fb\"),s.unbind(\".fb\")},bindEvents:function(){var e,t=r.current;t&&(s.bind(\"orientationchange.fb\"+(d?\"\":\" resize.fb\")+(t.autoCenter&&!t.locked?\" scroll.fb\":\"\"),r.update),e=t.keys,e&&o.bind(\"keydown.fb\",function(a){var s=a.which||a.keyCode,o=a.target||a.srcElement;return 27===s&&r.coming?!1:(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||o&&(o.type||i(o).is(\"[contenteditable]\"))||i.each(e,function(e,o){return t.group.length>1&&o[s]!==n?(r[e](o[s]),a.preventDefault(),!1):i.inArray(s,o)>-1?(r[e](),a.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind(\"mousewheel.fb\",function(e,n,a,s){for(var o=e.target||null,l=i(o),c=!1;l.length&&!(c||l.is(\".fancybox-skin\")||l.is(\".fancybox-wrap\"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!t.canShrink&&(s>0||a>0?r.prev(s>0?\"down\":\"left\"):(0>s||0>a)&&r.next(0>s?\"up\":\"right\"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||r.coming||r.current;if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),n===!1)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,n),a)}),o.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\\.(swf)((\\?|#).*)?$/i)},_start:function(e){var t,n,a,s,o,l={};if(e=g(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),s=l.margin,o=l.padding,\"number\"===i.type(s)&&(l.margin=[s,s,s,s]),\"number\"===i.type(o)&&(l.padding=[o,o,o,o]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),\"auto\"===l.width&&(l.autoWidth=!0),\"auto\"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger(\"beforeLoad\"))return r.coming=null,void 0;if(a=l.type,n=l.href,!a)return r.coming=null,r.current&&r.router&&\"jumpto\"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,(\"image\"===a||\"swf\"===a)&&(l.autoHeight=l.autoWidth=!1,l.scrolling=\"visible\"),\"image\"===a&&(l.aspectRatio=!0),\"iframe\"===a&&d&&(l.scrolling=\"scroll\"),l.wrap=i(l.tpl.wrap).addClass(\"fancybox-\"+(d?\"mobile\":\"desktop\")+\" fancybox-type-\"+a+\" fancybox-tmp \"+l.wrapCSS).appendTo(l.parent||\"body\"),i.extend(l,{skin:i(\".fancybox-skin\",l.wrap),outer:i(\".fancybox-outer\",l.wrap),inner:i(\".fancybox-inner\",l.wrap)}),i.each([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(e,t){l.skin.css(\"padding\"+t,m(l.padding[e]))}),r.trigger(\"onReady\"),\"inline\"===a||\"html\"===a){if(!l.content||!l.content.length)return r._error(\"content\")}else if(!n)return r._error(\"href\");\"image\"===a?r._loadImage():\"ajax\"===a?r._loadAjax():\"iframe\"===a?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:\"html\",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:\"no\",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error(\"image\")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&\"abort\"!==t?r._error(\"ajax\",e):r.hideLoading()},success:function(t,i){\"success\"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(\"scrolling\",d?\"auto\":e.iframe.scrolling).attr(\"src\",e.href);i(e.wrap).bind(\"onReset\",function(){try{i(this).find(\"iframe\").hide().attr(\"src\",\"//about:blank\").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one(\"load\",function(){i(this).data(\"ready\",1),d||i(this).bind(\"load.fb\",r.update),i(this).parents(\".fancybox-wrap\").width(\"100%\").removeClass(\"fancybox-tmp\").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,n=r.current,a=i.length,s=n.preload?Math.min(n.preload,a-1):0;for(t=1;s>=t;t+=1)e=i[(n.index+t)%a],\"image\"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,s,o,l=r.coming,c=r.current,d=\"fancybox-placeholder\";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger(\"afterLoad\",l,c))return l.wrap.stop(!0).trigger(\"onReset\").remove(),r.coming=null,void 0;switch(c&&(r.trigger(\"beforeChange\",c),c.wrap.stop(!0).removeClass(\"fancybox-opened\").find(\".fancybox-item, .fancybox-nav\").remove()),r.unbindEvents(),e=l,t=l.content,n=l.type,a=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,n){case\"inline\":case\"ajax\":case\"html\":e.selector?t=i(\"<div>\").html(t).find(e.selector):h(t)&&(t.data(d)||t.data(d,i('<div class=\"'+d+'\"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind(\"onReset\",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case\"image\":t=e.tpl.image.replace(\"{href}\",s);break;case\"swf\":t='<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"'+s+'\"></param>',o=\"\",i.each(e.swf,function(e,i){t+='<param name=\"'+e+'\" value=\"'+i+'\"></param>',o+=\" \"+e+'=\"'+i+'\"'}),t+='<embed src=\"'+s+'\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\"'+o+\"></embed></object>\"}h(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger(\"beforeShow\"),e.inner.css(\"overflow\",\"yes\"===a?\"scroll\":\"no\"===a?\"hidden\":a),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(\".fancybox-wrap\").not(e.wrap).stop(!0).trigger(\"onReset\").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,n,a,s,o,l,c,d,h,p,f,v,w,b,y=r.getViewport(),x=0,_=!1,k=!1,j=r.wrap,C=r.skin,I=r.inner,T=r.current,S=T.width,W=T.height,H=T.minWidth,L=T.minHeight,D=T.maxWidth,A=T.maxHeight,P=T.scrolling,B=T.scrollOutside?T.scrollbarWidth:0,M=T.margin,R=g(M[1]+M[3]),O=g(M[0]+M[2]);if(j.add(C).add(I).width(\"auto\").height(\"auto\").removeClass(\"fancybox-tmp\"),e=g(C.outerWidth(!0)-C.width()),t=g(C.outerHeight(!0)-C.height()),n=R+e,a=O+t,s=u(S)?(y.w-n)*g(S)/100:S,o=u(W)?(y.h-a)*g(W)/100:W,\"iframe\"===T.type){if(w=T.content,T.autoHeight&&1===w.data(\"ready\"))try{w[0].contentWindow.document.location&&(I.width(s).height(9999),b=w.contents().find(\"body\"),B&&b.css(\"overflow-x\",\"hidden\"),o=b.outerHeight(!0))}catch(E){}}else(T.autoWidth||T.autoHeight)&&(I.addClass(\"fancybox-tmp\"),T.autoWidth||I.width(s),T.autoHeight||I.height(o),T.autoWidth&&(s=I.width()),T.autoHeight&&(o=I.height()),I.removeClass(\"fancybox-tmp\"));if(S=g(s),W=g(o),d=s/o,H=g(u(H)?g(H,\"w\")-n:H),D=g(u(D)?g(D,\"w\")-n:D),L=g(u(L)?g(L,\"h\")-a:L),A=g(u(A)?g(A,\"h\")-a:A),l=D,c=A,T.fitToView&&(D=Math.min(y.w-n,D),A=Math.min(y.h-a,A)),f=y.w-R,v=y.h-O,T.aspectRatio?(S>D&&(S=D,W=g(S/d)),W>A&&(W=A,S=g(W*d)),H>S&&(S=H,W=g(S/d)),L>W&&(W=L,S=g(W*d))):(S=Math.max(H,Math.min(S,D)),T.autoHeight&&\"iframe\"!==T.type&&(I.width(S),W=I.height()),W=Math.max(L,Math.min(W,A))),T.fitToView)if(I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),T.aspectRatio)for(;(h>f||p>v)&&S>H&&W>L&&!(x++>19);)W=Math.max(L,Math.min(A,W-10)),S=g(W*d),H>S&&(S=H,W=g(S/d)),S>D&&(S=D,W=g(S/d)),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height();else S=Math.max(H,Math.min(S,S-(h-f))),W=Math.max(L,Math.min(W,W-(p-v)));B&&\"auto\"===P&&o>W&&f>S+e+B&&(S+=B),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),_=(h>f||p>v)&&S>H&&W>L,k=T.aspectRatio?l>S&&c>W&&s>S&&o>W:(l>S||c>W)&&(s>S||o>W),i.extend(T,{dim:{width:m(h),height:m(p)},origWidth:s,origHeight:o,canShrink:_,canExpand:k,wPadding:e,hPadding:t,wrapSpace:p-C.outerHeight(!0),skinSpace:C.height()-W}),!w&&T.autoHeight&&W>L&&A>W&&!k&&I.height(\"auto\")},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,a=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],o={position:\"absolute\",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&s<=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(Math.max(o.top,o.top+(i.h-s)*t.topRatio)),o.left=m(Math.max(o.left,o.left+(i.w-a)*t.leftRatio)),o},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css(\"overflow\",\"visible\").addClass(\"fancybox-opened\"),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css(\"cursor\",\"pointer\").bind(\"click.fb\",function(t){i(t.target).is(\"a\")||i(t.target).parent().is(\"a\")||(t.preventDefault(),r[e.closeClick?\"close\":\"next\"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind(\"click.fb\",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind(\"click.fb\",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"afterShow\"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onReset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterClose\",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,i=e.orig,n={},a=50,s=50,o=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(\":visible\")&&(i=t.find(\"img:first\"),i.length||(i=t)),h(i)?(n=i.offset(),i.is(\"img\")&&(a=i.outerWidth(),s=i.outerHeight())):(n.top=c.y+(c.h-s)*e.topRatio,n.left=c.x+(c.w-a)*e.leftRatio),(\"fixed\"===r.wrap.css(\"position\")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-o*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(a+l),height:m(s+o)}},step:function(e,t){var i,n,a,s=t.prop,o=r.current,l=o.wrapSpace,c=o.skinSpace;(\"width\"===s||\"height\"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),n=\"width\"===s?o.wPadding:o.hPadding,a=e-n,r.skin[s](g(\"width\"===s?a:a-l*i)),r.inner[s](g(\"width\"===s?a:a-l*i-c*i)))},zoomIn:function(){var e=r.current,t=e.pos,n=e.openEffect,a=\"elastic\"===n,s=i.extend({opacity:1},t);delete s.position,a?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):\"fade\"===n&&(t.opacity=.1),r.wrap.css(t).animate(s,{duration:\"none\"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.current,t=e.closeEffect,i=\"elastic\"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:\"none\"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e,t=r.current,i=t.nextEffect,n=t.pos,a={opacity:1},s=r.direction,o=200;n.opacity=.1,\"elastic\"===i&&(e=\"down\"===s||\"up\"===s?\"top\":\"left\",\"down\"===s||\"right\"===s?(n[e]=m(g(n[e])-o),a[e]=\"+=\"+o+\"px\"):(n[e]=m(g(n[e])+o),a[e]=\"-=\"+o+\"px\")),\"none\"===i?r._afterZoomIn():r.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,t=e.prevEffect,n={opacity:.1},a=r.direction,s=200;\"elastic\"===t&&(n[\"down\"===a||\"up\"===a?\"top\":\"left\"]=(\"up\"===a||\"left\"===a?\"-\":\"+\")+\"=\"+s+\"px\"),e.wrap.animate(n,{duration:\"none\"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger(\"onReset\").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:i(\"html\"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class=\"fancybox-overlay\"></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass(\"fancybox-overlay-fixed\"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(\".overlay\").width(\"auto\").height(\"auto\"):this.create(e),this.fixed||(s.bind(\"resize.overlay\",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind(\"click.overlay\",function(e){return i(e.target).hasClass(\"fancybox-overlay\")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;s.unbind(\"resize.overlay\"),this.el.hasClass(\"fancybox-lock\")&&(i(\".fancybox-margin\").removeClass(\"fancybox-margin\"),e=s.scrollTop(),t=s.scrollLeft(),this.el.removeClass(\"fancybox-lock\"),s.scrollTop(e).scrollLeft(t)),i(\".fancybox-overlay\").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i=\"100%\";this.overlay.width(i).height(\"100%\"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(i=o.width())):o.width()>s.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(e,t){var n=this.overlay;i(\".fancybox-overlay\").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=o.height()>s.height()?i(\"html\").css(\"margin-right\").replace(\"px\",\"\"):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(this.margin!==!1&&(i(\"*\").filter(function(){return\"fixed\"===i(this).css(\"position\")&&!i(this).hasClass(\"fancybox-overlay\")&&!i(this).hasClass(\"fancybox-wrap\")}).addClass(\"fancybox-margin\"),this.el.addClass(\"fancybox-margin\")),n=s.scrollTop(),a=s.scrollLeft(),this.el.addClass(\"fancybox-lock\"),s.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:\"float\",position:\"bottom\"},beforeShow:function(e){var t,n,a=r.current,s=a.title,o=e.type;if(i.isFunction(s)&&(s=s.call(a.element,a)),p(s)&&\"\"!==i.trim(s)){switch(t=i('<div class=\"fancybox-title fancybox-title-'+o+'-wrap\">'+s+\"</div>\"),o){case\"inside\":n=r.skin;break;case\"outside\":n=r.wrap;break;case\"over\":n=r.inner;break;default:n=r.skin,t.appendTo(\"body\"),l&&t.width(t.width()),t.wrapInner('<span class=\"child\"></span>'),r.current.margin[2]+=Math.abs(g(t.css(\"margin-bottom\")))}t[\"top\"===e.position?\"prependTo\":\"appendTo\"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||\"\",s=function(s){var o,l,c=i(this).blur(),d=t;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||c.is(\".fancybox-wrap\")||(o=e.groupAttr||\"data-fancybox-group\",l=c.attr(o),l||(o=\"rel\",l=c.get(0)[o]),l&&\"\"!==l&&\"nofollow\"!==l&&(c=a.length?i(a):n,c=c.filter(\"[\"+o+'=\"'+l+'\"]'),d=c.index(this)),e.index=d,r.open(c,e)!==!1&&s.preventDefault())};return e=e||{},t=e.index||0,a&&e.live!==!1?o.undelegate(a,\"click.fb-start\").delegate(a+\":not('.fancybox-item, .fancybox-nav')\",\"click.fb-start\",s):n.unbind(\"click.fb-start\").bind(\"click.fb-start\",s),this.filter(\"[data-fancybox-start=1]\").trigger(\"click\"),this},o.ready(function(){var t,s;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo(\"body\"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style=\"position:fixed;top:20px;\"></div>').appendTo(\"body\"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i(\"body\")}),t=i(e).width(),a.addClass(\"fancybox-lock-test\"),s=i(e).width(),a.removeClass(\"fancybox-lock-test\"),i(\"<style type='text/css'>.fancybox-margin{margin-right:\"+(s-t)+\"px;}</style>\").appendTo(\"head\")})}(window,document,jQuery);","source":"images/tags _ Night's blog_files/jquery.fancybox.min.js","raw":"!function(e,t,i,n){\"use strict\";var a=i(\"html\"),s=i(e),o=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,h=function(e){return e&&e.hasOwnProperty&&e instanceof i},p=function(e){return e&&\"string\"===i.type(e)},u=function(e){return p(e)&&e.indexOf(\"%\")>0},f=function(e){return e&&!(e.style.overflow&&\"hidden\"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var i=parseInt(e,10)||0;return t&&u(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},m=function(e,t){return g(e,t)+\"px\"};i.extend(r,{version:\"2.1.5\",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:\"auto\",wrapCSS:\"\",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:\"html\",headers:{\"X-fancyBox\":!0}},iframe:{scrolling:\"auto\",preload:!0},swf:{wmode:\"transparent\",allowfullscreen:\"true\",allowscriptaccess:\"always\"},keys:{next:{13:\"left\",34:\"up\",39:\"left\",40:\"up\"},prev:{8:\"right\",33:\"down\",37:\"right\",38:\"down\"},close:[27],play:[32],toggle:[70]},direction:{next:\"left\",prev:\"right\"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',image:'<img class=\"fancybox-image\" src=\"{href}\" alt=\"\" />',iframe:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency=\"true\"':\"\")+\"></iframe>\",error:'<p class=\"fancybox-error\">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\"></a>',next:'<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\"><span></span></a>',prev:'<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\"><span></span></a>'},openEffect:\"fade\",openSpeed:250,openEasing:\"swing\",openOpacity:!0,openMethod:\"zoomIn\",closeEffect:\"fade\",closeSpeed:250,closeEasing:\"swing\",closeOpacity:!0,closeMethod:\"zoomOut\",nextEffect:\"elastic\",nextSpeed:250,nextEasing:\"swing\",nextMethod:\"changeIn\",prevEffect:\"elastic\",prevSpeed:250,prevEasing:\"swing\",prevMethod:\"changeOut\",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=h(e)?i(e).get():[e]),i.each(e,function(a,s){var o,l,c,d,u,f,g,m={};\"object\"===i.type(s)&&(s.nodeType&&(s=i(s)),h(s)?(m={href:s.data(\"fancybox-href\")||s.attr(\"href\"),title:s.data(\"fancybox-title\")||s.attr(\"title\"),isDom:!0,element:s},i.metadata&&i.extend(!0,m,s.metadata())):m=s),o=t.href||m.href||(p(s)?s:null),l=t.title!==n?t.title:m.title||\"\",c=t.content||m.content,d=c?\"html\":t.type||m.type,!d&&m.isDom&&(d=s.data(\"fancybox-type\"),d||(u=s.prop(\"class\").match(/fancybox\\.(\\w+)/),d=u?u[1]:null)),p(o)&&(d||(r.isImage(o)?d=\"image\":r.isSWF(o)?d=\"swf\":\"#\"===o.charAt(0)?d=\"inline\":p(s)&&(d=\"html\",c=s)),\"ajax\"===d&&(f=o.split(/\\s+/,2),o=f.shift(),g=f.shift())),c||(\"inline\"===d?o?c=i(p(o)?o.replace(/.*(?=#[^\\s]+$)/,\"\"):o):m.isDom&&(c=s):\"html\"===d?c=o:d||o||!m.isDom||(d=\"inline\",c=s)),i.extend(m,{href:o,type:d,content:c,title:l,selector:g}),e[a]=m}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger(\"onCancel\")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger(\"onReset\").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger(\"beforeClose\")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(\".fancybox-item, .fancybox-nav\").remove(),r.wrap.stop(!0,!0).removeClass(\"fancybox-opened\"),r.transitions[r.current.closeMethod]()):(i(\".fancybox-wrap\").stop(!0).trigger(\"onReset\").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){t(),o.unbind(\".player\"),r.player.isActive=!1,r.trigger(\"onPlayEnd\")},a=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,o.bind({\"onCancel.player beforeClose.player\":n,\"onUpdate.player\":i,\"beforeLoad.player\":t}),i(),r.trigger(\"onPlayStart\"))};e===!0||!r.player.isActive&&e!==!1?a():n()},next:function(e){var t=r.current;t&&(p(e)||(e=t.direction.next),r.jumpto(t.index+1,e,\"next\"))},prev:function(e){var t=r.current;t&&(p(e)||(e=t.direction.prev),r.jumpto(t.index-1,e,\"prev\"))},jumpto:function(e,t,i){var a=r.current;a&&(e=g(e),r.direction=t||a.direction[e>=a.index?\"next\":\"prev\"],r.router=i||\"jumpto\",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var n,a=r.current,s=a?a.wrap:null;s&&(n=r._getPosition(t),e&&\"scroll\"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),a.pos=i.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,i=!t||\"orientationchange\"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass(\"fancybox-tmp\"),(i||\"load\"===t||\"resize\"===t&&n.autoResize)&&r._setDimension(),\"scroll\"===t&&n.canShrink||r.reposition(e),r.trigger(\"onUpdate\"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView=\"boolean\"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr(\"style\").addClass(\"fancybox-tmp\"),r.trigger(\"onUpdate\")),r.update())},hideLoading:function(){o.unbind(\".loading\"),i(\"#fancybox-loading\").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id=\"fancybox-loading\"><div></div></div>').click(r.cancel).appendTo(\"body\"),o.bind(\"keydown.loading\",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:\"absolute\",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:s.width(),i.h=d&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){r.wrap&&h(r.wrap)&&r.wrap.unbind(\".fb\"),o.unbind(\".fb\"),s.unbind(\".fb\")},bindEvents:function(){var e,t=r.current;t&&(s.bind(\"orientationchange.fb\"+(d?\"\":\" resize.fb\")+(t.autoCenter&&!t.locked?\" scroll.fb\":\"\"),r.update),e=t.keys,e&&o.bind(\"keydown.fb\",function(a){var s=a.which||a.keyCode,o=a.target||a.srcElement;return 27===s&&r.coming?!1:(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||o&&(o.type||i(o).is(\"[contenteditable]\"))||i.each(e,function(e,o){return t.group.length>1&&o[s]!==n?(r[e](o[s]),a.preventDefault(),!1):i.inArray(s,o)>-1?(r[e](),a.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind(\"mousewheel.fb\",function(e,n,a,s){for(var o=e.target||null,l=i(o),c=!1;l.length&&!(c||l.is(\".fancybox-skin\")||l.is(\".fancybox-wrap\"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!t.canShrink&&(s>0||a>0?r.prev(s>0?\"down\":\"left\"):(0>s||0>a)&&r.next(0>s?\"up\":\"right\"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||r.coming||r.current;if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),n===!1)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,n),a)}),o.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\\.(swf)((\\?|#).*)?$/i)},_start:function(e){var t,n,a,s,o,l={};if(e=g(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),s=l.margin,o=l.padding,\"number\"===i.type(s)&&(l.margin=[s,s,s,s]),\"number\"===i.type(o)&&(l.padding=[o,o,o,o]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),\"auto\"===l.width&&(l.autoWidth=!0),\"auto\"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger(\"beforeLoad\"))return r.coming=null,void 0;if(a=l.type,n=l.href,!a)return r.coming=null,r.current&&r.router&&\"jumpto\"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,(\"image\"===a||\"swf\"===a)&&(l.autoHeight=l.autoWidth=!1,l.scrolling=\"visible\"),\"image\"===a&&(l.aspectRatio=!0),\"iframe\"===a&&d&&(l.scrolling=\"scroll\"),l.wrap=i(l.tpl.wrap).addClass(\"fancybox-\"+(d?\"mobile\":\"desktop\")+\" fancybox-type-\"+a+\" fancybox-tmp \"+l.wrapCSS).appendTo(l.parent||\"body\"),i.extend(l,{skin:i(\".fancybox-skin\",l.wrap),outer:i(\".fancybox-outer\",l.wrap),inner:i(\".fancybox-inner\",l.wrap)}),i.each([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(e,t){l.skin.css(\"padding\"+t,m(l.padding[e]))}),r.trigger(\"onReady\"),\"inline\"===a||\"html\"===a){if(!l.content||!l.content.length)return r._error(\"content\")}else if(!n)return r._error(\"href\");\"image\"===a?r._loadImage():\"ajax\"===a?r._loadAjax():\"iframe\"===a?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:\"html\",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:\"no\",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error(\"image\")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&\"abort\"!==t?r._error(\"ajax\",e):r.hideLoading()},success:function(t,i){\"success\"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(\"scrolling\",d?\"auto\":e.iframe.scrolling).attr(\"src\",e.href);i(e.wrap).bind(\"onReset\",function(){try{i(this).find(\"iframe\").hide().attr(\"src\",\"//about:blank\").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one(\"load\",function(){i(this).data(\"ready\",1),d||i(this).bind(\"load.fb\",r.update),i(this).parents(\".fancybox-wrap\").width(\"100%\").removeClass(\"fancybox-tmp\").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,n=r.current,a=i.length,s=n.preload?Math.min(n.preload,a-1):0;for(t=1;s>=t;t+=1)e=i[(n.index+t)%a],\"image\"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,s,o,l=r.coming,c=r.current,d=\"fancybox-placeholder\";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger(\"afterLoad\",l,c))return l.wrap.stop(!0).trigger(\"onReset\").remove(),r.coming=null,void 0;switch(c&&(r.trigger(\"beforeChange\",c),c.wrap.stop(!0).removeClass(\"fancybox-opened\").find(\".fancybox-item, .fancybox-nav\").remove()),r.unbindEvents(),e=l,t=l.content,n=l.type,a=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,n){case\"inline\":case\"ajax\":case\"html\":e.selector?t=i(\"<div>\").html(t).find(e.selector):h(t)&&(t.data(d)||t.data(d,i('<div class=\"'+d+'\"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind(\"onReset\",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case\"image\":t=e.tpl.image.replace(\"{href}\",s);break;case\"swf\":t='<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"'+s+'\"></param>',o=\"\",i.each(e.swf,function(e,i){t+='<param name=\"'+e+'\" value=\"'+i+'\"></param>',o+=\" \"+e+'=\"'+i+'\"'}),t+='<embed src=\"'+s+'\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\"'+o+\"></embed></object>\"}h(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger(\"beforeShow\"),e.inner.css(\"overflow\",\"yes\"===a?\"scroll\":\"no\"===a?\"hidden\":a),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(\".fancybox-wrap\").not(e.wrap).stop(!0).trigger(\"onReset\").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,n,a,s,o,l,c,d,h,p,f,v,w,b,y=r.getViewport(),x=0,_=!1,k=!1,j=r.wrap,C=r.skin,I=r.inner,T=r.current,S=T.width,W=T.height,H=T.minWidth,L=T.minHeight,D=T.maxWidth,A=T.maxHeight,P=T.scrolling,B=T.scrollOutside?T.scrollbarWidth:0,M=T.margin,R=g(M[1]+M[3]),O=g(M[0]+M[2]);if(j.add(C).add(I).width(\"auto\").height(\"auto\").removeClass(\"fancybox-tmp\"),e=g(C.outerWidth(!0)-C.width()),t=g(C.outerHeight(!0)-C.height()),n=R+e,a=O+t,s=u(S)?(y.w-n)*g(S)/100:S,o=u(W)?(y.h-a)*g(W)/100:W,\"iframe\"===T.type){if(w=T.content,T.autoHeight&&1===w.data(\"ready\"))try{w[0].contentWindow.document.location&&(I.width(s).height(9999),b=w.contents().find(\"body\"),B&&b.css(\"overflow-x\",\"hidden\"),o=b.outerHeight(!0))}catch(E){}}else(T.autoWidth||T.autoHeight)&&(I.addClass(\"fancybox-tmp\"),T.autoWidth||I.width(s),T.autoHeight||I.height(o),T.autoWidth&&(s=I.width()),T.autoHeight&&(o=I.height()),I.removeClass(\"fancybox-tmp\"));if(S=g(s),W=g(o),d=s/o,H=g(u(H)?g(H,\"w\")-n:H),D=g(u(D)?g(D,\"w\")-n:D),L=g(u(L)?g(L,\"h\")-a:L),A=g(u(A)?g(A,\"h\")-a:A),l=D,c=A,T.fitToView&&(D=Math.min(y.w-n,D),A=Math.min(y.h-a,A)),f=y.w-R,v=y.h-O,T.aspectRatio?(S>D&&(S=D,W=g(S/d)),W>A&&(W=A,S=g(W*d)),H>S&&(S=H,W=g(S/d)),L>W&&(W=L,S=g(W*d))):(S=Math.max(H,Math.min(S,D)),T.autoHeight&&\"iframe\"!==T.type&&(I.width(S),W=I.height()),W=Math.max(L,Math.min(W,A))),T.fitToView)if(I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),T.aspectRatio)for(;(h>f||p>v)&&S>H&&W>L&&!(x++>19);)W=Math.max(L,Math.min(A,W-10)),S=g(W*d),H>S&&(S=H,W=g(S/d)),S>D&&(S=D,W=g(S/d)),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height();else S=Math.max(H,Math.min(S,S-(h-f))),W=Math.max(L,Math.min(W,W-(p-v)));B&&\"auto\"===P&&o>W&&f>S+e+B&&(S+=B),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),_=(h>f||p>v)&&S>H&&W>L,k=T.aspectRatio?l>S&&c>W&&s>S&&o>W:(l>S||c>W)&&(s>S||o>W),i.extend(T,{dim:{width:m(h),height:m(p)},origWidth:s,origHeight:o,canShrink:_,canExpand:k,wPadding:e,hPadding:t,wrapSpace:p-C.outerHeight(!0),skinSpace:C.height()-W}),!w&&T.autoHeight&&W>L&&A>W&&!k&&I.height(\"auto\")},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,a=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],o={position:\"absolute\",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&s<=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(Math.max(o.top,o.top+(i.h-s)*t.topRatio)),o.left=m(Math.max(o.left,o.left+(i.w-a)*t.leftRatio)),o},_afterZoomIn:function(){var e=r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css(\"overflow\",\"visible\").addClass(\"fancybox-opened\"),r.update(),(e.closeClick||e.nextClick&&r.group.length>1)&&r.inner.css(\"cursor\",\"pointer\").bind(\"click.fb\",function(t){i(t.target).is(\"a\")||i(t.target).parent().is(\"a\")||(t.preventDefault(),r[e.closeClick?\"close\":\"next\"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind(\"click.fb\",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind(\"click.fb\",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendTo(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"afterShow\"),e.loop||e.index!==e.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onReset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterClose\",e)}}),r.transitions={getOrigPosition:function(){var e=r.current,t=e.element,i=e.orig,n={},a=50,s=50,o=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(\":visible\")&&(i=t.find(\"img:first\"),i.length||(i=t)),h(i)?(n=i.offset(),i.is(\"img\")&&(a=i.outerWidth(),s=i.outerHeight())):(n.top=c.y+(c.h-s)*e.topRatio,n.left=c.x+(c.w-a)*e.leftRatio),(\"fixed\"===r.wrap.css(\"position\")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-o*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(a+l),height:m(s+o)}},step:function(e,t){var i,n,a,s=t.prop,o=r.current,l=o.wrapSpace,c=o.skinSpace;(\"width\"===s||\"height\"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),n=\"width\"===s?o.wPadding:o.hPadding,a=e-n,r.skin[s](g(\"width\"===s?a:a-l*i)),r.inner[s](g(\"width\"===s?a:a-l*i-c*i)))},zoomIn:function(){var e=r.current,t=e.pos,n=e.openEffect,a=\"elastic\"===n,s=i.extend({opacity:1},t);delete s.position,a?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):\"fade\"===n&&(t.opacity=.1),r.wrap.css(t).animate(s,{duration:\"none\"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var e=r.current,t=e.closeEffect,i=\"elastic\"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:\"none\"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var e,t=r.current,i=t.nextEffect,n=t.pos,a={opacity:1},s=r.direction,o=200;n.opacity=.1,\"elastic\"===i&&(e=\"down\"===s||\"up\"===s?\"top\":\"left\",\"down\"===s||\"right\"===s?(n[e]=m(g(n[e])-o),a[e]=\"+=\"+o+\"px\"):(n[e]=m(g(n[e])+o),a[e]=\"-=\"+o+\"px\")),\"none\"===i?r._afterZoomIn():r.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var e=r.previous,t=e.prevEffect,n={opacity:.1},a=r.direction,s=200;\"elastic\"===t&&(n[\"down\"===a||\"up\"===a?\"top\":\"left\"]=(\"up\"===a||\"left\"===a?\"-\":\"+\")+\"=\"+s+\"px\"),e.wrap.animate(n,{duration:\"none\"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger(\"onReset\").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:i(\"html\"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class=\"fancybox-overlay\"></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass(\"fancybox-overlay-fixed\"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(\".overlay\").width(\"auto\").height(\"auto\"):this.create(e),this.fixed||(s.bind(\"resize.overlay\",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind(\"click.overlay\",function(e){return i(e.target).hasClass(\"fancybox-overlay\")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;s.unbind(\"resize.overlay\"),this.el.hasClass(\"fancybox-lock\")&&(i(\".fancybox-margin\").removeClass(\"fancybox-margin\"),e=s.scrollTop(),t=s.scrollLeft(),this.el.removeClass(\"fancybox-lock\"),s.scrollTop(e).scrollLeft(t)),i(\".fancybox-overlay\").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i=\"100%\";this.overlay.width(i).height(\"100%\"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(i=o.width())):o.width()>s.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(e,t){var n=this.overlay;i(\".fancybox-overlay\").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=o.height()>s.height()?i(\"html\").css(\"margin-right\").replace(\"px\",\"\"):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(this.margin!==!1&&(i(\"*\").filter(function(){return\"fixed\"===i(this).css(\"position\")&&!i(this).hasClass(\"fancybox-overlay\")&&!i(this).hasClass(\"fancybox-wrap\")}).addClass(\"fancybox-margin\"),this.el.addClass(\"fancybox-margin\")),n=s.scrollTop(),a=s.scrollLeft(),this.el.addClass(\"fancybox-lock\"),s.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:\"float\",position:\"bottom\"},beforeShow:function(e){var t,n,a=r.current,s=a.title,o=e.type;if(i.isFunction(s)&&(s=s.call(a.element,a)),p(s)&&\"\"!==i.trim(s)){switch(t=i('<div class=\"fancybox-title fancybox-title-'+o+'-wrap\">'+s+\"</div>\"),o){case\"inside\":n=r.skin;break;case\"outside\":n=r.wrap;break;case\"over\":n=r.inner;break;default:n=r.skin,t.appendTo(\"body\"),l&&t.width(t.width()),t.wrapInner('<span class=\"child\"></span>'),r.current.margin[2]+=Math.abs(g(t.css(\"margin-bottom\")))}t[\"top\"===e.position?\"prependTo\":\"appendTo\"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||\"\",s=function(s){var o,l,c=i(this).blur(),d=t;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||c.is(\".fancybox-wrap\")||(o=e.groupAttr||\"data-fancybox-group\",l=c.attr(o),l||(o=\"rel\",l=c.get(0)[o]),l&&\"\"!==l&&\"nofollow\"!==l&&(c=a.length?i(a):n,c=c.filter(\"[\"+o+'=\"'+l+'\"]'),d=c.index(this)),e.index=d,r.open(c,e)!==!1&&s.preventDefault())};return e=e||{},t=e.index||0,a&&e.live!==!1?o.undelegate(a,\"click.fb-start\").delegate(a+\":not('.fancybox-item, .fancybox-nav')\",\"click.fb-start\",s):n.unbind(\"click.fb-start\").bind(\"click.fb-start\",s),this.filter(\"[data-fancybox-start=1]\").trigger(\"click\"),this},o.ready(function(){var t,s;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style=\"width:50px;height:50px;overflow:auto\"><div/></div>').appendTo(\"body\"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style=\"position:fixed;top:20px;\"></div>').appendTo(\"body\"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i(\"body\")}),t=i(e).width(),a.addClass(\"fancybox-lock-test\"),s=i(e).width(),a.removeClass(\"fancybox-lock-test\"),i(\"<style type='text/css'>.fancybox-margin{margin-right:\"+(s-t)+\"px;}</style>\").appendTo(\"head\")})}(window,document,jQuery);","date":"2020-04-04T08:34:36.679Z","updated":"2020-04-04T08:34:36.487Z","path":"images/tags _ Night's blog_files/jquery.fancybox.min.js","layout":"false","title":"","comments":1,"_id":"ck8npay3300hgqr3li8sxizbq","content":"!function(e,t,i,n){\"use strict\";var a=i(\"html\"),s=i(e),o=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,h=function(e){return e&&e.hasOwnProperty&&e instanceof i},p=function(e){return e&&\"string\"===i.type(e)},u=function(e){return p(e)&&e.indexOf(\"%\")>0},f=function(e){return e&&!(e.style.overflow&&\"hidden\"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var i=parseInt(e,10)||0;return t&&u(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},m=function(e,t){return g(e,t)+\"px\"};i.extend(r,{version:\"2.1.5\",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:\"auto\",wrapCSS:\"\",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:\"html\",headers:{\"X-fancyBox\":!0}},iframe:{scrolling:\"auto\",preload:!0},swf:{wmode:\"transparent\",allowfullscreen:\"true\",allowscriptaccess:\"always\"},keys:{next:{13:\"left\",34:\"up\",39:\"left\",40:\"up\"},prev:{8:\"right\",33:\"down\",37:\"right\",38:\"down\"},close:[27],play:[32],toggle:[70]},direction:{next:\"left\",prev:\"right\"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class=\"fancybox-wrap\" tabindex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',image:'<img class=\"fancybox-image\" src=\"{href}\" alt>',iframe:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen'+(l?' allowtransparency=\"true\" ':\"\")+\"></iframe>\",error:'<p class=\"fancybox-error\">The requested content cannot be loaded.<br>Please try again later.</p>',closeBtn:'<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"></a>',next:'<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"><span></span></a>',prev:'<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"><span></span></a>'},openEffect:\"fade\",openSpeed:250,openEasing:\"swing\",openOpacity:!0,openMethod:\"zoomIn\",closeEffect:\"fade\",closeSpeed:250,closeEasing:\"swing\",closeOpacity:!0,closeMethod:\"zoomOut\",nextEffect:\"elastic\",nextSpeed:250,nextEasing:\"swing\",nextMethod:\"changeIn\",prevEffect:\"elastic\",prevSpeed:250,prevEasing:\"swing\",prevMethod:\"changeOut\",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=h(e)?i(e).get():[e]),i.each(e,function(a,s){var o,l,c,d,u,f,g,m={};\"object\"===i.type(s)&&(s.nodeType&&(s=i(s)),h(s)?(m={href:s.data(\"fancybox-href\")||s.attr(\"href\"),title:s.data(\"fancybox-title\")||s.attr(\"title\"),isDom:!0,element:s},i.metadata&&i.extend(!0,m,s.metadata())):m=s),o=t.href||m.href||(p(s)?s:null),l=t.title!==n?t.title:m.title||\"\",c=t.content||m.content,d=c?\"html\":t.type||m.type,!d&&m.isDom&&(d=s.data(\"fancybox-type\"),d||(u=s.prop(\"class\").match(/fancybox\\.(\\w+)/),d=u?u[1]:null)),p(o)&&(d||(r.isImage(o)?d=\"image\":r.isSWF(o)?d=\"swf\":\"#\"===o.charAt(0)?d=\"inline\":p(s)&&(d=\"html\",c=s)),\"ajax\"===d&&(f=o.split(/\\s+/,2),o=f.shift(),g=f.shift())),c||(\"inline\"===d?o?c=i(p(o)?o.replace(/.*(?=#[^\\s]+$)/,\"\"):o):m.isDom&&(c=s):\"html\"===d?c=o:d||o||!m.isDom||(d=\"inline\",c=s)),i.extend(m,{href:o,type:d,content:c,title:l,selector:g}),e[a]=m}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger(\"onCancel\")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger(\"onReset\").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger(\"beforeClose\")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(\".fancybox-item, .fancybox-nav\").remove(),r.wrap.stop(!0,!0).removeClass(\"fancybox-opened\"),r.transitions[r.current.closeMethod]()):(i(\".fancybox-wrap\").stop(!0).trigger(\"onReset\").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){t(),o.unbind(\".player\"),r.player.isActive=!1,r.trigger(\"onPlayEnd\")},a=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isactive=!0,o.bind({\"oncancel.player beforeclose.player\":n,\"onupdate.player\":i,\"beforeload.player\":t}),i(),r.trigger(\"onplaystart\"))};e=\"==!0||!r.player.isActive&&e!==!1?a():n()},next:function(e){var\" t=\"r.current;t&&(p(e)||(e=t.direction.next),r.jumpto(t.index+1,e,\"next\"))},prev:function(e){var\" a=\"r.current;a&&(e=g(e),r.direction=t||a.direction[e\">=a.index?\"next\":\"prev\"],r.router=i||\"jumpto\",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var n,a=r.current,s=a?a.wrap:null;s&&(n=r._getPosition(t),e&&\"scroll\"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),a.pos=i.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,i=!t||\"orientationchange\"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass(\"fancybox-tmp\"),(i||\"load\"===t||\"resize\"===t&&n.autoResize)&&r._setDimension(),\"scroll\"===t&&n.canShrink||r.reposition(e),r.trigger(\"onUpdate\"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView=\"boolean\"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr(\"style\").addClass(\"fancybox-tmp\"),r.trigger(\"onUpdate\")),r.update())},hideLoading:function(){o.unbind(\".loading\"),i(\"#fancybox-loading\").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id=\"fancybox-loading\"><div></div></div>').click(r.cancel).appendTo(\"body\"),o.bind(\"keydown.loading\",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:\"absolute\",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:s.width(),i.h=d&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){r.wrap&&h(r.wrap)&&r.wrap.unbind(\".fb\"),o.unbind(\".fb\"),s.unbind(\".fb\")},bindEvents:function(){var e,t=r.current;t&&(s.bind(\"orientationchange.fb\"+(d?\"\":\" resize.fb\")+(t.autoCenter&&!t.locked?\" scroll.fb\":\"\"),r.update),e=t.keys,e&&o.bind(\"keydown.fb\",function(a){var s=a.which||a.keyCode,o=a.target||a.srcElement;return 27===s&&r.coming?!1:(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||o&&(o.type||i(o).is(\"[contenteditable]\"))||i.each(e,function(e,o){return t.group.length>1&&o[s]!==n?(r[e](o[s]),a.preventDefault(),!1):i.inArray(s,o)>-1?(r[e](),a.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind(\"mousewheel.fb\",function(e,n,a,s){for(var o=e.target||null,l=i(o),c=!1;l.length&&!(c||l.is(\".fancybox-skin\")||l.is(\".fancybox-wrap\"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!t.canShrink&&(s>0||a>0?r.prev(s>0?\"down\":\"left\"):(0>s||0>a)&&r.next(0>s?\"up\":\"right\"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||r.coming||r.current;if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),n===!1)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,n),a)}),o.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\\.(swf)((\\?|#).*)?$/i)},_start:function(e){var t,n,a,s,o,l={};if(e=g(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),s=l.margin,o=l.padding,\"number\"===i.type(s)&&(l.margin=[s,s,s,s]),\"number\"===i.type(o)&&(l.padding=[o,o,o,o]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),\"auto\"===l.width&&(l.autoWidth=!0),\"auto\"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger(\"beforeLoad\"))return r.coming=null,void 0;if(a=l.type,n=l.href,!a)return r.coming=null,r.current&&r.router&&\"jumpto\"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,(\"image\"===a||\"swf\"===a)&&(l.autoHeight=l.autoWidth=!1,l.scrolling=\"visible\"),\"image\"===a&&(l.aspectRatio=!0),\"iframe\"===a&&d&&(l.scrolling=\"scroll\"),l.wrap=i(l.tpl.wrap).addClass(\"fancybox-\"+(d?\"mobile\":\"desktop\")+\" fancybox-type-\"+a+\" fancybox-tmp \"+l.wrapCSS).appendTo(l.parent||\"body\"),i.extend(l,{skin:i(\".fancybox-skin\",l.wrap),outer:i(\".fancybox-outer\",l.wrap),inner:i(\".fancybox-inner\",l.wrap)}),i.each([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(e,t){l.skin.css(\"padding\"+t,m(l.padding[e]))}),r.trigger(\"onReady\"),\"inline\"===a||\"html\"===a){if(!l.content||!l.content.length)return r._error(\"content\")}else if(!n)return r._error(\"href\");\"image\"===a?r._loadImage():\"ajax\"===a?r._loadAjax():\"iframe\"===a?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:\"html\",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:\"no\",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error(\"image\")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&\"abort\"!==t?r._error(\"ajax\",e):r.hideLoading()},success:function(t,i){\"success\"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(\"scrolling\",d?\"auto\":e.iframe.scrolling).attr(\"src\",e.href);i(e.wrap).bind(\"onReset\",function(){try{i(this).find(\"iframe\").hide().attr(\"src\",\"//about:blank\").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one(\"load\",function(){i(this).data(\"ready\",1),d||i(this).bind(\"load.fb\",r.update),i(this).parents(\".fancybox-wrap\").width(\"100%\").removeClass(\"fancybox-tmp\").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,n=r.current,a=i.length,s=n.preload?Math.min(n.preload,a-1):0;for(t=1;s>=t;t+=1)e=i[(n.index+t)%a],\"image\"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,s,o,l=r.coming,c=r.current,d=\"fancybox-placeholder\";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger(\"afterLoad\",l,c))return l.wrap.stop(!0).trigger(\"onReset\").remove(),r.coming=null,void 0;switch(c&&(r.trigger(\"beforeChange\",c),c.wrap.stop(!0).removeClass(\"fancybox-opened\").find(\".fancybox-item, .fancybox-nav\").remove()),r.unbindEvents(),e=l,t=l.content,n=l.type,a=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,n){case\"inline\":case\"ajax\":case\"html\":e.selector?t=i(\"<div>\").html(t).find(e.selector):h(t)&&(t.data(d)||t.data(d,i('<div class=\"'+d+'\"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind(\"onReset\",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case\"image\":t=e.tpl.image.replace(\"{href}\",s);break;case\"swf\":t='<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"'+s+'\">',o=\"\",i.each(e.swf,function(e,i){t+='<param name=\"'+e+'\" value=\"'+i+'\">',o+=\" \"+e+'=\"'+i+'\"'}),t+='<embed src=\"'+s+'\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\" '+o+\"></object>\"}h(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger(\"beforeShow\"),e.inner.css(\"overflow\",\"yes\"===a?\"scroll\":\"no\"===a?\"hidden\":a),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(\".fancybox-wrap\").not(e.wrap).stop(!0).trigger(\"onReset\").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,n,a,s,o,l,c,d,h,p,f,v,w,b,y=r.getViewport(),x=0,_=!1,k=!1,j=r.wrap,C=r.skin,I=r.inner,T=r.current,S=T.width,W=T.height,H=T.minWidth,L=T.minHeight,D=T.maxWidth,A=T.maxHeight,P=T.scrolling,B=T.scrollOutside?T.scrollbarWidth:0,M=T.margin,R=g(M[1]+M[3]),O=g(M[0]+M[2]);if(j.add(C).add(I).width(\"auto\").height(\"auto\").removeClass(\"fancybox-tmp\"),e=g(C.outerWidth(!0)-C.width()),t=g(C.outerHeight(!0)-C.height()),n=R+e,a=O+t,s=u(S)?(y.w-n)*g(S)/100:S,o=u(W)?(y.h-a)*g(W)/100:W,\"iframe\"===T.type){if(w=T.content,T.autoHeight&&1===w.data(\"ready\"))try{w[0].contentWindow.document.location&&(I.width(s).height(9999),b=w.contents().find(\"body\"),B&&b.css(\"overflow-x\",\"hidden\"),o=b.outerHeight(!0))}catch(E){}}else(T.autoWidth||T.autoHeight)&&(I.addClass(\"fancybox-tmp\"),T.autoWidth||I.width(s),T.autoHeight||I.height(o),T.autoWidth&&(s=I.width()),T.autoHeight&&(o=I.height()),I.removeClass(\"fancybox-tmp\"));if(S=g(s),W=g(o),d=s/o,H=g(u(H)?g(H,\"w\")-n:H),D=g(u(D)?g(D,\"w\")-n:D),L=g(u(L)?g(L,\"h\")-a:L),A=g(u(A)?g(A,\"h\")-a:A),l=D,c=A,T.fitToView&&(D=Math.min(y.w-n,D),A=Math.min(y.h-a,A)),f=y.w-R,v=y.h-O,T.aspectRatio?(S>D&&(S=D,W=g(S/d)),W>A&&(W=A,S=g(W*d)),H>S&&(S=H,W=g(S/d)),L>W&&(W=L,S=g(W*d))):(S=Math.max(H,Math.min(S,D)),T.autoHeight&&\"iframe\"!==T.type&&(I.width(S),W=I.height()),W=Math.max(L,Math.min(W,A))),T.fitToView)if(I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),T.aspectRatio)for(;(h>f||p>v)&&S>H&&W>L&&!(x++>19);)W=Math.max(L,Math.min(A,W-10)),S=g(W*d),H>S&&(S=H,W=g(S/d)),S>D&&(S=D,W=g(S/d)),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height();else S=Math.max(H,Math.min(S,S-(h-f))),W=Math.max(L,Math.min(W,W-(p-v)));B&&\"auto\"===P&&o>W&&f>S+e+B&&(S+=B),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),_=(h>f||p>v)&&S>H&&W>L,k=T.aspectRatio?l>S&&c>W&&s>S&&o>W:(l>S||c>W)&&(s>S||o>W),i.extend(T,{dim:{width:m(h),height:m(p)},origWidth:s,origHeight:o,canShrink:_,canExpand:k,wPadding:e,hPadding:t,wrapSpace:p-C.outerHeight(!0),skinSpace:C.height()-W}),!w&&T.autoHeight&&W>L&&A>W&&!k&&I.height(\"auto\")},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,a=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],o={position:\"absolute\",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&s<=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(math.max(o.top,o.top+(i.h-s)*t.topratio)),o.left=m(math.max(o.left,o.left+(i.w-a)*t.leftratio)),o},_afterzoomin:function(){var e=\"r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css(\"overflow\",\"visible\").addClass(\"fancybox-opened\"),r.update(),(e.closeClick||e.nextClick&&r.group.length\">1)&&r.inner.css(\"cursor\",\"pointer\").bind(\"click.fb\",function(t){i(t.target).is(\"a\")||i(t.target).parent().is(\"a\")||(t.preventDefault(),r[e.closeClick?\"close\":\"next\"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind(\"click.fb\",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind(\"click.fb\",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendto(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"aftershow\"),e.loop||e.index!==e.group.length-1?r.opts.autoplay&&!r.player.isactive&&(r.opts.autoplay=!1,r.play()):r.play(!1))},_afterzoomout:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onreset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isactive:!1,isopened:!1,isopen:!1,isclosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterclose\",e)}}),r.transitions={getorigposition:function(){var e=\"r.current,t=e.element,i=e.orig,n={},a=50,s=50,o=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(\":visible\")&&(i=t.find(\"img:first\"),i.length||(i=t)),h(i)?(n=i.offset(),i.is(\"img\")&&(a=i.outerWidth(),s=i.outerHeight())):(n.top=c.y+(c.h-s)*e.topRatio,n.left=c.x+(c.w-a)*e.leftRatio),(\"fixed\"===r.wrap.css(\"position\")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-o*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(a+l),height:m(s+o)}},step:function(e,t){var\" i,n,a,s=\"t.prop,o=r.current,l=o.wrapSpace,c=o.skinSpace;(\"width\"===s||\"height\"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),n=\"width\"===s?o.wPadding:o.hPadding,a=e-n,r.skin[s](g(\"width\"===s?a:a-l*i)),r.inner[s](g(\"width\"===s?a:a-l*i-c*i)))},zoomIn:function(){var\" s.position,a?(t=\"this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):\"fade\"===n&&(t.opacity=.1),r.wrap.css(t).animate(s,{duration:\"none\"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var\" e,t=\"r.current,i=t.nextEffect,n=t.pos,a={opacity:1},s=r.direction,o=200;n.opacity=.1,\"elastic\"===i&&(e=\"down\"===s||\"up\"===s?\"top\":\"left\",\"down\"===s||\"right\"===s?(n[e]=m(g(n[e])-o),a[e]=\"+=\"+o+\"px\"):(n[e]=m(g(n[e])+o),a[e]=\"-=\"+o+\"px\")),\"none\"===i?r._afterZoomIn():r.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var\" class=\"fancybox-overlay\"></r.group.length-1)&&i(e.tpl.next).appendto(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"aftershow\"),e.loop||e.index!==e.group.length-1?r.opts.autoplay&&!r.player.isactive&&(r.opts.autoplay=!1,r.play()):r.play(!1))},_afterzoomout:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onreset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isactive:!1,isopened:!1,isopen:!1,isclosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterclose\",e)}}),r.transitions={getorigposition:function(){var></=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(math.max(o.top,o.top+(i.h-s)*t.topratio)),o.left=m(math.max(o.left,o.left+(i.w-a)*t.leftratio)),o},_afterzoomin:function(){var></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass(\"fancybox-overlay-fixed\"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(\".overlay\").width(\"auto\").height(\"auto\"):this.create(e),this.fixed||(s.bind(\"resize.overlay\",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind(\"click.overlay\",function(e){return i(e.target).hasClass(\"fancybox-overlay\")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;s.unbind(\"resize.overlay\"),this.el.hasClass(\"fancybox-lock\")&&(i(\".fancybox-margin\").removeClass(\"fancybox-margin\"),e=s.scrollTop(),t=s.scrollLeft(),this.el.removeClass(\"fancybox-lock\"),s.scrollTop(e).scrollLeft(t)),i(\".fancybox-overlay\").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i=\"100%\";this.overlay.width(i).height(\"100%\"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(i=o.width())):o.width()>s.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(e,t){var n=this.overlay;i(\".fancybox-overlay\").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=o.height()>s.height()?i(\"html\").css(\"margin-right\").replace(\"px\",\"\"):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(this.margin!==!1&&(i(\"*\").filter(function(){return\"fixed\"===i(this).css(\"position\")&&!i(this).hasClass(\"fancybox-overlay\")&&!i(this).hasClass(\"fancybox-wrap\")}).addClass(\"fancybox-margin\"),this.el.addClass(\"fancybox-margin\")),n=s.scrollTop(),a=s.scrollLeft(),this.el.addClass(\"fancybox-lock\"),s.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:\"float\",position:\"bottom\"},beforeShow:function(e){var t,n,a=r.current,s=a.title,o=e.type;if(i.isFunction(s)&&(s=s.call(a.element,a)),p(s)&&\"\"!==i.trim(s)){switch(t=i('<div class=\"fancybox-title fancybox-title-'+o+'-wrap\">'+s+\"</div>\"),o){case\"inside\":n=r.skin;break;case\"outside\":n=r.wrap;break;case\"over\":n=r.inner;break;default:n=r.skin,t.appendTo(\"body\"),l&&t.width(t.width()),t.wrapInner('<span class=\"child\"></span>'),r.current.margin[2]+=Math.abs(g(t.css(\"margin-bottom\")))}t[\"top\"===e.position?\"prependTo\":\"appendTo\"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||\"\",s=function(s){var o,l,c=i(this).blur(),d=t;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||c.is(\".fancybox-wrap\")||(o=e.groupAttr||\"data-fancybox-group\",l=c.attr(o),l||(o=\"rel\",l=c.get(0)[o]),l&&\"\"!==l&&\"nofollow\"!==l&&(c=a.length?i(a):n,c=c.filter(\"[\"+o+'=\"'+l+'\"]'),d=c.index(this)),e.index=d,r.open(c,e)!==!1&&s.preventDefault())};return e=e||{},t=e.index||0,a&&e.live!==!1?o.undelegate(a,\"click.fb-start\").delegate(a+\":not('.fancybox-item, .fancybox-nav')\",\"click.fb-start\",s):n.unbind(\"click.fb-start\").bind(\"click.fb-start\",s),this.filter(\"[data-fancybox-start=1]\").trigger(\"click\"),this},o.ready(function(){var t,s;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style=\"width:50px;height:50px;overflow:auto\"><div></div>').appendTo(\"body\"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style=\"position:fixed;top:20px;\"></div>').appendTo(\"body\"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i(\"body\")}),t=i(e).width(),a.addClass(\"fancybox-lock-test\"),s=i(e).width(),a.removeClass(\"fancybox-lock-test\"),i(\"<style type=\"text/css\">.fancybox-margin{margin-right:\"+(s-t)+\"px;}</style>\").appendTo(\"head\")})}(window,document,jQuery);</div></r.group.length-1)&&(r.player.isactive=!0,o.bind({\"oncancel.player>","site":{"data":{}},"excerpt":"","more":"!function(e,t,i,n){\"use strict\";var a=i(\"html\"),s=i(e),o=i(t),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,d=t.createTouch!==n,h=function(e){return e&&e.hasOwnProperty&&e instanceof i},p=function(e){return e&&\"string\"===i.type(e)},u=function(e){return p(e)&&e.indexOf(\"%\")>0},f=function(e){return e&&!(e.style.overflow&&\"hidden\"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},g=function(e,t){var i=parseInt(e,10)||0;return t&&u(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},m=function(e,t){return g(e,t)+\"px\"};i.extend(r,{version:\"2.1.5\",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:\"auto\",wrapCSS:\"\",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:\"html\",headers:{\"X-fancyBox\":!0}},iframe:{scrolling:\"auto\",preload:!0},swf:{wmode:\"transparent\",allowfullscreen:\"true\",allowscriptaccess:\"always\"},keys:{next:{13:\"left\",34:\"up\",39:\"left\",40:\"up\"},prev:{8:\"right\",33:\"down\",37:\"right\",38:\"down\"},close:[27],play:[32],toggle:[70]},direction:{next:\"left\",prev:\"right\"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class=\"fancybox-wrap\" tabindex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',image:'<img class=\"fancybox-image\" src=\"{href}\" alt>',iframe:'<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen'+(l?' allowtransparency=\"true\" ':\"\")+\"></iframe>\",error:'<p class=\"fancybox-error\">The requested content cannot be loaded.<br>Please try again later.</p>',closeBtn:'<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"></a>',next:'<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"><span></span></a>',prev:'<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\" target=\"_blank\" rel=\"noopener\"><span></span></a>'},openEffect:\"fade\",openSpeed:250,openEasing:\"swing\",openOpacity:!0,openMethod:\"zoomIn\",closeEffect:\"fade\",closeSpeed:250,closeEasing:\"swing\",closeOpacity:!0,closeMethod:\"zoomOut\",nextEffect:\"elastic\",nextSpeed:250,nextEasing:\"swing\",nextMethod:\"changeIn\",prevEffect:\"elastic\",prevSpeed:250,prevEasing:\"swing\",prevMethod:\"changeOut\",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==r.close(!0))?(i.isArray(e)||(e=h(e)?i(e).get():[e]),i.each(e,function(a,s){var o,l,c,d,u,f,g,m={};\"object\"===i.type(s)&&(s.nodeType&&(s=i(s)),h(s)?(m={href:s.data(\"fancybox-href\")||s.attr(\"href\"),title:s.data(\"fancybox-title\")||s.attr(\"title\"),isDom:!0,element:s},i.metadata&&i.extend(!0,m,s.metadata())):m=s),o=t.href||m.href||(p(s)?s:null),l=t.title!==n?t.title:m.title||\"\",c=t.content||m.content,d=c?\"html\":t.type||m.type,!d&&m.isDom&&(d=s.data(\"fancybox-type\"),d||(u=s.prop(\"class\").match(/fancybox\\.(\\w+)/),d=u?u[1]:null)),p(o)&&(d||(r.isImage(o)?d=\"image\":r.isSWF(o)?d=\"swf\":\"#\"===o.charAt(0)?d=\"inline\":p(s)&&(d=\"html\",c=s)),\"ajax\"===d&&(f=o.split(/\\s+/,2),o=f.shift(),g=f.shift())),c||(\"inline\"===d?o?c=i(p(o)?o.replace(/.*(?=#[^\\s]+$)/,\"\"):o):m.isDom&&(c=s):\"html\"===d?c=o:d||o||!m.isDom||(d=\"inline\",c=s)),i.extend(m,{href:o,type:d,content:c,title:l,selector:g}),e[a]=m}),r.opts=i.extend(!0,{},r.defaults,t),t.keys!==n&&(r.opts.keys=t.keys?i.extend({},r.defaults.keys,t.keys):!1),r.group=e,r._start(r.opts.index)):void 0},cancel:function(){var e=r.coming;e&&!1!==r.trigger(\"onCancel\")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger(\"onReset\").remove(),r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){r.cancel(),!1!==r.trigger(\"beforeClose\")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(\".fancybox-item, .fancybox-nav\").remove(),r.wrap.stop(!0,!0).removeClass(\"fancybox-opened\"),r.transitions[r.current.closeMethod]()):(i(\".fancybox-wrap\").stop(!0).trigger(\"onReset\").remove(),r._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(r.player.timer)},i=function(){t(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){t(),o.unbind(\".player\"),r.player.isActive=!1,r.trigger(\"onPlayEnd\")},a=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isactive=!0,o.bind({\"oncancel.player beforeclose.player\":n,\"onupdate.player\":i,\"beforeload.player\":t}),i(),r.trigger(\"onplaystart\"))};e=\"==!0||!r.player.isActive&&e!==!1?a():n()},next:function(e){var\" t=\"r.current;t&&(p(e)||(e=t.direction.next),r.jumpto(t.index+1,e,\"next\"))},prev:function(e){var\" a=\"r.current;a&&(e=g(e),r.direction=t||a.direction[e\">=a.index?\"next\":\"prev\"],r.router=i||\"jumpto\",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(r.cancel(),r._start(e)))},reposition:function(e,t){var n,a=r.current,s=a?a.wrap:null;s&&(n=r._getPosition(t),e&&\"scroll\"===e.type?(delete n.position,s.stop(!0,!0).animate(n,200)):(s.css(n),a.pos=i.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,i=!t||\"orientationchange\"===t;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass(\"fancybox-tmp\"),(i||\"load\"===t||\"resize\"===t&&n.autoResize)&&r._setDimension(),\"scroll\"===t&&n.canShrink||r.reposition(e),r.trigger(\"onUpdate\"),c=null)},i&&!d?0:300))},toggle:function(e){r.isOpen&&(r.current.fitToView=\"boolean\"===i.type(e)?e:!r.current.fitToView,d&&(r.wrap.removeAttr(\"style\").addClass(\"fancybox-tmp\"),r.trigger(\"onUpdate\")),r.update())},hideLoading:function(){o.unbind(\".loading\"),i(\"#fancybox-loading\").remove()},showLoading:function(){var e,t;r.hideLoading(),e=i('<div id=\"fancybox-loading\"><div></div></div>').click(r.cancel).appendTo(\"body\"),o.bind(\"keydown.loading\",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),r.cancel())}),r.defaults.fixed||(t=r.getViewport(),e.css({position:\"absolute\",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=r.current&&r.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=d&&e.innerWidth?e.innerWidth:s.width(),i.h=d&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){r.wrap&&h(r.wrap)&&r.wrap.unbind(\".fb\"),o.unbind(\".fb\"),s.unbind(\".fb\")},bindEvents:function(){var e,t=r.current;t&&(s.bind(\"orientationchange.fb\"+(d?\"\":\" resize.fb\")+(t.autoCenter&&!t.locked?\" scroll.fb\":\"\"),r.update),e=t.keys,e&&o.bind(\"keydown.fb\",function(a){var s=a.which||a.keyCode,o=a.target||a.srcElement;return 27===s&&r.coming?!1:(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||o&&(o.type||i(o).is(\"[contenteditable]\"))||i.each(e,function(e,o){return t.group.length>1&&o[s]!==n?(r[e](o[s]),a.preventDefault(),!1):i.inArray(s,o)>-1?(r[e](),a.preventDefault(),!1):void 0}),void 0)}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind(\"mousewheel.fb\",function(e,n,a,s){for(var o=e.target||null,l=i(o),c=!1;l.length&&!(c||l.is(\".fancybox-skin\")||l.is(\".fancybox-wrap\"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!t.canShrink&&(s>0||a>0?r.prev(s>0?\"down\":\"left\"):(0>s||0>a)&&r.next(0>s?\"up\":\"right\"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||r.coming||r.current;if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),n===!1)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&r.helpers[t]&&i.isFunction(r.helpers[t][e])&&r.helpers[t][e](i.extend(!0,{},r.helpers[t].defaults,n),a)}),o.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\\.(swf)((\\?|#).*)?$/i)},_start:function(e){var t,n,a,s,o,l={};if(e=g(e),t=r.group[e]||null,!t)return!1;if(l=i.extend(!0,{},r.opts,t),s=l.margin,o=l.padding,\"number\"===i.type(s)&&(l.margin=[s,s,s,s]),\"number\"===i.type(o)&&(l.padding=[o,o,o,o]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),\"auto\"===l.width&&(l.autoWidth=!0),\"auto\"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=e,r.coming=l,!1===r.trigger(\"beforeLoad\"))return r.coming=null,void 0;if(a=l.type,n=l.href,!a)return r.coming=null,r.current&&r.router&&\"jumpto\"!==r.router?(r.current.index=e,r[r.router](r.direction)):!1;if(r.isActive=!0,(\"image\"===a||\"swf\"===a)&&(l.autoHeight=l.autoWidth=!1,l.scrolling=\"visible\"),\"image\"===a&&(l.aspectRatio=!0),\"iframe\"===a&&d&&(l.scrolling=\"scroll\"),l.wrap=i(l.tpl.wrap).addClass(\"fancybox-\"+(d?\"mobile\":\"desktop\")+\" fancybox-type-\"+a+\" fancybox-tmp \"+l.wrapCSS).appendTo(l.parent||\"body\"),i.extend(l,{skin:i(\".fancybox-skin\",l.wrap),outer:i(\".fancybox-outer\",l.wrap),inner:i(\".fancybox-inner\",l.wrap)}),i.each([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(e,t){l.skin.css(\"padding\"+t,m(l.padding[e]))}),r.trigger(\"onReady\"),\"inline\"===a||\"html\"===a){if(!l.content||!l.content.length)return r._error(\"content\")}else if(!n)return r._error(\"href\");\"image\"===a?r._loadImage():\"ajax\"===a?r._loadAjax():\"iframe\"===a?r._loadIframe():r._afterLoad()},_error:function(e){i.extend(r.coming,{type:\"html\",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:\"no\",hasError:e,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error(\"image\")},e.src=r.coming.href,e.complete!==!0&&r.showLoading()},_loadAjax:function(){var e=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&\"abort\"!==t?r._error(\"ajax\",e):r.hideLoading()},success:function(t,i){\"success\"===i&&(e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t=i(e.tpl.iframe.replace(/\\{rnd\\}/g,(new Date).getTime())).attr(\"scrolling\",d?\"auto\":e.iframe.scrolling).attr(\"src\",e.href);i(e.wrap).bind(\"onReset\",function(){try{i(this).find(\"iframe\").hide().attr(\"src\",\"//about:blank\").end().empty()}catch(e){}}),e.iframe.preload&&(r.showLoading(),t.one(\"load\",function(){i(this).data(\"ready\",1),d||i(this).bind(\"load.fb\",r.update),i(this).parents(\".fancybox-wrap\").width(\"100%\").removeClass(\"fancybox-tmp\").show(),r._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||r._afterLoad()},_preloadImages:function(){var e,t,i=r.group,n=r.current,a=i.length,s=n.preload?Math.min(n.preload,a-1):0;for(t=1;s>=t;t+=1)e=i[(n.index+t)%a],\"image\"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,s,o,l=r.coming,c=r.current,d=\"fancybox-placeholder\";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger(\"afterLoad\",l,c))return l.wrap.stop(!0).trigger(\"onReset\").remove(),r.coming=null,void 0;switch(c&&(r.trigger(\"beforeChange\",c),c.wrap.stop(!0).removeClass(\"fancybox-opened\").find(\".fancybox-item, .fancybox-nav\").remove()),r.unbindEvents(),e=l,t=l.content,n=l.type,a=l.scrolling,i.extend(r,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),s=e.href,n){case\"inline\":case\"ajax\":case\"html\":e.selector?t=i(\"<div>\").html(t).find(e.selector):h(t)&&(t.data(d)||t.data(d,i('<div class=\"'+d+'\"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind(\"onReset\",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case\"image\":t=e.tpl.image.replace(\"{href}\",s);break;case\"swf\":t='<object id=\"fancybox-swf\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"100%\" height=\"100%\"><param name=\"movie\" value=\"'+s+'\">',o=\"\",i.each(e.swf,function(e,i){t+='<param name=\"'+e+'\" value=\"'+i+'\">',o+=\" \"+e+'=\"'+i+'\"'}),t+='<embed src=\"'+s+'\" type=\"application/x-shockwave-flash\" width=\"100%\" height=\"100%\" '+o+\"></object>\"}h(t)&&t.parent().is(e.inner)||e.inner.append(t),r.trigger(\"beforeShow\"),e.inner.css(\"overflow\",\"yes\"===a?\"scroll\":\"no\"===a?\"hidden\":a),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(\".fancybox-wrap\").not(e.wrap).stop(!0).trigger(\"onReset\").remove(),r.transitions[r.isOpened?e.nextMethod:e.openMethod](),r._preloadImages()}},_setDimension:function(){var e,t,n,a,s,o,l,c,d,h,p,f,v,w,b,y=r.getViewport(),x=0,_=!1,k=!1,j=r.wrap,C=r.skin,I=r.inner,T=r.current,S=T.width,W=T.height,H=T.minWidth,L=T.minHeight,D=T.maxWidth,A=T.maxHeight,P=T.scrolling,B=T.scrollOutside?T.scrollbarWidth:0,M=T.margin,R=g(M[1]+M[3]),O=g(M[0]+M[2]);if(j.add(C).add(I).width(\"auto\").height(\"auto\").removeClass(\"fancybox-tmp\"),e=g(C.outerWidth(!0)-C.width()),t=g(C.outerHeight(!0)-C.height()),n=R+e,a=O+t,s=u(S)?(y.w-n)*g(S)/100:S,o=u(W)?(y.h-a)*g(W)/100:W,\"iframe\"===T.type){if(w=T.content,T.autoHeight&&1===w.data(\"ready\"))try{w[0].contentWindow.document.location&&(I.width(s).height(9999),b=w.contents().find(\"body\"),B&&b.css(\"overflow-x\",\"hidden\"),o=b.outerHeight(!0))}catch(E){}}else(T.autoWidth||T.autoHeight)&&(I.addClass(\"fancybox-tmp\"),T.autoWidth||I.width(s),T.autoHeight||I.height(o),T.autoWidth&&(s=I.width()),T.autoHeight&&(o=I.height()),I.removeClass(\"fancybox-tmp\"));if(S=g(s),W=g(o),d=s/o,H=g(u(H)?g(H,\"w\")-n:H),D=g(u(D)?g(D,\"w\")-n:D),L=g(u(L)?g(L,\"h\")-a:L),A=g(u(A)?g(A,\"h\")-a:A),l=D,c=A,T.fitToView&&(D=Math.min(y.w-n,D),A=Math.min(y.h-a,A)),f=y.w-R,v=y.h-O,T.aspectRatio?(S>D&&(S=D,W=g(S/d)),W>A&&(W=A,S=g(W*d)),H>S&&(S=H,W=g(S/d)),L>W&&(W=L,S=g(W*d))):(S=Math.max(H,Math.min(S,D)),T.autoHeight&&\"iframe\"!==T.type&&(I.width(S),W=I.height()),W=Math.max(L,Math.min(W,A))),T.fitToView)if(I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),T.aspectRatio)for(;(h>f||p>v)&&S>H&&W>L&&!(x++>19);)W=Math.max(L,Math.min(A,W-10)),S=g(W*d),H>S&&(S=H,W=g(S/d)),S>D&&(S=D,W=g(S/d)),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height();else S=Math.max(H,Math.min(S,S-(h-f))),W=Math.max(L,Math.min(W,W-(p-v)));B&&\"auto\"===P&&o>W&&f>S+e+B&&(S+=B),I.width(S).height(W),j.width(S+e),h=j.width(),p=j.height(),_=(h>f||p>v)&&S>H&&W>L,k=T.aspectRatio?l>S&&c>W&&s>S&&o>W:(l>S||c>W)&&(s>S||o>W),i.extend(T,{dim:{width:m(h),height:m(p)},origWidth:s,origHeight:o,canShrink:_,canExpand:k,wPadding:e,hPadding:t,wrapSpace:p-C.outerHeight(!0),skinSpace:C.height()-W}),!w&&T.autoHeight&&W>L&&A>W&&!k&&I.height(\"auto\")},_getPosition:function(e){var t=r.current,i=r.getViewport(),n=t.margin,a=r.wrap.width()+n[1]+n[3],s=r.wrap.height()+n[0]+n[2],o={position:\"absolute\",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&s<=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(math.max(o.top,o.top+(i.h-s)*t.topratio)),o.left=m(math.max(o.left,o.left+(i.w-a)*t.leftratio)),o},_afterzoomin:function(){var e=\"r.current;e&&(r.isOpen=r.isOpened=!0,r.wrap.css(\"overflow\",\"visible\").addClass(\"fancybox-opened\"),r.update(),(e.closeClick||e.nextClick&&r.group.length\">1)&&r.inner.css(\"cursor\",\"pointer\").bind(\"click.fb\",function(t){i(t.target).is(\"a\")||i(t.target).parent().is(\"a\")||(t.preventDefault(),r[e.closeClick?\"close\":\"next\"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(r.skin).bind(\"click.fb\",function(e){e.preventDefault(),r.close()}),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(r.outer).bind(\"click.fb\",r.prev),(e.loop||e.index<r.group.length-1)&&i(e.tpl.next).appendto(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"aftershow\"),e.loop||e.index!==e.group.length-1?r.opts.autoplay&&!r.player.isactive&&(r.opts.autoplay=!1,r.play()):r.play(!1))},_afterzoomout:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onreset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isactive:!1,isopened:!1,isopen:!1,isclosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterclose\",e)}}),r.transitions={getorigposition:function(){var e=\"r.current,t=e.element,i=e.orig,n={},a=50,s=50,o=e.hPadding,l=e.wPadding,c=r.getViewport();return!i&&e.isDom&&t.is(\":visible\")&&(i=t.find(\"img:first\"),i.length||(i=t)),h(i)?(n=i.offset(),i.is(\"img\")&&(a=i.outerWidth(),s=i.outerHeight())):(n.top=c.y+(c.h-s)*e.topRatio,n.left=c.x+(c.w-a)*e.leftRatio),(\"fixed\"===r.wrap.css(\"position\")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:m(n.top-o*e.topRatio),left:m(n.left-l*e.leftRatio),width:m(a+l),height:m(s+o)}},step:function(e,t){var\" i,n,a,s=\"t.prop,o=r.current,l=o.wrapSpace,c=o.skinSpace;(\"width\"===s||\"height\"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),r.isClosing&&(i=1-i),n=\"width\"===s?o.wPadding:o.hPadding,a=e-n,r.skin[s](g(\"width\"===s?a:a-l*i)),r.inner[s](g(\"width\"===s?a:a-l*i-c*i)))},zoomIn:function(){var\" s.position,a?(t=\"this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):\"fade\"===n&&(t.opacity=.1),r.wrap.css(t).animate(s,{duration:\"none\"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var\" e,t=\"r.current,i=t.nextEffect,n=t.pos,a={opacity:1},s=r.direction,o=200;n.opacity=.1,\"elastic\"===i&&(e=\"down\"===s||\"up\"===s?\"top\":\"left\",\"down\"===s||\"right\"===s?(n[e]=m(g(n[e])-o),a[e]=\"+=\"+o+\"px\"):(n[e]=m(g(n[e])+o),a[e]=\"-=\"+o+\"px\")),\"none\"===i?r._afterZoomIn():r.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var\" class=\"fancybox-overlay\"></r.group.length-1)&&i(e.tpl.next).appendto(r.outer).bind(\"click.fb\",r.next)),r.trigger(\"aftershow\"),e.loop||e.index!==e.group.length-1?r.opts.autoplay&&!r.player.isactive&&(r.opts.autoplay=!1,r.play()):r.play(!1))},_afterzoomout:function(e){e=e||r.current,i(\".fancybox-wrap\").trigger(\"onreset\").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isactive:!1,isopened:!1,isopen:!1,isclosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger(\"afterclose\",e)}}),r.transitions={getorigposition:function(){var></=i.h&&a<=i.w?o.position=\"fixed\":t.locked||(o.top+=i.y,o.left+=i.x),o.top=m(math.max(o.top,o.top+(i.h-s)*t.topratio)),o.left=m(math.max(o.left,o.left+(i.w-a)*t.leftratio)),o},_afterzoomin:function(){var></div>').appendTo(r.coming?r.coming.parent:e.parent),this.fixed=!1,e.fixed&&r.defaults.fixed&&(this.overlay.addClass(\"fancybox-overlay-fixed\"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(\".overlay\").width(\"auto\").height(\"auto\"):this.create(e),this.fixed||(s.bind(\"resize.overlay\",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind(\"click.overlay\",function(e){return i(e.target).hasClass(\"fancybox-overlay\")?(r.isActive?r.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;s.unbind(\"resize.overlay\"),this.el.hasClass(\"fancybox-lock\")&&(i(\".fancybox-margin\").removeClass(\"fancybox-margin\"),e=s.scrollTop(),t=s.scrollLeft(),this.el.removeClass(\"fancybox-lock\"),s.scrollTop(e).scrollLeft(t)),i(\".fancybox-overlay\").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i=\"100%\";this.overlay.width(i).height(\"100%\"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(i=o.width())):o.width()>s.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(e,t){var n=this.overlay;i(\".fancybox-overlay\").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=o.height()>s.height()?i(\"html\").css(\"margin-right\").replace(\"px\",\"\"):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(this.margin!==!1&&(i(\"*\").filter(function(){return\"fixed\"===i(this).css(\"position\")&&!i(this).hasClass(\"fancybox-overlay\")&&!i(this).hasClass(\"fancybox-wrap\")}).addClass(\"fancybox-margin\"),this.el.addClass(\"fancybox-margin\")),n=s.scrollTop(),a=s.scrollLeft(),this.el.addClass(\"fancybox-lock\"),s.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!r.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:\"float\",position:\"bottom\"},beforeShow:function(e){var t,n,a=r.current,s=a.title,o=e.type;if(i.isFunction(s)&&(s=s.call(a.element,a)),p(s)&&\"\"!==i.trim(s)){switch(t=i('<div class=\"fancybox-title fancybox-title-'+o+'-wrap\">'+s+\"</div>\"),o){case\"inside\":n=r.skin;break;case\"outside\":n=r.wrap;break;case\"over\":n=r.inner;break;default:n=r.skin,t.appendTo(\"body\"),l&&t.width(t.width()),t.wrapInner('<span class=\"child\"></span>'),r.current.margin[2]+=Math.abs(g(t.css(\"margin-bottom\")))}t[\"top\"===e.position?\"prependTo\":\"appendTo\"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||\"\",s=function(s){var o,l,c=i(this).blur(),d=t;s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||c.is(\".fancybox-wrap\")||(o=e.groupAttr||\"data-fancybox-group\",l=c.attr(o),l||(o=\"rel\",l=c.get(0)[o]),l&&\"\"!==l&&\"nofollow\"!==l&&(c=a.length?i(a):n,c=c.filter(\"[\"+o+'=\"'+l+'\"]'),d=c.index(this)),e.index=d,r.open(c,e)!==!1&&s.preventDefault())};return e=e||{},t=e.index||0,a&&e.live!==!1?o.undelegate(a,\"click.fb-start\").delegate(a+\":not('.fancybox-item, .fancybox-nav')\",\"click.fb-start\",s):n.unbind(\"click.fb-start\").bind(\"click.fb-start\",s),this.filter(\"[data-fancybox-start=1]\").trigger(\"click\"),this},o.ready(function(){var t,s;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style=\"width:50px;height:50px;overflow:auto\"><div></div>').appendTo(\"body\"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style=\"position:fixed;top:20px;\"></div>').appendTo(\"body\"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i(\"body\")}),t=i(e).width(),a.addClass(\"fancybox-lock-test\"),s=i(e).width(),a.removeClass(\"fancybox-lock-test\"),i(\"<style type=\"text/css\">.fancybox-margin{margin-right:\"+(s-t)+\"px;}</style>\").appendTo(\"head\")})}(window,document,jQuery);</div></r.group.length-1)&&(r.player.isactive=!0,o.bind({\"oncancel.player>"},{"_content":"/*! pace 1.0.2 */\n(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:\"body\",elements:{checkInterval:100,selectors:[\"body\"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:[\"GET\"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a=\"undefined\"!=typeof performance&&null!==performance&&\"function\"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],\"function\"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&\"object\"==typeof b[a]&&null!=e&&\"object\"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a=\"options\"),null==b&&(b=!0),e=document.querySelector(\"[data-pace-\"+a+\"]\")){if(c=e.getAttribute(\"data-pace-\"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,\"undefined\"!=typeof console&&null!==console?console.error(\"Error parsing inline pace options\",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=[\"ajax\",\"document\",\"eventLag\",\"elements\"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement(\"div\"),this.el.className=\"pace pace-active\",document.body.className=document.body.className.replace(/pace-done/g,\"\"),document.body.className+=\" pace-running\",this.el.innerHTML='<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace(\"pace-active\",\"\"),a.className+=\" pace-inactive\",document.body.className=document.body.className.replace(\"pace-running\",\"\"),document.body.className+=\" pace-done\"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d=\"translate3d(\"+this.progress+\"%, 0, 0)\",g=[\"webkitTransform\",\"msTransform\",\"transform\"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute(\"data-progress-text\",\"\"+(0|this.progress)+\"%\"),this.progress>=100?c=\"99\":(c=this.progress<10?\"0\":\"\",c+=0|this.progress),a.children[0].setAttribute(\"data-progress\",\"\"+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{e.push(null==a[d]&&\"function\"!=typeof b[d]?\"function\"==typeof Object.defineProperty?Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0}):a[d]=b.prototype[d]:void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"ignore\"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"track\"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a=\"GET\"),\"track\"===A[0])return\"force\";if(!A.length&&D.ajax){if(\"socket\"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger(\"request\",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J(\"socket\")&&c.trigger(\"request\",{type:\"socket\",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],\"string\"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on(\"request\",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&\"force\"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,\"boolean\"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b=\"socket\"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on(\"request\",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c=\"socket\"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener(\"progress\",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=[\"load\",\"abort\",\"timeout\",\"error\"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),\"function\"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=[\"error\",\"open\"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),\"function\"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,\"progress\"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,\"progress\")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=[\"ajax\",\"elements\",\"document\",\"eventLag\"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger(\"stop\"),j.running=!1,r.destroy(),s=!0,null!=p&&(\"function\"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger(\"restart\"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger(\"done\"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger(\"hide\")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(\".pace\")?(j.trigger(\"start\"),j.go()):setTimeout(j.start,50)},\"function\"==typeof define&&define.amd?define([\"pace\"],function(){return j}):\"object\"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);","source":"images/tags _ Night's blog_files/pace.min.js","raw":"/*! pace 1.0.2 */\n(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:\"body\",elements:{checkInterval:100,selectors:[\"body\"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:[\"GET\"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a=\"undefined\"!=typeof performance&&null!==performance&&\"function\"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],\"function\"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&\"object\"==typeof b[a]&&null!=e&&\"object\"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a=\"options\"),null==b&&(b=!0),e=document.querySelector(\"[data-pace-\"+a+\"]\")){if(c=e.getAttribute(\"data-pace-\"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,\"undefined\"!=typeof console&&null!==console?console.error(\"Error parsing inline pace options\",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=[\"ajax\",\"document\",\"eventLag\",\"elements\"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement(\"div\"),this.el.className=\"pace pace-active\",document.body.className=document.body.className.replace(/pace-done/g,\"\"),document.body.className+=\" pace-running\",this.el.innerHTML='<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace(\"pace-active\",\"\"),a.className+=\" pace-inactive\",document.body.className=document.body.className.replace(\"pace-running\",\"\"),document.body.className+=\" pace-done\"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d=\"translate3d(\"+this.progress+\"%, 0, 0)\",g=[\"webkitTransform\",\"msTransform\",\"transform\"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute(\"data-progress-text\",\"\"+(0|this.progress)+\"%\"),this.progress>=100?c=\"99\":(c=this.progress<10?\"0\":\"\",c+=0|this.progress),a.children[0].setAttribute(\"data-progress\",\"\"+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{e.push(null==a[d]&&\"function\"!=typeof b[d]?\"function\"==typeof Object.defineProperty?Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0}):a[d]=b.prototype[d]:void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"ignore\"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift(\"track\"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a=\"GET\"),\"track\"===A[0])return\"force\";if(!A.length&&D.ajax){if(\"socket\"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger(\"request\",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J(\"socket\")&&c.trigger(\"request\",{type:\"socket\",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],\"string\"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on(\"request\",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&\"force\"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,\"boolean\"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b=\"socket\"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on(\"request\",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c=\"socket\"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener(\"progress\",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=[\"load\",\"abort\",\"timeout\",\"error\"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),\"function\"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=[\"error\",\"open\"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),\"function\"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,\"progress\"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,\"progress\")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=[\"ajax\",\"elements\",\"document\",\"eventLag\"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger(\"stop\"),j.running=!1,r.destroy(),s=!0,null!=p&&(\"function\"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger(\"restart\"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger(\"done\"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger(\"hide\")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(\".pace\")?(j.trigger(\"start\"),j.go()):setTimeout(j.start,50)},\"function\"==typeof define&&define.amd?define([\"pace\"],function(){return j}):\"object\"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);","date":"2020-04-04T08:34:36.681Z","updated":"2020-04-04T08:34:36.386Z","path":"images/tags _ Night's blog_files/pace.min.js","layout":"false","title":"","comments":1,"_id":"ck8npay3300hhqr3l5v63r1mr"},{"_content":"var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version=\"2.2.0\",commentRegExp=/(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/gm,cjsRequireRegExp=/[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,jsSuffixRegExp=/\\.js$/,currDirRegExp=/^\\.\\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!(typeof window!==\"undefined\"&&typeof navigator!==\"undefined\"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!==\"undefined\",readyRegExp=isBrowser&&navigator.platform===\"PLAYSTATION 3\"?/^complete$/:/^(complete|loaded)$/,defContextName=\"_\",isOpera=typeof opera!==\"undefined\"&&opera.toString()===\"[object Opera]\",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(match,multi,multiText,singlePrefix){return singlePrefix||\"\"}function isFunction(it){return ostring.call(it)===\"[object Function]\"}function isArray(it){return ostring.call(it)===\"[object Array]\"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value===\"object\"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName(\"script\")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split(\".\"),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+\"\\nhttp://requirejs.org/docs/errors.html#\"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!==\"undefined\"){return}if(typeof requirejs!==\"undefined\"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!==\"undefined\"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:\"./\",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part;for(i=0;i<ary.length;i++){part=ary[i];if(part===\".\"){ary.splice(i,1);i-=1}else if(part===\"..\"){if(i===0||i===1&&ary[2]===\"..\"||ary[i-1]===\"..\"){continue}else if(i>0){ary.splice(i-1,2);i-=2}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=baseName&&baseName.split(\"/\"),map=config.map,starMap=map&&map[\"*\"];if(name){name=name.split(\"/\");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,\"\")}if(name[0].charAt(0)===\".\"&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}trimDots(name);name=name.join(\"/\")}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split(\"/\");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join(\"/\");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join(\"/\"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join(\"/\")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute(\"data-requiremodule\")===name&&scriptNode.getAttribute(\"data-requirecontext\")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.makeRequire(null,{skipMap:true})([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf(\"!\"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName=\"\";if(!name){isDefine=false;name=\"_@r\"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=name.indexOf(\"!\")===-1?normalize(name,parentName,applyMap):name}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?\"_unnormalized\"+(unnormalizedCounter+=1):\"\";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+\"!\"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name===\"defined\"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name===\"error\"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit(\"error\",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){each(globalDefQueue,function(queueItem){var id=queueItem[0];if(typeof id===\"string\"){context.defQueueMap[id]=true}defQueue.push(queueItem)});globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return mod.require=context.makeRequire(mod.map)}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return defined[mod.map.id]=mod.exports}else{return mod.exports=defined[mod.map.id]={}}}},module:function(mod){if(mod.module){return mod.module}else{return mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})}}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit(\"error\",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1e3,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return}inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return}if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return needCycleCheck=false}}}});if(expired&&noLoads.length){err=makeError(\"timeout\",\"Load timeout for modules: \"+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return}this.factory=factory;if(errback){this.on(\"error\",errback)}else if(this.events.error){errback=bind(this,function(err){this.emit(\"error\",err)})}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return}this.fetched=true;context.startTime=(new Date).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return}var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){if(!hasProp(context.defQueueMap,id)){this.fetch()}}else if(this.error){this.emit(\"error\",this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else if(this.usingExports){exports=this.exports}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?\"define\":\"require\";return onError(this.error=err)}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){var resLoadMaps=[];each(this.depMaps,function(depMap){resLoadMaps.push(depMap.normalizedMap||depMap)});req.onResourceLoad(context,this.map,resLoadMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit(\"defined\",this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,\"defined\",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||\"\"}normalizedMap=makeModuleMap(map.prefix+\"!\"+name,this.map.parentMap);on(normalizedMap,\"defined\",bind(this,function(value){this.map.normalizedMap=normalizedMap;this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on(\"error\",bind(this,function(err){this.emit(\"error\",err)}))}normalizedMod.enable()}return}if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+\"_unnormalized\")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError(\"fromtexteval\",\"fromText eval for \"+id+\" failed: \"+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap===\"string\"){depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return}this.depCount+=1;on(depMap,\"defined\",bind(this,function(depExports){if(this.undefed){return}this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,\"error\",bind(this,this.errback))}else if(this.events.error){on(depMap,\"error\",bind(this,function(err){this.emit(\"error\",err)}))}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name===\"error\"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,\"load\",\"onreadystatechange\");removeListener(node,context.onScriptError,\"error\");return{node:node,id:node&&node.getAttribute(\"data-requiremodule\")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError(\"mismatch\",\"Mismatched anonymous define() module: \"+args[args.length-1]))}else{callGetModule(args)}}context.defQueueMap={}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,defQueueMap:{},Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!==\"/\"){cfg.baseUrl+=\"/\"}}if(typeof cfg.urlArgs===\"string\"){var urlArgs=cfg.urlArgs;cfg.urlArgs=function(id,url){return(url.indexOf(\"?\")===-1?\"?\":\"&\")+urlArgs}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj===\"string\"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+\"/\"+(pkgObj.main||\"main\").replace(currDirRegExp,\"\").replace(jsSuffixRegExp,\"\")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id,null,true)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||value.exports&&getGlobal(value.exports)}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps===\"string\"){if(isFunction(callback)){return onError(makeError(\"requireargs\",\"Invalid require call\"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError(\"notloaded\",'Module name \"'+id+'\" has not been loaded yet for context: '+contextName+(relMap?\"\":\". Use require([])\")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf(\".\"),segment=moduleNamePlusExt.split(\"/\")[0],isRelative=segment===\".\"||segment===\"..\";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);mod.undefed=true;removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});delete context.defQueueMap[id];if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else if(args[0]===moduleName){found=true}callGetModule(args)}context.defQueueMap={};mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return}else{return onError(makeError(\"nodefine\",\"No define call for \"+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,shim.deps||[],shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||\"\")}else{paths=config.paths;syms=moduleName.split(\"/\");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join(\"/\");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join(\"/\");url+=ext||(/^data\\:|^blob\\:|\\?/.test(url)||skipExt?\"\":\".js\");url=(url.charAt(0)===\"/\"||url.match(/^[\\w\\+\\.\\-]+:/)?\"\":config.baseUrl)+url}return config.urlArgs&&!/^blob\\:/.test(url)?url+config.urlArgs(moduleName,url):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type===\"load\"||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){var parents=[];eachProp(registry,function(value,key){if(key.indexOf(\"_@r\")!==0){each(value.depMaps,function(depMap){if(depMap.id===data.id){parents.push(key);return true}})}});return onError(makeError(\"scripterror\",'Script error for \"'+data.id+(parents.length?'\", needed by: '+parents.join(\", \"):'\"'),evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!==\"string\"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!==\"undefined\"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\\/|:|\\?|\\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each([\"toUrl\",\"undef\",\"defined\",\"specified\"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName(\"head\")[0];baseElement=document.getElementsByTagName(\"base\")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"html:script\"):document.createElement(\"script\");node.type=config.scriptType||\"text/javascript\";node.charset=\"utf-8\";node.async=true;return node};req.load=function(context,moduleName,url){var config=context&&context.config||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute(\"data-requirecontext\",context.contextName);node.setAttribute(\"data-requiremodule\",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf(\"[native code\")<0)&&!isOpera){useInteractive=true;node.attachEvent(\"onreadystatechange\",context.onScriptLoad)}else{node.addEventListener(\"load\",context.onScriptLoad,false);node.addEventListener(\"error\",context.onScriptError,false)}node.src=url;if(config.onNodeCreated){config.onNodeCreated(node,config,moduleName,url)}currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else if(isWebWorker){try{setTimeout(function(){},0);importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError(\"importscripts\",\"importScripts failed for \"+moduleName+\" at \"+url,e,[moduleName]))}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState===\"interactive\"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState===\"interactive\"){return interactiveScript=script}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute(\"data-main\");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&mainScript.indexOf(\"!\")===-1){src=mainScript.split(\"/\");mainScript=src.pop();subPath=src.length?src.join(\"/\")+\"/\":\"./\";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,\"\");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!==\"string\"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?[\"require\"]:[\"require\",\"exports\",\"module\"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute(\"data-requiremodule\")}context=contexts[node.getAttribute(\"data-requirecontext\")]}}if(context){context.defQueue.push([name,deps,callback]);context.defQueueMap[name]=true}else{globalDefQueue.push([name,deps,callback])}};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(this);","source":"images/tags _ Night's blog_files/require.min.js","raw":"var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version=\"2.2.0\",commentRegExp=/(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/gm,cjsRequireRegExp=/[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,jsSuffixRegExp=/\\.js$/,currDirRegExp=/^\\.\\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!(typeof window!==\"undefined\"&&typeof navigator!==\"undefined\"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!==\"undefined\",readyRegExp=isBrowser&&navigator.platform===\"PLAYSTATION 3\"?/^complete$/:/^(complete|loaded)$/,defContextName=\"_\",isOpera=typeof opera!==\"undefined\"&&opera.toString()===\"[object Opera]\",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(match,multi,multiText,singlePrefix){return singlePrefix||\"\"}function isFunction(it){return ostring.call(it)===\"[object Function]\"}function isArray(it){return ostring.call(it)===\"[object Array]\"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value===\"object\"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName(\"script\")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split(\".\"),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+\"\\nhttp://requirejs.org/docs/errors.html#\"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!==\"undefined\"){return}if(typeof requirejs!==\"undefined\"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!==\"undefined\"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:\"./\",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part;for(i=0;i<ary.length;i++){part=ary[i];if(part===\".\"){ary.splice(i,1);i-=1}else if(part===\"..\"){if(i===0||i===1&&ary[2]===\"..\"||ary[i-1]===\"..\"){continue}else if(i>0){ary.splice(i-1,2);i-=2}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=baseName&&baseName.split(\"/\"),map=config.map,starMap=map&&map[\"*\"];if(name){name=name.split(\"/\");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,\"\")}if(name[0].charAt(0)===\".\"&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}trimDots(name);name=name.join(\"/\")}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split(\"/\");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join(\"/\");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join(\"/\"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join(\"/\")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute(\"data-requiremodule\")===name&&scriptNode.getAttribute(\"data-requirecontext\")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.makeRequire(null,{skipMap:true})([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf(\"!\"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName=\"\";if(!name){isDefine=false;name=\"_@r\"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=name.indexOf(\"!\")===-1?normalize(name,parentName,applyMap):name}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?\"_unnormalized\"+(unnormalizedCounter+=1):\"\";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+\"!\"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name===\"defined\"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name===\"error\"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit(\"error\",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){each(globalDefQueue,function(queueItem){var id=queueItem[0];if(typeof id===\"string\"){context.defQueueMap[id]=true}defQueue.push(queueItem)});globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return mod.require=context.makeRequire(mod.map)}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return defined[mod.map.id]=mod.exports}else{return mod.exports=defined[mod.map.id]={}}}},module:function(mod){if(mod.module){return mod.module}else{return mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})}}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit(\"error\",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1e3,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return}inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return}if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return needCycleCheck=false}}}});if(expired&&noLoads.length){err=makeError(\"timeout\",\"Load timeout for modules: \"+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return}this.factory=factory;if(errback){this.on(\"error\",errback)}else if(this.events.error){errback=bind(this,function(err){this.emit(\"error\",err)})}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return}this.fetched=true;context.startTime=(new Date).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return}var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){if(!hasProp(context.defQueueMap,id)){this.fetch()}}else if(this.error){this.emit(\"error\",this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else if(this.usingExports){exports=this.exports}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?\"define\":\"require\";return onError(this.error=err)}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){var resLoadMaps=[];each(this.depMaps,function(depMap){resLoadMaps.push(depMap.normalizedMap||depMap)});req.onResourceLoad(context,this.map,resLoadMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit(\"defined\",this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,\"defined\",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||\"\"}normalizedMap=makeModuleMap(map.prefix+\"!\"+name,this.map.parentMap);on(normalizedMap,\"defined\",bind(this,function(value){this.map.normalizedMap=normalizedMap;this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on(\"error\",bind(this,function(err){this.emit(\"error\",err)}))}normalizedMod.enable()}return}if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+\"_unnormalized\")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError(\"fromtexteval\",\"fromText eval for \"+id+\" failed: \"+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap===\"string\"){depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return}this.depCount+=1;on(depMap,\"defined\",bind(this,function(depExports){if(this.undefed){return}this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,\"error\",bind(this,this.errback))}else if(this.events.error){on(depMap,\"error\",bind(this,function(err){this.emit(\"error\",err)}))}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name===\"error\"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,\"load\",\"onreadystatechange\");removeListener(node,context.onScriptError,\"error\");return{node:node,id:node&&node.getAttribute(\"data-requiremodule\")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError(\"mismatch\",\"Mismatched anonymous define() module: \"+args[args.length-1]))}else{callGetModule(args)}}context.defQueueMap={}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,defQueueMap:{},Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!==\"/\"){cfg.baseUrl+=\"/\"}}if(typeof cfg.urlArgs===\"string\"){var urlArgs=cfg.urlArgs;cfg.urlArgs=function(id,url){return(url.indexOf(\"?\")===-1?\"?\":\"&\")+urlArgs}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj===\"string\"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+\"/\"+(pkgObj.main||\"main\").replace(currDirRegExp,\"\").replace(jsSuffixRegExp,\"\")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id,null,true)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||value.exports&&getGlobal(value.exports)}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps===\"string\"){if(isFunction(callback)){return onError(makeError(\"requireargs\",\"Invalid require call\"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError(\"notloaded\",'Module name \"'+id+'\" has not been loaded yet for context: '+contextName+(relMap?\"\":\". Use require([])\")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf(\".\"),segment=moduleNamePlusExt.split(\"/\")[0],isRelative=segment===\".\"||segment===\"..\";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);mod.undefed=true;removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});delete context.defQueueMap[id];if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else if(args[0]===moduleName){found=true}callGetModule(args)}context.defQueueMap={};mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return}else{return onError(makeError(\"nodefine\",\"No define call for \"+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,shim.deps||[],shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||\"\")}else{paths=config.paths;syms=moduleName.split(\"/\");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join(\"/\");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join(\"/\");url+=ext||(/^data\\:|^blob\\:|\\?/.test(url)||skipExt?\"\":\".js\");url=(url.charAt(0)===\"/\"||url.match(/^[\\w\\+\\.\\-]+:/)?\"\":config.baseUrl)+url}return config.urlArgs&&!/^blob\\:/.test(url)?url+config.urlArgs(moduleName,url):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type===\"load\"||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){var parents=[];eachProp(registry,function(value,key){if(key.indexOf(\"_@r\")!==0){each(value.depMaps,function(depMap){if(depMap.id===data.id){parents.push(key);return true}})}});return onError(makeError(\"scripterror\",'Script error for \"'+data.id+(parents.length?'\", needed by: '+parents.join(\", \"):'\"'),evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!==\"string\"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!==\"undefined\"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\\/|:|\\?|\\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each([\"toUrl\",\"undef\",\"defined\",\"specified\"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName(\"head\")[0];baseElement=document.getElementsByTagName(\"base\")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"html:script\"):document.createElement(\"script\");node.type=config.scriptType||\"text/javascript\";node.charset=\"utf-8\";node.async=true;return node};req.load=function(context,moduleName,url){var config=context&&context.config||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute(\"data-requirecontext\",context.contextName);node.setAttribute(\"data-requiremodule\",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf(\"[native code\")<0)&&!isOpera){useInteractive=true;node.attachEvent(\"onreadystatechange\",context.onScriptLoad)}else{node.addEventListener(\"load\",context.onScriptLoad,false);node.addEventListener(\"error\",context.onScriptError,false)}node.src=url;if(config.onNodeCreated){config.onNodeCreated(node,config,moduleName,url)}currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else if(isWebWorker){try{setTimeout(function(){},0);importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError(\"importscripts\",\"importScripts failed for \"+moduleName+\" at \"+url,e,[moduleName]))}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState===\"interactive\"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState===\"interactive\"){return interactiveScript=script}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute(\"data-main\");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&mainScript.indexOf(\"!\")===-1){src=mainScript.split(\"/\");mainScript=src.pop();subPath=src.length?src.join(\"/\")+\"/\":\"./\";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,\"\");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!==\"string\"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?[\"require\"]:[\"require\",\"exports\",\"module\"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute(\"data-requiremodule\")}context=contexts[node.getAttribute(\"data-requirecontext\")]}}if(context){context.defQueue.push([name,deps,callback]);context.defQueueMap[name]=true}else{globalDefQueue.push([name,deps,callback])}};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(this);","date":"2020-04-04T08:34:36.678Z","updated":"2020-04-04T08:34:36.526Z","path":"images/tags _ Night's blog_files/require.min.js","layout":"false","title":"","comments":1,"_id":"ck8npay3300hiqr3l8ffrlt44"},{"_content":"/*!\n *  Font Awesome 4.6.3 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:'FontAwesome';src:url('../fonts/fontawesome-webfont.eot?v=4.6.3');src:url('../fonts/fontawesome-webfont.eot?#iefix&v=4.6.3') format('embedded-opentype'),url('../fonts/fontawesome-webfont.woff2?v=4.6.3') format('woff2'),url('../fonts/fontawesome-webfont.woff?v=4.6.3') format('woff'),url('../fonts/fontawesome-webfont.ttf?v=4.6.3') format('truetype'),url('../fonts/fontawesome-webfont.svg?v=4.6.3#fontawesomeregular') format('svg');font-weight:normal;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\";-webkit-transform:scale(-1, 1);-ms-transform:scale(-1, 1);transform:scale(-1, 1)}.fa-flip-vertical{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\";-webkit-transform:scale(1, -1);-ms-transform:scale(1, -1);transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:\"\\f000\"}.fa-music:before{content:\"\\f001\"}.fa-search:before{content:\"\\f002\"}.fa-envelope-o:before{content:\"\\f003\"}.fa-heart:before{content:\"\\f004\"}.fa-star:before{content:\"\\f005\"}.fa-star-o:before{content:\"\\f006\"}.fa-user:before{content:\"\\f007\"}.fa-film:before{content:\"\\f008\"}.fa-th-large:before{content:\"\\f009\"}.fa-th:before{content:\"\\f00a\"}.fa-th-list:before{content:\"\\f00b\"}.fa-check:before{content:\"\\f00c\"}.fa-remove:before,.fa-close:before,.fa-times:before{content:\"\\f00d\"}.fa-search-plus:before{content:\"\\f00e\"}.fa-search-minus:before{content:\"\\f010\"}.fa-power-off:before{content:\"\\f011\"}.fa-signal:before{content:\"\\f012\"}.fa-gear:before,.fa-cog:before{content:\"\\f013\"}.fa-trash-o:before{content:\"\\f014\"}.fa-home:before{content:\"\\f015\"}.fa-file-o:before{content:\"\\f016\"}.fa-clock-o:before{content:\"\\f017\"}.fa-road:before{content:\"\\f018\"}.fa-download:before{content:\"\\f019\"}.fa-arrow-circle-o-down:before{content:\"\\f01a\"}.fa-arrow-circle-o-up:before{content:\"\\f01b\"}.fa-inbox:before{content:\"\\f01c\"}.fa-play-circle-o:before{content:\"\\f01d\"}.fa-rotate-right:before,.fa-repeat:before{content:\"\\f01e\"}.fa-refresh:before{content:\"\\f021\"}.fa-list-alt:before{content:\"\\f022\"}.fa-lock:before{content:\"\\f023\"}.fa-flag:before{content:\"\\f024\"}.fa-headphones:before{content:\"\\f025\"}.fa-volume-off:before{content:\"\\f026\"}.fa-volume-down:before{content:\"\\f027\"}.fa-volume-up:before{content:\"\\f028\"}.fa-qrcode:before{content:\"\\f029\"}.fa-barcode:before{content:\"\\f02a\"}.fa-tag:before{content:\"\\f02b\"}.fa-tags:before{content:\"\\f02c\"}.fa-book:before{content:\"\\f02d\"}.fa-bookmark:before{content:\"\\f02e\"}.fa-print:before{content:\"\\f02f\"}.fa-camera:before{content:\"\\f030\"}.fa-font:before{content:\"\\f031\"}.fa-bold:before{content:\"\\f032\"}.fa-italic:before{content:\"\\f033\"}.fa-text-height:before{content:\"\\f034\"}.fa-text-width:before{content:\"\\f035\"}.fa-align-left:before{content:\"\\f036\"}.fa-align-center:before{content:\"\\f037\"}.fa-align-right:before{content:\"\\f038\"}.fa-align-justify:before{content:\"\\f039\"}.fa-list:before{content:\"\\f03a\"}.fa-dedent:before,.fa-outdent:before{content:\"\\f03b\"}.fa-indent:before{content:\"\\f03c\"}.fa-video-camera:before{content:\"\\f03d\"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:\"\\f03e\"}.fa-pencil:before{content:\"\\f040\"}.fa-map-marker:before{content:\"\\f041\"}.fa-adjust:before{content:\"\\f042\"}.fa-tint:before{content:\"\\f043\"}.fa-edit:before,.fa-pencil-square-o:before{content:\"\\f044\"}.fa-share-square-o:before{content:\"\\f045\"}.fa-check-square-o:before{content:\"\\f046\"}.fa-arrows:before{content:\"\\f047\"}.fa-step-backward:before{content:\"\\f048\"}.fa-fast-backward:before{content:\"\\f049\"}.fa-backward:before{content:\"\\f04a\"}.fa-play:before{content:\"\\f04b\"}.fa-pause:before{content:\"\\f04c\"}.fa-stop:before{content:\"\\f04d\"}.fa-forward:before{content:\"\\f04e\"}.fa-fast-forward:before{content:\"\\f050\"}.fa-step-forward:before{content:\"\\f051\"}.fa-eject:before{content:\"\\f052\"}.fa-chevron-left:before{content:\"\\f053\"}.fa-chevron-right:before{content:\"\\f054\"}.fa-plus-circle:before{content:\"\\f055\"}.fa-minus-circle:before{content:\"\\f056\"}.fa-times-circle:before{content:\"\\f057\"}.fa-check-circle:before{content:\"\\f058\"}.fa-question-circle:before{content:\"\\f059\"}.fa-info-circle:before{content:\"\\f05a\"}.fa-crosshairs:before{content:\"\\f05b\"}.fa-times-circle-o:before{content:\"\\f05c\"}.fa-check-circle-o:before{content:\"\\f05d\"}.fa-ban:before{content:\"\\f05e\"}.fa-arrow-left:before{content:\"\\f060\"}.fa-arrow-right:before{content:\"\\f061\"}.fa-arrow-up:before{content:\"\\f062\"}.fa-arrow-down:before{content:\"\\f063\"}.fa-mail-forward:before,.fa-share:before{content:\"\\f064\"}.fa-expand:before{content:\"\\f065\"}.fa-compress:before{content:\"\\f066\"}.fa-plus:before{content:\"\\f067\"}.fa-minus:before{content:\"\\f068\"}.fa-asterisk:before{content:\"\\f069\"}.fa-exclamation-circle:before{content:\"\\f06a\"}.fa-gift:before{content:\"\\f06b\"}.fa-leaf:before{content:\"\\f06c\"}.fa-fire:before{content:\"\\f06d\"}.fa-eye:before{content:\"\\f06e\"}.fa-eye-slash:before{content:\"\\f070\"}.fa-warning:before,.fa-exclamation-triangle:before{content:\"\\f071\"}.fa-plane:before{content:\"\\f072\"}.fa-calendar:before{content:\"\\f073\"}.fa-random:before{content:\"\\f074\"}.fa-comment:before{content:\"\\f075\"}.fa-magnet:before{content:\"\\f076\"}.fa-chevron-up:before{content:\"\\f077\"}.fa-chevron-down:before{content:\"\\f078\"}.fa-retweet:before{content:\"\\f079\"}.fa-shopping-cart:before{content:\"\\f07a\"}.fa-folder:before{content:\"\\f07b\"}.fa-folder-open:before{content:\"\\f07c\"}.fa-arrows-v:before{content:\"\\f07d\"}.fa-arrows-h:before{content:\"\\f07e\"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:\"\\f080\"}.fa-twitter-square:before{content:\"\\f081\"}.fa-facebook-square:before{content:\"\\f082\"}.fa-camera-retro:before{content:\"\\f083\"}.fa-key:before{content:\"\\f084\"}.fa-gears:before,.fa-cogs:before{content:\"\\f085\"}.fa-comments:before{content:\"\\f086\"}.fa-thumbs-o-up:before{content:\"\\f087\"}.fa-thumbs-o-down:before{content:\"\\f088\"}.fa-star-half:before{content:\"\\f089\"}.fa-heart-o:before{content:\"\\f08a\"}.fa-sign-out:before{content:\"\\f08b\"}.fa-linkedin-square:before{content:\"\\f08c\"}.fa-thumb-tack:before{content:\"\\f08d\"}.fa-external-link:before{content:\"\\f08e\"}.fa-sign-in:before{content:\"\\f090\"}.fa-trophy:before{content:\"\\f091\"}.fa-github-square:before{content:\"\\f092\"}.fa-upload:before{content:\"\\f093\"}.fa-lemon-o:before{content:\"\\f094\"}.fa-phone:before{content:\"\\f095\"}.fa-square-o:before{content:\"\\f096\"}.fa-bookmark-o:before{content:\"\\f097\"}.fa-phone-square:before{content:\"\\f098\"}.fa-twitter:before{content:\"\\f099\"}.fa-facebook-f:before,.fa-facebook:before{content:\"\\f09a\"}.fa-github:before{content:\"\\f09b\"}.fa-unlock:before{content:\"\\f09c\"}.fa-credit-card:before{content:\"\\f09d\"}.fa-feed:before,.fa-rss:before{content:\"\\f09e\"}.fa-hdd-o:before{content:\"\\f0a0\"}.fa-bullhorn:before{content:\"\\f0a1\"}.fa-bell:before{content:\"\\f0f3\"}.fa-certificate:before{content:\"\\f0a3\"}.fa-hand-o-right:before{content:\"\\f0a4\"}.fa-hand-o-left:before{content:\"\\f0a5\"}.fa-hand-o-up:before{content:\"\\f0a6\"}.fa-hand-o-down:before{content:\"\\f0a7\"}.fa-arrow-circle-left:before{content:\"\\f0a8\"}.fa-arrow-circle-right:before{content:\"\\f0a9\"}.fa-arrow-circle-up:before{content:\"\\f0aa\"}.fa-arrow-circle-down:before{content:\"\\f0ab\"}.fa-globe:before{content:\"\\f0ac\"}.fa-wrench:before{content:\"\\f0ad\"}.fa-tasks:before{content:\"\\f0ae\"}.fa-filter:before{content:\"\\f0b0\"}.fa-briefcase:before{content:\"\\f0b1\"}.fa-arrows-alt:before{content:\"\\f0b2\"}.fa-group:before,.fa-users:before{content:\"\\f0c0\"}.fa-chain:before,.fa-link:before{content:\"\\f0c1\"}.fa-cloud:before{content:\"\\f0c2\"}.fa-flask:before{content:\"\\f0c3\"}.fa-cut:before,.fa-scissors:before{content:\"\\f0c4\"}.fa-copy:before,.fa-files-o:before{content:\"\\f0c5\"}.fa-paperclip:before{content:\"\\f0c6\"}.fa-save:before,.fa-floppy-o:before{content:\"\\f0c7\"}.fa-square:before{content:\"\\f0c8\"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:\"\\f0c9\"}.fa-list-ul:before{content:\"\\f0ca\"}.fa-list-ol:before{content:\"\\f0cb\"}.fa-strikethrough:before{content:\"\\f0cc\"}.fa-underline:before{content:\"\\f0cd\"}.fa-table:before{content:\"\\f0ce\"}.fa-magic:before{content:\"\\f0d0\"}.fa-truck:before{content:\"\\f0d1\"}.fa-pinterest:before{content:\"\\f0d2\"}.fa-pinterest-square:before{content:\"\\f0d3\"}.fa-google-plus-square:before{content:\"\\f0d4\"}.fa-google-plus:before{content:\"\\f0d5\"}.fa-money:before{content:\"\\f0d6\"}.fa-caret-down:before{content:\"\\f0d7\"}.fa-caret-up:before{content:\"\\f0d8\"}.fa-caret-left:before{content:\"\\f0d9\"}.fa-caret-right:before{content:\"\\f0da\"}.fa-columns:before{content:\"\\f0db\"}.fa-unsorted:before,.fa-sort:before{content:\"\\f0dc\"}.fa-sort-down:before,.fa-sort-desc:before{content:\"\\f0dd\"}.fa-sort-up:before,.fa-sort-asc:before{content:\"\\f0de\"}.fa-envelope:before{content:\"\\f0e0\"}.fa-linkedin:before{content:\"\\f0e1\"}.fa-rotate-left:before,.fa-undo:before{content:\"\\f0e2\"}.fa-legal:before,.fa-gavel:before{content:\"\\f0e3\"}.fa-dashboard:before,.fa-tachometer:before{content:\"\\f0e4\"}.fa-comment-o:before{content:\"\\f0e5\"}.fa-comments-o:before{content:\"\\f0e6\"}.fa-flash:before,.fa-bolt:before{content:\"\\f0e7\"}.fa-sitemap:before{content:\"\\f0e8\"}.fa-umbrella:before{content:\"\\f0e9\"}.fa-paste:before,.fa-clipboard:before{content:\"\\f0ea\"}.fa-lightbulb-o:before{content:\"\\f0eb\"}.fa-exchange:before{content:\"\\f0ec\"}.fa-cloud-download:before{content:\"\\f0ed\"}.fa-cloud-upload:before{content:\"\\f0ee\"}.fa-user-md:before{content:\"\\f0f0\"}.fa-stethoscope:before{content:\"\\f0f1\"}.fa-suitcase:before{content:\"\\f0f2\"}.fa-bell-o:before{content:\"\\f0a2\"}.fa-coffee:before{content:\"\\f0f4\"}.fa-cutlery:before{content:\"\\f0f5\"}.fa-file-text-o:before{content:\"\\f0f6\"}.fa-building-o:before{content:\"\\f0f7\"}.fa-hospital-o:before{content:\"\\f0f8\"}.fa-ambulance:before{content:\"\\f0f9\"}.fa-medkit:before{content:\"\\f0fa\"}.fa-fighter-jet:before{content:\"\\f0fb\"}.fa-beer:before{content:\"\\f0fc\"}.fa-h-square:before{content:\"\\f0fd\"}.fa-plus-square:before{content:\"\\f0fe\"}.fa-angle-double-left:before{content:\"\\f100\"}.fa-angle-double-right:before{content:\"\\f101\"}.fa-angle-double-up:before{content:\"\\f102\"}.fa-angle-double-down:before{content:\"\\f103\"}.fa-angle-left:before{content:\"\\f104\"}.fa-angle-right:before{content:\"\\f105\"}.fa-angle-up:before{content:\"\\f106\"}.fa-angle-down:before{content:\"\\f107\"}.fa-desktop:before{content:\"\\f108\"}.fa-laptop:before{content:\"\\f109\"}.fa-tablet:before{content:\"\\f10a\"}.fa-mobile-phone:before,.fa-mobile:before{content:\"\\f10b\"}.fa-circle-o:before{content:\"\\f10c\"}.fa-quote-left:before{content:\"\\f10d\"}.fa-quote-right:before{content:\"\\f10e\"}.fa-spinner:before{content:\"\\f110\"}.fa-circle:before{content:\"\\f111\"}.fa-mail-reply:before,.fa-reply:before{content:\"\\f112\"}.fa-github-alt:before{content:\"\\f113\"}.fa-folder-o:before{content:\"\\f114\"}.fa-folder-open-o:before{content:\"\\f115\"}.fa-smile-o:before{content:\"\\f118\"}.fa-frown-o:before{content:\"\\f119\"}.fa-meh-o:before{content:\"\\f11a\"}.fa-gamepad:before{content:\"\\f11b\"}.fa-keyboard-o:before{content:\"\\f11c\"}.fa-flag-o:before{content:\"\\f11d\"}.fa-flag-checkered:before{content:\"\\f11e\"}.fa-terminal:before{content:\"\\f120\"}.fa-code:before{content:\"\\f121\"}.fa-mail-reply-all:before,.fa-reply-all:before{content:\"\\f122\"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:\"\\f123\"}.fa-location-arrow:before{content:\"\\f124\"}.fa-crop:before{content:\"\\f125\"}.fa-code-fork:before{content:\"\\f126\"}.fa-unlink:before,.fa-chain-broken:before{content:\"\\f127\"}.fa-question:before{content:\"\\f128\"}.fa-info:before{content:\"\\f129\"}.fa-exclamation:before{content:\"\\f12a\"}.fa-superscript:before{content:\"\\f12b\"}.fa-subscript:before{content:\"\\f12c\"}.fa-eraser:before{content:\"\\f12d\"}.fa-puzzle-piece:before{content:\"\\f12e\"}.fa-microphone:before{content:\"\\f130\"}.fa-microphone-slash:before{content:\"\\f131\"}.fa-shield:before{content:\"\\f132\"}.fa-calendar-o:before{content:\"\\f133\"}.fa-fire-extinguisher:before{content:\"\\f134\"}.fa-rocket:before{content:\"\\f135\"}.fa-maxcdn:before{content:\"\\f136\"}.fa-chevron-circle-left:before{content:\"\\f137\"}.fa-chevron-circle-right:before{content:\"\\f138\"}.fa-chevron-circle-up:before{content:\"\\f139\"}.fa-chevron-circle-down:before{content:\"\\f13a\"}.fa-html5:before{content:\"\\f13b\"}.fa-css3:before{content:\"\\f13c\"}.fa-anchor:before{content:\"\\f13d\"}.fa-unlock-alt:before{content:\"\\f13e\"}.fa-bullseye:before{content:\"\\f140\"}.fa-ellipsis-h:before{content:\"\\f141\"}.fa-ellipsis-v:before{content:\"\\f142\"}.fa-rss-square:before{content:\"\\f143\"}.fa-play-circle:before{content:\"\\f144\"}.fa-ticket:before{content:\"\\f145\"}.fa-minus-square:before{content:\"\\f146\"}.fa-minus-square-o:before{content:\"\\f147\"}.fa-level-up:before{content:\"\\f148\"}.fa-level-down:before{content:\"\\f149\"}.fa-check-square:before{content:\"\\f14a\"}.fa-pencil-square:before{content:\"\\f14b\"}.fa-external-link-square:before{content:\"\\f14c\"}.fa-share-square:before{content:\"\\f14d\"}.fa-compass:before{content:\"\\f14e\"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:\"\\f150\"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:\"\\f151\"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:\"\\f152\"}.fa-euro:before,.fa-eur:before{content:\"\\f153\"}.fa-gbp:before{content:\"\\f154\"}.fa-dollar:before,.fa-usd:before{content:\"\\f155\"}.fa-rupee:before,.fa-inr:before{content:\"\\f156\"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:\"\\f157\"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:\"\\f158\"}.fa-won:before,.fa-krw:before{content:\"\\f159\"}.fa-bitcoin:before,.fa-btc:before{content:\"\\f15a\"}.fa-file:before{content:\"\\f15b\"}.fa-file-text:before{content:\"\\f15c\"}.fa-sort-alpha-asc:before{content:\"\\f15d\"}.fa-sort-alpha-desc:before{content:\"\\f15e\"}.fa-sort-amount-asc:before{content:\"\\f160\"}.fa-sort-amount-desc:before{content:\"\\f161\"}.fa-sort-numeric-asc:before{content:\"\\f162\"}.fa-sort-numeric-desc:before{content:\"\\f163\"}.fa-thumbs-up:before{content:\"\\f164\"}.fa-thumbs-down:before{content:\"\\f165\"}.fa-youtube-square:before{content:\"\\f166\"}.fa-youtube:before{content:\"\\f167\"}.fa-xing:before{content:\"\\f168\"}.fa-xing-square:before{content:\"\\f169\"}.fa-youtube-play:before{content:\"\\f16a\"}.fa-dropbox:before{content:\"\\f16b\"}.fa-stack-overflow:before{content:\"\\f16c\"}.fa-instagram:before{content:\"\\f16d\"}.fa-flickr:before{content:\"\\f16e\"}.fa-adn:before{content:\"\\f170\"}.fa-bitbucket:before{content:\"\\f171\"}.fa-bitbucket-square:before{content:\"\\f172\"}.fa-tumblr:before{content:\"\\f173\"}.fa-tumblr-square:before{content:\"\\f174\"}.fa-long-arrow-down:before{content:\"\\f175\"}.fa-long-arrow-up:before{content:\"\\f176\"}.fa-long-arrow-left:before{content:\"\\f177\"}.fa-long-arrow-right:before{content:\"\\f178\"}.fa-apple:before{content:\"\\f179\"}.fa-windows:before{content:\"\\f17a\"}.fa-android:before{content:\"\\f17b\"}.fa-linux:before{content:\"\\f17c\"}.fa-dribbble:before{content:\"\\f17d\"}.fa-skype:before{content:\"\\f17e\"}.fa-foursquare:before{content:\"\\f180\"}.fa-trello:before{content:\"\\f181\"}.fa-female:before{content:\"\\f182\"}.fa-male:before{content:\"\\f183\"}.fa-gittip:before,.fa-gratipay:before{content:\"\\f184\"}.fa-sun-o:before{content:\"\\f185\"}.fa-moon-o:before{content:\"\\f186\"}.fa-archive:before{content:\"\\f187\"}.fa-bug:before{content:\"\\f188\"}.fa-vk:before{content:\"\\f189\"}.fa-weibo:before{content:\"\\f18a\"}.fa-renren:before{content:\"\\f18b\"}.fa-pagelines:before{content:\"\\f18c\"}.fa-stack-exchange:before{content:\"\\f18d\"}.fa-arrow-circle-o-right:before{content:\"\\f18e\"}.fa-arrow-circle-o-left:before{content:\"\\f190\"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:\"\\f191\"}.fa-dot-circle-o:before{content:\"\\f192\"}.fa-wheelchair:before{content:\"\\f193\"}.fa-vimeo-square:before{content:\"\\f194\"}.fa-turkish-lira:before,.fa-try:before{content:\"\\f195\"}.fa-plus-square-o:before{content:\"\\f196\"}.fa-space-shuttle:before{content:\"\\f197\"}.fa-slack:before{content:\"\\f198\"}.fa-envelope-square:before{content:\"\\f199\"}.fa-wordpress:before{content:\"\\f19a\"}.fa-openid:before{content:\"\\f19b\"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:\"\\f19c\"}.fa-mortar-board:before,.fa-graduation-cap:before{content:\"\\f19d\"}.fa-yahoo:before{content:\"\\f19e\"}.fa-google:before{content:\"\\f1a0\"}.fa-reddit:before{content:\"\\f1a1\"}.fa-reddit-square:before{content:\"\\f1a2\"}.fa-stumbleupon-circle:before{content:\"\\f1a3\"}.fa-stumbleupon:before{content:\"\\f1a4\"}.fa-delicious:before{content:\"\\f1a5\"}.fa-digg:before{content:\"\\f1a6\"}.fa-pied-piper-pp:before{content:\"\\f1a7\"}.fa-pied-piper-alt:before{content:\"\\f1a8\"}.fa-drupal:before{content:\"\\f1a9\"}.fa-joomla:before{content:\"\\f1aa\"}.fa-language:before{content:\"\\f1ab\"}.fa-fax:before{content:\"\\f1ac\"}.fa-building:before{content:\"\\f1ad\"}.fa-child:before{content:\"\\f1ae\"}.fa-paw:before{content:\"\\f1b0\"}.fa-spoon:before{content:\"\\f1b1\"}.fa-cube:before{content:\"\\f1b2\"}.fa-cubes:before{content:\"\\f1b3\"}.fa-behance:before{content:\"\\f1b4\"}.fa-behance-square:before{content:\"\\f1b5\"}.fa-steam:before{content:\"\\f1b6\"}.fa-steam-square:before{content:\"\\f1b7\"}.fa-recycle:before{content:\"\\f1b8\"}.fa-automobile:before,.fa-car:before{content:\"\\f1b9\"}.fa-cab:before,.fa-taxi:before{content:\"\\f1ba\"}.fa-tree:before{content:\"\\f1bb\"}.fa-spotify:before{content:\"\\f1bc\"}.fa-deviantart:before{content:\"\\f1bd\"}.fa-soundcloud:before{content:\"\\f1be\"}.fa-database:before{content:\"\\f1c0\"}.fa-file-pdf-o:before{content:\"\\f1c1\"}.fa-file-word-o:before{content:\"\\f1c2\"}.fa-file-excel-o:before{content:\"\\f1c3\"}.fa-file-powerpoint-o:before{content:\"\\f1c4\"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:\"\\f1c5\"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:\"\\f1c6\"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:\"\\f1c7\"}.fa-file-movie-o:before,.fa-file-video-o:before{content:\"\\f1c8\"}.fa-file-code-o:before{content:\"\\f1c9\"}.fa-vine:before{content:\"\\f1ca\"}.fa-codepen:before{content:\"\\f1cb\"}.fa-jsfiddle:before{content:\"\\f1cc\"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:\"\\f1cd\"}.fa-circle-o-notch:before{content:\"\\f1ce\"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:\"\\f1d0\"}.fa-ge:before,.fa-empire:before{content:\"\\f1d1\"}.fa-git-square:before{content:\"\\f1d2\"}.fa-git:before{content:\"\\f1d3\"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:\"\\f1d4\"}.fa-tencent-weibo:before{content:\"\\f1d5\"}.fa-qq:before{content:\"\\f1d6\"}.fa-wechat:before,.fa-weixin:before{content:\"\\f1d7\"}.fa-send:before,.fa-paper-plane:before{content:\"\\f1d8\"}.fa-send-o:before,.fa-paper-plane-o:before{content:\"\\f1d9\"}.fa-history:before{content:\"\\f1da\"}.fa-circle-thin:before{content:\"\\f1db\"}.fa-header:before{content:\"\\f1dc\"}.fa-paragraph:before{content:\"\\f1dd\"}.fa-sliders:before{content:\"\\f1de\"}.fa-share-alt:before{content:\"\\f1e0\"}.fa-share-alt-square:before{content:\"\\f1e1\"}.fa-bomb:before{content:\"\\f1e2\"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:\"\\f1e3\"}.fa-tty:before{content:\"\\f1e4\"}.fa-binoculars:before{content:\"\\f1e5\"}.fa-plug:before{content:\"\\f1e6\"}.fa-slideshare:before{content:\"\\f1e7\"}.fa-twitch:before{content:\"\\f1e8\"}.fa-yelp:before{content:\"\\f1e9\"}.fa-newspaper-o:before{content:\"\\f1ea\"}.fa-wifi:before{content:\"\\f1eb\"}.fa-calculator:before{content:\"\\f1ec\"}.fa-paypal:before{content:\"\\f1ed\"}.fa-google-wallet:before{content:\"\\f1ee\"}.fa-cc-visa:before{content:\"\\f1f0\"}.fa-cc-mastercard:before{content:\"\\f1f1\"}.fa-cc-discover:before{content:\"\\f1f2\"}.fa-cc-amex:before{content:\"\\f1f3\"}.fa-cc-paypal:before{content:\"\\f1f4\"}.fa-cc-stripe:before{content:\"\\f1f5\"}.fa-bell-slash:before{content:\"\\f1f6\"}.fa-bell-slash-o:before{content:\"\\f1f7\"}.fa-trash:before{content:\"\\f1f8\"}.fa-copyright:before{content:\"\\f1f9\"}.fa-at:before{content:\"\\f1fa\"}.fa-eyedropper:before{content:\"\\f1fb\"}.fa-paint-brush:before{content:\"\\f1fc\"}.fa-birthday-cake:before{content:\"\\f1fd\"}.fa-area-chart:before{content:\"\\f1fe\"}.fa-pie-chart:before{content:\"\\f200\"}.fa-line-chart:before{content:\"\\f201\"}.fa-lastfm:before{content:\"\\f202\"}.fa-lastfm-square:before{content:\"\\f203\"}.fa-toggle-off:before{content:\"\\f204\"}.fa-toggle-on:before{content:\"\\f205\"}.fa-bicycle:before{content:\"\\f206\"}.fa-bus:before{content:\"\\f207\"}.fa-ioxhost:before{content:\"\\f208\"}.fa-angellist:before{content:\"\\f209\"}.fa-cc:before{content:\"\\f20a\"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:\"\\f20b\"}.fa-meanpath:before{content:\"\\f20c\"}.fa-buysellads:before{content:\"\\f20d\"}.fa-connectdevelop:before{content:\"\\f20e\"}.fa-dashcube:before{content:\"\\f210\"}.fa-forumbee:before{content:\"\\f211\"}.fa-leanpub:before{content:\"\\f212\"}.fa-sellsy:before{content:\"\\f213\"}.fa-shirtsinbulk:before{content:\"\\f214\"}.fa-simplybuilt:before{content:\"\\f215\"}.fa-skyatlas:before{content:\"\\f216\"}.fa-cart-plus:before{content:\"\\f217\"}.fa-cart-arrow-down:before{content:\"\\f218\"}.fa-diamond:before{content:\"\\f219\"}.fa-ship:before{content:\"\\f21a\"}.fa-user-secret:before{content:\"\\f21b\"}.fa-motorcycle:before{content:\"\\f21c\"}.fa-street-view:before{content:\"\\f21d\"}.fa-heartbeat:before{content:\"\\f21e\"}.fa-venus:before{content:\"\\f221\"}.fa-mars:before{content:\"\\f222\"}.fa-mercury:before{content:\"\\f223\"}.fa-intersex:before,.fa-transgender:before{content:\"\\f224\"}.fa-transgender-alt:before{content:\"\\f225\"}.fa-venus-double:before{content:\"\\f226\"}.fa-mars-double:before{content:\"\\f227\"}.fa-venus-mars:before{content:\"\\f228\"}.fa-mars-stroke:before{content:\"\\f229\"}.fa-mars-stroke-v:before{content:\"\\f22a\"}.fa-mars-stroke-h:before{content:\"\\f22b\"}.fa-neuter:before{content:\"\\f22c\"}.fa-genderless:before{content:\"\\f22d\"}.fa-facebook-official:before{content:\"\\f230\"}.fa-pinterest-p:before{content:\"\\f231\"}.fa-whatsapp:before{content:\"\\f232\"}.fa-server:before{content:\"\\f233\"}.fa-user-plus:before{content:\"\\f234\"}.fa-user-times:before{content:\"\\f235\"}.fa-hotel:before,.fa-bed:before{content:\"\\f236\"}.fa-viacoin:before{content:\"\\f237\"}.fa-train:before{content:\"\\f238\"}.fa-subway:before{content:\"\\f239\"}.fa-medium:before{content:\"\\f23a\"}.fa-yc:before,.fa-y-combinator:before{content:\"\\f23b\"}.fa-optin-monster:before{content:\"\\f23c\"}.fa-opencart:before{content:\"\\f23d\"}.fa-expeditedssl:before{content:\"\\f23e\"}.fa-battery-4:before,.fa-battery-full:before{content:\"\\f240\"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:\"\\f241\"}.fa-battery-2:before,.fa-battery-half:before{content:\"\\f242\"}.fa-battery-1:before,.fa-battery-quarter:before{content:\"\\f243\"}.fa-battery-0:before,.fa-battery-empty:before{content:\"\\f244\"}.fa-mouse-pointer:before{content:\"\\f245\"}.fa-i-cursor:before{content:\"\\f246\"}.fa-object-group:before{content:\"\\f247\"}.fa-object-ungroup:before{content:\"\\f248\"}.fa-sticky-note:before{content:\"\\f249\"}.fa-sticky-note-o:before{content:\"\\f24a\"}.fa-cc-jcb:before{content:\"\\f24b\"}.fa-cc-diners-club:before{content:\"\\f24c\"}.fa-clone:before{content:\"\\f24d\"}.fa-balance-scale:before{content:\"\\f24e\"}.fa-hourglass-o:before{content:\"\\f250\"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:\"\\f251\"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:\"\\f252\"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:\"\\f253\"}.fa-hourglass:before{content:\"\\f254\"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:\"\\f255\"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:\"\\f256\"}.fa-hand-scissors-o:before{content:\"\\f257\"}.fa-hand-lizard-o:before{content:\"\\f258\"}.fa-hand-spock-o:before{content:\"\\f259\"}.fa-hand-pointer-o:before{content:\"\\f25a\"}.fa-hand-peace-o:before{content:\"\\f25b\"}.fa-trademark:before{content:\"\\f25c\"}.fa-registered:before{content:\"\\f25d\"}.fa-creative-commons:before{content:\"\\f25e\"}.fa-gg:before{content:\"\\f260\"}.fa-gg-circle:before{content:\"\\f261\"}.fa-tripadvisor:before{content:\"\\f262\"}.fa-odnoklassniki:before{content:\"\\f263\"}.fa-odnoklassniki-square:before{content:\"\\f264\"}.fa-get-pocket:before{content:\"\\f265\"}.fa-wikipedia-w:before{content:\"\\f266\"}.fa-safari:before{content:\"\\f267\"}.fa-chrome:before{content:\"\\f268\"}.fa-firefox:before{content:\"\\f269\"}.fa-opera:before{content:\"\\f26a\"}.fa-internet-explorer:before{content:\"\\f26b\"}.fa-tv:before,.fa-television:before{content:\"\\f26c\"}.fa-contao:before{content:\"\\f26d\"}.fa-500px:before{content:\"\\f26e\"}.fa-amazon:before{content:\"\\f270\"}.fa-calendar-plus-o:before{content:\"\\f271\"}.fa-calendar-minus-o:before{content:\"\\f272\"}.fa-calendar-times-o:before{content:\"\\f273\"}.fa-calendar-check-o:before{content:\"\\f274\"}.fa-industry:before{content:\"\\f275\"}.fa-map-pin:before{content:\"\\f276\"}.fa-map-signs:before{content:\"\\f277\"}.fa-map-o:before{content:\"\\f278\"}.fa-map:before{content:\"\\f279\"}.fa-commenting:before{content:\"\\f27a\"}.fa-commenting-o:before{content:\"\\f27b\"}.fa-houzz:before{content:\"\\f27c\"}.fa-vimeo:before{content:\"\\f27d\"}.fa-black-tie:before{content:\"\\f27e\"}.fa-fonticons:before{content:\"\\f280\"}.fa-reddit-alien:before{content:\"\\f281\"}.fa-edge:before{content:\"\\f282\"}.fa-credit-card-alt:before{content:\"\\f283\"}.fa-codiepie:before{content:\"\\f284\"}.fa-modx:before{content:\"\\f285\"}.fa-fort-awesome:before{content:\"\\f286\"}.fa-usb:before{content:\"\\f287\"}.fa-product-hunt:before{content:\"\\f288\"}.fa-mixcloud:before{content:\"\\f289\"}.fa-scribd:before{content:\"\\f28a\"}.fa-pause-circle:before{content:\"\\f28b\"}.fa-pause-circle-o:before{content:\"\\f28c\"}.fa-stop-circle:before{content:\"\\f28d\"}.fa-stop-circle-o:before{content:\"\\f28e\"}.fa-shopping-bag:before{content:\"\\f290\"}.fa-shopping-basket:before{content:\"\\f291\"}.fa-hashtag:before{content:\"\\f292\"}.fa-bluetooth:before{content:\"\\f293\"}.fa-bluetooth-b:before{content:\"\\f294\"}.fa-percent:before{content:\"\\f295\"}.fa-gitlab:before{content:\"\\f296\"}.fa-wpbeginner:before{content:\"\\f297\"}.fa-wpforms:before{content:\"\\f298\"}.fa-envira:before{content:\"\\f299\"}.fa-universal-access:before{content:\"\\f29a\"}.fa-wheelchair-alt:before{content:\"\\f29b\"}.fa-question-circle-o:before{content:\"\\f29c\"}.fa-blind:before{content:\"\\f29d\"}.fa-audio-description:before{content:\"\\f29e\"}.fa-volume-control-phone:before{content:\"\\f2a0\"}.fa-braille:before{content:\"\\f2a1\"}.fa-assistive-listening-systems:before{content:\"\\f2a2\"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:\"\\f2a3\"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:\"\\f2a4\"}.fa-glide:before{content:\"\\f2a5\"}.fa-glide-g:before{content:\"\\f2a6\"}.fa-signing:before,.fa-sign-language:before{content:\"\\f2a7\"}.fa-low-vision:before{content:\"\\f2a8\"}.fa-viadeo:before{content:\"\\f2a9\"}.fa-viadeo-square:before{content:\"\\f2aa\"}.fa-snapchat:before{content:\"\\f2ab\"}.fa-snapchat-ghost:before{content:\"\\f2ac\"}.fa-snapchat-square:before{content:\"\\f2ad\"}.fa-pied-piper:before{content:\"\\f2ae\"}.fa-first-order:before{content:\"\\f2b0\"}.fa-yoast:before{content:\"\\f2b1\"}.fa-themeisle:before{content:\"\\f2b2\"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:\"\\f2b3\"}.fa-fa:before,.fa-font-awesome:before{content:\"\\f2b4\"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}\n","source":"images/tags _ Night's blog_files/font-awesome.min.css","raw":"/*!\n *  Font Awesome 4.6.3 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:'FontAwesome';src:url('../fonts/fontawesome-webfont.eot?v=4.6.3');src:url('../fonts/fontawesome-webfont.eot?#iefix&v=4.6.3') format('embedded-opentype'),url('../fonts/fontawesome-webfont.woff2?v=4.6.3') format('woff2'),url('../fonts/fontawesome-webfont.woff?v=4.6.3') format('woff'),url('../fonts/fontawesome-webfont.ttf?v=4.6.3') format('truetype'),url('../fonts/fontawesome-webfont.svg?v=4.6.3#fontawesomeregular') format('svg');font-weight:normal;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\";-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\";-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\";-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\";-webkit-transform:scale(-1, 1);-ms-transform:scale(-1, 1);transform:scale(-1, 1)}.fa-flip-vertical{-ms-filter:\"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\";-webkit-transform:scale(1, -1);-ms-transform:scale(1, -1);transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:\"\\f000\"}.fa-music:before{content:\"\\f001\"}.fa-search:before{content:\"\\f002\"}.fa-envelope-o:before{content:\"\\f003\"}.fa-heart:before{content:\"\\f004\"}.fa-star:before{content:\"\\f005\"}.fa-star-o:before{content:\"\\f006\"}.fa-user:before{content:\"\\f007\"}.fa-film:before{content:\"\\f008\"}.fa-th-large:before{content:\"\\f009\"}.fa-th:before{content:\"\\f00a\"}.fa-th-list:before{content:\"\\f00b\"}.fa-check:before{content:\"\\f00c\"}.fa-remove:before,.fa-close:before,.fa-times:before{content:\"\\f00d\"}.fa-search-plus:before{content:\"\\f00e\"}.fa-search-minus:before{content:\"\\f010\"}.fa-power-off:before{content:\"\\f011\"}.fa-signal:before{content:\"\\f012\"}.fa-gear:before,.fa-cog:before{content:\"\\f013\"}.fa-trash-o:before{content:\"\\f014\"}.fa-home:before{content:\"\\f015\"}.fa-file-o:before{content:\"\\f016\"}.fa-clock-o:before{content:\"\\f017\"}.fa-road:before{content:\"\\f018\"}.fa-download:before{content:\"\\f019\"}.fa-arrow-circle-o-down:before{content:\"\\f01a\"}.fa-arrow-circle-o-up:before{content:\"\\f01b\"}.fa-inbox:before{content:\"\\f01c\"}.fa-play-circle-o:before{content:\"\\f01d\"}.fa-rotate-right:before,.fa-repeat:before{content:\"\\f01e\"}.fa-refresh:before{content:\"\\f021\"}.fa-list-alt:before{content:\"\\f022\"}.fa-lock:before{content:\"\\f023\"}.fa-flag:before{content:\"\\f024\"}.fa-headphones:before{content:\"\\f025\"}.fa-volume-off:before{content:\"\\f026\"}.fa-volume-down:before{content:\"\\f027\"}.fa-volume-up:before{content:\"\\f028\"}.fa-qrcode:before{content:\"\\f029\"}.fa-barcode:before{content:\"\\f02a\"}.fa-tag:before{content:\"\\f02b\"}.fa-tags:before{content:\"\\f02c\"}.fa-book:before{content:\"\\f02d\"}.fa-bookmark:before{content:\"\\f02e\"}.fa-print:before{content:\"\\f02f\"}.fa-camera:before{content:\"\\f030\"}.fa-font:before{content:\"\\f031\"}.fa-bold:before{content:\"\\f032\"}.fa-italic:before{content:\"\\f033\"}.fa-text-height:before{content:\"\\f034\"}.fa-text-width:before{content:\"\\f035\"}.fa-align-left:before{content:\"\\f036\"}.fa-align-center:before{content:\"\\f037\"}.fa-align-right:before{content:\"\\f038\"}.fa-align-justify:before{content:\"\\f039\"}.fa-list:before{content:\"\\f03a\"}.fa-dedent:before,.fa-outdent:before{content:\"\\f03b\"}.fa-indent:before{content:\"\\f03c\"}.fa-video-camera:before{content:\"\\f03d\"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:\"\\f03e\"}.fa-pencil:before{content:\"\\f040\"}.fa-map-marker:before{content:\"\\f041\"}.fa-adjust:before{content:\"\\f042\"}.fa-tint:before{content:\"\\f043\"}.fa-edit:before,.fa-pencil-square-o:before{content:\"\\f044\"}.fa-share-square-o:before{content:\"\\f045\"}.fa-check-square-o:before{content:\"\\f046\"}.fa-arrows:before{content:\"\\f047\"}.fa-step-backward:before{content:\"\\f048\"}.fa-fast-backward:before{content:\"\\f049\"}.fa-backward:before{content:\"\\f04a\"}.fa-play:before{content:\"\\f04b\"}.fa-pause:before{content:\"\\f04c\"}.fa-stop:before{content:\"\\f04d\"}.fa-forward:before{content:\"\\f04e\"}.fa-fast-forward:before{content:\"\\f050\"}.fa-step-forward:before{content:\"\\f051\"}.fa-eject:before{content:\"\\f052\"}.fa-chevron-left:before{content:\"\\f053\"}.fa-chevron-right:before{content:\"\\f054\"}.fa-plus-circle:before{content:\"\\f055\"}.fa-minus-circle:before{content:\"\\f056\"}.fa-times-circle:before{content:\"\\f057\"}.fa-check-circle:before{content:\"\\f058\"}.fa-question-circle:before{content:\"\\f059\"}.fa-info-circle:before{content:\"\\f05a\"}.fa-crosshairs:before{content:\"\\f05b\"}.fa-times-circle-o:before{content:\"\\f05c\"}.fa-check-circle-o:before{content:\"\\f05d\"}.fa-ban:before{content:\"\\f05e\"}.fa-arrow-left:before{content:\"\\f060\"}.fa-arrow-right:before{content:\"\\f061\"}.fa-arrow-up:before{content:\"\\f062\"}.fa-arrow-down:before{content:\"\\f063\"}.fa-mail-forward:before,.fa-share:before{content:\"\\f064\"}.fa-expand:before{content:\"\\f065\"}.fa-compress:before{content:\"\\f066\"}.fa-plus:before{content:\"\\f067\"}.fa-minus:before{content:\"\\f068\"}.fa-asterisk:before{content:\"\\f069\"}.fa-exclamation-circle:before{content:\"\\f06a\"}.fa-gift:before{content:\"\\f06b\"}.fa-leaf:before{content:\"\\f06c\"}.fa-fire:before{content:\"\\f06d\"}.fa-eye:before{content:\"\\f06e\"}.fa-eye-slash:before{content:\"\\f070\"}.fa-warning:before,.fa-exclamation-triangle:before{content:\"\\f071\"}.fa-plane:before{content:\"\\f072\"}.fa-calendar:before{content:\"\\f073\"}.fa-random:before{content:\"\\f074\"}.fa-comment:before{content:\"\\f075\"}.fa-magnet:before{content:\"\\f076\"}.fa-chevron-up:before{content:\"\\f077\"}.fa-chevron-down:before{content:\"\\f078\"}.fa-retweet:before{content:\"\\f079\"}.fa-shopping-cart:before{content:\"\\f07a\"}.fa-folder:before{content:\"\\f07b\"}.fa-folder-open:before{content:\"\\f07c\"}.fa-arrows-v:before{content:\"\\f07d\"}.fa-arrows-h:before{content:\"\\f07e\"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:\"\\f080\"}.fa-twitter-square:before{content:\"\\f081\"}.fa-facebook-square:before{content:\"\\f082\"}.fa-camera-retro:before{content:\"\\f083\"}.fa-key:before{content:\"\\f084\"}.fa-gears:before,.fa-cogs:before{content:\"\\f085\"}.fa-comments:before{content:\"\\f086\"}.fa-thumbs-o-up:before{content:\"\\f087\"}.fa-thumbs-o-down:before{content:\"\\f088\"}.fa-star-half:before{content:\"\\f089\"}.fa-heart-o:before{content:\"\\f08a\"}.fa-sign-out:before{content:\"\\f08b\"}.fa-linkedin-square:before{content:\"\\f08c\"}.fa-thumb-tack:before{content:\"\\f08d\"}.fa-external-link:before{content:\"\\f08e\"}.fa-sign-in:before{content:\"\\f090\"}.fa-trophy:before{content:\"\\f091\"}.fa-github-square:before{content:\"\\f092\"}.fa-upload:before{content:\"\\f093\"}.fa-lemon-o:before{content:\"\\f094\"}.fa-phone:before{content:\"\\f095\"}.fa-square-o:before{content:\"\\f096\"}.fa-bookmark-o:before{content:\"\\f097\"}.fa-phone-square:before{content:\"\\f098\"}.fa-twitter:before{content:\"\\f099\"}.fa-facebook-f:before,.fa-facebook:before{content:\"\\f09a\"}.fa-github:before{content:\"\\f09b\"}.fa-unlock:before{content:\"\\f09c\"}.fa-credit-card:before{content:\"\\f09d\"}.fa-feed:before,.fa-rss:before{content:\"\\f09e\"}.fa-hdd-o:before{content:\"\\f0a0\"}.fa-bullhorn:before{content:\"\\f0a1\"}.fa-bell:before{content:\"\\f0f3\"}.fa-certificate:before{content:\"\\f0a3\"}.fa-hand-o-right:before{content:\"\\f0a4\"}.fa-hand-o-left:before{content:\"\\f0a5\"}.fa-hand-o-up:before{content:\"\\f0a6\"}.fa-hand-o-down:before{content:\"\\f0a7\"}.fa-arrow-circle-left:before{content:\"\\f0a8\"}.fa-arrow-circle-right:before{content:\"\\f0a9\"}.fa-arrow-circle-up:before{content:\"\\f0aa\"}.fa-arrow-circle-down:before{content:\"\\f0ab\"}.fa-globe:before{content:\"\\f0ac\"}.fa-wrench:before{content:\"\\f0ad\"}.fa-tasks:before{content:\"\\f0ae\"}.fa-filter:before{content:\"\\f0b0\"}.fa-briefcase:before{content:\"\\f0b1\"}.fa-arrows-alt:before{content:\"\\f0b2\"}.fa-group:before,.fa-users:before{content:\"\\f0c0\"}.fa-chain:before,.fa-link:before{content:\"\\f0c1\"}.fa-cloud:before{content:\"\\f0c2\"}.fa-flask:before{content:\"\\f0c3\"}.fa-cut:before,.fa-scissors:before{content:\"\\f0c4\"}.fa-copy:before,.fa-files-o:before{content:\"\\f0c5\"}.fa-paperclip:before{content:\"\\f0c6\"}.fa-save:before,.fa-floppy-o:before{content:\"\\f0c7\"}.fa-square:before{content:\"\\f0c8\"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:\"\\f0c9\"}.fa-list-ul:before{content:\"\\f0ca\"}.fa-list-ol:before{content:\"\\f0cb\"}.fa-strikethrough:before{content:\"\\f0cc\"}.fa-underline:before{content:\"\\f0cd\"}.fa-table:before{content:\"\\f0ce\"}.fa-magic:before{content:\"\\f0d0\"}.fa-truck:before{content:\"\\f0d1\"}.fa-pinterest:before{content:\"\\f0d2\"}.fa-pinterest-square:before{content:\"\\f0d3\"}.fa-google-plus-square:before{content:\"\\f0d4\"}.fa-google-plus:before{content:\"\\f0d5\"}.fa-money:before{content:\"\\f0d6\"}.fa-caret-down:before{content:\"\\f0d7\"}.fa-caret-up:before{content:\"\\f0d8\"}.fa-caret-left:before{content:\"\\f0d9\"}.fa-caret-right:before{content:\"\\f0da\"}.fa-columns:before{content:\"\\f0db\"}.fa-unsorted:before,.fa-sort:before{content:\"\\f0dc\"}.fa-sort-down:before,.fa-sort-desc:before{content:\"\\f0dd\"}.fa-sort-up:before,.fa-sort-asc:before{content:\"\\f0de\"}.fa-envelope:before{content:\"\\f0e0\"}.fa-linkedin:before{content:\"\\f0e1\"}.fa-rotate-left:before,.fa-undo:before{content:\"\\f0e2\"}.fa-legal:before,.fa-gavel:before{content:\"\\f0e3\"}.fa-dashboard:before,.fa-tachometer:before{content:\"\\f0e4\"}.fa-comment-o:before{content:\"\\f0e5\"}.fa-comments-o:before{content:\"\\f0e6\"}.fa-flash:before,.fa-bolt:before{content:\"\\f0e7\"}.fa-sitemap:before{content:\"\\f0e8\"}.fa-umbrella:before{content:\"\\f0e9\"}.fa-paste:before,.fa-clipboard:before{content:\"\\f0ea\"}.fa-lightbulb-o:before{content:\"\\f0eb\"}.fa-exchange:before{content:\"\\f0ec\"}.fa-cloud-download:before{content:\"\\f0ed\"}.fa-cloud-upload:before{content:\"\\f0ee\"}.fa-user-md:before{content:\"\\f0f0\"}.fa-stethoscope:before{content:\"\\f0f1\"}.fa-suitcase:before{content:\"\\f0f2\"}.fa-bell-o:before{content:\"\\f0a2\"}.fa-coffee:before{content:\"\\f0f4\"}.fa-cutlery:before{content:\"\\f0f5\"}.fa-file-text-o:before{content:\"\\f0f6\"}.fa-building-o:before{content:\"\\f0f7\"}.fa-hospital-o:before{content:\"\\f0f8\"}.fa-ambulance:before{content:\"\\f0f9\"}.fa-medkit:before{content:\"\\f0fa\"}.fa-fighter-jet:before{content:\"\\f0fb\"}.fa-beer:before{content:\"\\f0fc\"}.fa-h-square:before{content:\"\\f0fd\"}.fa-plus-square:before{content:\"\\f0fe\"}.fa-angle-double-left:before{content:\"\\f100\"}.fa-angle-double-right:before{content:\"\\f101\"}.fa-angle-double-up:before{content:\"\\f102\"}.fa-angle-double-down:before{content:\"\\f103\"}.fa-angle-left:before{content:\"\\f104\"}.fa-angle-right:before{content:\"\\f105\"}.fa-angle-up:before{content:\"\\f106\"}.fa-angle-down:before{content:\"\\f107\"}.fa-desktop:before{content:\"\\f108\"}.fa-laptop:before{content:\"\\f109\"}.fa-tablet:before{content:\"\\f10a\"}.fa-mobile-phone:before,.fa-mobile:before{content:\"\\f10b\"}.fa-circle-o:before{content:\"\\f10c\"}.fa-quote-left:before{content:\"\\f10d\"}.fa-quote-right:before{content:\"\\f10e\"}.fa-spinner:before{content:\"\\f110\"}.fa-circle:before{content:\"\\f111\"}.fa-mail-reply:before,.fa-reply:before{content:\"\\f112\"}.fa-github-alt:before{content:\"\\f113\"}.fa-folder-o:before{content:\"\\f114\"}.fa-folder-open-o:before{content:\"\\f115\"}.fa-smile-o:before{content:\"\\f118\"}.fa-frown-o:before{content:\"\\f119\"}.fa-meh-o:before{content:\"\\f11a\"}.fa-gamepad:before{content:\"\\f11b\"}.fa-keyboard-o:before{content:\"\\f11c\"}.fa-flag-o:before{content:\"\\f11d\"}.fa-flag-checkered:before{content:\"\\f11e\"}.fa-terminal:before{content:\"\\f120\"}.fa-code:before{content:\"\\f121\"}.fa-mail-reply-all:before,.fa-reply-all:before{content:\"\\f122\"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:\"\\f123\"}.fa-location-arrow:before{content:\"\\f124\"}.fa-crop:before{content:\"\\f125\"}.fa-code-fork:before{content:\"\\f126\"}.fa-unlink:before,.fa-chain-broken:before{content:\"\\f127\"}.fa-question:before{content:\"\\f128\"}.fa-info:before{content:\"\\f129\"}.fa-exclamation:before{content:\"\\f12a\"}.fa-superscript:before{content:\"\\f12b\"}.fa-subscript:before{content:\"\\f12c\"}.fa-eraser:before{content:\"\\f12d\"}.fa-puzzle-piece:before{content:\"\\f12e\"}.fa-microphone:before{content:\"\\f130\"}.fa-microphone-slash:before{content:\"\\f131\"}.fa-shield:before{content:\"\\f132\"}.fa-calendar-o:before{content:\"\\f133\"}.fa-fire-extinguisher:before{content:\"\\f134\"}.fa-rocket:before{content:\"\\f135\"}.fa-maxcdn:before{content:\"\\f136\"}.fa-chevron-circle-left:before{content:\"\\f137\"}.fa-chevron-circle-right:before{content:\"\\f138\"}.fa-chevron-circle-up:before{content:\"\\f139\"}.fa-chevron-circle-down:before{content:\"\\f13a\"}.fa-html5:before{content:\"\\f13b\"}.fa-css3:before{content:\"\\f13c\"}.fa-anchor:before{content:\"\\f13d\"}.fa-unlock-alt:before{content:\"\\f13e\"}.fa-bullseye:before{content:\"\\f140\"}.fa-ellipsis-h:before{content:\"\\f141\"}.fa-ellipsis-v:before{content:\"\\f142\"}.fa-rss-square:before{content:\"\\f143\"}.fa-play-circle:before{content:\"\\f144\"}.fa-ticket:before{content:\"\\f145\"}.fa-minus-square:before{content:\"\\f146\"}.fa-minus-square-o:before{content:\"\\f147\"}.fa-level-up:before{content:\"\\f148\"}.fa-level-down:before{content:\"\\f149\"}.fa-check-square:before{content:\"\\f14a\"}.fa-pencil-square:before{content:\"\\f14b\"}.fa-external-link-square:before{content:\"\\f14c\"}.fa-share-square:before{content:\"\\f14d\"}.fa-compass:before{content:\"\\f14e\"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:\"\\f150\"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:\"\\f151\"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:\"\\f152\"}.fa-euro:before,.fa-eur:before{content:\"\\f153\"}.fa-gbp:before{content:\"\\f154\"}.fa-dollar:before,.fa-usd:before{content:\"\\f155\"}.fa-rupee:before,.fa-inr:before{content:\"\\f156\"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:\"\\f157\"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:\"\\f158\"}.fa-won:before,.fa-krw:before{content:\"\\f159\"}.fa-bitcoin:before,.fa-btc:before{content:\"\\f15a\"}.fa-file:before{content:\"\\f15b\"}.fa-file-text:before{content:\"\\f15c\"}.fa-sort-alpha-asc:before{content:\"\\f15d\"}.fa-sort-alpha-desc:before{content:\"\\f15e\"}.fa-sort-amount-asc:before{content:\"\\f160\"}.fa-sort-amount-desc:before{content:\"\\f161\"}.fa-sort-numeric-asc:before{content:\"\\f162\"}.fa-sort-numeric-desc:before{content:\"\\f163\"}.fa-thumbs-up:before{content:\"\\f164\"}.fa-thumbs-down:before{content:\"\\f165\"}.fa-youtube-square:before{content:\"\\f166\"}.fa-youtube:before{content:\"\\f167\"}.fa-xing:before{content:\"\\f168\"}.fa-xing-square:before{content:\"\\f169\"}.fa-youtube-play:before{content:\"\\f16a\"}.fa-dropbox:before{content:\"\\f16b\"}.fa-stack-overflow:before{content:\"\\f16c\"}.fa-instagram:before{content:\"\\f16d\"}.fa-flickr:before{content:\"\\f16e\"}.fa-adn:before{content:\"\\f170\"}.fa-bitbucket:before{content:\"\\f171\"}.fa-bitbucket-square:before{content:\"\\f172\"}.fa-tumblr:before{content:\"\\f173\"}.fa-tumblr-square:before{content:\"\\f174\"}.fa-long-arrow-down:before{content:\"\\f175\"}.fa-long-arrow-up:before{content:\"\\f176\"}.fa-long-arrow-left:before{content:\"\\f177\"}.fa-long-arrow-right:before{content:\"\\f178\"}.fa-apple:before{content:\"\\f179\"}.fa-windows:before{content:\"\\f17a\"}.fa-android:before{content:\"\\f17b\"}.fa-linux:before{content:\"\\f17c\"}.fa-dribbble:before{content:\"\\f17d\"}.fa-skype:before{content:\"\\f17e\"}.fa-foursquare:before{content:\"\\f180\"}.fa-trello:before{content:\"\\f181\"}.fa-female:before{content:\"\\f182\"}.fa-male:before{content:\"\\f183\"}.fa-gittip:before,.fa-gratipay:before{content:\"\\f184\"}.fa-sun-o:before{content:\"\\f185\"}.fa-moon-o:before{content:\"\\f186\"}.fa-archive:before{content:\"\\f187\"}.fa-bug:before{content:\"\\f188\"}.fa-vk:before{content:\"\\f189\"}.fa-weibo:before{content:\"\\f18a\"}.fa-renren:before{content:\"\\f18b\"}.fa-pagelines:before{content:\"\\f18c\"}.fa-stack-exchange:before{content:\"\\f18d\"}.fa-arrow-circle-o-right:before{content:\"\\f18e\"}.fa-arrow-circle-o-left:before{content:\"\\f190\"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:\"\\f191\"}.fa-dot-circle-o:before{content:\"\\f192\"}.fa-wheelchair:before{content:\"\\f193\"}.fa-vimeo-square:before{content:\"\\f194\"}.fa-turkish-lira:before,.fa-try:before{content:\"\\f195\"}.fa-plus-square-o:before{content:\"\\f196\"}.fa-space-shuttle:before{content:\"\\f197\"}.fa-slack:before{content:\"\\f198\"}.fa-envelope-square:before{content:\"\\f199\"}.fa-wordpress:before{content:\"\\f19a\"}.fa-openid:before{content:\"\\f19b\"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:\"\\f19c\"}.fa-mortar-board:before,.fa-graduation-cap:before{content:\"\\f19d\"}.fa-yahoo:before{content:\"\\f19e\"}.fa-google:before{content:\"\\f1a0\"}.fa-reddit:before{content:\"\\f1a1\"}.fa-reddit-square:before{content:\"\\f1a2\"}.fa-stumbleupon-circle:before{content:\"\\f1a3\"}.fa-stumbleupon:before{content:\"\\f1a4\"}.fa-delicious:before{content:\"\\f1a5\"}.fa-digg:before{content:\"\\f1a6\"}.fa-pied-piper-pp:before{content:\"\\f1a7\"}.fa-pied-piper-alt:before{content:\"\\f1a8\"}.fa-drupal:before{content:\"\\f1a9\"}.fa-joomla:before{content:\"\\f1aa\"}.fa-language:before{content:\"\\f1ab\"}.fa-fax:before{content:\"\\f1ac\"}.fa-building:before{content:\"\\f1ad\"}.fa-child:before{content:\"\\f1ae\"}.fa-paw:before{content:\"\\f1b0\"}.fa-spoon:before{content:\"\\f1b1\"}.fa-cube:before{content:\"\\f1b2\"}.fa-cubes:before{content:\"\\f1b3\"}.fa-behance:before{content:\"\\f1b4\"}.fa-behance-square:before{content:\"\\f1b5\"}.fa-steam:before{content:\"\\f1b6\"}.fa-steam-square:before{content:\"\\f1b7\"}.fa-recycle:before{content:\"\\f1b8\"}.fa-automobile:before,.fa-car:before{content:\"\\f1b9\"}.fa-cab:before,.fa-taxi:before{content:\"\\f1ba\"}.fa-tree:before{content:\"\\f1bb\"}.fa-spotify:before{content:\"\\f1bc\"}.fa-deviantart:before{content:\"\\f1bd\"}.fa-soundcloud:before{content:\"\\f1be\"}.fa-database:before{content:\"\\f1c0\"}.fa-file-pdf-o:before{content:\"\\f1c1\"}.fa-file-word-o:before{content:\"\\f1c2\"}.fa-file-excel-o:before{content:\"\\f1c3\"}.fa-file-powerpoint-o:before{content:\"\\f1c4\"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:\"\\f1c5\"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:\"\\f1c6\"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:\"\\f1c7\"}.fa-file-movie-o:before,.fa-file-video-o:before{content:\"\\f1c8\"}.fa-file-code-o:before{content:\"\\f1c9\"}.fa-vine:before{content:\"\\f1ca\"}.fa-codepen:before{content:\"\\f1cb\"}.fa-jsfiddle:before{content:\"\\f1cc\"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:\"\\f1cd\"}.fa-circle-o-notch:before{content:\"\\f1ce\"}.fa-ra:before,.fa-resistance:before,.fa-rebel:before{content:\"\\f1d0\"}.fa-ge:before,.fa-empire:before{content:\"\\f1d1\"}.fa-git-square:before{content:\"\\f1d2\"}.fa-git:before{content:\"\\f1d3\"}.fa-y-combinator-square:before,.fa-yc-square:before,.fa-hacker-news:before{content:\"\\f1d4\"}.fa-tencent-weibo:before{content:\"\\f1d5\"}.fa-qq:before{content:\"\\f1d6\"}.fa-wechat:before,.fa-weixin:before{content:\"\\f1d7\"}.fa-send:before,.fa-paper-plane:before{content:\"\\f1d8\"}.fa-send-o:before,.fa-paper-plane-o:before{content:\"\\f1d9\"}.fa-history:before{content:\"\\f1da\"}.fa-circle-thin:before{content:\"\\f1db\"}.fa-header:before{content:\"\\f1dc\"}.fa-paragraph:before{content:\"\\f1dd\"}.fa-sliders:before{content:\"\\f1de\"}.fa-share-alt:before{content:\"\\f1e0\"}.fa-share-alt-square:before{content:\"\\f1e1\"}.fa-bomb:before{content:\"\\f1e2\"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:\"\\f1e3\"}.fa-tty:before{content:\"\\f1e4\"}.fa-binoculars:before{content:\"\\f1e5\"}.fa-plug:before{content:\"\\f1e6\"}.fa-slideshare:before{content:\"\\f1e7\"}.fa-twitch:before{content:\"\\f1e8\"}.fa-yelp:before{content:\"\\f1e9\"}.fa-newspaper-o:before{content:\"\\f1ea\"}.fa-wifi:before{content:\"\\f1eb\"}.fa-calculator:before{content:\"\\f1ec\"}.fa-paypal:before{content:\"\\f1ed\"}.fa-google-wallet:before{content:\"\\f1ee\"}.fa-cc-visa:before{content:\"\\f1f0\"}.fa-cc-mastercard:before{content:\"\\f1f1\"}.fa-cc-discover:before{content:\"\\f1f2\"}.fa-cc-amex:before{content:\"\\f1f3\"}.fa-cc-paypal:before{content:\"\\f1f4\"}.fa-cc-stripe:before{content:\"\\f1f5\"}.fa-bell-slash:before{content:\"\\f1f6\"}.fa-bell-slash-o:before{content:\"\\f1f7\"}.fa-trash:before{content:\"\\f1f8\"}.fa-copyright:before{content:\"\\f1f9\"}.fa-at:before{content:\"\\f1fa\"}.fa-eyedropper:before{content:\"\\f1fb\"}.fa-paint-brush:before{content:\"\\f1fc\"}.fa-birthday-cake:before{content:\"\\f1fd\"}.fa-area-chart:before{content:\"\\f1fe\"}.fa-pie-chart:before{content:\"\\f200\"}.fa-line-chart:before{content:\"\\f201\"}.fa-lastfm:before{content:\"\\f202\"}.fa-lastfm-square:before{content:\"\\f203\"}.fa-toggle-off:before{content:\"\\f204\"}.fa-toggle-on:before{content:\"\\f205\"}.fa-bicycle:before{content:\"\\f206\"}.fa-bus:before{content:\"\\f207\"}.fa-ioxhost:before{content:\"\\f208\"}.fa-angellist:before{content:\"\\f209\"}.fa-cc:before{content:\"\\f20a\"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:\"\\f20b\"}.fa-meanpath:before{content:\"\\f20c\"}.fa-buysellads:before{content:\"\\f20d\"}.fa-connectdevelop:before{content:\"\\f20e\"}.fa-dashcube:before{content:\"\\f210\"}.fa-forumbee:before{content:\"\\f211\"}.fa-leanpub:before{content:\"\\f212\"}.fa-sellsy:before{content:\"\\f213\"}.fa-shirtsinbulk:before{content:\"\\f214\"}.fa-simplybuilt:before{content:\"\\f215\"}.fa-skyatlas:before{content:\"\\f216\"}.fa-cart-plus:before{content:\"\\f217\"}.fa-cart-arrow-down:before{content:\"\\f218\"}.fa-diamond:before{content:\"\\f219\"}.fa-ship:before{content:\"\\f21a\"}.fa-user-secret:before{content:\"\\f21b\"}.fa-motorcycle:before{content:\"\\f21c\"}.fa-street-view:before{content:\"\\f21d\"}.fa-heartbeat:before{content:\"\\f21e\"}.fa-venus:before{content:\"\\f221\"}.fa-mars:before{content:\"\\f222\"}.fa-mercury:before{content:\"\\f223\"}.fa-intersex:before,.fa-transgender:before{content:\"\\f224\"}.fa-transgender-alt:before{content:\"\\f225\"}.fa-venus-double:before{content:\"\\f226\"}.fa-mars-double:before{content:\"\\f227\"}.fa-venus-mars:before{content:\"\\f228\"}.fa-mars-stroke:before{content:\"\\f229\"}.fa-mars-stroke-v:before{content:\"\\f22a\"}.fa-mars-stroke-h:before{content:\"\\f22b\"}.fa-neuter:before{content:\"\\f22c\"}.fa-genderless:before{content:\"\\f22d\"}.fa-facebook-official:before{content:\"\\f230\"}.fa-pinterest-p:before{content:\"\\f231\"}.fa-whatsapp:before{content:\"\\f232\"}.fa-server:before{content:\"\\f233\"}.fa-user-plus:before{content:\"\\f234\"}.fa-user-times:before{content:\"\\f235\"}.fa-hotel:before,.fa-bed:before{content:\"\\f236\"}.fa-viacoin:before{content:\"\\f237\"}.fa-train:before{content:\"\\f238\"}.fa-subway:before{content:\"\\f239\"}.fa-medium:before{content:\"\\f23a\"}.fa-yc:before,.fa-y-combinator:before{content:\"\\f23b\"}.fa-optin-monster:before{content:\"\\f23c\"}.fa-opencart:before{content:\"\\f23d\"}.fa-expeditedssl:before{content:\"\\f23e\"}.fa-battery-4:before,.fa-battery-full:before{content:\"\\f240\"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:\"\\f241\"}.fa-battery-2:before,.fa-battery-half:before{content:\"\\f242\"}.fa-battery-1:before,.fa-battery-quarter:before{content:\"\\f243\"}.fa-battery-0:before,.fa-battery-empty:before{content:\"\\f244\"}.fa-mouse-pointer:before{content:\"\\f245\"}.fa-i-cursor:before{content:\"\\f246\"}.fa-object-group:before{content:\"\\f247\"}.fa-object-ungroup:before{content:\"\\f248\"}.fa-sticky-note:before{content:\"\\f249\"}.fa-sticky-note-o:before{content:\"\\f24a\"}.fa-cc-jcb:before{content:\"\\f24b\"}.fa-cc-diners-club:before{content:\"\\f24c\"}.fa-clone:before{content:\"\\f24d\"}.fa-balance-scale:before{content:\"\\f24e\"}.fa-hourglass-o:before{content:\"\\f250\"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:\"\\f251\"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:\"\\f252\"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:\"\\f253\"}.fa-hourglass:before{content:\"\\f254\"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:\"\\f255\"}.fa-hand-stop-o:before,.fa-hand-paper-o:before{content:\"\\f256\"}.fa-hand-scissors-o:before{content:\"\\f257\"}.fa-hand-lizard-o:before{content:\"\\f258\"}.fa-hand-spock-o:before{content:\"\\f259\"}.fa-hand-pointer-o:before{content:\"\\f25a\"}.fa-hand-peace-o:before{content:\"\\f25b\"}.fa-trademark:before{content:\"\\f25c\"}.fa-registered:before{content:\"\\f25d\"}.fa-creative-commons:before{content:\"\\f25e\"}.fa-gg:before{content:\"\\f260\"}.fa-gg-circle:before{content:\"\\f261\"}.fa-tripadvisor:before{content:\"\\f262\"}.fa-odnoklassniki:before{content:\"\\f263\"}.fa-odnoklassniki-square:before{content:\"\\f264\"}.fa-get-pocket:before{content:\"\\f265\"}.fa-wikipedia-w:before{content:\"\\f266\"}.fa-safari:before{content:\"\\f267\"}.fa-chrome:before{content:\"\\f268\"}.fa-firefox:before{content:\"\\f269\"}.fa-opera:before{content:\"\\f26a\"}.fa-internet-explorer:before{content:\"\\f26b\"}.fa-tv:before,.fa-television:before{content:\"\\f26c\"}.fa-contao:before{content:\"\\f26d\"}.fa-500px:before{content:\"\\f26e\"}.fa-amazon:before{content:\"\\f270\"}.fa-calendar-plus-o:before{content:\"\\f271\"}.fa-calendar-minus-o:before{content:\"\\f272\"}.fa-calendar-times-o:before{content:\"\\f273\"}.fa-calendar-check-o:before{content:\"\\f274\"}.fa-industry:before{content:\"\\f275\"}.fa-map-pin:before{content:\"\\f276\"}.fa-map-signs:before{content:\"\\f277\"}.fa-map-o:before{content:\"\\f278\"}.fa-map:before{content:\"\\f279\"}.fa-commenting:before{content:\"\\f27a\"}.fa-commenting-o:before{content:\"\\f27b\"}.fa-houzz:before{content:\"\\f27c\"}.fa-vimeo:before{content:\"\\f27d\"}.fa-black-tie:before{content:\"\\f27e\"}.fa-fonticons:before{content:\"\\f280\"}.fa-reddit-alien:before{content:\"\\f281\"}.fa-edge:before{content:\"\\f282\"}.fa-credit-card-alt:before{content:\"\\f283\"}.fa-codiepie:before{content:\"\\f284\"}.fa-modx:before{content:\"\\f285\"}.fa-fort-awesome:before{content:\"\\f286\"}.fa-usb:before{content:\"\\f287\"}.fa-product-hunt:before{content:\"\\f288\"}.fa-mixcloud:before{content:\"\\f289\"}.fa-scribd:before{content:\"\\f28a\"}.fa-pause-circle:before{content:\"\\f28b\"}.fa-pause-circle-o:before{content:\"\\f28c\"}.fa-stop-circle:before{content:\"\\f28d\"}.fa-stop-circle-o:before{content:\"\\f28e\"}.fa-shopping-bag:before{content:\"\\f290\"}.fa-shopping-basket:before{content:\"\\f291\"}.fa-hashtag:before{content:\"\\f292\"}.fa-bluetooth:before{content:\"\\f293\"}.fa-bluetooth-b:before{content:\"\\f294\"}.fa-percent:before{content:\"\\f295\"}.fa-gitlab:before{content:\"\\f296\"}.fa-wpbeginner:before{content:\"\\f297\"}.fa-wpforms:before{content:\"\\f298\"}.fa-envira:before{content:\"\\f299\"}.fa-universal-access:before{content:\"\\f29a\"}.fa-wheelchair-alt:before{content:\"\\f29b\"}.fa-question-circle-o:before{content:\"\\f29c\"}.fa-blind:before{content:\"\\f29d\"}.fa-audio-description:before{content:\"\\f29e\"}.fa-volume-control-phone:before{content:\"\\f2a0\"}.fa-braille:before{content:\"\\f2a1\"}.fa-assistive-listening-systems:before{content:\"\\f2a2\"}.fa-asl-interpreting:before,.fa-american-sign-language-interpreting:before{content:\"\\f2a3\"}.fa-deafness:before,.fa-hard-of-hearing:before,.fa-deaf:before{content:\"\\f2a4\"}.fa-glide:before{content:\"\\f2a5\"}.fa-glide-g:before{content:\"\\f2a6\"}.fa-signing:before,.fa-sign-language:before{content:\"\\f2a7\"}.fa-low-vision:before{content:\"\\f2a8\"}.fa-viadeo:before{content:\"\\f2a9\"}.fa-viadeo-square:before{content:\"\\f2aa\"}.fa-snapchat:before{content:\"\\f2ab\"}.fa-snapchat-ghost:before{content:\"\\f2ac\"}.fa-snapchat-square:before{content:\"\\f2ad\"}.fa-pied-piper:before{content:\"\\f2ae\"}.fa-first-order:before{content:\"\\f2b0\"}.fa-yoast:before{content:\"\\f2b1\"}.fa-themeisle:before{content:\"\\f2b2\"}.fa-google-plus-circle:before,.fa-google-plus-official:before{content:\"\\f2b3\"}.fa-fa:before,.fa-font-awesome:before{content:\"\\f2b4\"}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}\n","date":"2020-04-04T08:34:36.680Z","updated":"2020-04-04T08:34:36.416Z","path":"images/tags _ Night's blog_files/font-awesome.min.css","layout":"false","title":"","comments":1,"_id":"ck8npay3400hjqr3lcu6nkfdp"},{"_content":".bdshare-button-style0-24 .bds_qzone{background-position:0 -52px}.bdshare-button-style0-24 .bds_tsina{background-position:0 -104px}.bdshare-button-style0-24 .bds_renren{background-position:0 -208px}.bdshare-button-style0-24 .bds_tqq{background-position:0 -260px}.bdshare-button-style0-24 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style0-24 .bds_tqf{background-position:0 -364px}.bdshare-button-style0-24 .bds_hi{background-position:0 -416px}.bdshare-button-style0-24 .bds_douban{background-position:0 -468px}.bdshare-button-style0-24 .bds_tieba{background-position:0 -728px}.bdshare-button-style0-24 .bds_hx{background-position:0 -988px}.bdshare-button-style0-24 .bds_fx{background-position:0 -1040px}.bdshare-button-style0-24 .bds_ty{background-position:0 -1196px}.bdshare-button-style0-24 .bds_fbook{background-position:0 -1352px}.bdshare-button-style0-24 .bds_twi{background-position:0 -1404px}.bdshare-button-style0-24 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style0-24 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style0-24 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style0-24 .bds_diandian{background-position:0 -1820px}.bdshare-button-style0-24 .bds_huaban{background-position:0 -1872px}.bdshare-button-style0-24 .bds_duitang{background-position:0 -2028px}.bdshare-button-style0-24 .bds_youdao{background-position:0 -2080px}.bdshare-button-style0-24 .bds_wealink{background-position:0 -2184px}.bdshare-button-style0-24 .bds_copy{background-position:0 -2288px}.bdshare-button-style0-24 .bds_mail{background-position:0 -2340px}.bdshare-button-style0-24 .bds_print{background-position:0 -2392px}.bdshare-button-style0-24 .bds_mshare{background-position:0 -2444px}.bdshare-button-style0-24 .bds_sqq{background-position:0 -2652px}.bdshare-button-style0-24 .bds_sdo{background-position:0 -2704px}.bdshare-button-style0-24 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style0-24 .bds_people{background-position:0 -2808px}.bdshare-button-style0-24 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style0-24 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style0-24 .bds_thx{background-position:0 -2496px}.bdshare-button-style0-24 .bds_bdhome{background-position:0 -156px}.bdshare-button-style0-24 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style0-24 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style0-24 .bds_isohu{background-position:0 -3016px}.bdshare-button-style0-24 .bds_more{background-position:0 0}.bdshare-button-style0-24 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style0-24 .bds_weixin{background-position:0 -1612px}.bdshare-button-style0-24 .bds_iguba{background-position:0 -1300px}.bdshare-button-style0-24 .bds_h163{background-position:0 -3168px}.bdshare-button-style0-24 .bds_evernotecn{background-position:0 -3228px}.bdshare-button-style0-24{zoom:1}.bdshare-button-style0-24:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style0-24 a,.bdshare-button-style0-24 .bds_more{float:left;font-size:18px;padding-left:25px;line-height:24px;height:24px;background-image:url(../img/share/icons_0_24.png?v=dcaa92d6.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style0-24 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style0-24 .bds_more{color:#333;float:left}.bdshare-button-style0-24 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) no-repeat 0 0;width:45px;height:24px;padding:0;text-align:center;margin:6px 6px 0 0}.bdshare-button-style0-24 .bds_count:hover{background-position:-44px 0}.bds_tsohu,.bds_tfh,.bds_baidu,.bds_qq,.bds_msn,.bds_sohu,.bds_qy,.bds_leho,.bds_ifeng,.bds_ff,.bds_tuita,.bds_ms,.bds_deli,.bds_s51,.bds_t163,.bds_share189,.bds_xg,.bds_s139{display:none}","source":"images/tags _ Night's blog_files/share_style0_24.css","raw":".bdshare-button-style0-24 .bds_qzone{background-position:0 -52px}.bdshare-button-style0-24 .bds_tsina{background-position:0 -104px}.bdshare-button-style0-24 .bds_renren{background-position:0 -208px}.bdshare-button-style0-24 .bds_tqq{background-position:0 -260px}.bdshare-button-style0-24 .bds_kaixin001{background-position:0 -312px}.bdshare-button-style0-24 .bds_tqf{background-position:0 -364px}.bdshare-button-style0-24 .bds_hi{background-position:0 -416px}.bdshare-button-style0-24 .bds_douban{background-position:0 -468px}.bdshare-button-style0-24 .bds_tieba{background-position:0 -728px}.bdshare-button-style0-24 .bds_hx{background-position:0 -988px}.bdshare-button-style0-24 .bds_fx{background-position:0 -1040px}.bdshare-button-style0-24 .bds_ty{background-position:0 -1196px}.bdshare-button-style0-24 .bds_fbook{background-position:0 -1352px}.bdshare-button-style0-24 .bds_twi{background-position:0 -1404px}.bdshare-button-style0-24 .bds_linkedin{background-position:0 -1664px}.bdshare-button-style0-24 .bds_meilishuo{background-position:0 -1716px}.bdshare-button-style0-24 .bds_mogujie{background-position:0 -1768px}.bdshare-button-style0-24 .bds_diandian{background-position:0 -1820px}.bdshare-button-style0-24 .bds_huaban{background-position:0 -1872px}.bdshare-button-style0-24 .bds_duitang{background-position:0 -2028px}.bdshare-button-style0-24 .bds_youdao{background-position:0 -2080px}.bdshare-button-style0-24 .bds_wealink{background-position:0 -2184px}.bdshare-button-style0-24 .bds_copy{background-position:0 -2288px}.bdshare-button-style0-24 .bds_mail{background-position:0 -2340px}.bdshare-button-style0-24 .bds_print{background-position:0 -2392px}.bdshare-button-style0-24 .bds_mshare{background-position:0 -2444px}.bdshare-button-style0-24 .bds_sqq{background-position:0 -2652px}.bdshare-button-style0-24 .bds_sdo{background-position:0 -2704px}.bdshare-button-style0-24 .bds_qingbiji{background-position:0 -2756px}.bdshare-button-style0-24 .bds_people{background-position:0 -2808px}.bdshare-button-style0-24 .bds_xinhua{background-position:0 -2912px}.bdshare-button-style0-24 .bds_yaolan{background-position:0 -2964px}.bdshare-button-style0-24 .bds_thx{background-position:0 -2496px}.bdshare-button-style0-24 .bds_bdhome{background-position:0 -156px}.bdshare-button-style0-24 .bds_bdxc{background-position:0 -2548px}.bdshare-button-style0-24 .bds_bdysc{background-position:0 -3068px}.bdshare-button-style0-24 .bds_isohu{background-position:0 -3016px}.bdshare-button-style0-24 .bds_more{background-position:0 0}.bdshare-button-style0-24 .bds_ibaidu{background-position:0 -3120px}.bdshare-button-style0-24 .bds_weixin{background-position:0 -1612px}.bdshare-button-style0-24 .bds_iguba{background-position:0 -1300px}.bdshare-button-style0-24 .bds_h163{background-position:0 -3168px}.bdshare-button-style0-24 .bds_evernotecn{background-position:0 -3228px}.bdshare-button-style0-24{zoom:1}.bdshare-button-style0-24:after{content:\".\";visibility:hidden;display:block;height:0;clear:both}.bdshare-button-style0-24 a,.bdshare-button-style0-24 .bds_more{float:left;font-size:18px;padding-left:25px;line-height:24px;height:24px;background-image:url(../img/share/icons_0_24.png?v=dcaa92d6.png);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0}.bdshare-button-style0-24 a:hover{color:#333;opacity:.8;filter:alpha(opacity=80)}.bdshare-button-style0-24 .bds_more{color:#333;float:left}.bdshare-button-style0-24 .bds_count{color:#333;background:url(../img/share/sc.png?v=a970ff04.png) no-repeat 0 0;width:45px;height:24px;padding:0;text-align:center;margin:6px 6px 0 0}.bdshare-button-style0-24 .bds_count:hover{background-position:-44px 0}.bds_tsohu,.bds_tfh,.bds_baidu,.bds_qq,.bds_msn,.bds_sohu,.bds_qy,.bds_leho,.bds_ifeng,.bds_ff,.bds_tuita,.bds_ms,.bds_deli,.bds_s51,.bds_t163,.bds_share189,.bds_xg,.bds_s139{display:none}","date":"2020-04-04T08:34:36.678Z","updated":"2020-04-04T08:34:36.498Z","path":"images/tags _ Night's blog_files/share_style0_24.css","layout":"false","title":"","comments":1,"_id":"ck8npay3400hkqr3lhqd7az4r"},{"_content":"require([], function (){\n\n    var isMobileInit = false;\n    var loadMobile = function(){\n        require([yiliaConfig.rootUrl + 'js/mobile.js'], function(mobile){\n            mobile.init();\n            isMobileInit = true;\n        })\n    }\n    var isPCInit = false;\n    var loadPC = function(){\n        require([yiliaConfig.rootUrl + 'js/pc.js'], function(pc){\n            pc.init();\n            isPCInit = true;\n        })\n    }\n\n    var browser = {\n        versions: function() {\n        var u = window.navigator.userAgent;\n        return {\n            trident: u.indexOf('Trident') > -1, //IE内核\n            presto: u.indexOf('Presto') > -1, //opera内核\n            webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\n            gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核\n            mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\n            android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器\n            iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器\n            iPad: u.indexOf('iPad') > -1, //是否为iPad\n            webApp: u.indexOf('Safari') == -1 ,//是否为web应用程序，没有头部与底部\n            weixin: u.indexOf('MicroMessenger') == -1 //是否为微信浏览器\n            };\n        }()\n    }\n\n    $(window).bind(\"resize\", function() {\n        if (isMobileInit && isPCInit) {\n            $(window).unbind(\"resize\");\n            return;\n        }\n        var w = $(window).width();\n        if (w >= 700) {\n            loadPC();\n        } else {\n            loadMobile();\n        }\n    });\n\n    if(!!browser.versions.mobile || $(window).width() < 800){\n        loadMobile();\n    } else {\n        loadPC();\n    }\n\n    resetTags = function(){\n        var tags = $(\".tagcloud a\");\n        for(var i = 0; i < tags.length; i++){\n            var num = Math.floor(Math.random()*7);\n            tags.eq(i).addClass(\"color\" + num);\n        }\n        $(\".article-category a:nth-child(-n+2)\").attr(\"class\", \"color0\");\n    }\n\n    // fancyBox\n    if(!!yiliaConfig.fancybox){\n        require([yiliaConfig.fancybox_js], function(pc){\n            var isFancy = $(\".isFancy\");\n            if(isFancy.length != 0){\n                var imgArr = $(\".article-inner img\");\n                for(var i=0,len=imgArr.length;i<len;i++){\n                    var src = imgArr.eq(i).attr(\"src\");\n                    var title = imgArr.eq(i).attr(\"alt\");\n                    if(typeof(title) == \"undefined\"){\n                        var title = imgArr.eq(i).attr(\"title\");\n                    }\n                    var width = imgArr.eq(i).attr(\"width\");\n                    var height = imgArr.eq(i).attr(\"height\");\n                    imgArr.eq(i).replaceWith(\"<a href='\"+src+\"' title='\"+title+\"' rel='fancy-group' class='fancy-ctn fancybox'><img src='\"+src+\"' width=\"+width+\" height=\"+height+\" title='\"+title+\"' alt='\"+title+\"'></a>\");\n                }\n                $(\".article-inner .fancy-ctn\").fancybox({ type: \"image\" });\n            }\n        })\n    }\n\n    // Animate on Homepage\n    if(!!yiliaConfig.animate) {\n        if(!!yiliaConfig.isHome) {\n            require([yiliaConfig.scrollreveal], function (ScrollReveal) {\n                var animationNames = [\n                \"pulse\", \"fadeIn\",\"fadeInRight\", \"flipInX\", \"lightSpeedIn\",\"rotateInUpLeft\", \"slideInUp\",\"zoomIn\",\n                ],\n                len = animationNames.length,\n                randomAnimationName = animationNames[Math.ceil(Math.random() * len) - 1];\n\n                // Fallback (CSS3 keyframe, requestAnimationFrame)\n                if (!window.requestAnimationFrame) {\n                    $('.body-wrap > article').css({opacity: 1});\n                    if (navigator.userAgent.match(/Safari/i)) {\n                        function showArticle(){\n                            $(\".article\").each(function(){\n                                if( $(this).offset().top <= $(window).scrollTop()+$(window).height() && !($(this).hasClass('show')) ) {\n                                    $(this).removeClass(\"hidden\").addClass(\"show\");\n                                    $(this).addClass(\"is-hiddened\");\n                                } else {\n                                    if(!$(this).hasClass(\"is-hiddened\")) {\n                                        $(this).addClass(\"hidden\");\n                                    }\n                                }\n                            })\n                        }\n                        $(window).on('scroll', function(){\n                            showArticle();\n                        });\n                        showArticle();\n                    }\n                    return;\n                }\n\n                var animateScope = \".body-wrap > article\";\n                var $firstArticle = $(\".body-wrap > article:first-child\");\n                if ($firstArticle.height() > $(window).height()) {\n                    var animateScope = \".body-wrap > article:not(:first-child)\";\n                    $firstArticle.css({opacity: 1});\n                }\n                ScrollReveal({\n                    duration: 0,\n                    afterReveal: function (domEl) {\n                        $(domEl).addClass('animated ' + randomAnimationName).css({opacity: 1})\n                    }\n                }).reveal(animateScope);\n            })\n        } else {\n            $('.body-wrap > article').css({opacity: 1});\n        }\n    }\n\n    // TOC\n    if (yiliaConfig.toc) {\n        require(['toc'], function(){ })\n    }\n\n    // Random Color 边栏顶部随机颜色\n    var colorList = [\"#6da336\", \"#ff945c\", \"#66CC66\", \"#99CC99\", \"#CC6666\", \"#76becc\", \"#c99979\", \"#918597\", \"#4d4d4d\"];\n    var id = Math.ceil(Math.random()*(colorList.length-1));\n    // PC\n    $(\"#container .left-col .overlay\").css({\"background-color\": colorList[id],\"opacity\": .3});\n    // Mobile\n    $(\"#container #mobile-nav .overlay\").css({\"background-color\": colorList[id],\"opacity\": .7});\n\n    // Table\n    $(\"table\").wrap(\"<div class='table-area'></div>\");\n\n    // Hide Comment Button\n    $(document).ready(function() {\n        if ($(\"#comments\").length < 1) {\n            $(\"#scroll > a:nth-child(2)\").hide();\n        }\n    })\n\n    // Hide Labels\n    if(yiliaConfig.isArchive || yiliaConfig.isTag || yiliaConfig.isCategory) {\n        $(document).ready(function() {\n            $(\"#footer\").after(\"<button class='hide-labels'>TAGS</button>\");\n            $(\".hide-labels\").click(function() {\n                $(\".article-info\").toggle(200);\n            })\n        })\n    }\n\n    // Task lists in markdown\n    $('ul > li').each(function() {\n        var taskList = {\n            field: this.textContent.substring(0, 2),\n            check: function(str) {\n                var re = new RegExp(str);\n                return this.field.match(re);\n            }\n        }\n\n        var string = [\"[ ]\", [\"[x]\", \"checked\"]];\n        var checked = taskList.check(string[1][0]);\n        var unchecked = taskList.check(string[0]);\n\n        var $current = $(this);\n        function update(str, check) {\n            var click = [\"disabled\", \"\"];\n            $current.html($current.html().replace(\n              str, \"<input type='checkbox' \" + check + \" \" + click[1] + \" >\")\n            )\n        }\n\n        if (checked || unchecked) {\n            this.classList.add(\"task-list\");\n            if (checked) {\n                update(string[1][0], string[1][1]);\n                this.classList.add(\"check\");\n            } else {\n                update(string[0], \"\");\n            }\n        }\n    })\n\n})","source":"images/tags _ Night's blog_files/main.js","raw":"require([], function (){\n\n    var isMobileInit = false;\n    var loadMobile = function(){\n        require([yiliaConfig.rootUrl + 'js/mobile.js'], function(mobile){\n            mobile.init();\n            isMobileInit = true;\n        })\n    }\n    var isPCInit = false;\n    var loadPC = function(){\n        require([yiliaConfig.rootUrl + 'js/pc.js'], function(pc){\n            pc.init();\n            isPCInit = true;\n        })\n    }\n\n    var browser = {\n        versions: function() {\n        var u = window.navigator.userAgent;\n        return {\n            trident: u.indexOf('Trident') > -1, //IE内核\n            presto: u.indexOf('Presto') > -1, //opera内核\n            webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\n            gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核\n            mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\n            android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器\n            iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器\n            iPad: u.indexOf('iPad') > -1, //是否为iPad\n            webApp: u.indexOf('Safari') == -1 ,//是否为web应用程序，没有头部与底部\n            weixin: u.indexOf('MicroMessenger') == -1 //是否为微信浏览器\n            };\n        }()\n    }\n\n    $(window).bind(\"resize\", function() {\n        if (isMobileInit && isPCInit) {\n            $(window).unbind(\"resize\");\n            return;\n        }\n        var w = $(window).width();\n        if (w >= 700) {\n            loadPC();\n        } else {\n            loadMobile();\n        }\n    });\n\n    if(!!browser.versions.mobile || $(window).width() < 800){\n        loadMobile();\n    } else {\n        loadPC();\n    }\n\n    resetTags = function(){\n        var tags = $(\".tagcloud a\");\n        for(var i = 0; i < tags.length; i++){\n            var num = Math.floor(Math.random()*7);\n            tags.eq(i).addClass(\"color\" + num);\n        }\n        $(\".article-category a:nth-child(-n+2)\").attr(\"class\", \"color0\");\n    }\n\n    // fancyBox\n    if(!!yiliaConfig.fancybox){\n        require([yiliaConfig.fancybox_js], function(pc){\n            var isFancy = $(\".isFancy\");\n            if(isFancy.length != 0){\n                var imgArr = $(\".article-inner img\");\n                for(var i=0,len=imgArr.length;i<len;i++){\n                    var src = imgArr.eq(i).attr(\"src\");\n                    var title = imgArr.eq(i).attr(\"alt\");\n                    if(typeof(title) == \"undefined\"){\n                        var title = imgArr.eq(i).attr(\"title\");\n                    }\n                    var width = imgArr.eq(i).attr(\"width\");\n                    var height = imgArr.eq(i).attr(\"height\");\n                    imgArr.eq(i).replaceWith(\"<a href='\"+src+\"' title='\"+title+\"' rel='fancy-group' class='fancy-ctn fancybox'><img src='\"+src+\"' width=\"+width+\" height=\"+height+\" title='\"+title+\"' alt='\"+title+\"'></a>\");\n                }\n                $(\".article-inner .fancy-ctn\").fancybox({ type: \"image\" });\n            }\n        })\n    }\n\n    // Animate on Homepage\n    if(!!yiliaConfig.animate) {\n        if(!!yiliaConfig.isHome) {\n            require([yiliaConfig.scrollreveal], function (ScrollReveal) {\n                var animationNames = [\n                \"pulse\", \"fadeIn\",\"fadeInRight\", \"flipInX\", \"lightSpeedIn\",\"rotateInUpLeft\", \"slideInUp\",\"zoomIn\",\n                ],\n                len = animationNames.length,\n                randomAnimationName = animationNames[Math.ceil(Math.random() * len) - 1];\n\n                // Fallback (CSS3 keyframe, requestAnimationFrame)\n                if (!window.requestAnimationFrame) {\n                    $('.body-wrap > article').css({opacity: 1});\n                    if (navigator.userAgent.match(/Safari/i)) {\n                        function showArticle(){\n                            $(\".article\").each(function(){\n                                if( $(this).offset().top <= $(window).scrollTop()+$(window).height() && !($(this).hasClass('show')) ) {\n                                    $(this).removeClass(\"hidden\").addClass(\"show\");\n                                    $(this).addClass(\"is-hiddened\");\n                                } else {\n                                    if(!$(this).hasClass(\"is-hiddened\")) {\n                                        $(this).addClass(\"hidden\");\n                                    }\n                                }\n                            })\n                        }\n                        $(window).on('scroll', function(){\n                            showArticle();\n                        });\n                        showArticle();\n                    }\n                    return;\n                }\n\n                var animateScope = \".body-wrap > article\";\n                var $firstArticle = $(\".body-wrap > article:first-child\");\n                if ($firstArticle.height() > $(window).height()) {\n                    var animateScope = \".body-wrap > article:not(:first-child)\";\n                    $firstArticle.css({opacity: 1});\n                }\n                ScrollReveal({\n                    duration: 0,\n                    afterReveal: function (domEl) {\n                        $(domEl).addClass('animated ' + randomAnimationName).css({opacity: 1})\n                    }\n                }).reveal(animateScope);\n            })\n        } else {\n            $('.body-wrap > article').css({opacity: 1});\n        }\n    }\n\n    // TOC\n    if (yiliaConfig.toc) {\n        require(['toc'], function(){ })\n    }\n\n    // Random Color 边栏顶部随机颜色\n    var colorList = [\"#6da336\", \"#ff945c\", \"#66CC66\", \"#99CC99\", \"#CC6666\", \"#76becc\", \"#c99979\", \"#918597\", \"#4d4d4d\"];\n    var id = Math.ceil(Math.random()*(colorList.length-1));\n    // PC\n    $(\"#container .left-col .overlay\").css({\"background-color\": colorList[id],\"opacity\": .3});\n    // Mobile\n    $(\"#container #mobile-nav .overlay\").css({\"background-color\": colorList[id],\"opacity\": .7});\n\n    // Table\n    $(\"table\").wrap(\"<div class='table-area'></div>\");\n\n    // Hide Comment Button\n    $(document).ready(function() {\n        if ($(\"#comments\").length < 1) {\n            $(\"#scroll > a:nth-child(2)\").hide();\n        }\n    })\n\n    // Hide Labels\n    if(yiliaConfig.isArchive || yiliaConfig.isTag || yiliaConfig.isCategory) {\n        $(document).ready(function() {\n            $(\"#footer\").after(\"<button class='hide-labels'>TAGS</button>\");\n            $(\".hide-labels\").click(function() {\n                $(\".article-info\").toggle(200);\n            })\n        })\n    }\n\n    // Task lists in markdown\n    $('ul > li').each(function() {\n        var taskList = {\n            field: this.textContent.substring(0, 2),\n            check: function(str) {\n                var re = new RegExp(str);\n                return this.field.match(re);\n            }\n        }\n\n        var string = [\"[ ]\", [\"[x]\", \"checked\"]];\n        var checked = taskList.check(string[1][0]);\n        var unchecked = taskList.check(string[0]);\n\n        var $current = $(this);\n        function update(str, check) {\n            var click = [\"disabled\", \"\"];\n            $current.html($current.html().replace(\n              str, \"<input type='checkbox' \" + check + \" \" + click[1] + \" >\")\n            )\n        }\n\n        if (checked || unchecked) {\n            this.classList.add(\"task-list\");\n            if (checked) {\n                update(string[1][0], string[1][1]);\n                this.classList.add(\"check\");\n            } else {\n                update(string[0], \"\");\n            }\n        }\n    })\n\n})","date":"2020-04-04T08:34:36.677Z","updated":"2020-04-04T08:34:36.449Z","path":"images/tags _ Night's blog_files/main.js","layout":"false","title":"","comments":1,"_id":"ck8npay3400hlqr3l7ar8g04u"},{"_content":"define([], function(){\n    var _isShow = false;\n    var $tag, $aboutme, $friends;\n\n    var ctn,radio,scaleW,idx,basicwrap;\n\n    //第一步 -- 初始化\n    var reset = function() {\n        //设定窗口比率\n        radio = document.body.scrollHeight/document.body.scrollWidth;\n        //设定一页的宽度\n        scaleW = document.body.scrollWidth;\n        //设定初始的索引值\n        idx = 0;\n    };\n    //第一步 -- 组合\n    var combine = function(){\n        if($tag){\n            document.getElementById(\"js-mobile-tagcloud\").innerHTML = $tag.innerHTML;\n        }\n        if($aboutme){\n            document.getElementById(\"js-mobile-aboutme\").innerHTML = $aboutme.innerHTML;\n        }\n        if($friends){\n            document.getElementById(\"js-mobile-friends\").innerHTML = $friends.innerHTML;\n        }\n    }\n    //第三步 -- 根据数据渲染DOM\n    var renderDOM = function(){\n        //生成节点\n        var $viewer = document.createElement(\"div\");\n        $viewer.id = \"viewer\";\n        $viewer.className = \"hide\";\n        $tag = document.getElementById(\"js-tagcloud\");\n        $aboutme = document.getElementById(\"js-aboutme\");\n        $friends = document.getElementById(\"js-friends\");\n        function menuList(name) {\n            return $(\"link.menu-list\").attr(name);\n        };\n        var tagStr = $tag?'<span class=\"viewer-title\">'+ menuList(\"tags\") + '</span><div class=\"viewer-div tagcloud\" id=\"js-mobile-tagcloud\"></div>':\"\";\n        var friendsStr = $friends?'<span class=\"viewer-title\">'+ menuList(\"friends\") + '</span><div class=\"viewer-div friends\" id=\"js-mobile-friends\"></div>':\"\";\n        var aboutmeStr = $aboutme?'<span class=\"viewer-title\">'+ menuList(\"about\") + '</span><div class=\"viewer-div aboutme\" id=\"js-mobile-aboutme\"></div>':\"\";\n\n        $viewer.innerHTML = '<div id=\"viewer-box\">\\\n        <div class=\"viewer-box-l\">\\\n            <div class=\"viewer-box-wrap\">'+aboutmeStr+friendsStr+tagStr+'</div>\\\n        </div>\\\n        <div class=\"viewer-box-r\"></div>\\\n        </div>';\n\n        //主要图片节点\n        document.getElementsByTagName(\"body\")[0].appendChild($viewer);\n        var wrap = document.getElementById(\"viewer-box\");\n        basicwrap = wrap;\n        wrap.style.height = document.body.scrollHeight + 'px';\n    };\n\n    var show = function(target, idx){\n        document.getElementById(\"viewer\").className = \"\";\n        setTimeout(function(){\n            basicwrap.className = \"anm-swipe\";\n        },0);\n        _isShow = true;\n        document.ontouchstart=function(e){\n            if(e.target.tagName != \"A\"){\n                return false;\n            }\n        }\n    }\n\n    var hide = function(){\n        document.getElementById(\"viewer-box\").className = \"\";\n        _isShow = false;\n        document.ontouchstart=function(){\n            return true;\n        }\n    }\n\n    //第四步 -- 绑定 DOM 事件\n    var bindDOM = function(){\n        var scaleW = scaleW;\n        \n        //滑动隐藏\n        document.getElementById(\"viewer-box\").addEventListener(\"webkitTransitionEnd\", function(){\n\n            if(_isShow == false){\n                document.getElementById(\"viewer\").className = \"hide\";\n                _isShow = true;\n            }else{\n            }\n            \n        }, false);\n\n        //点击展示和隐藏\n        ctn.addEventListener(\"touchend\", function(){\n            show();\n        }, false);\n\n        var $right = document.getElementsByClassName(\"viewer-box-r\")[0];\n        var touchStartTime;\n        var touchEndTime;\n        $right.addEventListener(\"touchstart\", function(){\n            touchStartTime = + new Date();\n        }, false);\n        $right.addEventListener(\"touchend\", function(){\n            touchEndTime = + new Date();\n            if(touchEndTime - touchStartTime < 300){\n                hide();\n            }\n            touchStartTime = 0;\n            touchEndTime = 0;\n        }, false);\n\n        $(\".slider-trigger\").click(function(){\n            show();\n        })\n        $(\".viewer-box-r\").click(function(){\n            hide();\n        })\n\n        //滚动样式\n        var $overlay = $(\"#mobile-nav .overlay\");\n        var $header = $(\".js-mobile-header\");\n        window.onscroll = function(){\n            var scrollTop = document.documentElement.scrollTop + document.body.scrollTop;\n            if(scrollTop >= 69){\n                $overlay.addClass(\"fixed\");\n            }else{\n                $overlay.removeClass(\"fixed\");\n            }\n            if(scrollTop >= 160){\n                $header.removeClass(\"hide\").addClass(\"fixed\");\n            }else{\n                $header.addClass(\"hide\").removeClass(\"fixed\");\n            }\n        };\n        $header[0].addEventListener(\"touchstart\", function(){\n            $('html, body').animate({scrollTop:0}, 'slow');\n        }, false);\n    };\n\n    return{\n        init: function(){\n            //构造函数需要的参数\n            ctn = document.getElementsByClassName(\"slider-trigger\")[0];\n            //构造四步\n            reset();\n            renderDOM();\n            combine();\n            bindDOM();\n            resetTags();\n        }\n    }\n})","source":"images/tags _ Night's blog_files/mobile.js","raw":"define([], function(){\n    var _isShow = false;\n    var $tag, $aboutme, $friends;\n\n    var ctn,radio,scaleW,idx,basicwrap;\n\n    //第一步 -- 初始化\n    var reset = function() {\n        //设定窗口比率\n        radio = document.body.scrollHeight/document.body.scrollWidth;\n        //设定一页的宽度\n        scaleW = document.body.scrollWidth;\n        //设定初始的索引值\n        idx = 0;\n    };\n    //第一步 -- 组合\n    var combine = function(){\n        if($tag){\n            document.getElementById(\"js-mobile-tagcloud\").innerHTML = $tag.innerHTML;\n        }\n        if($aboutme){\n            document.getElementById(\"js-mobile-aboutme\").innerHTML = $aboutme.innerHTML;\n        }\n        if($friends){\n            document.getElementById(\"js-mobile-friends\").innerHTML = $friends.innerHTML;\n        }\n    }\n    //第三步 -- 根据数据渲染DOM\n    var renderDOM = function(){\n        //生成节点\n        var $viewer = document.createElement(\"div\");\n        $viewer.id = \"viewer\";\n        $viewer.className = \"hide\";\n        $tag = document.getElementById(\"js-tagcloud\");\n        $aboutme = document.getElementById(\"js-aboutme\");\n        $friends = document.getElementById(\"js-friends\");\n        function menuList(name) {\n            return $(\"link.menu-list\").attr(name);\n        };\n        var tagStr = $tag?'<span class=\"viewer-title\">'+ menuList(\"tags\") + '</span><div class=\"viewer-div tagcloud\" id=\"js-mobile-tagcloud\"></div>':\"\";\n        var friendsStr = $friends?'<span class=\"viewer-title\">'+ menuList(\"friends\") + '</span><div class=\"viewer-div friends\" id=\"js-mobile-friends\"></div>':\"\";\n        var aboutmeStr = $aboutme?'<span class=\"viewer-title\">'+ menuList(\"about\") + '</span><div class=\"viewer-div aboutme\" id=\"js-mobile-aboutme\"></div>':\"\";\n\n        $viewer.innerHTML = '<div id=\"viewer-box\">\\\n        <div class=\"viewer-box-l\">\\\n            <div class=\"viewer-box-wrap\">'+aboutmeStr+friendsStr+tagStr+'</div>\\\n        </div>\\\n        <div class=\"viewer-box-r\"></div>\\\n        </div>';\n\n        //主要图片节点\n        document.getElementsByTagName(\"body\")[0].appendChild($viewer);\n        var wrap = document.getElementById(\"viewer-box\");\n        basicwrap = wrap;\n        wrap.style.height = document.body.scrollHeight + 'px';\n    };\n\n    var show = function(target, idx){\n        document.getElementById(\"viewer\").className = \"\";\n        setTimeout(function(){\n            basicwrap.className = \"anm-swipe\";\n        },0);\n        _isShow = true;\n        document.ontouchstart=function(e){\n            if(e.target.tagName != \"A\"){\n                return false;\n            }\n        }\n    }\n\n    var hide = function(){\n        document.getElementById(\"viewer-box\").className = \"\";\n        _isShow = false;\n        document.ontouchstart=function(){\n            return true;\n        }\n    }\n\n    //第四步 -- 绑定 DOM 事件\n    var bindDOM = function(){\n        var scaleW = scaleW;\n        \n        //滑动隐藏\n        document.getElementById(\"viewer-box\").addEventListener(\"webkitTransitionEnd\", function(){\n\n            if(_isShow == false){\n                document.getElementById(\"viewer\").className = \"hide\";\n                _isShow = true;\n            }else{\n            }\n            \n        }, false);\n\n        //点击展示和隐藏\n        ctn.addEventListener(\"touchend\", function(){\n            show();\n        }, false);\n\n        var $right = document.getElementsByClassName(\"viewer-box-r\")[0];\n        var touchStartTime;\n        var touchEndTime;\n        $right.addEventListener(\"touchstart\", function(){\n            touchStartTime = + new Date();\n        }, false);\n        $right.addEventListener(\"touchend\", function(){\n            touchEndTime = + new Date();\n            if(touchEndTime - touchStartTime < 300){\n                hide();\n            }\n            touchStartTime = 0;\n            touchEndTime = 0;\n        }, false);\n\n        $(\".slider-trigger\").click(function(){\n            show();\n        })\n        $(\".viewer-box-r\").click(function(){\n            hide();\n        })\n\n        //滚动样式\n        var $overlay = $(\"#mobile-nav .overlay\");\n        var $header = $(\".js-mobile-header\");\n        window.onscroll = function(){\n            var scrollTop = document.documentElement.scrollTop + document.body.scrollTop;\n            if(scrollTop >= 69){\n                $overlay.addClass(\"fixed\");\n            }else{\n                $overlay.removeClass(\"fixed\");\n            }\n            if(scrollTop >= 160){\n                $header.removeClass(\"hide\").addClass(\"fixed\");\n            }else{\n                $header.addClass(\"hide\").removeClass(\"fixed\");\n            }\n        };\n        $header[0].addEventListener(\"touchstart\", function(){\n            $('html, body').animate({scrollTop:0}, 'slow');\n        }, false);\n    };\n\n    return{\n        init: function(){\n            //构造函数需要的参数\n            ctn = document.getElementsByClassName(\"slider-trigger\")[0];\n            //构造四步\n            reset();\n            renderDOM();\n            combine();\n            bindDOM();\n            resetTags();\n        }\n    }\n})","date":"2020-04-04T08:34:36.679Z","updated":"2020-04-04T08:34:36.457Z","path":"images/tags _ Night's blog_files/mobile.js","layout":"false","title":"","comments":1,"_id":"ck8npay3400hmqr3lu5w1bhwh"},{"_content":"/*!\n\tGitHub-Repo-Widget.js - Not depend on jQuery or Other Framework.\n\tLicense:  MIT\n*/\n(function() {\n\tvar rendered = 'github-widget-rendered',\n\t\tcssStr = '.path-divider{margin:0 .25em}.github-box *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{word-wrap:break-word;font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 30px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAXBAMAAAD0LQLXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURQAAAL29vc3NzcLCwsjIyNbW1pvTNOEAAAABdFJOUwBA5thmAAAATElEQVQI12MIFoQAEQZFYwcGEGBkUDRUQLCcsYjRXhbqKkEGZQYGqJgSnKXCwGgsAGYpqyobG4WGhioyhBhDgClI3EQAqpaZwQBEAQARmA4G2o55nQAAAABJRU5ErkJggg==) 7px center no-repeat; width: auto;}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{float:right;position:absolute;top:8px;right:10px;font-size:11px;font-weight:bold;line-height:21px;height:auto;min-height:21px}.github-box .github-box-title .github-stats a{display:inline-block;height:21px;color:#666;border:1px solid #ddd;border-radius:3px;padding:0 5px 0 18px;background: white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqBAMAAABB12bjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURf///5mZmdbW1u/v7/r6+rGxscXFxaSkpHLccIMAAABsSURBVBjTY2CgBmBODTOAsFgSi9TFHMBMc1Fmk8BiEItJUMhQWFFQAZXJoC7q7FJYhNBmgG7YQAIWMYTvEExXIbh8oAJWQQe4IGsIlKmowAZVwaKowgxlMgkKmwtCjRAUYBSEqnVkYBAm39EALMwNXwql3eYAAAAASUVORK5CYII=) no-repeat}.github-box .github-box-title .github-stats .watchers{border-right:1px solid #ddd}.github-box .github-box-title .github-stats .forks{background-position:-4px -21px;padding-left:15px}.github-box .github-box-content{padding:10px;font-weight:300}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:10px;height:auto;min-height:24px;}.github-box .github-box-download .updated{word-wrap:break-word;margin:0;font-size:11px;color:#666;line-height:24px;font-weight:300;width:auto}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{float:right;position:absolute;top:10px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);}@media (max-width: 767px) {.github-box .github-box-title{height:auto;min-height:60px}.github-box .github-box-title h3 .repo{display:block}.github-box .github-box-title .github-stats a{display:block;clear:right;float:right;}.github-box .github-box-download{height:auto;min-height:46px;}.github-box .github-box-download .download{top:32px;}}';\n\tfunction _getAttribute(node, name, defaultValue) {\n\t\treturn node.getAttribute(name) || defaultValue;\n\t}\n\tfunction _querySelector(dom, sel) {\n\t\treturn dom.querySelector(sel);\n\t}\n\tfunction _setHtml(dom, h) {\n\t\tdom.innerHTML = h;\n\t}\n\tfunction _appendCss() {\n\t\tvar x = document.createElement('div');\n\t\tx.innerHTML = 'x<style>'+cssStr+'</style>';\n\t\tdocument.getElementsByTagName('head')[0].appendChild(x.lastChild);\n\t}\n\tfunction _renderGitHubWidget(repoEle, repo) {\n\t\trepo = JSON.parse(repo);\n\t\t_setHtml(_querySelector(repoEle, '.watchers'), repo.watchers);\n\t\t_setHtml(_querySelector(repoEle, '.forks'), repo.forks);\n\t\t_setHtml(_querySelector(repoEle, '.description span'), repo.description);\n\t\t_setHtml(_querySelector(repoEle, '.updated'), 'Latest commit to the <strong>' + repo.default_branch+ '</strong> branch on <strong>' + repo.pushed_at.substring(0, 10) + '</strong>');\n\n\t\tif(repo.homepage !== null) {\n\t\t\t_setHtml(_querySelector(repoEle, '.link'), '<a href=\"'+ repo.homepage +'\">'+ repo.homepage +'</a>');\n\t\t}\n\t\trepoEle.setAttribute(rendered, '1');\n\t}\n\tfunction _ajaxReq(repoEle, repo) {\n\t\tvar xmlhttp;\n\t\tif (window.XMLHttpRequest) {\n\t\t\t//code for IE7,firefox chrome and above\n\t\t\txmlhttp = new XMLHttpRequest();\n\t\t} else {\n\t\t\t//code for Internet Explorer\n\t\t\txmlhttp = new ActiveXObject('Microsoft.XMLHTTP');\n\t\t}\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n\t\t\t\t_renderGitHubWidget(repoEle, xmlhttp.responseText);\n\t\t\t} else {\n\t\t\t}\n\t\t};\n\t\txmlhttp.open('GET', 'https://api.github.com/repos/' + repo, true);\n\t\txmlhttp.send();\n\t}\n\tfunction _init() {\n\t\tvar github_eles = document.querySelectorAll('.github-widget'), repoEle, repo, vendorName, repoName, vendorUrl, repoUrl, widget;\n\t\tfor (var i = 0; i < github_eles.length; i++) {\n\t\t\trepoEle = github_eles[i];\n\t\t\tif (! _getAttribute(repoEle, rendered, '')) {\n\t\t\t\trepo = _getAttribute(repoEle, 'data-repo', ''),\n\t\t\t\tvendorName = repo.split('/')[0],\n\t\t\t\trepoName = repo.split('/')[1],\n\t\t\t\tvendorUrl = 'http://github.com/' + vendorName,\n\t\t\t\trepoUrl = 'http://github.com/' + vendorName + '/' + repoName;\n\n\t\t\t\twidget = '<div class=\"github-box repo\">'+\n\t\t\t\t\t'<div class=\"github-box-title\">'+\n\t\t\t\t\t'<h3>'+\n\t\t\t\t\t'<a class=\"owner\" href=\"' + vendorUrl + '\" title=\"' + vendorUrl + '\">' + vendorName + '</a>'+\n\t\t\t\t\t'<span class=\"path-divider\">/</span>'+\n\t\t\t\t\t'<a class=\"repo\" href=\"' + repoUrl + '\" title=\"' + repoUrl + '\">' + repoName + '</a>'+\n\t\t\t\t\t'</h3>'+\n\t\t\t\t\t'<div class=\"github-stats\">'+\n\t\t\t\t\t'<span class=\"github-text\">Star </span>'+\n\t\t\t\t\t'<a class=\"watchers\" href=\"' + repoUrl + '/watchers\" title=\"See watchers\">?</a>'+\n\t\t\t\t\t'<span class=\"github-text\">　Fork </span>'+\n\t\t\t\t\t'<a class=\"forks\" href=\"' + repoUrl + '/network/members\" title=\"See forkers\">?</a>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'<div class=\"github-box-content\">'+\n\t\t\t\t\t'<p class=\"description\"><span></span> &mdash; <a href=\"' + repoUrl + '#readme\">Read More</a></p>'+\n\t\t\t\t\t'<p class=\"link\"></p>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'<div class=\"github-box-download\">'+\n\t\t\t\t\t'<div class=\"updated\"></div>'+\n\t\t\t\t\t'<a class=\"download\" href=\"' + repoUrl + '/zipball/master\" title=\"Get repository\">Download as zip</a>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'</div>';\n\t\t\t\t_setHtml(repoEle, widget);\n\t\t\t\t_ajaxReq(repoEle, repo);\n\t\t\t}\n\t\t}\n\t}\n\t_appendCss();\n\t_init();\n\twindow.GithubRepoWidget = {\n\t\tinit: _init\n\t};\n})();","source":"images/tags _ Night's blog_files/GithubRepoWidget.js","raw":"/*!\n\tGitHub-Repo-Widget.js - Not depend on jQuery or Other Framework.\n\tLicense:  MIT\n*/\n(function() {\n\tvar rendered = 'github-widget-rendered',\n\t\tcssStr = '.path-divider{margin:0 .25em}.github-box *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;}.github-box{font-family:helvetica,arial,sans-serif;font-size:13px;line-height:18px;background:#fafafa;border:1px solid #ddd;color:#666;border-radius:3px}.github-box a{color:#4183c4;border:0;text-decoration:none}.github-box .github-box-title{position:relative;border-bottom:1px solid #ddd;border-radius:3px 3px 0 0;background:#fcfcfc;background:-moz-linear-gradient(#fcfcfc,#ebebeb);background:-webkit-linear-gradient(#fcfcfc,#ebebeb);}.github-box .github-box-title h3{word-wrap:break-word;font-family:helvetica,arial,sans-serif;font-weight:normal;font-size:16px;color:gray;margin:0;padding:10px 10px 10px 30px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAXBAMAAAD0LQLXAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURQAAAL29vc3NzcLCwsjIyNbW1pvTNOEAAAABdFJOUwBA5thmAAAATElEQVQI12MIFoQAEQZFYwcGEGBkUDRUQLCcsYjRXhbqKkEGZQYGqJgSnKXCwGgsAGYpqyobG4WGhioyhBhDgClI3EQAqpaZwQBEAQARmA4G2o55nQAAAABJRU5ErkJggg==) 7px center no-repeat; width: auto;}.github-box .github-box-title h3 .repo{font-weight:bold}.github-box .github-box-title .github-stats{float:right;position:absolute;top:8px;right:10px;font-size:11px;font-weight:bold;line-height:21px;height:auto;min-height:21px}.github-box .github-box-title .github-stats a{display:inline-block;height:21px;color:#666;border:1px solid #ddd;border-radius:3px;padding:0 5px 0 18px;background: white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqBAMAAABB12bjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAYUExURf///5mZmdbW1u/v7/r6+rGxscXFxaSkpHLccIMAAABsSURBVBjTY2CgBmBODTOAsFgSi9TFHMBMc1Fmk8BiEItJUMhQWFFQAZXJoC7q7FJYhNBmgG7YQAIWMYTvEExXIbh8oAJWQQe4IGsIlKmowAZVwaKowgxlMgkKmwtCjRAUYBSEqnVkYBAm39EALMwNXwql3eYAAAAASUVORK5CYII=) no-repeat}.github-box .github-box-title .github-stats .watchers{border-right:1px solid #ddd}.github-box .github-box-title .github-stats .forks{background-position:-4px -21px;padding-left:15px}.github-box .github-box-content{padding:10px;font-weight:300}.github-box .github-box-content p{margin:0}.github-box .github-box-content .link{font-weight:bold}.github-box .github-box-download{position:relative;border-top:1px solid #ddd;background:white;border-radius:0 0 3px 3px;padding:10px;height:auto;min-height:24px;}.github-box .github-box-download .updated{word-wrap:break-word;margin:0;font-size:11px;color:#666;line-height:24px;font-weight:300;width:auto}.github-box .github-box-download .updated strong{font-weight:bold;color:#000}.github-box .github-box-download .download{float:right;position:absolute;top:10px;right:10px;height:24px;line-height:24px;font-size:12px;color:#666;font-weight:bold;text-shadow:0 1px 0 rgba(255,255,255,0.9);padding:0 10px;border:1px solid #ddd;border-bottom-color:#bbb;border-radius:3px;background:#f5f5f5;background:-moz-linear-gradient(#f5f5f5,#e5e5e5);background:-webkit-linear-gradient(#f5f5f5,#e5e5e5);}.github-box .github-box-download .download:hover{color:#527894;border-color:#cfe3ed;border-bottom-color:#9fc7db;background:#f1f7fa;background:-moz-linear-gradient(#f1f7fa,#dbeaf1);background:-webkit-linear-gradient(#f1f7fa,#dbeaf1);}@media (max-width: 767px) {.github-box .github-box-title{height:auto;min-height:60px}.github-box .github-box-title h3 .repo{display:block}.github-box .github-box-title .github-stats a{display:block;clear:right;float:right;}.github-box .github-box-download{height:auto;min-height:46px;}.github-box .github-box-download .download{top:32px;}}';\n\tfunction _getAttribute(node, name, defaultValue) {\n\t\treturn node.getAttribute(name) || defaultValue;\n\t}\n\tfunction _querySelector(dom, sel) {\n\t\treturn dom.querySelector(sel);\n\t}\n\tfunction _setHtml(dom, h) {\n\t\tdom.innerHTML = h;\n\t}\n\tfunction _appendCss() {\n\t\tvar x = document.createElement('div');\n\t\tx.innerHTML = 'x<style>'+cssStr+'</style>';\n\t\tdocument.getElementsByTagName('head')[0].appendChild(x.lastChild);\n\t}\n\tfunction _renderGitHubWidget(repoEle, repo) {\n\t\trepo = JSON.parse(repo);\n\t\t_setHtml(_querySelector(repoEle, '.watchers'), repo.watchers);\n\t\t_setHtml(_querySelector(repoEle, '.forks'), repo.forks);\n\t\t_setHtml(_querySelector(repoEle, '.description span'), repo.description);\n\t\t_setHtml(_querySelector(repoEle, '.updated'), 'Latest commit to the <strong>' + repo.default_branch+ '</strong> branch on <strong>' + repo.pushed_at.substring(0, 10) + '</strong>');\n\n\t\tif(repo.homepage !== null) {\n\t\t\t_setHtml(_querySelector(repoEle, '.link'), '<a href=\"'+ repo.homepage +'\">'+ repo.homepage +'</a>');\n\t\t}\n\t\trepoEle.setAttribute(rendered, '1');\n\t}\n\tfunction _ajaxReq(repoEle, repo) {\n\t\tvar xmlhttp;\n\t\tif (window.XMLHttpRequest) {\n\t\t\t//code for IE7,firefox chrome and above\n\t\t\txmlhttp = new XMLHttpRequest();\n\t\t} else {\n\t\t\t//code for Internet Explorer\n\t\t\txmlhttp = new ActiveXObject('Microsoft.XMLHTTP');\n\t\t}\n\t\txmlhttp.onreadystatechange = function() {\n\t\t\tif (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\n\t\t\t\t_renderGitHubWidget(repoEle, xmlhttp.responseText);\n\t\t\t} else {\n\t\t\t}\n\t\t};\n\t\txmlhttp.open('GET', 'https://api.github.com/repos/' + repo, true);\n\t\txmlhttp.send();\n\t}\n\tfunction _init() {\n\t\tvar github_eles = document.querySelectorAll('.github-widget'), repoEle, repo, vendorName, repoName, vendorUrl, repoUrl, widget;\n\t\tfor (var i = 0; i < github_eles.length; i++) {\n\t\t\trepoEle = github_eles[i];\n\t\t\tif (! _getAttribute(repoEle, rendered, '')) {\n\t\t\t\trepo = _getAttribute(repoEle, 'data-repo', ''),\n\t\t\t\tvendorName = repo.split('/')[0],\n\t\t\t\trepoName = repo.split('/')[1],\n\t\t\t\tvendorUrl = 'http://github.com/' + vendorName,\n\t\t\t\trepoUrl = 'http://github.com/' + vendorName + '/' + repoName;\n\n\t\t\t\twidget = '<div class=\"github-box repo\">'+\n\t\t\t\t\t'<div class=\"github-box-title\">'+\n\t\t\t\t\t'<h3>'+\n\t\t\t\t\t'<a class=\"owner\" href=\"' + vendorUrl + '\" title=\"' + vendorUrl + '\">' + vendorName + '</a>'+\n\t\t\t\t\t'<span class=\"path-divider\">/</span>'+\n\t\t\t\t\t'<a class=\"repo\" href=\"' + repoUrl + '\" title=\"' + repoUrl + '\">' + repoName + '</a>'+\n\t\t\t\t\t'</h3>'+\n\t\t\t\t\t'<div class=\"github-stats\">'+\n\t\t\t\t\t'<span class=\"github-text\">Star </span>'+\n\t\t\t\t\t'<a class=\"watchers\" href=\"' + repoUrl + '/watchers\" title=\"See watchers\">?</a>'+\n\t\t\t\t\t'<span class=\"github-text\">　Fork </span>'+\n\t\t\t\t\t'<a class=\"forks\" href=\"' + repoUrl + '/network/members\" title=\"See forkers\">?</a>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'<div class=\"github-box-content\">'+\n\t\t\t\t\t'<p class=\"description\"><span></span> &mdash; <a href=\"' + repoUrl + '#readme\">Read More</a></p>'+\n\t\t\t\t\t'<p class=\"link\"></p>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'<div class=\"github-box-download\">'+\n\t\t\t\t\t'<div class=\"updated\"></div>'+\n\t\t\t\t\t'<a class=\"download\" href=\"' + repoUrl + '/zipball/master\" title=\"Get repository\">Download as zip</a>'+\n\t\t\t\t\t'</div>'+\n\t\t\t\t\t'</div>';\n\t\t\t\t_setHtml(repoEle, widget);\n\t\t\t\t_ajaxReq(repoEle, repo);\n\t\t\t}\n\t\t}\n\t}\n\t_appendCss();\n\t_init();\n\twindow.GithubRepoWidget = {\n\t\tinit: _init\n\t};\n})();","date":"2020-04-04T08:34:36.678Z","updated":"2020-04-04T08:34:36.517Z","path":"images/tags _ Night's blog_files/GithubRepoWidget.js","layout":"false","title":"","comments":1,"_id":"ck8npay3500hnqr3lbl0hl4p0"},{"_content":"/*\n *  /MathJax.js\n *\n *  Copyright (c) 2009-2015 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nif(document.getElementById&&document.childNodes&&document.createElement){if(!(window.MathJax&&MathJax.Hub)){if(window.MathJax){window.MathJax={AuthorConfig:window.MathJax}}else{window.MathJax={}}MathJax.isPacked=true;MathJax.version=\"2.6.1\";MathJax.fileversion=\"2.6.1\";MathJax.cdnVersion=\"2.6.1\";MathJax.cdnFileVersions={};(function(d){var b=window[d];if(!b){b=window[d]={}}var e=[];var c=function(f){var g=f.constructor;if(!g){g=function(){}}for(var h in f){if(h!==\"constructor\"&&f.hasOwnProperty(h)){g[h]=f[h]}}return g};var a=function(){return function(){return arguments.callee.Init.call(this,arguments)}};b.Object=c({constructor:a(),Subclass:function(f,h){var g=a();g.SUPER=this;g.Init=this.Init;g.Subclass=this.Subclass;g.Augment=this.Augment;g.protoFunction=this.protoFunction;g.can=this.can;g.has=this.has;g.isa=this.isa;g.prototype=new this(e);g.prototype.constructor=g;g.Augment(f,h);return g},Init:function(f){var g=this;if(f.length===1&&f[0]===e){return g}if(!(g instanceof f.callee)){g=new f.callee(e)}return g.Init.apply(g,f)||g},Augment:function(f,g){var h;if(f!=null){for(h in f){if(f.hasOwnProperty(h)){this.protoFunction(h,f[h])}}if(f.toString!==this.prototype.toString&&f.toString!=={}.toString){this.protoFunction(\"toString\",f.toString)}}if(g!=null){for(h in g){if(g.hasOwnProperty(h)){this[h]=g[h]}}}return this},protoFunction:function(g,f){this.prototype[g]=f;if(typeof f===\"function\"){f.SUPER=this.SUPER.prototype}},prototype:{Init:function(){},SUPER:function(f){return f.callee.SUPER},can:function(f){return typeof(this[f])===\"function\"},has:function(f){return typeof(this[f])!==\"undefined\"},isa:function(f){return(f instanceof Object)&&(this instanceof f)}},can:function(f){return this.prototype.can.call(this,f)},has:function(f){return this.prototype.has.call(this,f)},isa:function(g){var f=this;while(f){if(f===g){return true}else{f=f.SUPER}}return false},SimpleSUPER:c({constructor:function(f){return this.SimpleSUPER.define(f)},define:function(f){var h={};if(f!=null){for(var g in f){if(f.hasOwnProperty(g)){h[g]=this.wrap(g,f[g])}}if(f.toString!==this.prototype.toString&&f.toString!=={}.toString){h.toString=this.wrap(\"toString\",f.toString)}}return h},wrap:function(i,h){if(typeof(h)!==\"function\"||!h.toString().match(/\\.\\s*SUPER\\s*\\(/)){return h}var g=function(){this.SUPER=g.SUPER[i];try{var f=h.apply(this,arguments)}catch(j){delete this.SUPER;throw j}delete this.SUPER;return f};g.toString=function(){return h.toString.apply(h,arguments)};return g}})})})(\"MathJax\");(function(BASENAME){var BASE=window[BASENAME];if(!BASE){BASE=window[BASENAME]={}}var CALLBACK=function(data){var cb=function(){return arguments.callee.execute.apply(arguments.callee,arguments)};for(var id in CALLBACK.prototype){if(CALLBACK.prototype.hasOwnProperty(id)){if(typeof(data[id])!==\"undefined\"){cb[id]=data[id]}else{cb[id]=CALLBACK.prototype[id]}}}cb.toString=CALLBACK.prototype.toString;return cb};CALLBACK.prototype={isCallback:true,hook:function(){},data:[],object:window,execute:function(){if(!this.called||this.autoReset){this.called=!this.autoReset;return this.hook.apply(this.object,this.data.concat([].slice.call(arguments,0)))}},reset:function(){delete this.called},toString:function(){return this.hook.toString.apply(this.hook,arguments)}};var ISCALLBACK=function(f){return(typeof(f)===\"function\"&&f.isCallback)};var EVAL=function(code){return eval.call(window,code)};var TESTEVAL=function(){EVAL(\"var __TeSt_VaR__ = 1\");if(window.__TeSt_VaR__){try{delete window.__TeSt_VaR__}catch(error){window.__TeSt_VaR__=null}}else{if(window.execScript){EVAL=function(code){BASE.__code=code;code=\"try {\"+BASENAME+\".__result = eval(\"+BASENAME+\".__code)} catch(err) {\"+BASENAME+\".__result = err}\";window.execScript(code);var result=BASE.__result;delete BASE.__result;delete BASE.__code;if(result instanceof Error){throw result}return result}}else{EVAL=function(code){BASE.__code=code;code=\"try {\"+BASENAME+\".__result = eval(\"+BASENAME+\".__code)} catch(err) {\"+BASENAME+\".__result = err}\";var head=(document.getElementsByTagName(\"head\"))[0];if(!head){head=document.body}var script=document.createElement(\"script\");script.appendChild(document.createTextNode(code));head.appendChild(script);head.removeChild(script);var result=BASE.__result;delete BASE.__result;delete BASE.__code;if(result instanceof Error){throw result}return result}}}TESTEVAL=null};var USING=function(args,i){if(arguments.length>1){if(arguments.length===2&&!(typeof arguments[0]===\"function\")&&arguments[0] instanceof Object&&typeof arguments[1]===\"number\"){args=[].slice.call(args,i)}else{args=[].slice.call(arguments,0)}}if(args instanceof Array&&args.length===1){args=args[0]}if(typeof args===\"function\"){if(args.execute===CALLBACK.prototype.execute){return args}return CALLBACK({hook:args})}else{if(args instanceof Array){if(typeof(args[0])===\"string\"&&args[1] instanceof Object&&typeof args[1][args[0]]===\"function\"){return CALLBACK({hook:args[1][args[0]],object:args[1],data:args.slice(2)})}else{if(typeof args[0]===\"function\"){return CALLBACK({hook:args[0],data:args.slice(1)})}else{if(typeof args[1]===\"function\"){return CALLBACK({hook:args[1],object:args[0],data:args.slice(2)})}}}}else{if(typeof(args)===\"string\"){if(TESTEVAL){TESTEVAL()}return CALLBACK({hook:EVAL,data:[args]})}else{if(args instanceof Object){return CALLBACK(args)}else{if(typeof(args)===\"undefined\"){return CALLBACK({})}}}}}throw Error(\"Can't make callback from given data\")};var DELAY=function(time,callback){callback=USING(callback);callback.timeout=setTimeout(callback,time);return callback};var WAITFOR=function(callback,signal){callback=USING(callback);if(!callback.called){WAITSIGNAL(callback,signal);signal.pending++}};var WAITEXECUTE=function(){var signals=this.signal;delete this.signal;this.execute=this.oldExecute;delete this.oldExecute;var result=this.execute.apply(this,arguments);if(ISCALLBACK(result)&&!result.called){WAITSIGNAL(result,signals)}else{for(var i=0,m=signals.length;i<m;i++){signals[i].pending--;if(signals[i].pending<=0){signals[i].call()}}}};var WAITSIGNAL=function(callback,signals){if(!(signals instanceof Array)){signals=[signals]}if(!callback.signal){callback.oldExecute=callback.execute;callback.execute=WAITEXECUTE;callback.signal=signals}else{if(signals.length===1){callback.signal.push(signals[0])}else{callback.signal=callback.signal.concat(signals)}}};var AFTER=function(callback){callback=USING(callback);callback.pending=0;for(var i=1,m=arguments.length;i<m;i++){if(arguments[i]){WAITFOR(arguments[i],callback)}}if(callback.pending===0){var result=callback();if(ISCALLBACK(result)){callback=result}}return callback};var HOOKS=MathJax.Object.Subclass({Init:function(reset){this.hooks=[];this.remove=[];this.reset=reset;this.running=false},Add:function(hook,priority){if(priority==null){priority=10}if(!ISCALLBACK(hook)){hook=USING(hook)}hook.priority=priority;var i=this.hooks.length;while(i>0&&priority<this.hooks[i-1].priority){i--}this.hooks.splice(i,0,hook);return hook},Remove:function(hook){for(var i=0,m=this.hooks.length;i<m;i++){if(this.hooks[i]===hook){if(this.running){this.remove.push(i)}else{this.hooks.splice(i,1)}return}}},Execute:function(){var callbacks=[{}];this.running=true;for(var i=0,m=this.hooks.length;i<m;i++){if(this.reset){this.hooks[i].reset()}var result=this.hooks[i].apply(window,arguments);if(ISCALLBACK(result)&&!result.called){callbacks.push(result)}}this.running=false;if(this.remove.length){this.RemovePending()}if(callbacks.length===1){return null}if(callbacks.length===2){return callbacks[1]}return AFTER.apply({},callbacks)},RemovePending:function(){this.remove=this.remove.sort();for(var i=this.remove.length-1;i>=0;i--){this.hooks.splice(i,1)}this.remove=[]}});var EXECUTEHOOKS=function(hooks,data,reset){if(!hooks){return null}if(!(hooks instanceof Array)){hooks=[hooks]}if(!(data instanceof Array)){data=(data==null?[]:[data])}var handler=HOOKS(reset);for(var i=0,m=hooks.length;i<m;i++){handler.Add(hooks[i])}return handler.Execute.apply(handler,data)};var QUEUE=BASE.Object.Subclass({Init:function(){this.pending=this.running=0;this.queue=[];this.Push.apply(this,arguments)},Push:function(){var callback;for(var i=0,m=arguments.length;i<m;i++){callback=USING(arguments[i]);if(callback===arguments[i]&&!callback.called){callback=USING([\"wait\",this,callback])}this.queue.push(callback)}if(!this.running&&!this.pending){this.Process()}return callback},Process:function(queue){while(!this.running&&!this.pending&&this.queue.length){var callback=this.queue[0];queue=this.queue.slice(1);this.queue=[];this.Suspend();var result=callback();this.Resume();if(queue.length){this.queue=queue.concat(this.queue)}if(ISCALLBACK(result)&&!result.called){WAITFOR(result,this)}}},Suspend:function(){this.running++},Resume:function(){if(this.running){this.running--}},call:function(){this.Process.apply(this,arguments)},wait:function(callback){return callback}});var SIGNAL=QUEUE.Subclass({Init:function(name){QUEUE.prototype.Init.call(this);this.name=name;this.posted=[];this.listeners=HOOKS(true);this.posting=false;this.callback=null},Post:function(message,callback,forget){callback=USING(callback);if(this.posting||this.pending){this.Push([\"Post\",this,message,callback,forget])}else{this.callback=callback;callback.reset();if(!forget){this.posted.push(message)}this.Suspend();this.posting=true;var result=this.listeners.Execute(message);if(ISCALLBACK(result)&&!result.called){WAITFOR(result,this)}this.Resume();this.posting=false;if(!this.pending){this.call()}}return callback},Clear:function(callback){callback=USING(callback);if(this.posting||this.pending){callback=this.Push([\"Clear\",this,callback])}else{this.posted=[];callback()}return callback},call:function(){this.callback(this);this.Process()},Interest:function(callback,ignorePast,priority){callback=USING(callback);this.listeners.Add(callback,priority);if(!ignorePast){for(var i=0,m=this.posted.length;i<m;i++){callback.reset();var result=callback(this.posted[i]);if(ISCALLBACK(result)&&i===this.posted.length-1){WAITFOR(result,this)}}}return callback},NoInterest:function(callback){this.listeners.Remove(callback)},MessageHook:function(msg,callback,priority){callback=USING(callback);if(!this.hooks){this.hooks={};this.Interest([\"ExecuteHooks\",this])}if(!this.hooks[msg]){this.hooks[msg]=HOOKS(true)}this.hooks[msg].Add(callback,priority);for(var i=0,m=this.posted.length;i<m;i++){if(this.posted[i]==msg){callback.reset();callback(this.posted[i])}}callback.msg=msg;return callback},ExecuteHooks:function(msg){var type=((msg instanceof Array)?msg[0]:msg);if(!this.hooks[type]){return null}return this.hooks[type].Execute(msg)},RemoveHook:function(hook){this.hooks[hook.msg].Remove(hook)}},{signals:{},find:function(name){if(!SIGNAL.signals[name]){SIGNAL.signals[name]=new SIGNAL(name)}return SIGNAL.signals[name]}});BASE.Callback=BASE.CallBack=USING;BASE.Callback.Delay=DELAY;BASE.Callback.After=AFTER;BASE.Callback.Queue=QUEUE;BASE.Callback.Signal=SIGNAL.find;BASE.Callback.Hooks=HOOKS;BASE.Callback.ExecuteHooks=EXECUTEHOOKS})(\"MathJax\");(function(e){var a=window[e];if(!a){a=window[e]={}}var d=(navigator.vendor===\"Apple Computer, Inc.\"&&typeof navigator.vendorSub===\"undefined\");var g=0;var h=function(i){if(document.styleSheets&&document.styleSheets.length>g){g=document.styleSheets.length}if(!i){i=document.head||((document.getElementsByTagName(\"head\"))[0]);if(!i){i=document.body}}return i};var f=[];var c=function(){for(var k=0,j=f.length;k<j;k++){a.Ajax.head.removeChild(f[k])}f=[]};var b={};b[e]=\"\";a.Ajax={loaded:{},loading:{},loadHooks:{},timeout:15*1000,styleDelay:1,config:{root:\"\",path:b},STATUS:{OK:1,ERROR:-1},fileURL:function(j){var i=j.match(/^\\[([-._a-z0-9]+)\\]/i);if(i&&i[1] in b){j=(b[i[1]]||this.config.root)+j.substr(i[1].length+2)}return j},fileName:function(j){var i=this.config.root;if(j.substr(0,i.length)===i){j=\"[\"+e+\"]\"+j.substr(i.length)}else{for(var k in b){if(b.hasOwnProperty(k)&&b[k]){if(j.substr(0,b[k].length)===b[k]){j=\"[\"+k+\"]\"+j.substr(b[k].length);break}}}}return j},fileRev:function(j){var i=a.cdnFileVersions[name]||a.cdnVersion;if(i){i=\"?rev=\"+i}return i},urlRev:function(i){return this.fileURL(i)+this.fileRev(i)},Require:function(k,n){n=a.Callback(n);var l;if(k instanceof Object){for(var j in k){if(k.hasOwnProperty(j)){l=j.toUpperCase();k=k[j]}}}else{l=k.split(/\\./).pop().toUpperCase()}k=this.fileURL(k);if(this.loaded[k]){n(this.loaded[k])}else{var m={};m[l]=k;this.Load(m,n)}return n},Load:function(k,m){m=a.Callback(m);var l;if(k instanceof Object){for(var j in k){if(k.hasOwnProperty(j)){l=j.toUpperCase();k=k[j]}}}else{l=k.split(/\\./).pop().toUpperCase()}k=this.fileURL(k);if(this.loading[k]){this.addHook(k,m)}else{this.head=h(this.head);if(this.loader[l]){this.loader[l].call(this,k,m)}else{throw Error(\"Can't load files of type \"+l)}}return m},LoadHook:function(l,m,k){m=a.Callback(m);if(l instanceof Object){for(var j in l){if(l.hasOwnProperty(j)){l=l[j]}}}l=this.fileURL(l);if(this.loaded[l]){m(this.loaded[l])}else{this.addHook(l,m,k)}return m},addHook:function(j,k,i){if(!this.loadHooks[j]){this.loadHooks[j]=MathJax.Callback.Hooks()}this.loadHooks[j].Add(k,i);k.file=j},removeHook:function(i){if(this.loadHooks[i.file]){this.loadHooks[i.file].Remove(i);if(!this.loadHooks[i.file].hooks.length){delete this.loadHooks[i.file]}}},Preloading:function(){for(var l=0,j=arguments.length;l<j;l++){var k=this.fileURL(arguments[l]);if(!this.loading[k]){this.loading[k]={preloaded:true}}}},loader:{JS:function(k,m){var j=this.fileName(k);var i=document.createElement(\"script\");var l=a.Callback([\"loadTimeout\",this,k]);this.loading[k]={callback:m,timeout:setTimeout(l,this.timeout),status:this.STATUS.OK,script:i};this.loading[k].message=a.Message.File(j);i.onerror=l;i.type=\"text/javascript\";i.src=k+this.fileRev(j);this.head.appendChild(i)},CSS:function(j,l){var i=this.fileName(j);var k=document.createElement(\"link\");k.rel=\"stylesheet\";k.type=\"text/css\";k.href=j+this.fileRev(i);this.loading[j]={callback:l,message:a.Message.File(i),status:this.STATUS.OK};this.head.appendChild(k);this.timer.create.call(this,[this.timer.file,j],k)}},timer:{create:function(j,i){j=a.Callback(j);if(i.nodeName===\"STYLE\"&&i.styleSheet&&typeof(i.styleSheet.cssText)!==\"undefined\"){j(this.STATUS.OK)}else{if(window.chrome&&i.nodeName===\"LINK\"){j(this.STATUS.OK)}else{if(d){this.timer.start(this,[this.timer.checkSafari2,g++,j],this.styleDelay)}else{this.timer.start(this,[this.timer.checkLength,i,j],this.styleDelay)}}}return j},start:function(j,i,k,l){i=a.Callback(i);i.execute=this.execute;i.time=this.time;i.STATUS=j.STATUS;i.timeout=l||j.timeout;i.delay=i.total=k||0;if(k){setTimeout(i,k)}else{i()}},time:function(i){this.total+=this.delay;this.delay=Math.floor(this.delay*1.05+5);if(this.total>=this.timeout){i(this.STATUS.ERROR);return 1}return 0},file:function(j,i){if(i<0){a.Ajax.loadTimeout(j)}else{a.Ajax.loadComplete(j)}},execute:function(){this.hook.call(this.object,this,this.data[0],this.data[1])},checkSafari2:function(i,j,k){if(i.time(k)){return}if(document.styleSheets.length>j&&document.styleSheets[j].cssRules&&document.styleSheets[j].cssRules.length){k(i.STATUS.OK)}else{setTimeout(i,i.delay)}},checkLength:function(i,l,n){if(i.time(n)){return}var m=0;var j=(l.sheet||l.styleSheet);try{if((j.cssRules||j.rules||[]).length>0){m=1}}catch(k){if(k.message.match(/protected variable|restricted URI/)){m=1}else{if(k.message.match(/Security error/)){m=1}}}if(m){setTimeout(a.Callback([n,i.STATUS.OK]),0)}else{setTimeout(i,i.delay)}}},loadComplete:function(i){i=this.fileURL(i);var j=this.loading[i];if(j&&!j.preloaded){a.Message.Clear(j.message);clearTimeout(j.timeout);if(j.script){if(f.length===0){setTimeout(c,0)}f.push(j.script)}this.loaded[i]=j.status;delete this.loading[i];this.addHook(i,j.callback)}else{if(j){delete this.loading[i]}this.loaded[i]=this.STATUS.OK;j={status:this.STATUS.OK}}if(!this.loadHooks[i]){return null}return this.loadHooks[i].Execute(j.status)},loadTimeout:function(i){if(this.loading[i].timeout){clearTimeout(this.loading[i].timeout)}this.loading[i].status=this.STATUS.ERROR;this.loadError(i);this.loadComplete(i)},loadError:function(i){a.Message.Set([\"LoadFailed\",\"File failed to load: %1\",i],null,2000);a.Hub.signal.Post([\"file load error\",i])},Styles:function(k,l){var i=this.StyleString(k);if(i===\"\"){l=a.Callback(l);l()}else{var j=document.createElement(\"style\");j.type=\"text/css\";this.head=h(this.head);this.head.appendChild(j);if(j.styleSheet&&typeof(j.styleSheet.cssText)!==\"undefined\"){j.styleSheet.cssText=i}else{j.appendChild(document.createTextNode(i))}l=this.timer.create.call(this,l,j)}return l},StyleString:function(n){if(typeof(n)===\"string\"){return n}var k=\"\",o,m;for(o in n){if(n.hasOwnProperty(o)){if(typeof n[o]===\"string\"){k+=o+\" {\"+n[o]+\"}\\n\"}else{if(n[o] instanceof Array){for(var l=0;l<n[o].length;l++){m={};m[o]=n[o][l];k+=this.StyleString(m)}}else{if(o.substr(0,6)===\"@media\"){k+=o+\" {\"+this.StyleString(n[o])+\"}\\n\"}else{if(n[o]!=null){m=[];for(var j in n[o]){if(n[o].hasOwnProperty(j)){if(n[o][j]!=null){m[m.length]=j+\": \"+n[o][j]}}}k+=o+\" {\"+m.join(\"; \")+\"}\\n\"}}}}}}return k}}})(\"MathJax\");MathJax.HTML={Element:function(d,f,e){var g=document.createElement(d),h;if(f){if(f.hasOwnProperty(\"style\")){var c=f.style;f.style={};for(h in c){if(c.hasOwnProperty(h)){f.style[h.replace(/-([a-z])/g,this.ucMatch)]=c[h]}}}MathJax.Hub.Insert(g,f);for(h in f){if(h===\"role\"||h.substr(0,5)===\"aria-\"){g.setAttribute(h,f[h])}}}if(e){if(!(e instanceof Array)){e=[e]}for(var b=0,a=e.length;b<a;b++){if(e[b] instanceof Array){g.appendChild(this.Element(e[b][0],e[b][1],e[b][2]))}else{if(d===\"script\"){this.setScript(g,e[b])}else{g.appendChild(document.createTextNode(e[b]))}}}}return g},ucMatch:function(a,b){return b.toUpperCase()},addElement:function(b,a,d,c){return b.appendChild(this.Element(a,d,c))},TextNode:function(a){return document.createTextNode(a)},addText:function(a,b){return a.appendChild(this.TextNode(b))},setScript:function(a,b){if(this.setScriptBug){a.text=b}else{while(a.firstChild){a.removeChild(a.firstChild)}this.addText(a,b)}},getScript:function(a){var b=(a.text===\"\"?a.innerHTML:a.text);return b.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")},Cookie:{prefix:\"mjx\",expires:365,Set:function(a,e){var d=[];if(e){for(var g in e){if(e.hasOwnProperty(g)){d.push(g+\":\"+e[g].toString().replace(/&/g,\"&&\"))}}}var b=this.prefix+\".\"+a+\"=\"+escape(d.join(\"&;\"));if(this.expires){var f=new Date();f.setDate(f.getDate()+this.expires);b+=\"; expires=\"+f.toGMTString()}try{document.cookie=b+\"; path=/\"}catch(c){}},Get:function(a,d){if(!d){d={}}var g=new RegExp(\"(?:^|;\\\\s*)\"+this.prefix+\"\\\\.\"+a+\"=([^;]*)(?:;|$)\");var f;try{f=g.exec(document.cookie)}catch(c){}if(f&&f[1]!==\"\"){var j=unescape(f[1]).split(\"&;\");for(var e=0,b=j.length;e<b;e++){f=j[e].match(/([^:]+):(.*)/);var h=f[2].replace(/&&/g,\"&\");if(h===\"true\"){h=true}else{if(h===\"false\"){h=false}else{if(h.match(/^-?(\\d+(\\.\\d+)?|\\.\\d+)$/)){h=parseFloat(h)}}}d[f[1]]=h}}return d}}};MathJax.Localization={locale:\"en\",directory:\"[MathJax]/localization\",strings:{ast:{menuTitle:\"asturianu\"},bg:{menuTitle:\"\\u0431\\u044A\\u043B\\u0433\\u0430\\u0440\\u0441\\u043A\\u0438\"},bcc:{menuTitle:\"\\u0628\\u0644\\u0648\\u0686\\u06CC\"},br:{menuTitle:\"brezhoneg\"},ca:{menuTitle:\"catal\\u00E0\"},cdo:{menuTitle:\"M\\u00ECng-d\\u0115\\u0324ng-ng\\u1E73\\u0304\"},cs:{menuTitle:\"\\u010De\\u0161tina\"},da:{menuTitle:\"dansk\"},de:{menuTitle:\"Deutsch\"},en:{menuTitle:\"English\",isLoaded:true},eo:{menuTitle:\"Esperanto\"},es:{menuTitle:\"espa\\u00F1ol\"},fa:{menuTitle:\"\\u0641\\u0627\\u0631\\u0633\\u06CC\"},fi:{menuTitle:\"suomi\"},fr:{menuTitle:\"fran\\u00E7ais\"},gl:{menuTitle:\"galego\"},he:{menuTitle:\"\\u05E2\\u05D1\\u05E8\\u05D9\\u05EA\"},ia:{menuTitle:\"interlingua\"},it:{menuTitle:\"italiano\"},ja:{menuTitle:\"\\u65E5\\u672C\\u8A9E\"},kn:{menuTitle:\"\\u0C95\\u0CA8\\u0CCD\\u0CA8\\u0CA1\"},ko:{menuTitle:\"\\uD55C\\uAD6D\\uC5B4\"},lb:{menuTitle:\"L\\u00EBtzebuergesch\"},lt:{menuTitle:\"lietuvi\\u0173\"},mk:{menuTitle:\"\\u043C\\u0430\\u043A\\u0435\\u0434\\u043E\\u043D\\u0441\\u043A\\u0438\"},nl:{menuTitle:\"Nederlands\"},oc:{menuTitle:\"occitan\"},pl:{menuTitle:\"polski\"},pt:{menuTitle:\"portugus\\u00EA\"},\"pt-br\":{menuTitle:\"portugu\\u00EAs do Brasil\"},ru:{menuTitle:\"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"},sco:{menuTitle:\"Scots\"},scn:{menuTitle:\"sicilianu\"},sl:{menuTitle:\"sloven\\u0161\\u010Dina\"},sv:{menuTitle:\"svenska\"},tr:{menuTitle:\"T\\u00FCrk\\u00E7e\"},uk:{menuTitle:\"\\u0443\\u043A\\u0440\\u0430\\u0457\\u043D\\u0441\\u044C\\u043A\\u0430\"},vi:{menuTitle:\"Ti\\u1EBFng Vi\\u1EC7t\"},\"zh-hans\":{menuTitle:\"\\u4E2D\\u6587\\uFF08\\u7B80\\u4F53\\uFF09\"}},pattern:/%(\\d+|\\{\\d+\\}|\\{[a-z]+:\\%\\d+(?:\\|(?:%\\{\\d+\\}|%.|[^\\}])*)+\\}|.)/g,SPLIT:(\"axb\".split(/(x)/).length===3?function(a,b){return a.split(b)}:function(c,e){var a=[],b,d=0;e.lastIndex=0;while((b=e.exec(c))){a.push(c.substr(d,b.index-d));a.push.apply(a,b.slice(1));d=b.index+b[0].length}a.push(c.substr(d));return a}),_:function(b,a){if(a instanceof Array){return this.processSnippet(b,a)}return this.processString(this.lookupPhrase(b,a),[].slice.call(arguments,2))},processString:function(l,o,g){var j,e;for(j=0,e=o.length;j<e;j++){if(g&&o[j] instanceof Array){o[j]=this.processSnippet(g,o[j])}}var f=this.SPLIT(l,this.pattern);for(j=1,e=f.length;j<e;j+=2){var p=f[j].charAt(0);if(p>=\"0\"&&p<=\"9\"){f[j]=o[f[j]-1];if(typeof f[j]===\"number\"){f[j]=this.number(f[j])}}else{if(p===\"{\"){p=f[j].substr(1);if(p>=\"0\"&&p<=\"9\"){f[j]=o[f[j].substr(1,f[j].length-2)-1];if(typeof f[j]===\"number\"){f[j]=this.number(f[j])}}else{var k=f[j].match(/^\\{([a-z]+):%(\\d+)\\|(.*)\\}$/);if(k){if(k[1]===\"plural\"){var d=o[k[2]-1];if(typeof d===\"undefined\"){f[j]=\"???\"}else{d=this.plural(d)-1;var h=k[3].replace(/(^|[^%])(%%)*%\\|/g,\"$1$2%\\uEFEF\").split(/\\|/);if(d>=0&&d<h.length){f[j]=this.processString(h[d].replace(/\\uEFEF/g,\"|\"),o,g)}else{f[j]=\"???\"}}}else{f[j]=\"%\"+f[j]}}}}}if(f[j]==null){f[j]=\"???\"}}if(!g){return f.join(\"\")}var a=[],b=\"\";for(j=0;j<e;j++){b+=f[j];j++;if(j<e){if(f[j] instanceof Array){a.push(b);a=a.concat(f[j]);b=\"\"}else{b+=f[j]}}}if(b!==\"\"){a.push(b)}return a},processSnippet:function(g,e){var c=[];for(var d=0,b=e.length;d<b;d++){if(e[d] instanceof Array){var f=e[d];if(typeof f[1]===\"string\"){var h=f[0];if(!(h instanceof Array)){h=[g,h]}var a=this.lookupPhrase(h,f[1]);c=c.concat(this.processMarkdown(a,f.slice(2),g))}else{if(f[1] instanceof Array){c=c.concat(this.processSnippet.apply(this,f))}else{if(f.length>=3){c.push([f[0],f[1],this.processSnippet(g,f[2])])}else{c.push(e[d])}}}}else{c.push(e[d])}}return c},markdownPattern:/(%.)|(\\*{1,3})((?:%.|.)+?)\\2|(`+)((?:%.|.)+?)\\4|\\[((?:%.|.)+?)\\]\\(([^\\s\\)]+)\\)/,processMarkdown:function(b,h,d){var j=[],e;var c=b.split(this.markdownPattern);var g=c[0];for(var f=1,a=c.length;f<a;f+=8){if(c[f+1]){e=this.processString(c[f+2],h,d);if(!(e instanceof Array)){e=[e]}e=[[\"b\",\"i\",\"i\"][c[f+1].length-1],{},e];if(c[f+1].length===3){e=[\"b\",{},e]}}else{if(c[f+3]){e=this.processString(c[f+4].replace(/^\\s/,\"\").replace(/\\s$/,\"\"),h,d);if(!(e instanceof Array)){e=[e]}e=[\"code\",{},e]}else{if(c[f+5]){e=this.processString(c[f+5],h,d);if(!(e instanceof Array)){e=[e]}e=[\"a\",{href:this.processString(c[f+6],h),target:\"_blank\"},e]}else{g+=c[f];e=null}}}if(e){j=this.concatString(j,g,h,d);j.push(e);g=\"\"}if(c[f+7]!==\"\"){g+=c[f+7]}}j=this.concatString(j,g,h,d);return j},concatString:function(a,c,b,d){if(c!=\"\"){c=this.processString(c,b,d);if(!(c instanceof Array)){c=[c]}a=a.concat(c)}return a},lookupPhrase:function(f,a,d){if(!d){d=\"_\"}if(f instanceof Array){d=(f[0]||\"_\");f=(f[1]||\"\")}var c=this.loadDomain(d);if(c){MathJax.Hub.RestartAfter(c)}var b=this.strings[this.locale];if(b){if(b.domains&&d in b.domains){var e=b.domains[d];if(e.strings&&f in e.strings){a=e.strings[f]}}}return a},loadFile:function(b,d,e){e=MathJax.Callback(e);b=(d.file||b);if(!b.match(/\\.js$/)){b+=\".js\"}if(!b.match(/^([a-z]+:|\\[MathJax\\])/)){var a=(this.strings[this.locale].directory||this.directory+\"/\"+this.locale||\"[MathJax]/localization/\"+this.locale);b=a+\"/\"+b}var c=MathJax.Ajax.Require(b,function(){d.isLoaded=true;return e()});return(c.called?null:c)},loadDomain:function(c,e){var b,a=this.strings[this.locale];if(a){if(!a.isLoaded){b=this.loadFile(this.locale,a);if(b){return MathJax.Callback.Queue(b,[\"loadDomain\",this,c]).Push(e||{})}}if(a.domains&&c in a.domains){var d=a.domains[c];if(!d.isLoaded){b=this.loadFile(c,d);if(b){return MathJax.Callback.Queue(b).Push(e)}}}}return MathJax.Callback(e)()},Try:function(a){a=MathJax.Callback(a);a.autoReset=true;try{a()}catch(b){if(!b.restart){throw b}MathJax.Callback.After([\"Try\",this,a],b.restart)}},resetLocale:function(a){if(!a){return}a=a.toLowerCase();while(!this.strings[a]){var c=a.lastIndexOf(\"-\");if(c===-1){return}a=a.substring(0,c)}var b=this.strings[a].remap;this.locale=b?b:a},setLocale:function(a){this.resetLocale(a);if(MathJax.Menu){this.loadDomain(\"MathMenu\")}},addTranslation:function(b,e,c){var d=this.strings[b],a=false;if(!d){d=this.strings[b]={};a=true}if(!d.domains){d.domains={}}if(e){if(!d.domains[e]){d.domains[e]={}}d=d.domains[e]}MathJax.Hub.Insert(d,c);if(a&&MathJax.Menu.menu){MathJax.Menu.CreateLocaleMenu()}},setCSS:function(b){var a=this.strings[this.locale];if(a){if(a.fontFamily){b.style.fontFamily=a.fontFamily}if(a.fontDirection){b.style.direction=a.fontDirection;if(a.fontDirection===\"rtl\"){b.style.textAlign=\"right\"}}}return b},fontFamily:function(){var a=this.strings[this.locale];return(a?a.fontFamily:null)},fontDirection:function(){var a=this.strings[this.locale];return(a?a.fontDirection:null)},plural:function(b){var a=this.strings[this.locale];if(a&&a.plural){return a.plural(b)}if(b==1){return 1}return 2},number:function(b){var a=this.strings[this.locale];if(a&&a.number){return a.number(b)}return b}};MathJax.Message={ready:false,log:[{}],current:null,textNodeBug:(navigator.vendor===\"Apple Computer, Inc.\"&&typeof navigator.vendorSub===\"undefined\")||(window.hasOwnProperty&&window.hasOwnProperty(\"konqueror\")),styles:{\"#MathJax_Message\":{position:\"fixed\",left:\"1px\",bottom:\"2px\",\"background-color\":\"#E6E6E6\",border:\"1px solid #959595\",margin:\"0px\",padding:\"2px 8px\",\"z-index\":\"102\",color:\"black\",\"font-size\":\"80%\",width:\"auto\",\"white-space\":\"nowrap\"},\"#MathJax_MSIE_Frame\":{position:\"absolute\",top:0,left:0,width:\"0px\",\"z-index\":101,border:\"0px\",margin:\"0px\",padding:\"0px\"}},browsers:{MSIE:function(a){MathJax.Message.msieFixedPositionBug=((document.documentMode||0)<7);if(MathJax.Message.msieFixedPositionBug){MathJax.Hub.config.styles[\"#MathJax_Message\"].position=\"absolute\"}MathJax.Message.quirks=(document.compatMode===\"BackCompat\")},Chrome:function(a){MathJax.Hub.config.styles[\"#MathJax_Message\"].bottom=\"1.5em\";MathJax.Hub.config.styles[\"#MathJax_Message\"].left=\"1em\"}},Init:function(a){if(a){this.ready=true}if(!document.body||!this.ready){return false}if(this.div&&this.div.parentNode==null){this.div=document.getElementById(\"MathJax_Message\");if(this.div){this.text=this.div.firstChild}}if(!this.div){var b=document.body;if(this.msieFixedPositionBug&&window.attachEvent){b=this.frame=this.addDiv(document.body);b.removeAttribute(\"id\");b.style.position=\"absolute\";b.style.border=b.style.margin=b.style.padding=\"0px\";b.style.zIndex=\"101\";b.style.height=\"0px\";b=this.addDiv(b);b.id=\"MathJax_MSIE_Frame\";window.attachEvent(\"onscroll\",this.MoveFrame);window.attachEvent(\"onresize\",this.MoveFrame);this.MoveFrame()}this.div=this.addDiv(b);this.div.style.display=\"none\";this.text=this.div.appendChild(document.createTextNode(\"\"))}return true},addDiv:function(a){var b=document.createElement(\"div\");b.id=\"MathJax_Message\";if(a.firstChild){a.insertBefore(b,a.firstChild)}else{a.appendChild(b)}return b},MoveFrame:function(){var a=(MathJax.Message.quirks?document.body:document.documentElement);var b=MathJax.Message.frame;b.style.left=a.scrollLeft+\"px\";b.style.top=a.scrollTop+\"px\";b.style.width=a.clientWidth+\"px\";b=b.firstChild;b.style.height=a.clientHeight+\"px\"},localize:function(a){return MathJax.Localization._(a,a)},filterText:function(a,c,b){if(MathJax.Hub.config.messageStyle===\"simple\"){if(b===\"LoadFile\"){if(!this.loading){this.loading=this.localize(\"Loading\")+\" \"}a=this.loading;this.loading+=\".\"}else{if(b===\"ProcessMath\"){if(!this.processing){this.processing=this.localize(\"Processing\")+\" \"}a=this.processing;this.processing+=\".\"}else{if(b===\"TypesetMath\"){if(!this.typesetting){this.typesetting=this.localize(\"Typesetting\")+\" \"}a=this.typesetting;this.typesetting+=\".\"}}}}return a},Set:function(c,e,b){if(e==null){e=this.log.length;this.log[e]={}}var d=\"\";if(c instanceof Array){d=c[0];if(d instanceof Array){d=d[1]}try{c=MathJax.Localization._.apply(MathJax.Localization,c)}catch(a){if(!a.restart){throw a}if(!a.restart.called){if(this.log[e].restarted==null){this.log[e].restarted=0}this.log[e].restarted++;delete this.log[e].cleared;MathJax.Callback.After([\"Set\",this,c,e,b],a.restart);return e}}}if(this.timer){clearTimeout(this.timer);delete this.timer}this.log[e].text=c;this.log[e].filteredText=c=this.filterText(c,e,d);if(typeof(this.log[e].next)===\"undefined\"){this.log[e].next=this.current;if(this.current!=null){this.log[this.current].prev=e}this.current=e}if(this.current===e&&MathJax.Hub.config.messageStyle!==\"none\"){if(this.Init()){if(this.textNodeBug){this.div.innerHTML=c}else{this.text.nodeValue=c}this.div.style.display=\"\";if(this.status){window.status=\"\";delete this.status}}else{window.status=c;this.status=true}}if(this.log[e].restarted){if(this.log[e].cleared){b=0}if(--this.log[e].restarted===0){delete this.log[e].cleared}}if(b){setTimeout(MathJax.Callback([\"Clear\",this,e]),b)}else{if(b==0){this.Clear(e,0)}}return e},Clear:function(b,a){if(this.log[b].prev!=null){this.log[this.log[b].prev].next=this.log[b].next}if(this.log[b].next!=null){this.log[this.log[b].next].prev=this.log[b].prev}if(this.current===b){this.current=this.log[b].next;if(this.text){if(this.div.parentNode==null){this.Init()}if(this.current==null){if(this.timer){clearTimeout(this.timer);delete this.timer}if(a==null){a=600}if(a===0){this.Remove()}else{this.timer=setTimeout(MathJax.Callback([\"Remove\",this]),a)}}else{if(MathJax.Hub.config.messageStyle!==\"none\"){if(this.textNodeBug){this.div.innerHTML=this.log[this.current].filteredText}else{this.text.nodeValue=this.log[this.current].filteredText}}}if(this.status){window.status=\"\";delete this.status}}else{if(this.status){window.status=(this.current==null?\"\":this.log[this.current].text)}}}delete this.log[b].next;delete this.log[b].prev;delete this.log[b].filteredText;if(this.log[b].restarted){this.log[b].cleared=true}},Remove:function(){this.text.nodeValue=\"\";this.div.style.display=\"none\"},File:function(a){return this.Set([\"LoadFile\",\"Loading %1\",a],null,null)},Log:function(){var b=[];for(var c=1,a=this.log.length;c<a;c++){b[c]=this.log[c].text}return b.join(\"\\n\")}};MathJax.Hub={config:{root:\"\",config:[],styleSheets:[],styles:{\".MathJax_Preview\":{color:\"#888\"}},jax:[],extensions:[],preJax:null,postJax:null,displayAlign:\"center\",displayIndent:\"0\",preRemoveClass:\"MathJax_Preview\",showProcessingMessages:true,messageStyle:\"normal\",delayStartupUntil:\"none\",skipStartupTypeset:false,elements:[],positionToHash:true,showMathMenu:true,showMathMenuMSIE:true,menuSettings:{zoom:\"None\",CTRL:false,ALT:false,CMD:false,Shift:false,discoverable:false,zscale:\"200%\",renderer:null,font:\"Auto\",context:\"MathJax\",locale:null,mpContext:false,mpMouse:false,texHints:true,FastPreview:null,assistiveMML:null,inTabOrder:true,semantics:false},errorSettings:{message:[\"[\",[\"MathProcessingError\",\"Math Processing Error\"],\"]\"],style:{color:\"#CC0000\",\"font-style\":\"italic\"}},ignoreMMLattributes:{}},preProcessors:MathJax.Callback.Hooks(true),inputJax:{},outputJax:{order:{}},processSectionDelay:50,processUpdateTime:250,processUpdateDelay:10,signal:MathJax.Callback.Signal(\"Hub\"),Config:function(a){this.Insert(this.config,a);if(this.config.Augment){this.Augment(this.config.Augment)}},CombineConfig:function(c,f){var b=this.config,g,e;c=c.split(/\\./);for(var d=0,a=c.length;d<a;d++){g=c[d];if(!b[g]){b[g]={}}e=b;b=b[g]}e[g]=b=this.Insert(f,b);return b},Register:{PreProcessor:function(){return MathJax.Hub.preProcessors.Add.apply(MathJax.Hub.preProcessors,arguments)},MessageHook:function(){return MathJax.Hub.signal.MessageHook.apply(MathJax.Hub.signal,arguments)},StartupHook:function(){return MathJax.Hub.Startup.signal.MessageHook.apply(MathJax.Hub.Startup.signal,arguments)},LoadHook:function(){return MathJax.Ajax.LoadHook.apply(MathJax.Ajax,arguments)}},UnRegister:{PreProcessor:function(a){MathJax.Hub.preProcessors.Remove(a)},MessageHook:function(a){MathJax.Hub.signal.RemoveHook(a)},StartupHook:function(a){MathJax.Hub.Startup.signal.RemoveHook(a)},LoadHook:function(a){MathJax.Ajax.removeHook(a)}},getAllJax:function(e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax){c.push(b[d].MathJax.elementJax)}}return c},getJaxByType:function(f,e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax&&b[d].MathJax.elementJax.mimeType===f){c.push(b[d].MathJax.elementJax)}}return c},getJaxByInputType:function(f,e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax&&b[d].type&&b[d].type.replace(/ *;(.|\\s)*/,\"\")===f){c.push(b[d].MathJax.elementJax)}}return c},getJaxFor:function(a){if(typeof(a)===\"string\"){a=document.getElementById(a)}if(a&&a.MathJax){return a.MathJax.elementJax}if(this.isMathJaxNode(a)){if(!a.isMathJax){a=a.firstChild}while(a&&!a.jaxID){a=a.parentNode}if(a){return MathJax.OutputJax[a.jaxID].getJaxFromMath(a)}}return null},isJax:function(a){if(typeof(a)===\"string\"){a=document.getElementById(a)}if(this.isMathJaxNode(a)){return 1}if(a&&(a.tagName||\"\").toLowerCase()===\"script\"){if(a.MathJax){return(a.MathJax.state===MathJax.ElementJax.STATE.PROCESSED?1:-1)}if(a.type&&this.inputJax[a.type.replace(/ *;(.|\\s)*/,\"\")]){return -1}}return 0},isMathJaxNode:function(a){return !!a&&(a.isMathJax||(a.className||\"\")===\"MathJax_MathML\")},setRenderer:function(d,c){if(!d){return}if(!MathJax.OutputJax[d]){this.config.menuSettings.renderer=\"\";var b=\"[MathJax]/jax/output/\"+d+\"/config.js\";return MathJax.Ajax.Require(b,[\"setRenderer\",this,d,c])}else{this.config.menuSettings.renderer=d;if(c==null){c=\"jax/mml\"}var a=this.outputJax;if(a[c]&&a[c].length){if(d!==a[c][0].id){a[c].unshift(MathJax.OutputJax[d]);return this.signal.Post([\"Renderer Selected\",d])}}return null}},Queue:function(){return this.queue.Push.apply(this.queue,arguments)},Typeset:function(c,d){if(!MathJax.isReady){return null}var b=this.elementCallback(c,d);if(b.count){var a=MathJax.Callback.Queue([\"PreProcess\",this,b.elements],[\"Process\",this,b.elements])}return a.Push(b.callback)},PreProcess:function(e,g){var c=this.elementCallback(e,g);var b=MathJax.Callback.Queue();if(c.count){var f=(c.count===1?[c.elements]:c.elements);b.Push([\"Post\",this.signal,[\"Begin PreProcess\",c.elements]]);for(var d=0,a=f.length;d<a;d++){if(f[d]){b.Push([\"Execute\",this.preProcessors,f[d]])}}b.Push([\"Post\",this.signal,[\"End PreProcess\",c.elements]])}return b.Push(c.callback)},Process:function(a,b){return this.takeAction(\"Process\",a,b)},Update:function(a,b){return this.takeAction(\"Update\",a,b)},Reprocess:function(a,b){return this.takeAction(\"Reprocess\",a,b)},Rerender:function(a,b){return this.takeAction(\"Rerender\",a,b)},takeAction:function(g,d,h){var c=this.elementCallback(d,h);var f=c.elements;var a=MathJax.Callback.Queue([\"Clear\",this.signal]);var e={scripts:[],start:new Date().getTime(),i:0,j:0,jax:{},jaxIDs:[]};if(c.count){var b=[\"Delay\",MathJax.Callback,this.processSectionDelay];if(!b[2]){b={}}a.Push([\"Post\",this.signal,[\"Begin \"+g,f]],[\"Post\",this.signal,[\"Begin Math\",f,g]],[\"prepareScripts\",this,g,f,e],[\"Post\",this.signal,[\"Begin Math Input\",f,g]],[\"processInput\",this,e],[\"Post\",this.signal,[\"End Math Input\",f,g]],b,[\"prepareOutput\",this,e,\"preProcess\"],b,[\"Post\",this.signal,[\"Begin Math Output\",f,g]],[\"processOutput\",this,e],[\"Post\",this.signal,[\"End Math Output\",f,g]],b,[\"prepareOutput\",this,e,\"postProcess\"],b,[\"Post\",this.signal,[\"End Math\",f,g]],[\"Post\",this.signal,[\"End \"+g,f]])}return a.Push(c.callback)},scriptAction:{Process:function(a){},Update:function(b){var a=b.MathJax.elementJax;if(a&&a.needsUpdate()){a.Remove(true);b.MathJax.state=a.STATE.UPDATE}else{b.MathJax.state=a.STATE.PROCESSED}},Reprocess:function(b){var a=b.MathJax.elementJax;if(a){a.Remove(true);b.MathJax.state=a.STATE.UPDATE}},Rerender:function(b){var a=b.MathJax.elementJax;if(a){a.Remove(true);b.MathJax.state=a.STATE.OUTPUT}}},prepareScripts:function(h,e,g){if(arguments.callee.disabled){return}var b=this.elementScripts(e);var f=MathJax.ElementJax.STATE;for(var d=0,a=b.length;d<a;d++){var c=b[d];if(c.type&&this.inputJax[c.type.replace(/ *;(.|\\n)*/,\"\")]){if(c.MathJax){if(c.MathJax.elementJax&&c.MathJax.elementJax.hover){MathJax.Extension.MathEvents.Hover.ClearHover(c.MathJax.elementJax)}if(c.MathJax.state!==f.PENDING){this.scriptAction[h](c)}}if(!c.MathJax){c.MathJax={state:f.PENDING}}if(c.MathJax.error){delete c.MathJax.error}if(c.MathJax.state!==f.PROCESSED){g.scripts.push(c)}}}},checkScriptSiblings:function(a){if(a.MathJax.checked){return}var b=this.config,f=a.previousSibling;if(f&&f.nodeName===\"#text\"){var d,e,c=a.nextSibling;if(c&&c.nodeName!==\"#text\"){c=null}if(b.preJax){if(typeof(b.preJax)===\"string\"){b.preJax=new RegExp(b.preJax+\"$\")}d=f.nodeValue.match(b.preJax)}if(b.postJax&&c){if(typeof(b.postJax)===\"string\"){b.postJax=new RegExp(\"^\"+b.postJax)}e=c.nodeValue.match(b.postJax)}if(d&&(!b.postJax||e)){f.nodeValue=f.nodeValue.replace(b.preJax,(d.length>1?d[1]:\"\"));f=null}if(e&&(!b.preJax||d)){c.nodeValue=c.nodeValue.replace(b.postJax,(e.length>1?e[1]:\"\"))}if(f&&!f.nodeValue.match(/\\S/)){f=f.previousSibling}}if(b.preRemoveClass&&f&&f.className===b.preRemoveClass){a.MathJax.preview=f}a.MathJax.checked=1},processInput:function(a){var b,i=MathJax.ElementJax.STATE;var h,e,d=a.scripts.length;try{while(a.i<d){h=a.scripts[a.i];if(!h){a.i++;continue}e=h.previousSibling;if(e&&e.className===\"MathJax_Error\"){e.parentNode.removeChild(e)}if(!h.MathJax||h.MathJax.state===i.PROCESSED){a.i++;continue}if(!h.MathJax.elementJax||h.MathJax.state===i.UPDATE){this.checkScriptSiblings(h);var g=h.type.replace(/ *;(.|\\s)*/,\"\");var j=this.inputJax[g];b=j.Process(h,a);if(typeof b===\"function\"){if(b.called){continue}this.RestartAfter(b)}b=b.Attach(h,j.id);this.saveScript(b,a,h,i);this.postInputHooks.Execute(b,j.id,h)}else{if(h.MathJax.state===i.OUTPUT){this.saveScript(h.MathJax.elementJax,a,h,i)}}a.i++;var c=new Date().getTime();if(c-a.start>this.processUpdateTime&&a.i<a.scripts.length){a.start=c;this.RestartAfter(MathJax.Callback.Delay(1))}}}catch(f){return this.processError(f,a,\"Input\")}if(a.scripts.length&&this.config.showProcessingMessages){MathJax.Message.Set([\"ProcessMath\",\"Processing math: %1%%\",100],0)}a.start=new Date().getTime();a.i=a.j=0;return null},postInputHooks:MathJax.Callback.Hooks(true),saveScript:function(a,d,b,c){if(!this.outputJax[a.mimeType]){b.MathJax.state=c.UPDATE;throw Error(\"No output jax registered for \"+a.mimeType)}a.outputJax=this.outputJax[a.mimeType][0].id;if(!d.jax[a.outputJax]){if(d.jaxIDs.length===0){d.jax[a.outputJax]=d.scripts}else{if(d.jaxIDs.length===1){d.jax[d.jaxIDs[0]]=d.scripts.slice(0,d.i)}d.jax[a.outputJax]=[]}d.jaxIDs.push(a.outputJax)}if(d.jaxIDs.length>1){d.jax[a.outputJax].push(b)}b.MathJax.state=c.OUTPUT},prepareOutput:function(c,f){while(c.j<c.jaxIDs.length){var e=c.jaxIDs[c.j],d=MathJax.OutputJax[e];if(d[f]){try{var a=d[f](c);if(typeof a===\"function\"){if(a.called){continue}this.RestartAfter(a)}}catch(b){if(!b.restart){MathJax.Message.Set([\"PrepError\",\"Error preparing %1 output (%2)\",e,f],null,600);MathJax.Hub.lastPrepError=b;c.j++}return MathJax.Callback.After([\"prepareOutput\",this,c,f],b.restart)}}c.j++}return null},processOutput:function(h){var b,g=MathJax.ElementJax.STATE,d,a=h.scripts.length;try{while(h.i<a){d=h.scripts[h.i];if(!d||!d.MathJax||d.MathJax.error){h.i++;continue}var c=d.MathJax.elementJax;if(!c){h.i++;continue}b=MathJax.OutputJax[c.outputJax].Process(d,h);if(b!==false){d.MathJax.state=g.PROCESSED;if(d.MathJax.preview){d.MathJax.preview.innerHTML=\"\"}this.signal.Post([\"New Math\",c.inputID])}h.i++;var e=new Date().getTime();if(e-h.start>this.processUpdateTime&&h.i<h.scripts.length){h.start=e;this.RestartAfter(MathJax.Callback.Delay(this.processUpdateDelay))}}}catch(f){return this.processError(f,h,\"Output\")}if(h.scripts.length&&this.config.showProcessingMessages){MathJax.Message.Set([\"TypesetMath\",\"Typesetting math: %1%%\",100],0);MathJax.Message.Clear(0)}h.i=h.j=0;return null},processMessage:function(d,b){var a=Math.floor(d.i/(d.scripts.length)*100);var c=(b===\"Output\"?[\"TypesetMath\",\"Typesetting math: %1%%\"]:[\"ProcessMath\",\"Processing math: %1%%\"]);if(this.config.showProcessingMessages){MathJax.Message.Set(c.concat(a),0)}},processError:function(b,c,a){if(!b.restart){if(!this.config.errorSettings.message){throw b}this.formatError(c.scripts[c.i],b);c.i++}this.processMessage(c,a);return MathJax.Callback.After([\"process\"+a,this,c],b.restart)},formatError:function(b,f){var h=function(l,k,j,i){return MathJax.Localization._(l,k,j,i)};var e=h(\"ErrorMessage\",\"Error: %1\",f.message)+\"\\n\";if(f.sourceURL||f.fileName){e+=\"\\n\"+h(\"ErrorFile\",\"file: %1\",f.sourceURL||f.fileName)}if(f.line||f.lineNumber){e+=\"\\n\"+h(\"ErrorLine\",\"line: %1\",f.line||f.lineNumber)}e+=\"\\n\\n\"+h(\"ErrorTips\",\"Debugging tips: use %1, inspect %2 in the browser console\",\"'unpacked/MathJax.js'\",\"'MathJax.Hub.lastError'\");b.MathJax.error=MathJax.OutputJax.Error.Jax(e,b);if(b.MathJax.elementJax){b.MathJax.error.inputID=b.MathJax.elementJax.inputID}var g=this.config.errorSettings;var a=h(g.messageId,g.message);var c=MathJax.HTML.Element(\"span\",{className:\"MathJax_Error\",jaxID:\"Error\",isMathJax:true,id:b.MathJax.error.inputID+\"-Frame\"},[[\"span\",null,a]]);MathJax.Ajax.Require(\"[MathJax]/extensions/MathEvents.js\",function(){var j=MathJax.Extension.MathEvents.Event,i=MathJax.Hub;c.oncontextmenu=j.Menu;c.onmousedown=j.Mousedown;c.onkeydown=j.Keydown;c.tabIndex=i.getTabOrder(i.getJaxFor(b))});var d=document.getElementById(c.id);if(d){d.parentNode.removeChild(d)}b.parentNode.insertBefore(c,b);if(b.MathJax.preview){b.MathJax.preview.innerHTML=\"\"}this.lastError=f;this.signal.Post([\"Math Processing Error\",b,f])},RestartAfter:function(a){throw this.Insert(Error(\"restart\"),{restart:MathJax.Callback(a)})},elementCallback:function(c,f){if(f==null&&(c instanceof Array||typeof c===\"function\")){try{MathJax.Callback(c);f=c;c=null}catch(d){}}if(c==null){c=this.config.elements||[]}if(this.isHTMLCollection(c)){c=this.HTMLCollection2Array(c)}if(!(c instanceof Array)){c=[c]}c=[].concat(c);for(var b=0,a=c.length;b<a;b++){if(typeof(c[b])===\"string\"){c[b]=document.getElementById(c[b])}}if(!document.body){document.body=document.getElementsByTagName(\"body\")[0]}if(c.length==0){c.push(document.body)}if(!f){f={}}return{count:c.length,elements:(c.length===1?c[0]:c),callback:f}},elementScripts:function(e){var b=[];if(e instanceof Array||this.isHTMLCollection(e)){for(var d=0,a=e.length;d<a;d++){var f=0;for(var c=0;c<d&&!f;c++){f=e[c].contains(e[d])}if(!f){b.push.apply(b,this.elementScripts(e[d]))}}return b}if(typeof(e)===\"string\"){e=document.getElementById(e)}if(!document.body){document.body=document.getElementsByTagName(\"body\")[0]}if(e==null){e=document.body}if(e.tagName!=null&&e.tagName.toLowerCase()===\"script\"){return[e]}b=e.getElementsByTagName(\"script\");if(this.msieHTMLCollectionBug){b=this.HTMLCollection2Array(b)}return b},isHTMLCollection:function(a){return(\"HTMLCollection\" in window&&typeof(a)===\"object\"&&a instanceof HTMLCollection)},HTMLCollection2Array:function(c){if(!this.msieHTMLCollectionBug){return[].slice.call(c)}var b=[];for(var d=0,a=c.length;d<a;d++){b[d]=c[d]}return b},Insert:function(c,a){for(var b in a){if(a.hasOwnProperty(b)){if(typeof a[b]===\"object\"&&!(a[b] instanceof Array)&&(typeof c[b]===\"object\"||typeof c[b]===\"function\")){this.Insert(c[b],a[b])}else{c[b]=a[b]}}}return c},getTabOrder:function(a){return this.config.menuSettings.inTabOrder?0:-1},SplitList:(\"trim\" in String.prototype?function(a){return a.trim().split(/\\s+/)}:function(a){return a.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\").split(/\\s+/)})};MathJax.Hub.Insert(MathJax.Hub.config.styles,MathJax.Message.styles);MathJax.Hub.Insert(MathJax.Hub.config.styles,{\".MathJax_Error\":MathJax.Hub.config.errorSettings.style});MathJax.Extension={};MathJax.Hub.Configured=MathJax.Callback({});MathJax.Hub.Startup={script:\"\",queue:MathJax.Callback.Queue(),signal:MathJax.Callback.Signal(\"Startup\"),params:{},Config:function(){this.queue.Push([\"Post\",this.signal,\"Begin Config\"]);if(this.params.locale){MathJax.Localization.resetLocale(this.params.locale);MathJax.Hub.config.menuSettings.locale=this.params.locale}if(this.params.config){var c=this.params.config.split(/,/);for(var b=0,a=c.length;b<a;b++){if(!c[b].match(/\\.js$/)){c[b]+=\".js\"}this.queue.Push([\"Require\",MathJax.Ajax,this.URL(\"config\",c[b])])}}this.queue.Push([\"Config\",MathJax.Hub,MathJax.AuthorConfig]);if(this.script.match(/\\S/)){this.queue.Push(this.script+\";\\n1;\")}this.queue.Push([\"ConfigDelay\",this],[\"ConfigBlocks\",this],[function(d){return d.loadArray(MathJax.Hub.config.config,\"config\",null,true)},this],[\"Post\",this.signal,\"End Config\"])},ConfigDelay:function(){var a=this.params.delayStartupUntil||MathJax.Hub.config.delayStartupUntil;if(a===\"onload\"){return this.onload}if(a===\"configured\"){return MathJax.Hub.Configured}return a},ConfigBlocks:function(){var c=document.getElementsByTagName(\"script\");var f=null,b=MathJax.Callback.Queue();for(var d=0,a=c.length;d<a;d++){var e=String(c[d].type).replace(/ /g,\"\");if(e.match(/^text\\/x-mathjax-config(;.*)?$/)&&!e.match(/;executed=true/)){c[d].type+=\";executed=true\";f=b.Push(c[d].innerHTML+\";\\n1;\")}}return f},Cookie:function(){return this.queue.Push([\"Post\",this.signal,\"Begin Cookie\"],[\"Get\",MathJax.HTML.Cookie,\"menu\",MathJax.Hub.config.menuSettings],[function(e){var d=e.menuSettings;if(d.locale){MathJax.Localization.resetLocale(d.locale)}var g=e.menuSettings.renderer,b=e.jax;if(g){var c=\"output/\"+g;b.sort();for(var f=0,a=b.length;f<a;f++){if(b[f].substr(0,7)===\"output/\"){break}}if(f==a-1){b.pop()}else{while(f<a){if(b[f]===c){b.splice(f,1);break}f++}}b.unshift(c)}if(d.CHTMLpreview!=null){if(d.FastPreview==null){d.FastPreview=d.CHTMLpreview}delete d.CHTMLpreview}if(d.FastPreview&&!MathJax.Extension[\"fast-preview\"]){MathJax.Hub.config.extensions.push(\"fast-preview.js\")}if(e.menuSettings.assistiveMML&&!MathJax.Extension.AssistiveMML){MathJax.Hub.config.extensions.push(\"AssistiveMML.js\")}},MathJax.Hub.config],[\"Post\",this.signal,\"End Cookie\"])},Styles:function(){return this.queue.Push([\"Post\",this.signal,\"Begin Styles\"],[\"loadArray\",this,MathJax.Hub.config.styleSheets,\"config\"],[\"Styles\",MathJax.Ajax,MathJax.Hub.config.styles],[\"Post\",this.signal,\"End Styles\"])},Jax:function(){var f=MathJax.Hub.config,c=MathJax.Hub.outputJax;for(var g=0,b=f.jax.length,d=0;g<b;g++){var e=f.jax[g].substr(7);if(f.jax[g].substr(0,7)===\"output/\"&&c.order[e]==null){c.order[e]=d;d++}}var a=MathJax.Callback.Queue();return a.Push([\"Post\",this.signal,\"Begin Jax\"],[\"loadArray\",this,f.jax,\"jax\",\"config.js\"],[\"Post\",this.signal,\"End Jax\"])},Extensions:function(){var a=MathJax.Callback.Queue();return a.Push([\"Post\",this.signal,\"Begin Extensions\"],[\"loadArray\",this,MathJax.Hub.config.extensions,\"extensions\"],[\"Post\",this.signal,\"End Extensions\"])},Message:function(){MathJax.Message.Init(true)},Menu:function(){var b=MathJax.Hub.config.menuSettings,a=MathJax.Hub.outputJax,d;for(var c in a){if(a.hasOwnProperty(c)){if(a[c].length){d=a[c];break}}}if(d&&d.length){if(b.renderer&&b.renderer!==d[0].id){d.unshift(MathJax.OutputJax[b.renderer])}b.renderer=d[0].id}},Hash:function(){if(MathJax.Hub.config.positionToHash&&document.location.hash&&document.body&&document.body.scrollIntoView){var d=document.location.hash.substr(1);var f=document.getElementById(d);if(!f){var c=document.getElementsByTagName(\"a\");for(var e=0,b=c.length;e<b;e++){if(c[e].name===d){f=c[e];break}}}if(f){while(!f.scrollIntoView){f=f.parentNode}f=this.HashCheck(f);if(f&&f.scrollIntoView){setTimeout(function(){f.scrollIntoView(true)},1)}}}},HashCheck:function(b){var a=MathJax.Hub.getJaxFor(b);if(a&&MathJax.OutputJax[a.outputJax].hashCheck){b=MathJax.OutputJax[a.outputJax].hashCheck(b)}return b},MenuZoom:function(){if(MathJax.Hub.config.showMathMenu){if(!MathJax.Extension.MathMenu){setTimeout(function(){MathJax.Callback.Queue([\"Require\",MathJax.Ajax,\"[MathJax]/extensions/MathMenu.js\",{}],[\"loadDomain\",MathJax.Localization,\"MathMenu\"])},1000)}else{setTimeout(MathJax.Callback([\"loadDomain\",MathJax.Localization,\"MathMenu\"]),1000)}if(!MathJax.Extension.MathZoom){setTimeout(MathJax.Callback([\"Require\",MathJax.Ajax,\"[MathJax]/extensions/MathZoom.js\",{}]),2000)}}},onLoad:function(){var a=this.onload=MathJax.Callback(function(){MathJax.Hub.Startup.signal.Post(\"onLoad\")});if(document.body&&document.readyState){if(MathJax.Hub.Browser.isMSIE){if(document.readyState===\"complete\"){return[a]}}else{if(document.readyState!==\"loading\"){return[a]}}}if(window.addEventListener){window.addEventListener(\"load\",a,false);if(!this.params.noDOMContentEvent){window.addEventListener(\"DOMContentLoaded\",a,false)}}else{if(window.attachEvent){window.attachEvent(\"onload\",a)}else{window.onload=a}}return a},Typeset:function(a,b){if(MathJax.Hub.config.skipStartupTypeset){return function(){}}return this.queue.Push([\"Post\",this.signal,\"Begin Typeset\"],[\"Typeset\",MathJax.Hub,a,b],[\"Post\",this.signal,\"End Typeset\"])},URL:function(b,a){if(!a.match(/^([a-z]+:\\/\\/|\\[|\\/)/)){a=\"[MathJax]/\"+b+\"/\"+a}return a},loadArray:function(b,f,c,a){if(b){if(!(b instanceof Array)){b=[b]}if(b.length){var h=MathJax.Callback.Queue(),j={},e;for(var g=0,d=b.length;g<d;g++){e=this.URL(f,b[g]);if(c){e+=\"/\"+c}if(a){h.Push([\"Require\",MathJax.Ajax,e,j])}else{h.Push(MathJax.Ajax.Require(e,j))}}return h.Push({})}}return null}};(function(d){var b=window[d],e=\"[\"+d+\"]\";var c=b.Hub,a=b.Ajax,f=b.Callback;var g=MathJax.Object.Subclass({JAXFILE:\"jax.js\",require:null,config:{},Init:function(i,h){if(arguments.length===0){return this}return(this.constructor.Subclass(i,h))()},Augment:function(k,j){var i=this.constructor,h={};if(k!=null){for(var l in k){if(k.hasOwnProperty(l)){if(typeof k[l]===\"function\"){i.protoFunction(l,k[l])}else{h[l]=k[l]}}}if(k.toString!==i.prototype.toString&&k.toString!=={}.toString){i.protoFunction(\"toString\",k.toString)}}c.Insert(i.prototype,h);i.Augment(null,j);return this},Translate:function(h,i){throw Error(this.directory+\"/\"+this.JAXFILE+\" failed to define the Translate() method\")},Register:function(h){},Config:function(){this.config=c.CombineConfig(this.id,this.config);if(this.config.Augment){this.Augment(this.config.Augment)}},Startup:function(){},loadComplete:function(i){if(i===\"config.js\"){return a.loadComplete(this.directory+\"/\"+i)}else{var h=f.Queue();h.Push(c.Register.StartupHook(\"End Config\",{}),[\"Post\",c.Startup.signal,this.id+\" Jax Config\"],[\"Config\",this],[\"Post\",c.Startup.signal,this.id+\" Jax Require\"],[function(j){return MathJax.Hub.Startup.loadArray(j.require,this.directory)},this],[function(j,k){return MathJax.Hub.Startup.loadArray(j.extensions,\"extensions/\"+k)},this.config||{},this.id],[\"Post\",c.Startup.signal,this.id+\" Jax Startup\"],[\"Startup\",this],[\"Post\",c.Startup.signal,this.id+\" Jax Ready\"]);if(this.copyTranslate){h.Push([function(j){j.preProcess=j.preTranslate;j.Process=j.Translate;j.postProcess=j.postTranslate},this.constructor.prototype])}return h.Push([\"loadComplete\",a,this.directory+\"/\"+i])}}},{id:\"Jax\",version:\"2.6.0\",directory:e+\"/jax\",extensionDir:e+\"/extensions\"});b.InputJax=g.Subclass({elementJax:\"mml\",sourceMenuTitle:[\"Original\",\"Original Form\"],copyTranslate:true,Process:function(l,q){var j=f.Queue(),o;var k=this.elementJax;if(!(k instanceof Array)){k=[k]}for(var n=0,h=k.length;n<h;n++){o=b.ElementJax.directory+\"/\"+k[n]+\"/\"+this.JAXFILE;if(!this.require){this.require=[]}else{if(!(this.require instanceof Array)){this.require=[this.require]}}this.require.push(o);j.Push(a.Require(o))}o=this.directory+\"/\"+this.JAXFILE;var p=j.Push(a.Require(o));if(!p.called){this.constructor.prototype.Process=function(){if(!p.called){return p}throw Error(o+\" failed to load properly\")}}k=c.outputJax[\"jax/\"+k[0]];if(k){j.Push(a.Require(k[0].directory+\"/\"+this.JAXFILE))}return j.Push({})},needsUpdate:function(h){var i=h.SourceElement();return(h.originalText!==b.HTML.getScript(i))},Register:function(h){if(!c.inputJax){c.inputJax={}}c.inputJax[h]=this}},{id:\"InputJax\",version:\"2.6.0\",directory:g.directory+\"/input\",extensionDir:g.extensionDir});b.OutputJax=g.Subclass({copyTranslate:true,preProcess:function(j){var i,h=this.directory+\"/\"+this.JAXFILE;this.constructor.prototype.preProcess=function(k){if(!i.called){return i}throw Error(h+\" failed to load properly\")};i=a.Require(h);return i},Register:function(i){var h=c.outputJax;if(!h[i]){h[i]=[]}if(h[i].length&&(this.id===c.config.menuSettings.renderer||(h.order[this.id]||0)<(h.order[h[i][0].id]||0))){h[i].unshift(this)}else{h[i].push(this)}if(!this.require){this.require=[]}else{if(!(this.require instanceof Array)){this.require=[this.require]}}this.require.push(b.ElementJax.directory+\"/\"+(i.split(/\\//)[1])+\"/\"+this.JAXFILE)},Remove:function(h){}},{id:\"OutputJax\",version:\"2.6.0\",directory:g.directory+\"/output\",extensionDir:g.extensionDir,fontDir:e+(b.isPacked?\"\":\"/..\")+\"/fonts\",imageDir:e+(b.isPacked?\"\":\"/..\")+\"/images\"});b.ElementJax=g.Subclass({Init:function(i,h){return this.constructor.Subclass(i,h)},inputJax:null,outputJax:null,inputID:null,originalText:\"\",mimeType:\"\",sourceMenuTitle:[\"MathMLcode\",\"MathML Code\"],Text:function(i,j){var h=this.SourceElement();b.HTML.setScript(h,i);h.MathJax.state=this.STATE.UPDATE;return c.Update(h,j)},Reprocess:function(i){var h=this.SourceElement();h.MathJax.state=this.STATE.UPDATE;return c.Reprocess(h,i)},Update:function(h){return this.Rerender(h)},Rerender:function(i){var h=this.SourceElement();h.MathJax.state=this.STATE.OUTPUT;return c.Process(h,i)},Remove:function(h){if(this.hover){this.hover.clear(this)}b.OutputJax[this.outputJax].Remove(this);if(!h){c.signal.Post([\"Remove Math\",this.inputID]);this.Detach()}},needsUpdate:function(){return b.InputJax[this.inputJax].needsUpdate(this)},SourceElement:function(){return document.getElementById(this.inputID)},Attach:function(i,j){var h=i.MathJax.elementJax;if(i.MathJax.state===this.STATE.UPDATE){h.Clone(this)}else{h=i.MathJax.elementJax=this;if(i.id){this.inputID=i.id}else{i.id=this.inputID=b.ElementJax.GetID();this.newID=1}}h.originalText=b.HTML.getScript(i);h.inputJax=j;if(h.root){h.root.inputID=h.inputID}return h},Detach:function(){var h=this.SourceElement();if(!h){return}try{delete h.MathJax}catch(i){h.MathJax=null}if(this.newID){h.id=\"\"}},Clone:function(h){var i;for(i in this){if(!this.hasOwnProperty(i)){continue}if(typeof(h[i])===\"undefined\"&&i!==\"newID\"){delete this[i]}}for(i in h){if(!h.hasOwnProperty(i)){continue}if(typeof(this[i])===\"undefined\"||(this[i]!==h[i]&&i!==\"inputID\")){this[i]=h[i]}}}},{id:\"ElementJax\",version:\"2.6.0\",directory:g.directory+\"/element\",extensionDir:g.extensionDir,ID:0,STATE:{PENDING:1,PROCESSED:2,UPDATE:3,OUTPUT:4},GetID:function(){this.ID++;return\"MathJax-Element-\"+this.ID},Subclass:function(){var h=g.Subclass.apply(this,arguments);h.loadComplete=this.prototype.loadComplete;return h}});b.ElementJax.prototype.STATE=b.ElementJax.STATE;b.OutputJax.Error={id:\"Error\",version:\"2.6.0\",config:{},errors:0,ContextMenu:function(){return b.Extension.MathEvents.Event.ContextMenu.apply(b.Extension.MathEvents.Event,arguments)},Mousedown:function(){return b.Extension.MathEvents.Event.AltContextMenu.apply(b.Extension.MathEvents.Event,arguments)},getJaxFromMath:function(h){return(h.nextSibling.MathJax||{}).error},Jax:function(j,i){var h=MathJax.Hub.inputJax[i.type.replace(/ *;(.|\\s)*/,\"\")];this.errors++;return{inputJax:(h||{id:\"Error\"}).id,outputJax:\"Error\",inputID:\"MathJax-Error-\"+this.errors,sourceMenuTitle:[\"ErrorMessage\",\"Error Message\"],sourceMenuFormat:\"Error\",originalText:MathJax.HTML.getScript(i),errorText:j}}};b.InputJax.Error={id:\"Error\",version:\"2.6.0\",config:{},sourceMenuTitle:[\"Original\",\"Original Form\"]}})(\"MathJax\");(function(o){var h=window[o];if(!h){h=window[o]={}}var d=h.Hub;var s=d.Startup;var w=d.config;var g=document.head||(document.getElementsByTagName(\"head\")[0]);if(!g){g=document.childNodes[0]}var b=(document.documentElement||document).getElementsByTagName(\"script\");if(b.length===0&&g.namespaceURI){b=document.getElementsByTagNameNS(g.namespaceURI,\"script\")}var f=new RegExp(\"(^|/)\"+o+\"\\\\.js(\\\\?.*)?$\");for(var q=b.length-1;q>=0;q--){if((b[q].src||\"\").match(f)){s.script=b[q].innerHTML;if(RegExp.$2){var t=RegExp.$2.substr(1).split(/\\&/);for(var p=0,l=t.length;p<l;p++){var n=t[p].match(/(.*)=(.*)/);if(n){s.params[unescape(n[1])]=unescape(n[2])}}}w.root=b[q].src.replace(/(^|\\/)[^\\/]*(\\?.*)?$/,\"\").replace(/^(https?:\\/\\/cdn.mathjax.org\\/mathjax\\/)(latest)/,\"$1\"+h.version.split(/\\./).slice(0,2).join(\".\")+\"-$2\");h.Ajax.config.root=w.root;break}}var k=navigator.userAgent;var a={isMac:(navigator.platform.substr(0,3)===\"Mac\"),isPC:(navigator.platform.substr(0,3)===\"Win\"),isMSIE:(\"ActiveXObject\" in window&&\"clipboardData\" in window),isEdge:(\"MSGestureEvent\" in window&&\"chrome\" in window&&window.chrome.loadTimes==null),isFirefox:(!!k.match(/Gecko\\//)&&!k.match(/like Gecko/)),isSafari:(!!k.match(/ (Apple)?WebKit\\//)&&!k.match(/ like iPhone /)&&(!window.chrome||window.chrome.app==null)),isChrome:(\"chrome\" in window&&window.chrome.loadTimes!=null),isOpera:(\"opera\" in window&&window.opera.version!=null),isKonqueror:(\"konqueror\" in window&&navigator.vendor==\"KDE\"),versionAtLeast:function(y){var x=(this.version).split(\".\");y=(new String(y)).split(\".\");for(var z=0,j=y.length;z<j;z++){if(x[z]!=y[z]){return parseInt(x[z]||\"0\")>=parseInt(y[z])}}return true},Select:function(j){var i=j[d.Browser];if(i){return i(d.Browser)}return null}};var e=k.replace(/^Mozilla\\/(\\d+\\.)+\\d+ /,\"\").replace(/[a-z][-a-z0-9._: ]+\\/\\d+[^ ]*-[^ ]*\\.([a-z][a-z])?\\d+ /i,\"\").replace(/Gentoo |Ubuntu\\/(\\d+\\.)*\\d+ (\\([^)]*\\) )?/,\"\");d.Browser=d.Insert(d.Insert(new String(\"Unknown\"),{version:\"0.0\"}),a);for(var v in a){if(a.hasOwnProperty(v)){if(a[v]&&v.substr(0,2)===\"is\"){v=v.slice(2);if(v===\"Mac\"||v===\"PC\"){continue}d.Browser=d.Insert(new String(v),a);var r=new RegExp(\".*(Version/| Trident/.*; rv:)((?:\\\\d+\\\\.)+\\\\d+)|.*(\"+v+\")\"+(v==\"MSIE\"?\" \":\"/\")+\"((?:\\\\d+\\\\.)*\\\\d+)|(?:^|\\\\(| )([a-z][-a-z0-9._: ]+|(?:Apple)?WebKit)/((?:\\\\d+\\\\.)+\\\\d+)\");var u=r.exec(e)||[\"\",\"\",\"\",\"unknown\",\"0.0\"];d.Browser.name=(u[1]!=\"\"?v:(u[3]||u[5]));d.Browser.version=u[2]||u[4]||u[6];break}}}try{d.Browser.Select({Safari:function(j){var i=parseInt((String(j.version).split(\".\"))[0]);if(i>85){j.webkit=j.version}if(i>=538){j.version=\"8.0\"}else{if(i>=537){j.version=\"7.0\"}else{if(i>=536){j.version=\"6.0\"}else{if(i>=534){j.version=\"5.1\"}else{if(i>=533){j.version=\"5.0\"}else{if(i>=526){j.version=\"4.0\"}else{if(i>=525){j.version=\"3.1\"}else{if(i>500){j.version=\"3.0\"}else{if(i>400){j.version=\"2.0\"}else{if(i>85){j.version=\"1.0\"}}}}}}}}}}j.webkit=(navigator.appVersion.match(/WebKit\\/(\\d+)\\./))[1];j.isMobile=(navigator.appVersion.match(/Mobile/i)!=null);j.noContextMenu=j.isMobile},Firefox:function(j){if((j.version===\"0.0\"||k.match(/Firefox/)==null)&&navigator.product===\"Gecko\"){var m=k.match(/[\\/ ]rv:(\\d+\\.\\d.*?)[\\) ]/);if(m){j.version=m[1]}else{var i=(navigator.buildID||navigator.productSub||\"0\").substr(0,8);if(i>=\"20111220\"){j.version=\"9.0\"}else{if(i>=\"20111120\"){j.version=\"8.0\"}else{if(i>=\"20110927\"){j.version=\"7.0\"}else{if(i>=\"20110816\"){j.version=\"6.0\"}else{if(i>=\"20110621\"){j.version=\"5.0\"}else{if(i>=\"20110320\"){j.version=\"4.0\"}else{if(i>=\"20100121\"){j.version=\"3.6\"}else{if(i>=\"20090630\"){j.version=\"3.5\"}else{if(i>=\"20080617\"){j.version=\"3.0\"}else{if(i>=\"20061024\"){j.version=\"2.0\"}}}}}}}}}}}}j.isMobile=(navigator.appVersion.match(/Android/i)!=null||k.match(/ Fennec\\//)!=null||k.match(/Mobile/)!=null)},Chrome:function(i){i.noContextMenu=i.isMobile=!!navigator.userAgent.match(/ Mobile[ \\/]/)},Opera:function(i){i.version=opera.version()},Edge:function(i){i.isMobile=!!navigator.userAgent.match(/ Phone/)},MSIE:function(j){j.isMobile=!!navigator.userAgent.match(/ Phone/);j.isIE9=!!(document.documentMode&&(window.performance||window.msPerformance));MathJax.HTML.setScriptBug=!j.isIE9||document.documentMode<9;MathJax.Hub.msieHTMLCollectionBug=(document.documentMode<9);if(document.documentMode<10&&!s.params.NoMathPlayer){try{new ActiveXObject(\"MathPlayer.Factory.1\");j.hasMathPlayer=true}catch(m){}try{if(j.hasMathPlayer){var i=document.createElement(\"object\");i.id=\"mathplayer\";i.classid=\"clsid:32F66A20-7614-11D4-BD11-00104BD3F987\";g.appendChild(i);document.namespaces.add(\"m\",\"http://www.w3.org/1998/Math/MathML\");j.mpNamespace=true;if(document.readyState&&(document.readyState===\"loading\"||document.readyState===\"interactive\")){document.write('<?import namespace=\"m\" implementation=\"#MathPlayer\">');j.mpImported=true}}else{document.namespaces.add(\"mjx_IE_fix\",\"http://www.w3.org/1999/xlink\")}}catch(m){}}}})}catch(c){console.error(c.message)}d.Browser.Select(MathJax.Message.browsers);if(h.AuthorConfig&&typeof h.AuthorConfig.AuthorInit===\"function\"){h.AuthorConfig.AuthorInit()}d.queue=h.Callback.Queue();d.queue.Push([\"Post\",s.signal,\"Begin\"],[\"Config\",s],[\"Cookie\",s],[\"Styles\",s],[\"Message\",s],function(){var i=h.Callback.Queue(s.Jax(),s.Extensions());return i.Push({})},[\"Menu\",s],s.onLoad(),function(){MathJax.isReady=true},[\"Typeset\",s],[\"Hash\",s],[\"MenuZoom\",s],[\"Post\",s.signal,\"End\"])})(\"MathJax\")}};\n","source":"images/tags _ Night's blog_files/MathJax.js","raw":"/*\n *  /MathJax.js\n *\n *  Copyright (c) 2009-2015 The MathJax Consortium\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nif(document.getElementById&&document.childNodes&&document.createElement){if(!(window.MathJax&&MathJax.Hub)){if(window.MathJax){window.MathJax={AuthorConfig:window.MathJax}}else{window.MathJax={}}MathJax.isPacked=true;MathJax.version=\"2.6.1\";MathJax.fileversion=\"2.6.1\";MathJax.cdnVersion=\"2.6.1\";MathJax.cdnFileVersions={};(function(d){var b=window[d];if(!b){b=window[d]={}}var e=[];var c=function(f){var g=f.constructor;if(!g){g=function(){}}for(var h in f){if(h!==\"constructor\"&&f.hasOwnProperty(h)){g[h]=f[h]}}return g};var a=function(){return function(){return arguments.callee.Init.call(this,arguments)}};b.Object=c({constructor:a(),Subclass:function(f,h){var g=a();g.SUPER=this;g.Init=this.Init;g.Subclass=this.Subclass;g.Augment=this.Augment;g.protoFunction=this.protoFunction;g.can=this.can;g.has=this.has;g.isa=this.isa;g.prototype=new this(e);g.prototype.constructor=g;g.Augment(f,h);return g},Init:function(f){var g=this;if(f.length===1&&f[0]===e){return g}if(!(g instanceof f.callee)){g=new f.callee(e)}return g.Init.apply(g,f)||g},Augment:function(f,g){var h;if(f!=null){for(h in f){if(f.hasOwnProperty(h)){this.protoFunction(h,f[h])}}if(f.toString!==this.prototype.toString&&f.toString!=={}.toString){this.protoFunction(\"toString\",f.toString)}}if(g!=null){for(h in g){if(g.hasOwnProperty(h)){this[h]=g[h]}}}return this},protoFunction:function(g,f){this.prototype[g]=f;if(typeof f===\"function\"){f.SUPER=this.SUPER.prototype}},prototype:{Init:function(){},SUPER:function(f){return f.callee.SUPER},can:function(f){return typeof(this[f])===\"function\"},has:function(f){return typeof(this[f])!==\"undefined\"},isa:function(f){return(f instanceof Object)&&(this instanceof f)}},can:function(f){return this.prototype.can.call(this,f)},has:function(f){return this.prototype.has.call(this,f)},isa:function(g){var f=this;while(f){if(f===g){return true}else{f=f.SUPER}}return false},SimpleSUPER:c({constructor:function(f){return this.SimpleSUPER.define(f)},define:function(f){var h={};if(f!=null){for(var g in f){if(f.hasOwnProperty(g)){h[g]=this.wrap(g,f[g])}}if(f.toString!==this.prototype.toString&&f.toString!=={}.toString){h.toString=this.wrap(\"toString\",f.toString)}}return h},wrap:function(i,h){if(typeof(h)!==\"function\"||!h.toString().match(/\\.\\s*SUPER\\s*\\(/)){return h}var g=function(){this.SUPER=g.SUPER[i];try{var f=h.apply(this,arguments)}catch(j){delete this.SUPER;throw j}delete this.SUPER;return f};g.toString=function(){return h.toString.apply(h,arguments)};return g}})})})(\"MathJax\");(function(BASENAME){var BASE=window[BASENAME];if(!BASE){BASE=window[BASENAME]={}}var CALLBACK=function(data){var cb=function(){return arguments.callee.execute.apply(arguments.callee,arguments)};for(var id in CALLBACK.prototype){if(CALLBACK.prototype.hasOwnProperty(id)){if(typeof(data[id])!==\"undefined\"){cb[id]=data[id]}else{cb[id]=CALLBACK.prototype[id]}}}cb.toString=CALLBACK.prototype.toString;return cb};CALLBACK.prototype={isCallback:true,hook:function(){},data:[],object:window,execute:function(){if(!this.called||this.autoReset){this.called=!this.autoReset;return this.hook.apply(this.object,this.data.concat([].slice.call(arguments,0)))}},reset:function(){delete this.called},toString:function(){return this.hook.toString.apply(this.hook,arguments)}};var ISCALLBACK=function(f){return(typeof(f)===\"function\"&&f.isCallback)};var EVAL=function(code){return eval.call(window,code)};var TESTEVAL=function(){EVAL(\"var __TeSt_VaR__ = 1\");if(window.__TeSt_VaR__){try{delete window.__TeSt_VaR__}catch(error){window.__TeSt_VaR__=null}}else{if(window.execScript){EVAL=function(code){BASE.__code=code;code=\"try {\"+BASENAME+\".__result = eval(\"+BASENAME+\".__code)} catch(err) {\"+BASENAME+\".__result = err}\";window.execScript(code);var result=BASE.__result;delete BASE.__result;delete BASE.__code;if(result instanceof Error){throw result}return result}}else{EVAL=function(code){BASE.__code=code;code=\"try {\"+BASENAME+\".__result = eval(\"+BASENAME+\".__code)} catch(err) {\"+BASENAME+\".__result = err}\";var head=(document.getElementsByTagName(\"head\"))[0];if(!head){head=document.body}var script=document.createElement(\"script\");script.appendChild(document.createTextNode(code));head.appendChild(script);head.removeChild(script);var result=BASE.__result;delete BASE.__result;delete BASE.__code;if(result instanceof Error){throw result}return result}}}TESTEVAL=null};var USING=function(args,i){if(arguments.length>1){if(arguments.length===2&&!(typeof arguments[0]===\"function\")&&arguments[0] instanceof Object&&typeof arguments[1]===\"number\"){args=[].slice.call(args,i)}else{args=[].slice.call(arguments,0)}}if(args instanceof Array&&args.length===1){args=args[0]}if(typeof args===\"function\"){if(args.execute===CALLBACK.prototype.execute){return args}return CALLBACK({hook:args})}else{if(args instanceof Array){if(typeof(args[0])===\"string\"&&args[1] instanceof Object&&typeof args[1][args[0]]===\"function\"){return CALLBACK({hook:args[1][args[0]],object:args[1],data:args.slice(2)})}else{if(typeof args[0]===\"function\"){return CALLBACK({hook:args[0],data:args.slice(1)})}else{if(typeof args[1]===\"function\"){return CALLBACK({hook:args[1],object:args[0],data:args.slice(2)})}}}}else{if(typeof(args)===\"string\"){if(TESTEVAL){TESTEVAL()}return CALLBACK({hook:EVAL,data:[args]})}else{if(args instanceof Object){return CALLBACK(args)}else{if(typeof(args)===\"undefined\"){return CALLBACK({})}}}}}throw Error(\"Can't make callback from given data\")};var DELAY=function(time,callback){callback=USING(callback);callback.timeout=setTimeout(callback,time);return callback};var WAITFOR=function(callback,signal){callback=USING(callback);if(!callback.called){WAITSIGNAL(callback,signal);signal.pending++}};var WAITEXECUTE=function(){var signals=this.signal;delete this.signal;this.execute=this.oldExecute;delete this.oldExecute;var result=this.execute.apply(this,arguments);if(ISCALLBACK(result)&&!result.called){WAITSIGNAL(result,signals)}else{for(var i=0,m=signals.length;i<m;i++){signals[i].pending--;if(signals[i].pending<=0){signals[i].call()}}}};var WAITSIGNAL=function(callback,signals){if(!(signals instanceof Array)){signals=[signals]}if(!callback.signal){callback.oldExecute=callback.execute;callback.execute=WAITEXECUTE;callback.signal=signals}else{if(signals.length===1){callback.signal.push(signals[0])}else{callback.signal=callback.signal.concat(signals)}}};var AFTER=function(callback){callback=USING(callback);callback.pending=0;for(var i=1,m=arguments.length;i<m;i++){if(arguments[i]){WAITFOR(arguments[i],callback)}}if(callback.pending===0){var result=callback();if(ISCALLBACK(result)){callback=result}}return callback};var HOOKS=MathJax.Object.Subclass({Init:function(reset){this.hooks=[];this.remove=[];this.reset=reset;this.running=false},Add:function(hook,priority){if(priority==null){priority=10}if(!ISCALLBACK(hook)){hook=USING(hook)}hook.priority=priority;var i=this.hooks.length;while(i>0&&priority<this.hooks[i-1].priority){i--}this.hooks.splice(i,0,hook);return hook},Remove:function(hook){for(var i=0,m=this.hooks.length;i<m;i++){if(this.hooks[i]===hook){if(this.running){this.remove.push(i)}else{this.hooks.splice(i,1)}return}}},Execute:function(){var callbacks=[{}];this.running=true;for(var i=0,m=this.hooks.length;i<m;i++){if(this.reset){this.hooks[i].reset()}var result=this.hooks[i].apply(window,arguments);if(ISCALLBACK(result)&&!result.called){callbacks.push(result)}}this.running=false;if(this.remove.length){this.RemovePending()}if(callbacks.length===1){return null}if(callbacks.length===2){return callbacks[1]}return AFTER.apply({},callbacks)},RemovePending:function(){this.remove=this.remove.sort();for(var i=this.remove.length-1;i>=0;i--){this.hooks.splice(i,1)}this.remove=[]}});var EXECUTEHOOKS=function(hooks,data,reset){if(!hooks){return null}if(!(hooks instanceof Array)){hooks=[hooks]}if(!(data instanceof Array)){data=(data==null?[]:[data])}var handler=HOOKS(reset);for(var i=0,m=hooks.length;i<m;i++){handler.Add(hooks[i])}return handler.Execute.apply(handler,data)};var QUEUE=BASE.Object.Subclass({Init:function(){this.pending=this.running=0;this.queue=[];this.Push.apply(this,arguments)},Push:function(){var callback;for(var i=0,m=arguments.length;i<m;i++){callback=USING(arguments[i]);if(callback===arguments[i]&&!callback.called){callback=USING([\"wait\",this,callback])}this.queue.push(callback)}if(!this.running&&!this.pending){this.Process()}return callback},Process:function(queue){while(!this.running&&!this.pending&&this.queue.length){var callback=this.queue[0];queue=this.queue.slice(1);this.queue=[];this.Suspend();var result=callback();this.Resume();if(queue.length){this.queue=queue.concat(this.queue)}if(ISCALLBACK(result)&&!result.called){WAITFOR(result,this)}}},Suspend:function(){this.running++},Resume:function(){if(this.running){this.running--}},call:function(){this.Process.apply(this,arguments)},wait:function(callback){return callback}});var SIGNAL=QUEUE.Subclass({Init:function(name){QUEUE.prototype.Init.call(this);this.name=name;this.posted=[];this.listeners=HOOKS(true);this.posting=false;this.callback=null},Post:function(message,callback,forget){callback=USING(callback);if(this.posting||this.pending){this.Push([\"Post\",this,message,callback,forget])}else{this.callback=callback;callback.reset();if(!forget){this.posted.push(message)}this.Suspend();this.posting=true;var result=this.listeners.Execute(message);if(ISCALLBACK(result)&&!result.called){WAITFOR(result,this)}this.Resume();this.posting=false;if(!this.pending){this.call()}}return callback},Clear:function(callback){callback=USING(callback);if(this.posting||this.pending){callback=this.Push([\"Clear\",this,callback])}else{this.posted=[];callback()}return callback},call:function(){this.callback(this);this.Process()},Interest:function(callback,ignorePast,priority){callback=USING(callback);this.listeners.Add(callback,priority);if(!ignorePast){for(var i=0,m=this.posted.length;i<m;i++){callback.reset();var result=callback(this.posted[i]);if(ISCALLBACK(result)&&i===this.posted.length-1){WAITFOR(result,this)}}}return callback},NoInterest:function(callback){this.listeners.Remove(callback)},MessageHook:function(msg,callback,priority){callback=USING(callback);if(!this.hooks){this.hooks={};this.Interest([\"ExecuteHooks\",this])}if(!this.hooks[msg]){this.hooks[msg]=HOOKS(true)}this.hooks[msg].Add(callback,priority);for(var i=0,m=this.posted.length;i<m;i++){if(this.posted[i]==msg){callback.reset();callback(this.posted[i])}}callback.msg=msg;return callback},ExecuteHooks:function(msg){var type=((msg instanceof Array)?msg[0]:msg);if(!this.hooks[type]){return null}return this.hooks[type].Execute(msg)},RemoveHook:function(hook){this.hooks[hook.msg].Remove(hook)}},{signals:{},find:function(name){if(!SIGNAL.signals[name]){SIGNAL.signals[name]=new SIGNAL(name)}return SIGNAL.signals[name]}});BASE.Callback=BASE.CallBack=USING;BASE.Callback.Delay=DELAY;BASE.Callback.After=AFTER;BASE.Callback.Queue=QUEUE;BASE.Callback.Signal=SIGNAL.find;BASE.Callback.Hooks=HOOKS;BASE.Callback.ExecuteHooks=EXECUTEHOOKS})(\"MathJax\");(function(e){var a=window[e];if(!a){a=window[e]={}}var d=(navigator.vendor===\"Apple Computer, Inc.\"&&typeof navigator.vendorSub===\"undefined\");var g=0;var h=function(i){if(document.styleSheets&&document.styleSheets.length>g){g=document.styleSheets.length}if(!i){i=document.head||((document.getElementsByTagName(\"head\"))[0]);if(!i){i=document.body}}return i};var f=[];var c=function(){for(var k=0,j=f.length;k<j;k++){a.Ajax.head.removeChild(f[k])}f=[]};var b={};b[e]=\"\";a.Ajax={loaded:{},loading:{},loadHooks:{},timeout:15*1000,styleDelay:1,config:{root:\"\",path:b},STATUS:{OK:1,ERROR:-1},fileURL:function(j){var i=j.match(/^\\[([-._a-z0-9]+)\\]/i);if(i&&i[1] in b){j=(b[i[1]]||this.config.root)+j.substr(i[1].length+2)}return j},fileName:function(j){var i=this.config.root;if(j.substr(0,i.length)===i){j=\"[\"+e+\"]\"+j.substr(i.length)}else{for(var k in b){if(b.hasOwnProperty(k)&&b[k]){if(j.substr(0,b[k].length)===b[k]){j=\"[\"+k+\"]\"+j.substr(b[k].length);break}}}}return j},fileRev:function(j){var i=a.cdnFileVersions[name]||a.cdnVersion;if(i){i=\"?rev=\"+i}return i},urlRev:function(i){return this.fileURL(i)+this.fileRev(i)},Require:function(k,n){n=a.Callback(n);var l;if(k instanceof Object){for(var j in k){if(k.hasOwnProperty(j)){l=j.toUpperCase();k=k[j]}}}else{l=k.split(/\\./).pop().toUpperCase()}k=this.fileURL(k);if(this.loaded[k]){n(this.loaded[k])}else{var m={};m[l]=k;this.Load(m,n)}return n},Load:function(k,m){m=a.Callback(m);var l;if(k instanceof Object){for(var j in k){if(k.hasOwnProperty(j)){l=j.toUpperCase();k=k[j]}}}else{l=k.split(/\\./).pop().toUpperCase()}k=this.fileURL(k);if(this.loading[k]){this.addHook(k,m)}else{this.head=h(this.head);if(this.loader[l]){this.loader[l].call(this,k,m)}else{throw Error(\"Can't load files of type \"+l)}}return m},LoadHook:function(l,m,k){m=a.Callback(m);if(l instanceof Object){for(var j in l){if(l.hasOwnProperty(j)){l=l[j]}}}l=this.fileURL(l);if(this.loaded[l]){m(this.loaded[l])}else{this.addHook(l,m,k)}return m},addHook:function(j,k,i){if(!this.loadHooks[j]){this.loadHooks[j]=MathJax.Callback.Hooks()}this.loadHooks[j].Add(k,i);k.file=j},removeHook:function(i){if(this.loadHooks[i.file]){this.loadHooks[i.file].Remove(i);if(!this.loadHooks[i.file].hooks.length){delete this.loadHooks[i.file]}}},Preloading:function(){for(var l=0,j=arguments.length;l<j;l++){var k=this.fileURL(arguments[l]);if(!this.loading[k]){this.loading[k]={preloaded:true}}}},loader:{JS:function(k,m){var j=this.fileName(k);var i=document.createElement(\"script\");var l=a.Callback([\"loadTimeout\",this,k]);this.loading[k]={callback:m,timeout:setTimeout(l,this.timeout),status:this.STATUS.OK,script:i};this.loading[k].message=a.Message.File(j);i.onerror=l;i.type=\"text/javascript\";i.src=k+this.fileRev(j);this.head.appendChild(i)},CSS:function(j,l){var i=this.fileName(j);var k=document.createElement(\"link\");k.rel=\"stylesheet\";k.type=\"text/css\";k.href=j+this.fileRev(i);this.loading[j]={callback:l,message:a.Message.File(i),status:this.STATUS.OK};this.head.appendChild(k);this.timer.create.call(this,[this.timer.file,j],k)}},timer:{create:function(j,i){j=a.Callback(j);if(i.nodeName===\"STYLE\"&&i.styleSheet&&typeof(i.styleSheet.cssText)!==\"undefined\"){j(this.STATUS.OK)}else{if(window.chrome&&i.nodeName===\"LINK\"){j(this.STATUS.OK)}else{if(d){this.timer.start(this,[this.timer.checkSafari2,g++,j],this.styleDelay)}else{this.timer.start(this,[this.timer.checkLength,i,j],this.styleDelay)}}}return j},start:function(j,i,k,l){i=a.Callback(i);i.execute=this.execute;i.time=this.time;i.STATUS=j.STATUS;i.timeout=l||j.timeout;i.delay=i.total=k||0;if(k){setTimeout(i,k)}else{i()}},time:function(i){this.total+=this.delay;this.delay=Math.floor(this.delay*1.05+5);if(this.total>=this.timeout){i(this.STATUS.ERROR);return 1}return 0},file:function(j,i){if(i<0){a.Ajax.loadTimeout(j)}else{a.Ajax.loadComplete(j)}},execute:function(){this.hook.call(this.object,this,this.data[0],this.data[1])},checkSafari2:function(i,j,k){if(i.time(k)){return}if(document.styleSheets.length>j&&document.styleSheets[j].cssRules&&document.styleSheets[j].cssRules.length){k(i.STATUS.OK)}else{setTimeout(i,i.delay)}},checkLength:function(i,l,n){if(i.time(n)){return}var m=0;var j=(l.sheet||l.styleSheet);try{if((j.cssRules||j.rules||[]).length>0){m=1}}catch(k){if(k.message.match(/protected variable|restricted URI/)){m=1}else{if(k.message.match(/Security error/)){m=1}}}if(m){setTimeout(a.Callback([n,i.STATUS.OK]),0)}else{setTimeout(i,i.delay)}}},loadComplete:function(i){i=this.fileURL(i);var j=this.loading[i];if(j&&!j.preloaded){a.Message.Clear(j.message);clearTimeout(j.timeout);if(j.script){if(f.length===0){setTimeout(c,0)}f.push(j.script)}this.loaded[i]=j.status;delete this.loading[i];this.addHook(i,j.callback)}else{if(j){delete this.loading[i]}this.loaded[i]=this.STATUS.OK;j={status:this.STATUS.OK}}if(!this.loadHooks[i]){return null}return this.loadHooks[i].Execute(j.status)},loadTimeout:function(i){if(this.loading[i].timeout){clearTimeout(this.loading[i].timeout)}this.loading[i].status=this.STATUS.ERROR;this.loadError(i);this.loadComplete(i)},loadError:function(i){a.Message.Set([\"LoadFailed\",\"File failed to load: %1\",i],null,2000);a.Hub.signal.Post([\"file load error\",i])},Styles:function(k,l){var i=this.StyleString(k);if(i===\"\"){l=a.Callback(l);l()}else{var j=document.createElement(\"style\");j.type=\"text/css\";this.head=h(this.head);this.head.appendChild(j);if(j.styleSheet&&typeof(j.styleSheet.cssText)!==\"undefined\"){j.styleSheet.cssText=i}else{j.appendChild(document.createTextNode(i))}l=this.timer.create.call(this,l,j)}return l},StyleString:function(n){if(typeof(n)===\"string\"){return n}var k=\"\",o,m;for(o in n){if(n.hasOwnProperty(o)){if(typeof n[o]===\"string\"){k+=o+\" {\"+n[o]+\"}\\n\"}else{if(n[o] instanceof Array){for(var l=0;l<n[o].length;l++){m={};m[o]=n[o][l];k+=this.StyleString(m)}}else{if(o.substr(0,6)===\"@media\"){k+=o+\" {\"+this.StyleString(n[o])+\"}\\n\"}else{if(n[o]!=null){m=[];for(var j in n[o]){if(n[o].hasOwnProperty(j)){if(n[o][j]!=null){m[m.length]=j+\": \"+n[o][j]}}}k+=o+\" {\"+m.join(\"; \")+\"}\\n\"}}}}}}return k}}})(\"MathJax\");MathJax.HTML={Element:function(d,f,e){var g=document.createElement(d),h;if(f){if(f.hasOwnProperty(\"style\")){var c=f.style;f.style={};for(h in c){if(c.hasOwnProperty(h)){f.style[h.replace(/-([a-z])/g,this.ucMatch)]=c[h]}}}MathJax.Hub.Insert(g,f);for(h in f){if(h===\"role\"||h.substr(0,5)===\"aria-\"){g.setAttribute(h,f[h])}}}if(e){if(!(e instanceof Array)){e=[e]}for(var b=0,a=e.length;b<a;b++){if(e[b] instanceof Array){g.appendChild(this.Element(e[b][0],e[b][1],e[b][2]))}else{if(d===\"script\"){this.setScript(g,e[b])}else{g.appendChild(document.createTextNode(e[b]))}}}}return g},ucMatch:function(a,b){return b.toUpperCase()},addElement:function(b,a,d,c){return b.appendChild(this.Element(a,d,c))},TextNode:function(a){return document.createTextNode(a)},addText:function(a,b){return a.appendChild(this.TextNode(b))},setScript:function(a,b){if(this.setScriptBug){a.text=b}else{while(a.firstChild){a.removeChild(a.firstChild)}this.addText(a,b)}},getScript:function(a){var b=(a.text===\"\"?a.innerHTML:a.text);return b.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")},Cookie:{prefix:\"mjx\",expires:365,Set:function(a,e){var d=[];if(e){for(var g in e){if(e.hasOwnProperty(g)){d.push(g+\":\"+e[g].toString().replace(/&/g,\"&&\"))}}}var b=this.prefix+\".\"+a+\"=\"+escape(d.join(\"&;\"));if(this.expires){var f=new Date();f.setDate(f.getDate()+this.expires);b+=\"; expires=\"+f.toGMTString()}try{document.cookie=b+\"; path=/\"}catch(c){}},Get:function(a,d){if(!d){d={}}var g=new RegExp(\"(?:^|;\\\\s*)\"+this.prefix+\"\\\\.\"+a+\"=([^;]*)(?:;|$)\");var f;try{f=g.exec(document.cookie)}catch(c){}if(f&&f[1]!==\"\"){var j=unescape(f[1]).split(\"&;\");for(var e=0,b=j.length;e<b;e++){f=j[e].match(/([^:]+):(.*)/);var h=f[2].replace(/&&/g,\"&\");if(h===\"true\"){h=true}else{if(h===\"false\"){h=false}else{if(h.match(/^-?(\\d+(\\.\\d+)?|\\.\\d+)$/)){h=parseFloat(h)}}}d[f[1]]=h}}return d}}};MathJax.Localization={locale:\"en\",directory:\"[MathJax]/localization\",strings:{ast:{menuTitle:\"asturianu\"},bg:{menuTitle:\"\\u0431\\u044A\\u043B\\u0433\\u0430\\u0440\\u0441\\u043A\\u0438\"},bcc:{menuTitle:\"\\u0628\\u0644\\u0648\\u0686\\u06CC\"},br:{menuTitle:\"brezhoneg\"},ca:{menuTitle:\"catal\\u00E0\"},cdo:{menuTitle:\"M\\u00ECng-d\\u0115\\u0324ng-ng\\u1E73\\u0304\"},cs:{menuTitle:\"\\u010De\\u0161tina\"},da:{menuTitle:\"dansk\"},de:{menuTitle:\"Deutsch\"},en:{menuTitle:\"English\",isLoaded:true},eo:{menuTitle:\"Esperanto\"},es:{menuTitle:\"espa\\u00F1ol\"},fa:{menuTitle:\"\\u0641\\u0627\\u0631\\u0633\\u06CC\"},fi:{menuTitle:\"suomi\"},fr:{menuTitle:\"fran\\u00E7ais\"},gl:{menuTitle:\"galego\"},he:{menuTitle:\"\\u05E2\\u05D1\\u05E8\\u05D9\\u05EA\"},ia:{menuTitle:\"interlingua\"},it:{menuTitle:\"italiano\"},ja:{menuTitle:\"\\u65E5\\u672C\\u8A9E\"},kn:{menuTitle:\"\\u0C95\\u0CA8\\u0CCD\\u0CA8\\u0CA1\"},ko:{menuTitle:\"\\uD55C\\uAD6D\\uC5B4\"},lb:{menuTitle:\"L\\u00EBtzebuergesch\"},lt:{menuTitle:\"lietuvi\\u0173\"},mk:{menuTitle:\"\\u043C\\u0430\\u043A\\u0435\\u0434\\u043E\\u043D\\u0441\\u043A\\u0438\"},nl:{menuTitle:\"Nederlands\"},oc:{menuTitle:\"occitan\"},pl:{menuTitle:\"polski\"},pt:{menuTitle:\"portugus\\u00EA\"},\"pt-br\":{menuTitle:\"portugu\\u00EAs do Brasil\"},ru:{menuTitle:\"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"},sco:{menuTitle:\"Scots\"},scn:{menuTitle:\"sicilianu\"},sl:{menuTitle:\"sloven\\u0161\\u010Dina\"},sv:{menuTitle:\"svenska\"},tr:{menuTitle:\"T\\u00FCrk\\u00E7e\"},uk:{menuTitle:\"\\u0443\\u043A\\u0440\\u0430\\u0457\\u043D\\u0441\\u044C\\u043A\\u0430\"},vi:{menuTitle:\"Ti\\u1EBFng Vi\\u1EC7t\"},\"zh-hans\":{menuTitle:\"\\u4E2D\\u6587\\uFF08\\u7B80\\u4F53\\uFF09\"}},pattern:/%(\\d+|\\{\\d+\\}|\\{[a-z]+:\\%\\d+(?:\\|(?:%\\{\\d+\\}|%.|[^\\}])*)+\\}|.)/g,SPLIT:(\"axb\".split(/(x)/).length===3?function(a,b){return a.split(b)}:function(c,e){var a=[],b,d=0;e.lastIndex=0;while((b=e.exec(c))){a.push(c.substr(d,b.index-d));a.push.apply(a,b.slice(1));d=b.index+b[0].length}a.push(c.substr(d));return a}),_:function(b,a){if(a instanceof Array){return this.processSnippet(b,a)}return this.processString(this.lookupPhrase(b,a),[].slice.call(arguments,2))},processString:function(l,o,g){var j,e;for(j=0,e=o.length;j<e;j++){if(g&&o[j] instanceof Array){o[j]=this.processSnippet(g,o[j])}}var f=this.SPLIT(l,this.pattern);for(j=1,e=f.length;j<e;j+=2){var p=f[j].charAt(0);if(p>=\"0\"&&p<=\"9\"){f[j]=o[f[j]-1];if(typeof f[j]===\"number\"){f[j]=this.number(f[j])}}else{if(p===\"{\"){p=f[j].substr(1);if(p>=\"0\"&&p<=\"9\"){f[j]=o[f[j].substr(1,f[j].length-2)-1];if(typeof f[j]===\"number\"){f[j]=this.number(f[j])}}else{var k=f[j].match(/^\\{([a-z]+):%(\\d+)\\|(.*)\\}$/);if(k){if(k[1]===\"plural\"){var d=o[k[2]-1];if(typeof d===\"undefined\"){f[j]=\"???\"}else{d=this.plural(d)-1;var h=k[3].replace(/(^|[^%])(%%)*%\\|/g,\"$1$2%\\uEFEF\").split(/\\|/);if(d>=0&&d<h.length){f[j]=this.processString(h[d].replace(/\\uEFEF/g,\"|\"),o,g)}else{f[j]=\"???\"}}}else{f[j]=\"%\"+f[j]}}}}}if(f[j]==null){f[j]=\"???\"}}if(!g){return f.join(\"\")}var a=[],b=\"\";for(j=0;j<e;j++){b+=f[j];j++;if(j<e){if(f[j] instanceof Array){a.push(b);a=a.concat(f[j]);b=\"\"}else{b+=f[j]}}}if(b!==\"\"){a.push(b)}return a},processSnippet:function(g,e){var c=[];for(var d=0,b=e.length;d<b;d++){if(e[d] instanceof Array){var f=e[d];if(typeof f[1]===\"string\"){var h=f[0];if(!(h instanceof Array)){h=[g,h]}var a=this.lookupPhrase(h,f[1]);c=c.concat(this.processMarkdown(a,f.slice(2),g))}else{if(f[1] instanceof Array){c=c.concat(this.processSnippet.apply(this,f))}else{if(f.length>=3){c.push([f[0],f[1],this.processSnippet(g,f[2])])}else{c.push(e[d])}}}}else{c.push(e[d])}}return c},markdownPattern:/(%.)|(\\*{1,3})((?:%.|.)+?)\\2|(`+)((?:%.|.)+?)\\4|\\[((?:%.|.)+?)\\]\\(([^\\s\\)]+)\\)/,processMarkdown:function(b,h,d){var j=[],e;var c=b.split(this.markdownPattern);var g=c[0];for(var f=1,a=c.length;f<a;f+=8){if(c[f+1]){e=this.processString(c[f+2],h,d);if(!(e instanceof Array)){e=[e]}e=[[\"b\",\"i\",\"i\"][c[f+1].length-1],{},e];if(c[f+1].length===3){e=[\"b\",{},e]}}else{if(c[f+3]){e=this.processString(c[f+4].replace(/^\\s/,\"\").replace(/\\s$/,\"\"),h,d);if(!(e instanceof Array)){e=[e]}e=[\"code\",{},e]}else{if(c[f+5]){e=this.processString(c[f+5],h,d);if(!(e instanceof Array)){e=[e]}e=[\"a\",{href:this.processString(c[f+6],h),target:\"_blank\"},e]}else{g+=c[f];e=null}}}if(e){j=this.concatString(j,g,h,d);j.push(e);g=\"\"}if(c[f+7]!==\"\"){g+=c[f+7]}}j=this.concatString(j,g,h,d);return j},concatString:function(a,c,b,d){if(c!=\"\"){c=this.processString(c,b,d);if(!(c instanceof Array)){c=[c]}a=a.concat(c)}return a},lookupPhrase:function(f,a,d){if(!d){d=\"_\"}if(f instanceof Array){d=(f[0]||\"_\");f=(f[1]||\"\")}var c=this.loadDomain(d);if(c){MathJax.Hub.RestartAfter(c)}var b=this.strings[this.locale];if(b){if(b.domains&&d in b.domains){var e=b.domains[d];if(e.strings&&f in e.strings){a=e.strings[f]}}}return a},loadFile:function(b,d,e){e=MathJax.Callback(e);b=(d.file||b);if(!b.match(/\\.js$/)){b+=\".js\"}if(!b.match(/^([a-z]+:|\\[MathJax\\])/)){var a=(this.strings[this.locale].directory||this.directory+\"/\"+this.locale||\"[MathJax]/localization/\"+this.locale);b=a+\"/\"+b}var c=MathJax.Ajax.Require(b,function(){d.isLoaded=true;return e()});return(c.called?null:c)},loadDomain:function(c,e){var b,a=this.strings[this.locale];if(a){if(!a.isLoaded){b=this.loadFile(this.locale,a);if(b){return MathJax.Callback.Queue(b,[\"loadDomain\",this,c]).Push(e||{})}}if(a.domains&&c in a.domains){var d=a.domains[c];if(!d.isLoaded){b=this.loadFile(c,d);if(b){return MathJax.Callback.Queue(b).Push(e)}}}}return MathJax.Callback(e)()},Try:function(a){a=MathJax.Callback(a);a.autoReset=true;try{a()}catch(b){if(!b.restart){throw b}MathJax.Callback.After([\"Try\",this,a],b.restart)}},resetLocale:function(a){if(!a){return}a=a.toLowerCase();while(!this.strings[a]){var c=a.lastIndexOf(\"-\");if(c===-1){return}a=a.substring(0,c)}var b=this.strings[a].remap;this.locale=b?b:a},setLocale:function(a){this.resetLocale(a);if(MathJax.Menu){this.loadDomain(\"MathMenu\")}},addTranslation:function(b,e,c){var d=this.strings[b],a=false;if(!d){d=this.strings[b]={};a=true}if(!d.domains){d.domains={}}if(e){if(!d.domains[e]){d.domains[e]={}}d=d.domains[e]}MathJax.Hub.Insert(d,c);if(a&&MathJax.Menu.menu){MathJax.Menu.CreateLocaleMenu()}},setCSS:function(b){var a=this.strings[this.locale];if(a){if(a.fontFamily){b.style.fontFamily=a.fontFamily}if(a.fontDirection){b.style.direction=a.fontDirection;if(a.fontDirection===\"rtl\"){b.style.textAlign=\"right\"}}}return b},fontFamily:function(){var a=this.strings[this.locale];return(a?a.fontFamily:null)},fontDirection:function(){var a=this.strings[this.locale];return(a?a.fontDirection:null)},plural:function(b){var a=this.strings[this.locale];if(a&&a.plural){return a.plural(b)}if(b==1){return 1}return 2},number:function(b){var a=this.strings[this.locale];if(a&&a.number){return a.number(b)}return b}};MathJax.Message={ready:false,log:[{}],current:null,textNodeBug:(navigator.vendor===\"Apple Computer, Inc.\"&&typeof navigator.vendorSub===\"undefined\")||(window.hasOwnProperty&&window.hasOwnProperty(\"konqueror\")),styles:{\"#MathJax_Message\":{position:\"fixed\",left:\"1px\",bottom:\"2px\",\"background-color\":\"#E6E6E6\",border:\"1px solid #959595\",margin:\"0px\",padding:\"2px 8px\",\"z-index\":\"102\",color:\"black\",\"font-size\":\"80%\",width:\"auto\",\"white-space\":\"nowrap\"},\"#MathJax_MSIE_Frame\":{position:\"absolute\",top:0,left:0,width:\"0px\",\"z-index\":101,border:\"0px\",margin:\"0px\",padding:\"0px\"}},browsers:{MSIE:function(a){MathJax.Message.msieFixedPositionBug=((document.documentMode||0)<7);if(MathJax.Message.msieFixedPositionBug){MathJax.Hub.config.styles[\"#MathJax_Message\"].position=\"absolute\"}MathJax.Message.quirks=(document.compatMode===\"BackCompat\")},Chrome:function(a){MathJax.Hub.config.styles[\"#MathJax_Message\"].bottom=\"1.5em\";MathJax.Hub.config.styles[\"#MathJax_Message\"].left=\"1em\"}},Init:function(a){if(a){this.ready=true}if(!document.body||!this.ready){return false}if(this.div&&this.div.parentNode==null){this.div=document.getElementById(\"MathJax_Message\");if(this.div){this.text=this.div.firstChild}}if(!this.div){var b=document.body;if(this.msieFixedPositionBug&&window.attachEvent){b=this.frame=this.addDiv(document.body);b.removeAttribute(\"id\");b.style.position=\"absolute\";b.style.border=b.style.margin=b.style.padding=\"0px\";b.style.zIndex=\"101\";b.style.height=\"0px\";b=this.addDiv(b);b.id=\"MathJax_MSIE_Frame\";window.attachEvent(\"onscroll\",this.MoveFrame);window.attachEvent(\"onresize\",this.MoveFrame);this.MoveFrame()}this.div=this.addDiv(b);this.div.style.display=\"none\";this.text=this.div.appendChild(document.createTextNode(\"\"))}return true},addDiv:function(a){var b=document.createElement(\"div\");b.id=\"MathJax_Message\";if(a.firstChild){a.insertBefore(b,a.firstChild)}else{a.appendChild(b)}return b},MoveFrame:function(){var a=(MathJax.Message.quirks?document.body:document.documentElement);var b=MathJax.Message.frame;b.style.left=a.scrollLeft+\"px\";b.style.top=a.scrollTop+\"px\";b.style.width=a.clientWidth+\"px\";b=b.firstChild;b.style.height=a.clientHeight+\"px\"},localize:function(a){return MathJax.Localization._(a,a)},filterText:function(a,c,b){if(MathJax.Hub.config.messageStyle===\"simple\"){if(b===\"LoadFile\"){if(!this.loading){this.loading=this.localize(\"Loading\")+\" \"}a=this.loading;this.loading+=\".\"}else{if(b===\"ProcessMath\"){if(!this.processing){this.processing=this.localize(\"Processing\")+\" \"}a=this.processing;this.processing+=\".\"}else{if(b===\"TypesetMath\"){if(!this.typesetting){this.typesetting=this.localize(\"Typesetting\")+\" \"}a=this.typesetting;this.typesetting+=\".\"}}}}return a},Set:function(c,e,b){if(e==null){e=this.log.length;this.log[e]={}}var d=\"\";if(c instanceof Array){d=c[0];if(d instanceof Array){d=d[1]}try{c=MathJax.Localization._.apply(MathJax.Localization,c)}catch(a){if(!a.restart){throw a}if(!a.restart.called){if(this.log[e].restarted==null){this.log[e].restarted=0}this.log[e].restarted++;delete this.log[e].cleared;MathJax.Callback.After([\"Set\",this,c,e,b],a.restart);return e}}}if(this.timer){clearTimeout(this.timer);delete this.timer}this.log[e].text=c;this.log[e].filteredText=c=this.filterText(c,e,d);if(typeof(this.log[e].next)===\"undefined\"){this.log[e].next=this.current;if(this.current!=null){this.log[this.current].prev=e}this.current=e}if(this.current===e&&MathJax.Hub.config.messageStyle!==\"none\"){if(this.Init()){if(this.textNodeBug){this.div.innerHTML=c}else{this.text.nodeValue=c}this.div.style.display=\"\";if(this.status){window.status=\"\";delete this.status}}else{window.status=c;this.status=true}}if(this.log[e].restarted){if(this.log[e].cleared){b=0}if(--this.log[e].restarted===0){delete this.log[e].cleared}}if(b){setTimeout(MathJax.Callback([\"Clear\",this,e]),b)}else{if(b==0){this.Clear(e,0)}}return e},Clear:function(b,a){if(this.log[b].prev!=null){this.log[this.log[b].prev].next=this.log[b].next}if(this.log[b].next!=null){this.log[this.log[b].next].prev=this.log[b].prev}if(this.current===b){this.current=this.log[b].next;if(this.text){if(this.div.parentNode==null){this.Init()}if(this.current==null){if(this.timer){clearTimeout(this.timer);delete this.timer}if(a==null){a=600}if(a===0){this.Remove()}else{this.timer=setTimeout(MathJax.Callback([\"Remove\",this]),a)}}else{if(MathJax.Hub.config.messageStyle!==\"none\"){if(this.textNodeBug){this.div.innerHTML=this.log[this.current].filteredText}else{this.text.nodeValue=this.log[this.current].filteredText}}}if(this.status){window.status=\"\";delete this.status}}else{if(this.status){window.status=(this.current==null?\"\":this.log[this.current].text)}}}delete this.log[b].next;delete this.log[b].prev;delete this.log[b].filteredText;if(this.log[b].restarted){this.log[b].cleared=true}},Remove:function(){this.text.nodeValue=\"\";this.div.style.display=\"none\"},File:function(a){return this.Set([\"LoadFile\",\"Loading %1\",a],null,null)},Log:function(){var b=[];for(var c=1,a=this.log.length;c<a;c++){b[c]=this.log[c].text}return b.join(\"\\n\")}};MathJax.Hub={config:{root:\"\",config:[],styleSheets:[],styles:{\".MathJax_Preview\":{color:\"#888\"}},jax:[],extensions:[],preJax:null,postJax:null,displayAlign:\"center\",displayIndent:\"0\",preRemoveClass:\"MathJax_Preview\",showProcessingMessages:true,messageStyle:\"normal\",delayStartupUntil:\"none\",skipStartupTypeset:false,elements:[],positionToHash:true,showMathMenu:true,showMathMenuMSIE:true,menuSettings:{zoom:\"None\",CTRL:false,ALT:false,CMD:false,Shift:false,discoverable:false,zscale:\"200%\",renderer:null,font:\"Auto\",context:\"MathJax\",locale:null,mpContext:false,mpMouse:false,texHints:true,FastPreview:null,assistiveMML:null,inTabOrder:true,semantics:false},errorSettings:{message:[\"[\",[\"MathProcessingError\",\"Math Processing Error\"],\"]\"],style:{color:\"#CC0000\",\"font-style\":\"italic\"}},ignoreMMLattributes:{}},preProcessors:MathJax.Callback.Hooks(true),inputJax:{},outputJax:{order:{}},processSectionDelay:50,processUpdateTime:250,processUpdateDelay:10,signal:MathJax.Callback.Signal(\"Hub\"),Config:function(a){this.Insert(this.config,a);if(this.config.Augment){this.Augment(this.config.Augment)}},CombineConfig:function(c,f){var b=this.config,g,e;c=c.split(/\\./);for(var d=0,a=c.length;d<a;d++){g=c[d];if(!b[g]){b[g]={}}e=b;b=b[g]}e[g]=b=this.Insert(f,b);return b},Register:{PreProcessor:function(){return MathJax.Hub.preProcessors.Add.apply(MathJax.Hub.preProcessors,arguments)},MessageHook:function(){return MathJax.Hub.signal.MessageHook.apply(MathJax.Hub.signal,arguments)},StartupHook:function(){return MathJax.Hub.Startup.signal.MessageHook.apply(MathJax.Hub.Startup.signal,arguments)},LoadHook:function(){return MathJax.Ajax.LoadHook.apply(MathJax.Ajax,arguments)}},UnRegister:{PreProcessor:function(a){MathJax.Hub.preProcessors.Remove(a)},MessageHook:function(a){MathJax.Hub.signal.RemoveHook(a)},StartupHook:function(a){MathJax.Hub.Startup.signal.RemoveHook(a)},LoadHook:function(a){MathJax.Ajax.removeHook(a)}},getAllJax:function(e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax){c.push(b[d].MathJax.elementJax)}}return c},getJaxByType:function(f,e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax&&b[d].MathJax.elementJax.mimeType===f){c.push(b[d].MathJax.elementJax)}}return c},getJaxByInputType:function(f,e){var c=[],b=this.elementScripts(e);for(var d=0,a=b.length;d<a;d++){if(b[d].MathJax&&b[d].MathJax.elementJax&&b[d].type&&b[d].type.replace(/ *;(.|\\s)*/,\"\")===f){c.push(b[d].MathJax.elementJax)}}return c},getJaxFor:function(a){if(typeof(a)===\"string\"){a=document.getElementById(a)}if(a&&a.MathJax){return a.MathJax.elementJax}if(this.isMathJaxNode(a)){if(!a.isMathJax){a=a.firstChild}while(a&&!a.jaxID){a=a.parentNode}if(a){return MathJax.OutputJax[a.jaxID].getJaxFromMath(a)}}return null},isJax:function(a){if(typeof(a)===\"string\"){a=document.getElementById(a)}if(this.isMathJaxNode(a)){return 1}if(a&&(a.tagName||\"\").toLowerCase()===\"script\"){if(a.MathJax){return(a.MathJax.state===MathJax.ElementJax.STATE.PROCESSED?1:-1)}if(a.type&&this.inputJax[a.type.replace(/ *;(.|\\s)*/,\"\")]){return -1}}return 0},isMathJaxNode:function(a){return !!a&&(a.isMathJax||(a.className||\"\")===\"MathJax_MathML\")},setRenderer:function(d,c){if(!d){return}if(!MathJax.OutputJax[d]){this.config.menuSettings.renderer=\"\";var b=\"[MathJax]/jax/output/\"+d+\"/config.js\";return MathJax.Ajax.Require(b,[\"setRenderer\",this,d,c])}else{this.config.menuSettings.renderer=d;if(c==null){c=\"jax/mml\"}var a=this.outputJax;if(a[c]&&a[c].length){if(d!==a[c][0].id){a[c].unshift(MathJax.OutputJax[d]);return this.signal.Post([\"Renderer Selected\",d])}}return null}},Queue:function(){return this.queue.Push.apply(this.queue,arguments)},Typeset:function(c,d){if(!MathJax.isReady){return null}var b=this.elementCallback(c,d);if(b.count){var a=MathJax.Callback.Queue([\"PreProcess\",this,b.elements],[\"Process\",this,b.elements])}return a.Push(b.callback)},PreProcess:function(e,g){var c=this.elementCallback(e,g);var b=MathJax.Callback.Queue();if(c.count){var f=(c.count===1?[c.elements]:c.elements);b.Push([\"Post\",this.signal,[\"Begin PreProcess\",c.elements]]);for(var d=0,a=f.length;d<a;d++){if(f[d]){b.Push([\"Execute\",this.preProcessors,f[d]])}}b.Push([\"Post\",this.signal,[\"End PreProcess\",c.elements]])}return b.Push(c.callback)},Process:function(a,b){return this.takeAction(\"Process\",a,b)},Update:function(a,b){return this.takeAction(\"Update\",a,b)},Reprocess:function(a,b){return this.takeAction(\"Reprocess\",a,b)},Rerender:function(a,b){return this.takeAction(\"Rerender\",a,b)},takeAction:function(g,d,h){var c=this.elementCallback(d,h);var f=c.elements;var a=MathJax.Callback.Queue([\"Clear\",this.signal]);var e={scripts:[],start:new Date().getTime(),i:0,j:0,jax:{},jaxIDs:[]};if(c.count){var b=[\"Delay\",MathJax.Callback,this.processSectionDelay];if(!b[2]){b={}}a.Push([\"Post\",this.signal,[\"Begin \"+g,f]],[\"Post\",this.signal,[\"Begin Math\",f,g]],[\"prepareScripts\",this,g,f,e],[\"Post\",this.signal,[\"Begin Math Input\",f,g]],[\"processInput\",this,e],[\"Post\",this.signal,[\"End Math Input\",f,g]],b,[\"prepareOutput\",this,e,\"preProcess\"],b,[\"Post\",this.signal,[\"Begin Math Output\",f,g]],[\"processOutput\",this,e],[\"Post\",this.signal,[\"End Math Output\",f,g]],b,[\"prepareOutput\",this,e,\"postProcess\"],b,[\"Post\",this.signal,[\"End Math\",f,g]],[\"Post\",this.signal,[\"End \"+g,f]])}return a.Push(c.callback)},scriptAction:{Process:function(a){},Update:function(b){var a=b.MathJax.elementJax;if(a&&a.needsUpdate()){a.Remove(true);b.MathJax.state=a.STATE.UPDATE}else{b.MathJax.state=a.STATE.PROCESSED}},Reprocess:function(b){var a=b.MathJax.elementJax;if(a){a.Remove(true);b.MathJax.state=a.STATE.UPDATE}},Rerender:function(b){var a=b.MathJax.elementJax;if(a){a.Remove(true);b.MathJax.state=a.STATE.OUTPUT}}},prepareScripts:function(h,e,g){if(arguments.callee.disabled){return}var b=this.elementScripts(e);var f=MathJax.ElementJax.STATE;for(var d=0,a=b.length;d<a;d++){var c=b[d];if(c.type&&this.inputJax[c.type.replace(/ *;(.|\\n)*/,\"\")]){if(c.MathJax){if(c.MathJax.elementJax&&c.MathJax.elementJax.hover){MathJax.Extension.MathEvents.Hover.ClearHover(c.MathJax.elementJax)}if(c.MathJax.state!==f.PENDING){this.scriptAction[h](c)}}if(!c.MathJax){c.MathJax={state:f.PENDING}}if(c.MathJax.error){delete c.MathJax.error}if(c.MathJax.state!==f.PROCESSED){g.scripts.push(c)}}}},checkScriptSiblings:function(a){if(a.MathJax.checked){return}var b=this.config,f=a.previousSibling;if(f&&f.nodeName===\"#text\"){var d,e,c=a.nextSibling;if(c&&c.nodeName!==\"#text\"){c=null}if(b.preJax){if(typeof(b.preJax)===\"string\"){b.preJax=new RegExp(b.preJax+\"$\")}d=f.nodeValue.match(b.preJax)}if(b.postJax&&c){if(typeof(b.postJax)===\"string\"){b.postJax=new RegExp(\"^\"+b.postJax)}e=c.nodeValue.match(b.postJax)}if(d&&(!b.postJax||e)){f.nodeValue=f.nodeValue.replace(b.preJax,(d.length>1?d[1]:\"\"));f=null}if(e&&(!b.preJax||d)){c.nodeValue=c.nodeValue.replace(b.postJax,(e.length>1?e[1]:\"\"))}if(f&&!f.nodeValue.match(/\\S/)){f=f.previousSibling}}if(b.preRemoveClass&&f&&f.className===b.preRemoveClass){a.MathJax.preview=f}a.MathJax.checked=1},processInput:function(a){var b,i=MathJax.ElementJax.STATE;var h,e,d=a.scripts.length;try{while(a.i<d){h=a.scripts[a.i];if(!h){a.i++;continue}e=h.previousSibling;if(e&&e.className===\"MathJax_Error\"){e.parentNode.removeChild(e)}if(!h.MathJax||h.MathJax.state===i.PROCESSED){a.i++;continue}if(!h.MathJax.elementJax||h.MathJax.state===i.UPDATE){this.checkScriptSiblings(h);var g=h.type.replace(/ *;(.|\\s)*/,\"\");var j=this.inputJax[g];b=j.Process(h,a);if(typeof b===\"function\"){if(b.called){continue}this.RestartAfter(b)}b=b.Attach(h,j.id);this.saveScript(b,a,h,i);this.postInputHooks.Execute(b,j.id,h)}else{if(h.MathJax.state===i.OUTPUT){this.saveScript(h.MathJax.elementJax,a,h,i)}}a.i++;var c=new Date().getTime();if(c-a.start>this.processUpdateTime&&a.i<a.scripts.length){a.start=c;this.RestartAfter(MathJax.Callback.Delay(1))}}}catch(f){return this.processError(f,a,\"Input\")}if(a.scripts.length&&this.config.showProcessingMessages){MathJax.Message.Set([\"ProcessMath\",\"Processing math: %1%%\",100],0)}a.start=new Date().getTime();a.i=a.j=0;return null},postInputHooks:MathJax.Callback.Hooks(true),saveScript:function(a,d,b,c){if(!this.outputJax[a.mimeType]){b.MathJax.state=c.UPDATE;throw Error(\"No output jax registered for \"+a.mimeType)}a.outputJax=this.outputJax[a.mimeType][0].id;if(!d.jax[a.outputJax]){if(d.jaxIDs.length===0){d.jax[a.outputJax]=d.scripts}else{if(d.jaxIDs.length===1){d.jax[d.jaxIDs[0]]=d.scripts.slice(0,d.i)}d.jax[a.outputJax]=[]}d.jaxIDs.push(a.outputJax)}if(d.jaxIDs.length>1){d.jax[a.outputJax].push(b)}b.MathJax.state=c.OUTPUT},prepareOutput:function(c,f){while(c.j<c.jaxIDs.length){var e=c.jaxIDs[c.j],d=MathJax.OutputJax[e];if(d[f]){try{var a=d[f](c);if(typeof a===\"function\"){if(a.called){continue}this.RestartAfter(a)}}catch(b){if(!b.restart){MathJax.Message.Set([\"PrepError\",\"Error preparing %1 output (%2)\",e,f],null,600);MathJax.Hub.lastPrepError=b;c.j++}return MathJax.Callback.After([\"prepareOutput\",this,c,f],b.restart)}}c.j++}return null},processOutput:function(h){var b,g=MathJax.ElementJax.STATE,d,a=h.scripts.length;try{while(h.i<a){d=h.scripts[h.i];if(!d||!d.MathJax||d.MathJax.error){h.i++;continue}var c=d.MathJax.elementJax;if(!c){h.i++;continue}b=MathJax.OutputJax[c.outputJax].Process(d,h);if(b!==false){d.MathJax.state=g.PROCESSED;if(d.MathJax.preview){d.MathJax.preview.innerHTML=\"\"}this.signal.Post([\"New Math\",c.inputID])}h.i++;var e=new Date().getTime();if(e-h.start>this.processUpdateTime&&h.i<h.scripts.length){h.start=e;this.RestartAfter(MathJax.Callback.Delay(this.processUpdateDelay))}}}catch(f){return this.processError(f,h,\"Output\")}if(h.scripts.length&&this.config.showProcessingMessages){MathJax.Message.Set([\"TypesetMath\",\"Typesetting math: %1%%\",100],0);MathJax.Message.Clear(0)}h.i=h.j=0;return null},processMessage:function(d,b){var a=Math.floor(d.i/(d.scripts.length)*100);var c=(b===\"Output\"?[\"TypesetMath\",\"Typesetting math: %1%%\"]:[\"ProcessMath\",\"Processing math: %1%%\"]);if(this.config.showProcessingMessages){MathJax.Message.Set(c.concat(a),0)}},processError:function(b,c,a){if(!b.restart){if(!this.config.errorSettings.message){throw b}this.formatError(c.scripts[c.i],b);c.i++}this.processMessage(c,a);return MathJax.Callback.After([\"process\"+a,this,c],b.restart)},formatError:function(b,f){var h=function(l,k,j,i){return MathJax.Localization._(l,k,j,i)};var e=h(\"ErrorMessage\",\"Error: %1\",f.message)+\"\\n\";if(f.sourceURL||f.fileName){e+=\"\\n\"+h(\"ErrorFile\",\"file: %1\",f.sourceURL||f.fileName)}if(f.line||f.lineNumber){e+=\"\\n\"+h(\"ErrorLine\",\"line: %1\",f.line||f.lineNumber)}e+=\"\\n\\n\"+h(\"ErrorTips\",\"Debugging tips: use %1, inspect %2 in the browser console\",\"'unpacked/MathJax.js'\",\"'MathJax.Hub.lastError'\");b.MathJax.error=MathJax.OutputJax.Error.Jax(e,b);if(b.MathJax.elementJax){b.MathJax.error.inputID=b.MathJax.elementJax.inputID}var g=this.config.errorSettings;var a=h(g.messageId,g.message);var c=MathJax.HTML.Element(\"span\",{className:\"MathJax_Error\",jaxID:\"Error\",isMathJax:true,id:b.MathJax.error.inputID+\"-Frame\"},[[\"span\",null,a]]);MathJax.Ajax.Require(\"[MathJax]/extensions/MathEvents.js\",function(){var j=MathJax.Extension.MathEvents.Event,i=MathJax.Hub;c.oncontextmenu=j.Menu;c.onmousedown=j.Mousedown;c.onkeydown=j.Keydown;c.tabIndex=i.getTabOrder(i.getJaxFor(b))});var d=document.getElementById(c.id);if(d){d.parentNode.removeChild(d)}b.parentNode.insertBefore(c,b);if(b.MathJax.preview){b.MathJax.preview.innerHTML=\"\"}this.lastError=f;this.signal.Post([\"Math Processing Error\",b,f])},RestartAfter:function(a){throw this.Insert(Error(\"restart\"),{restart:MathJax.Callback(a)})},elementCallback:function(c,f){if(f==null&&(c instanceof Array||typeof c===\"function\")){try{MathJax.Callback(c);f=c;c=null}catch(d){}}if(c==null){c=this.config.elements||[]}if(this.isHTMLCollection(c)){c=this.HTMLCollection2Array(c)}if(!(c instanceof Array)){c=[c]}c=[].concat(c);for(var b=0,a=c.length;b<a;b++){if(typeof(c[b])===\"string\"){c[b]=document.getElementById(c[b])}}if(!document.body){document.body=document.getElementsByTagName(\"body\")[0]}if(c.length==0){c.push(document.body)}if(!f){f={}}return{count:c.length,elements:(c.length===1?c[0]:c),callback:f}},elementScripts:function(e){var b=[];if(e instanceof Array||this.isHTMLCollection(e)){for(var d=0,a=e.length;d<a;d++){var f=0;for(var c=0;c<d&&!f;c++){f=e[c].contains(e[d])}if(!f){b.push.apply(b,this.elementScripts(e[d]))}}return b}if(typeof(e)===\"string\"){e=document.getElementById(e)}if(!document.body){document.body=document.getElementsByTagName(\"body\")[0]}if(e==null){e=document.body}if(e.tagName!=null&&e.tagName.toLowerCase()===\"script\"){return[e]}b=e.getElementsByTagName(\"script\");if(this.msieHTMLCollectionBug){b=this.HTMLCollection2Array(b)}return b},isHTMLCollection:function(a){return(\"HTMLCollection\" in window&&typeof(a)===\"object\"&&a instanceof HTMLCollection)},HTMLCollection2Array:function(c){if(!this.msieHTMLCollectionBug){return[].slice.call(c)}var b=[];for(var d=0,a=c.length;d<a;d++){b[d]=c[d]}return b},Insert:function(c,a){for(var b in a){if(a.hasOwnProperty(b)){if(typeof a[b]===\"object\"&&!(a[b] instanceof Array)&&(typeof c[b]===\"object\"||typeof c[b]===\"function\")){this.Insert(c[b],a[b])}else{c[b]=a[b]}}}return c},getTabOrder:function(a){return this.config.menuSettings.inTabOrder?0:-1},SplitList:(\"trim\" in String.prototype?function(a){return a.trim().split(/\\s+/)}:function(a){return a.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\").split(/\\s+/)})};MathJax.Hub.Insert(MathJax.Hub.config.styles,MathJax.Message.styles);MathJax.Hub.Insert(MathJax.Hub.config.styles,{\".MathJax_Error\":MathJax.Hub.config.errorSettings.style});MathJax.Extension={};MathJax.Hub.Configured=MathJax.Callback({});MathJax.Hub.Startup={script:\"\",queue:MathJax.Callback.Queue(),signal:MathJax.Callback.Signal(\"Startup\"),params:{},Config:function(){this.queue.Push([\"Post\",this.signal,\"Begin Config\"]);if(this.params.locale){MathJax.Localization.resetLocale(this.params.locale);MathJax.Hub.config.menuSettings.locale=this.params.locale}if(this.params.config){var c=this.params.config.split(/,/);for(var b=0,a=c.length;b<a;b++){if(!c[b].match(/\\.js$/)){c[b]+=\".js\"}this.queue.Push([\"Require\",MathJax.Ajax,this.URL(\"config\",c[b])])}}this.queue.Push([\"Config\",MathJax.Hub,MathJax.AuthorConfig]);if(this.script.match(/\\S/)){this.queue.Push(this.script+\";\\n1;\")}this.queue.Push([\"ConfigDelay\",this],[\"ConfigBlocks\",this],[function(d){return d.loadArray(MathJax.Hub.config.config,\"config\",null,true)},this],[\"Post\",this.signal,\"End Config\"])},ConfigDelay:function(){var a=this.params.delayStartupUntil||MathJax.Hub.config.delayStartupUntil;if(a===\"onload\"){return this.onload}if(a===\"configured\"){return MathJax.Hub.Configured}return a},ConfigBlocks:function(){var c=document.getElementsByTagName(\"script\");var f=null,b=MathJax.Callback.Queue();for(var d=0,a=c.length;d<a;d++){var e=String(c[d].type).replace(/ /g,\"\");if(e.match(/^text\\/x-mathjax-config(;.*)?$/)&&!e.match(/;executed=true/)){c[d].type+=\";executed=true\";f=b.Push(c[d].innerHTML+\";\\n1;\")}}return f},Cookie:function(){return this.queue.Push([\"Post\",this.signal,\"Begin Cookie\"],[\"Get\",MathJax.HTML.Cookie,\"menu\",MathJax.Hub.config.menuSettings],[function(e){var d=e.menuSettings;if(d.locale){MathJax.Localization.resetLocale(d.locale)}var g=e.menuSettings.renderer,b=e.jax;if(g){var c=\"output/\"+g;b.sort();for(var f=0,a=b.length;f<a;f++){if(b[f].substr(0,7)===\"output/\"){break}}if(f==a-1){b.pop()}else{while(f<a){if(b[f]===c){b.splice(f,1);break}f++}}b.unshift(c)}if(d.CHTMLpreview!=null){if(d.FastPreview==null){d.FastPreview=d.CHTMLpreview}delete d.CHTMLpreview}if(d.FastPreview&&!MathJax.Extension[\"fast-preview\"]){MathJax.Hub.config.extensions.push(\"fast-preview.js\")}if(e.menuSettings.assistiveMML&&!MathJax.Extension.AssistiveMML){MathJax.Hub.config.extensions.push(\"AssistiveMML.js\")}},MathJax.Hub.config],[\"Post\",this.signal,\"End Cookie\"])},Styles:function(){return this.queue.Push([\"Post\",this.signal,\"Begin Styles\"],[\"loadArray\",this,MathJax.Hub.config.styleSheets,\"config\"],[\"Styles\",MathJax.Ajax,MathJax.Hub.config.styles],[\"Post\",this.signal,\"End Styles\"])},Jax:function(){var f=MathJax.Hub.config,c=MathJax.Hub.outputJax;for(var g=0,b=f.jax.length,d=0;g<b;g++){var e=f.jax[g].substr(7);if(f.jax[g].substr(0,7)===\"output/\"&&c.order[e]==null){c.order[e]=d;d++}}var a=MathJax.Callback.Queue();return a.Push([\"Post\",this.signal,\"Begin Jax\"],[\"loadArray\",this,f.jax,\"jax\",\"config.js\"],[\"Post\",this.signal,\"End Jax\"])},Extensions:function(){var a=MathJax.Callback.Queue();return a.Push([\"Post\",this.signal,\"Begin Extensions\"],[\"loadArray\",this,MathJax.Hub.config.extensions,\"extensions\"],[\"Post\",this.signal,\"End Extensions\"])},Message:function(){MathJax.Message.Init(true)},Menu:function(){var b=MathJax.Hub.config.menuSettings,a=MathJax.Hub.outputJax,d;for(var c in a){if(a.hasOwnProperty(c)){if(a[c].length){d=a[c];break}}}if(d&&d.length){if(b.renderer&&b.renderer!==d[0].id){d.unshift(MathJax.OutputJax[b.renderer])}b.renderer=d[0].id}},Hash:function(){if(MathJax.Hub.config.positionToHash&&document.location.hash&&document.body&&document.body.scrollIntoView){var d=document.location.hash.substr(1);var f=document.getElementById(d);if(!f){var c=document.getElementsByTagName(\"a\");for(var e=0,b=c.length;e<b;e++){if(c[e].name===d){f=c[e];break}}}if(f){while(!f.scrollIntoView){f=f.parentNode}f=this.HashCheck(f);if(f&&f.scrollIntoView){setTimeout(function(){f.scrollIntoView(true)},1)}}}},HashCheck:function(b){var a=MathJax.Hub.getJaxFor(b);if(a&&MathJax.OutputJax[a.outputJax].hashCheck){b=MathJax.OutputJax[a.outputJax].hashCheck(b)}return b},MenuZoom:function(){if(MathJax.Hub.config.showMathMenu){if(!MathJax.Extension.MathMenu){setTimeout(function(){MathJax.Callback.Queue([\"Require\",MathJax.Ajax,\"[MathJax]/extensions/MathMenu.js\",{}],[\"loadDomain\",MathJax.Localization,\"MathMenu\"])},1000)}else{setTimeout(MathJax.Callback([\"loadDomain\",MathJax.Localization,\"MathMenu\"]),1000)}if(!MathJax.Extension.MathZoom){setTimeout(MathJax.Callback([\"Require\",MathJax.Ajax,\"[MathJax]/extensions/MathZoom.js\",{}]),2000)}}},onLoad:function(){var a=this.onload=MathJax.Callback(function(){MathJax.Hub.Startup.signal.Post(\"onLoad\")});if(document.body&&document.readyState){if(MathJax.Hub.Browser.isMSIE){if(document.readyState===\"complete\"){return[a]}}else{if(document.readyState!==\"loading\"){return[a]}}}if(window.addEventListener){window.addEventListener(\"load\",a,false);if(!this.params.noDOMContentEvent){window.addEventListener(\"DOMContentLoaded\",a,false)}}else{if(window.attachEvent){window.attachEvent(\"onload\",a)}else{window.onload=a}}return a},Typeset:function(a,b){if(MathJax.Hub.config.skipStartupTypeset){return function(){}}return this.queue.Push([\"Post\",this.signal,\"Begin Typeset\"],[\"Typeset\",MathJax.Hub,a,b],[\"Post\",this.signal,\"End Typeset\"])},URL:function(b,a){if(!a.match(/^([a-z]+:\\/\\/|\\[|\\/)/)){a=\"[MathJax]/\"+b+\"/\"+a}return a},loadArray:function(b,f,c,a){if(b){if(!(b instanceof Array)){b=[b]}if(b.length){var h=MathJax.Callback.Queue(),j={},e;for(var g=0,d=b.length;g<d;g++){e=this.URL(f,b[g]);if(c){e+=\"/\"+c}if(a){h.Push([\"Require\",MathJax.Ajax,e,j])}else{h.Push(MathJax.Ajax.Require(e,j))}}return h.Push({})}}return null}};(function(d){var b=window[d],e=\"[\"+d+\"]\";var c=b.Hub,a=b.Ajax,f=b.Callback;var g=MathJax.Object.Subclass({JAXFILE:\"jax.js\",require:null,config:{},Init:function(i,h){if(arguments.length===0){return this}return(this.constructor.Subclass(i,h))()},Augment:function(k,j){var i=this.constructor,h={};if(k!=null){for(var l in k){if(k.hasOwnProperty(l)){if(typeof k[l]===\"function\"){i.protoFunction(l,k[l])}else{h[l]=k[l]}}}if(k.toString!==i.prototype.toString&&k.toString!=={}.toString){i.protoFunction(\"toString\",k.toString)}}c.Insert(i.prototype,h);i.Augment(null,j);return this},Translate:function(h,i){throw Error(this.directory+\"/\"+this.JAXFILE+\" failed to define the Translate() method\")},Register:function(h){},Config:function(){this.config=c.CombineConfig(this.id,this.config);if(this.config.Augment){this.Augment(this.config.Augment)}},Startup:function(){},loadComplete:function(i){if(i===\"config.js\"){return a.loadComplete(this.directory+\"/\"+i)}else{var h=f.Queue();h.Push(c.Register.StartupHook(\"End Config\",{}),[\"Post\",c.Startup.signal,this.id+\" Jax Config\"],[\"Config\",this],[\"Post\",c.Startup.signal,this.id+\" Jax Require\"],[function(j){return MathJax.Hub.Startup.loadArray(j.require,this.directory)},this],[function(j,k){return MathJax.Hub.Startup.loadArray(j.extensions,\"extensions/\"+k)},this.config||{},this.id],[\"Post\",c.Startup.signal,this.id+\" Jax Startup\"],[\"Startup\",this],[\"Post\",c.Startup.signal,this.id+\" Jax Ready\"]);if(this.copyTranslate){h.Push([function(j){j.preProcess=j.preTranslate;j.Process=j.Translate;j.postProcess=j.postTranslate},this.constructor.prototype])}return h.Push([\"loadComplete\",a,this.directory+\"/\"+i])}}},{id:\"Jax\",version:\"2.6.0\",directory:e+\"/jax\",extensionDir:e+\"/extensions\"});b.InputJax=g.Subclass({elementJax:\"mml\",sourceMenuTitle:[\"Original\",\"Original Form\"],copyTranslate:true,Process:function(l,q){var j=f.Queue(),o;var k=this.elementJax;if(!(k instanceof Array)){k=[k]}for(var n=0,h=k.length;n<h;n++){o=b.ElementJax.directory+\"/\"+k[n]+\"/\"+this.JAXFILE;if(!this.require){this.require=[]}else{if(!(this.require instanceof Array)){this.require=[this.require]}}this.require.push(o);j.Push(a.Require(o))}o=this.directory+\"/\"+this.JAXFILE;var p=j.Push(a.Require(o));if(!p.called){this.constructor.prototype.Process=function(){if(!p.called){return p}throw Error(o+\" failed to load properly\")}}k=c.outputJax[\"jax/\"+k[0]];if(k){j.Push(a.Require(k[0].directory+\"/\"+this.JAXFILE))}return j.Push({})},needsUpdate:function(h){var i=h.SourceElement();return(h.originalText!==b.HTML.getScript(i))},Register:function(h){if(!c.inputJax){c.inputJax={}}c.inputJax[h]=this}},{id:\"InputJax\",version:\"2.6.0\",directory:g.directory+\"/input\",extensionDir:g.extensionDir});b.OutputJax=g.Subclass({copyTranslate:true,preProcess:function(j){var i,h=this.directory+\"/\"+this.JAXFILE;this.constructor.prototype.preProcess=function(k){if(!i.called){return i}throw Error(h+\" failed to load properly\")};i=a.Require(h);return i},Register:function(i){var h=c.outputJax;if(!h[i]){h[i]=[]}if(h[i].length&&(this.id===c.config.menuSettings.renderer||(h.order[this.id]||0)<(h.order[h[i][0].id]||0))){h[i].unshift(this)}else{h[i].push(this)}if(!this.require){this.require=[]}else{if(!(this.require instanceof Array)){this.require=[this.require]}}this.require.push(b.ElementJax.directory+\"/\"+(i.split(/\\//)[1])+\"/\"+this.JAXFILE)},Remove:function(h){}},{id:\"OutputJax\",version:\"2.6.0\",directory:g.directory+\"/output\",extensionDir:g.extensionDir,fontDir:e+(b.isPacked?\"\":\"/..\")+\"/fonts\",imageDir:e+(b.isPacked?\"\":\"/..\")+\"/images\"});b.ElementJax=g.Subclass({Init:function(i,h){return this.constructor.Subclass(i,h)},inputJax:null,outputJax:null,inputID:null,originalText:\"\",mimeType:\"\",sourceMenuTitle:[\"MathMLcode\",\"MathML Code\"],Text:function(i,j){var h=this.SourceElement();b.HTML.setScript(h,i);h.MathJax.state=this.STATE.UPDATE;return c.Update(h,j)},Reprocess:function(i){var h=this.SourceElement();h.MathJax.state=this.STATE.UPDATE;return c.Reprocess(h,i)},Update:function(h){return this.Rerender(h)},Rerender:function(i){var h=this.SourceElement();h.MathJax.state=this.STATE.OUTPUT;return c.Process(h,i)},Remove:function(h){if(this.hover){this.hover.clear(this)}b.OutputJax[this.outputJax].Remove(this);if(!h){c.signal.Post([\"Remove Math\",this.inputID]);this.Detach()}},needsUpdate:function(){return b.InputJax[this.inputJax].needsUpdate(this)},SourceElement:function(){return document.getElementById(this.inputID)},Attach:function(i,j){var h=i.MathJax.elementJax;if(i.MathJax.state===this.STATE.UPDATE){h.Clone(this)}else{h=i.MathJax.elementJax=this;if(i.id){this.inputID=i.id}else{i.id=this.inputID=b.ElementJax.GetID();this.newID=1}}h.originalText=b.HTML.getScript(i);h.inputJax=j;if(h.root){h.root.inputID=h.inputID}return h},Detach:function(){var h=this.SourceElement();if(!h){return}try{delete h.MathJax}catch(i){h.MathJax=null}if(this.newID){h.id=\"\"}},Clone:function(h){var i;for(i in this){if(!this.hasOwnProperty(i)){continue}if(typeof(h[i])===\"undefined\"&&i!==\"newID\"){delete this[i]}}for(i in h){if(!h.hasOwnProperty(i)){continue}if(typeof(this[i])===\"undefined\"||(this[i]!==h[i]&&i!==\"inputID\")){this[i]=h[i]}}}},{id:\"ElementJax\",version:\"2.6.0\",directory:g.directory+\"/element\",extensionDir:g.extensionDir,ID:0,STATE:{PENDING:1,PROCESSED:2,UPDATE:3,OUTPUT:4},GetID:function(){this.ID++;return\"MathJax-Element-\"+this.ID},Subclass:function(){var h=g.Subclass.apply(this,arguments);h.loadComplete=this.prototype.loadComplete;return h}});b.ElementJax.prototype.STATE=b.ElementJax.STATE;b.OutputJax.Error={id:\"Error\",version:\"2.6.0\",config:{},errors:0,ContextMenu:function(){return b.Extension.MathEvents.Event.ContextMenu.apply(b.Extension.MathEvents.Event,arguments)},Mousedown:function(){return b.Extension.MathEvents.Event.AltContextMenu.apply(b.Extension.MathEvents.Event,arguments)},getJaxFromMath:function(h){return(h.nextSibling.MathJax||{}).error},Jax:function(j,i){var h=MathJax.Hub.inputJax[i.type.replace(/ *;(.|\\s)*/,\"\")];this.errors++;return{inputJax:(h||{id:\"Error\"}).id,outputJax:\"Error\",inputID:\"MathJax-Error-\"+this.errors,sourceMenuTitle:[\"ErrorMessage\",\"Error Message\"],sourceMenuFormat:\"Error\",originalText:MathJax.HTML.getScript(i),errorText:j}}};b.InputJax.Error={id:\"Error\",version:\"2.6.0\",config:{},sourceMenuTitle:[\"Original\",\"Original Form\"]}})(\"MathJax\");(function(o){var h=window[o];if(!h){h=window[o]={}}var d=h.Hub;var s=d.Startup;var w=d.config;var g=document.head||(document.getElementsByTagName(\"head\")[0]);if(!g){g=document.childNodes[0]}var b=(document.documentElement||document).getElementsByTagName(\"script\");if(b.length===0&&g.namespaceURI){b=document.getElementsByTagNameNS(g.namespaceURI,\"script\")}var f=new RegExp(\"(^|/)\"+o+\"\\\\.js(\\\\?.*)?$\");for(var q=b.length-1;q>=0;q--){if((b[q].src||\"\").match(f)){s.script=b[q].innerHTML;if(RegExp.$2){var t=RegExp.$2.substr(1).split(/\\&/);for(var p=0,l=t.length;p<l;p++){var n=t[p].match(/(.*)=(.*)/);if(n){s.params[unescape(n[1])]=unescape(n[2])}}}w.root=b[q].src.replace(/(^|\\/)[^\\/]*(\\?.*)?$/,\"\").replace(/^(https?:\\/\\/cdn.mathjax.org\\/mathjax\\/)(latest)/,\"$1\"+h.version.split(/\\./).slice(0,2).join(\".\")+\"-$2\");h.Ajax.config.root=w.root;break}}var k=navigator.userAgent;var a={isMac:(navigator.platform.substr(0,3)===\"Mac\"),isPC:(navigator.platform.substr(0,3)===\"Win\"),isMSIE:(\"ActiveXObject\" in window&&\"clipboardData\" in window),isEdge:(\"MSGestureEvent\" in window&&\"chrome\" in window&&window.chrome.loadTimes==null),isFirefox:(!!k.match(/Gecko\\//)&&!k.match(/like Gecko/)),isSafari:(!!k.match(/ (Apple)?WebKit\\//)&&!k.match(/ like iPhone /)&&(!window.chrome||window.chrome.app==null)),isChrome:(\"chrome\" in window&&window.chrome.loadTimes!=null),isOpera:(\"opera\" in window&&window.opera.version!=null),isKonqueror:(\"konqueror\" in window&&navigator.vendor==\"KDE\"),versionAtLeast:function(y){var x=(this.version).split(\".\");y=(new String(y)).split(\".\");for(var z=0,j=y.length;z<j;z++){if(x[z]!=y[z]){return parseInt(x[z]||\"0\")>=parseInt(y[z])}}return true},Select:function(j){var i=j[d.Browser];if(i){return i(d.Browser)}return null}};var e=k.replace(/^Mozilla\\/(\\d+\\.)+\\d+ /,\"\").replace(/[a-z][-a-z0-9._: ]+\\/\\d+[^ ]*-[^ ]*\\.([a-z][a-z])?\\d+ /i,\"\").replace(/Gentoo |Ubuntu\\/(\\d+\\.)*\\d+ (\\([^)]*\\) )?/,\"\");d.Browser=d.Insert(d.Insert(new String(\"Unknown\"),{version:\"0.0\"}),a);for(var v in a){if(a.hasOwnProperty(v)){if(a[v]&&v.substr(0,2)===\"is\"){v=v.slice(2);if(v===\"Mac\"||v===\"PC\"){continue}d.Browser=d.Insert(new String(v),a);var r=new RegExp(\".*(Version/| Trident/.*; rv:)((?:\\\\d+\\\\.)+\\\\d+)|.*(\"+v+\")\"+(v==\"MSIE\"?\" \":\"/\")+\"((?:\\\\d+\\\\.)*\\\\d+)|(?:^|\\\\(| )([a-z][-a-z0-9._: ]+|(?:Apple)?WebKit)/((?:\\\\d+\\\\.)+\\\\d+)\");var u=r.exec(e)||[\"\",\"\",\"\",\"unknown\",\"0.0\"];d.Browser.name=(u[1]!=\"\"?v:(u[3]||u[5]));d.Browser.version=u[2]||u[4]||u[6];break}}}try{d.Browser.Select({Safari:function(j){var i=parseInt((String(j.version).split(\".\"))[0]);if(i>85){j.webkit=j.version}if(i>=538){j.version=\"8.0\"}else{if(i>=537){j.version=\"7.0\"}else{if(i>=536){j.version=\"6.0\"}else{if(i>=534){j.version=\"5.1\"}else{if(i>=533){j.version=\"5.0\"}else{if(i>=526){j.version=\"4.0\"}else{if(i>=525){j.version=\"3.1\"}else{if(i>500){j.version=\"3.0\"}else{if(i>400){j.version=\"2.0\"}else{if(i>85){j.version=\"1.0\"}}}}}}}}}}j.webkit=(navigator.appVersion.match(/WebKit\\/(\\d+)\\./))[1];j.isMobile=(navigator.appVersion.match(/Mobile/i)!=null);j.noContextMenu=j.isMobile},Firefox:function(j){if((j.version===\"0.0\"||k.match(/Firefox/)==null)&&navigator.product===\"Gecko\"){var m=k.match(/[\\/ ]rv:(\\d+\\.\\d.*?)[\\) ]/);if(m){j.version=m[1]}else{var i=(navigator.buildID||navigator.productSub||\"0\").substr(0,8);if(i>=\"20111220\"){j.version=\"9.0\"}else{if(i>=\"20111120\"){j.version=\"8.0\"}else{if(i>=\"20110927\"){j.version=\"7.0\"}else{if(i>=\"20110816\"){j.version=\"6.0\"}else{if(i>=\"20110621\"){j.version=\"5.0\"}else{if(i>=\"20110320\"){j.version=\"4.0\"}else{if(i>=\"20100121\"){j.version=\"3.6\"}else{if(i>=\"20090630\"){j.version=\"3.5\"}else{if(i>=\"20080617\"){j.version=\"3.0\"}else{if(i>=\"20061024\"){j.version=\"2.0\"}}}}}}}}}}}}j.isMobile=(navigator.appVersion.match(/Android/i)!=null||k.match(/ Fennec\\//)!=null||k.match(/Mobile/)!=null)},Chrome:function(i){i.noContextMenu=i.isMobile=!!navigator.userAgent.match(/ Mobile[ \\/]/)},Opera:function(i){i.version=opera.version()},Edge:function(i){i.isMobile=!!navigator.userAgent.match(/ Phone/)},MSIE:function(j){j.isMobile=!!navigator.userAgent.match(/ Phone/);j.isIE9=!!(document.documentMode&&(window.performance||window.msPerformance));MathJax.HTML.setScriptBug=!j.isIE9||document.documentMode<9;MathJax.Hub.msieHTMLCollectionBug=(document.documentMode<9);if(document.documentMode<10&&!s.params.NoMathPlayer){try{new ActiveXObject(\"MathPlayer.Factory.1\");j.hasMathPlayer=true}catch(m){}try{if(j.hasMathPlayer){var i=document.createElement(\"object\");i.id=\"mathplayer\";i.classid=\"clsid:32F66A20-7614-11D4-BD11-00104BD3F987\";g.appendChild(i);document.namespaces.add(\"m\",\"http://www.w3.org/1998/Math/MathML\");j.mpNamespace=true;if(document.readyState&&(document.readyState===\"loading\"||document.readyState===\"interactive\")){document.write('<?import namespace=\"m\" implementation=\"#MathPlayer\">');j.mpImported=true}}else{document.namespaces.add(\"mjx_IE_fix\",\"http://www.w3.org/1999/xlink\")}}catch(m){}}}})}catch(c){console.error(c.message)}d.Browser.Select(MathJax.Message.browsers);if(h.AuthorConfig&&typeof h.AuthorConfig.AuthorInit===\"function\"){h.AuthorConfig.AuthorInit()}d.queue=h.Callback.Queue();d.queue.Push([\"Post\",s.signal,\"Begin\"],[\"Config\",s],[\"Cookie\",s],[\"Styles\",s],[\"Message\",s],function(){var i=h.Callback.Queue(s.Jax(),s.Extensions());return i.Push({})},[\"Menu\",s],s.onLoad(),function(){MathJax.isReady=true},[\"Typeset\",s],[\"Hash\",s],[\"MenuZoom\",s],[\"Post\",s.signal,\"End\"])})(\"MathJax\")}};\n","date":"2020-04-04T08:34:36.677Z","updated":"2020-04-04T08:34:36.534Z","path":"images/tags _ Night's blog_files/MathJax.js","layout":"false","title":"","comments":1,"_id":"ck8npay3500hoqr3lq4ethgse"},{"_content":"/* This is a compiled file, you should be editing the file in the templates directory */\n.pace {\n  -webkit-pointer-events: none;\n  pointer-events: none;\n\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.pace-inactive {\n  display: none;\n}\n\n.pace .pace-progress {\n  background: #2299dd;\n  position: fixed;\n  z-index: 2000;\n  top: 0;\n  right: 100%;\n  width: 100%;\n  height: 2px;\n}\n","source":"images/tags _ Night's blog_files/pace-theme-minimal.css","raw":"/* This is a compiled file, you should be editing the file in the templates directory */\n.pace {\n  -webkit-pointer-events: none;\n  pointer-events: none;\n\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.pace-inactive {\n  display: none;\n}\n\n.pace .pace-progress {\n  background: #2299dd;\n  position: fixed;\n  z-index: 2000;\n  top: 0;\n  right: 100%;\n  width: 100%;\n  height: 2px;\n}\n","date":"2020-04-04T08:34:36.681Z","updated":"2020-04-04T08:34:36.395Z","path":"images/tags _ Night's blog_files/pace-theme-minimal.css","layout":"false","title":"","comments":1,"_id":"ck8npay3500hpqr3l20yta1x2"},{"_content":"(function(){var h={},mt={},c={id:\"78b7e9790ada71496450ca708cc57e36\",dm:[\"nightxlt.github.io\"],js:\"tongji.baidu.com/hm-web/js/\",etrk:[],cetrk:[],cptrk:[],icon:'',ctrk:false,align:-1,nv:-1,vdur:1800000,age:31536000000,rec:0,rp:[],trust:0,vcard:0,qiao:0,lxb:0,kbtrk:0,pt:0,spa:0,aet:'',hca:'563FF5AC361DE237',conv:0,med:0,cvcc:'',cvcf:[],apps:''};var r=void 0,u=!0,v=null,x=!1;mt.cookie={};mt.cookie.set=function(a,b,g){var d;g.P&&(d=new Date,d.setTime(d.getTime()+g.P));document.cookie=a+\"=\"+b+(g.domain?\"; domain=\"+g.domain:\"\")+(g.path?\"; path=\"+g.path:\"\")+(d?\"; expires=\"+d.toGMTString():\"\")+(g.Dc?\"; secure\":\"\")};mt.cookie.get=function(a){return(a=RegExp(\"(^| )\"+a+\"=([^;]*)(;|$)\").exec(document.cookie))?a[2]:v};\nmt.cookie.bc=function(a,b){try{var g=\"Hm_ck_\"+ +new Date;mt.cookie.set(g,\"is-cookie-enabled\",{domain:a,path:b,P:r});var d=\"is-cookie-enabled\"===mt.cookie.get(g)?\"1\":\"0\";mt.cookie.set(g,\"\",{domain:a,path:b,P:-1});return d}catch(e){return\"0\"}};mt.lang={};mt.lang.d=function(a,b){return\"[object \"+b+\"]\"==={}.toString.call(a)};mt.lang.Ra=function(a){return mt.lang.d(a,\"Number\")&&isFinite(a)};mt.lang.G=function(a){return mt.lang.d(a,\"String\")};mt.lang.isArray=function(a){return mt.lang.d(a,\"Array\")};\nmt.lang.h=function(a){return a.replace?a.replace(/'/g,\"'0\").replace(/\\*/g,\"'1\").replace(/!/g,\"'2\"):a};mt.lang.trim=function(a){return a.replace(/^\\s+|\\s+$/g,\"\")};mt.lang.F=function(a,b){var g=x;if(a==v||!mt.lang.d(a,\"Array\")||b===r)return g;if(Array.prototype.indexOf)g=-1!==a.indexOf(b);else for(var d=0;d<a.length;d++)if(a[d]===b){g=u;break}return g};mt.url={};mt.url.m=function(a,b){var g=a.match(RegExp(\"(^|&|\\\\?|#)(\"+b+\")=([^&#]*)(&|$|#)\",\"\"));return g?g[3]:v};\nmt.url.zc=function(a){return(a=a.match(/^(https?:)\\/\\//))?a[1]:v};mt.url.Gb=function(a){return(a=a.match(/^(https?:\\/\\/)?([^\\/\\?#]*)/))?a[2].replace(/.*@/,\"\"):v};mt.url.K=function(a){return(a=mt.url.Gb(a))?a.replace(/:\\d+$/,\"\"):a};mt.url.ta=function(a){return(a=a.match(/^(https?:\\/\\/)?[^\\/]*(.*)/))?a[2].replace(/[\\?#].*/,\"\").replace(/^$/,\"/\"):v};\n(function(){var a=mt.lang,b=mt.url;mt.f={};mt.f.La=function(a){return document.getElementById(a)};mt.f.ra=function(a){if(!a)return v;try{a=String(a);if(0===a.indexOf(\"!HMCQ!\"))return a;if(0===a.indexOf(\"!HMCC!\"))return document.querySelector(a.substring(6,a.length));for(var d=a.split(\">\"),e=document.body,b=d.length-1;0<=b;b--)if(-1<d[b].indexOf(\"#\")){var f=d[b].split(\"#\")[1];(e=document.getElementById(f))||(e=document.getElementById(decodeURIComponent(f)));d=d.splice(b+1,d.length-(b+1));break}for(a=\n0;e&&a<d.length;){var m=String(d[a]).toLowerCase();if(!(\"html\"===m||\"body\"===m)){var b=0,p=d[a].match(/\\[(\\d+)\\]/i),f=[];if(p)b=p[1]-1,m=m.split(\"[\")[0];else if(1!==e.childNodes.length){for(var s=0,t=0,q=e.childNodes.length;t<q;t++){var w=e.childNodes[t];1===w.nodeType&&w.nodeName.toLowerCase()===m&&s++;if(1<s)return v}if(1!==s)return v}for(s=0;s<e.childNodes.length;s++)1===e.childNodes[s].nodeType&&e.childNodes[s].nodeName.toLowerCase()===m&&f.push(e.childNodes[s]);if(!f[b])return v;e=f[b]}a++}return e}catch(k){return v}};\nmt.f.ta=function(a,d){var b=[],l=[];if(!a)return l;for(;a.parentNode!=v;){for(var f=0,m=0,p=a.parentNode.childNodes.length,s=0;s<p;s++){var t=a.parentNode.childNodes[s];if(t.nodeName===a.nodeName&&(f++,t===a&&(m=f),0<m&&1<f))break}if((p=\"\"!==a.id)&&d){b.unshift(\"#\"+encodeURIComponent(a.id));break}else p&&(p=\"#\"+encodeURIComponent(a.id),p=0<b.length?p+\">\"+b.join(\">\"):p,l.push(p)),b.unshift(encodeURIComponent(String(a.nodeName).toLowerCase())+(1<f?\"[\"+m+\"]\":\"\"));a=a.parentNode}l.push(b.join(\">\"));return l};\nmt.f.ua=function(a){return(a=mt.f.ta(a,u))&&a.length?String(a[0]):\"\"};mt.f.Kb=function(a){return mt.f.ta(a,x)};mt.f.Ab=function(a){var d;for(d=\"A\";(a=a.parentNode)&&1==a.nodeType;)if(a.tagName==d)return a;return v};mt.f.Cb=function(a){return 9===a.nodeType?a:a.ownerDocument||a.document};mt.f.Ib=function(a){var d={top:0,left:0};if(!a)return d;var b=mt.f.Cb(a).documentElement;\"undefined\"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());return{top:d.top+(window.pageYOffset||b.scrollTop)-\n(b.clientTop||0),left:d.left+(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}};mt.f.getAttribute=function(a,d){var b=a.getAttribute&&a.getAttribute(d)||v;if(!b&&a.attributes&&a.attributes.length)for(var l=a.attributes,f=l.length,m=0;m<f;m++)l[m].nodeName===d&&(b=l[m].nodeValue);return b};mt.f.S=function(a){var d=\"document\";a.tagName!==r&&(d=a.tagName);return d.toLowerCase()};mt.f.Nb=function(b){var d=\"\";b.textContent?d=a.trim(b.textContent):b.innerText&&(d=a.trim(b.innerText));d&&(d=d.replace(/\\s+/g,\n\" \").substring(0,255));return d};mt.f.R=function(g,d){var e;a.G(g)&&0===String(g).indexOf(\"!HMCQ!\")?(e=String(g),e=b.m(document.location.href,e.substring(6,e.length))):a.G(g)||(e=mt.f.S(g),\"input\"===e&&d&&(\"button\"===g.type||\"submit\"===g.type)?e=a.trim(g.value)||\"\":\"input\"===e&&!d&&\"password\"!==g.type?e=a.trim(g.value)||\"\":\"img\"===e?(e=mt.f.getAttribute,e=e(g,\"alt\")||e(g,\"title\")||e(g,\"src\")):e=\"body\"===e||\"html\"===e?[\"(hm-default-content-for-\",e,\")\"].join(\"\"):mt.f.Nb(g));return String(e||\"\").substring(0,\n255)};(function(){(mt.f.$a=function(){function a(){if(!a.da){a.da=u;for(var d=0,b=l.length;d<b;d++)l[d]()}}function d(){try{document.documentElement.doScroll(\"left\")}catch(b){setTimeout(d,1);return}a()}var b=x,l=[],f;document.addEventListener?f=function(){document.removeEventListener(\"DOMContentLoaded\",f,x);a()}:document.attachEvent&&(f=function(){\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",f),a())});(function(){if(!b)if(b=u,\"complete\"===document.readyState)a.da=u;\nelse if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",f,x),window.addEventListener(\"load\",a,x);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",f);window.attachEvent(\"onload\",a);var l=x;try{l=window.frameElement==v}catch(p){}document.documentElement.doScroll&&l&&d()}})();return function(d){a.da?d():l.push(d)}}()).da=x})();return mt.f})();mt.event={};\nmt.event.e=function(a,b,g){a.attachEvent?a.attachEvent(\"on\"+b,function(d){g.call(a,d)}):a.addEventListener&&a.addEventListener(b,g,x)};mt.event.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=x};\n(function(){var a=mt.event;mt.g={};mt.g.ya=/msie (\\d+\\.\\d+)/i.test(navigator.userAgent);mt.g.Hb=function(){if(document.documentMode)return document.documentMode;var a=/msie (\\d+\\.\\d+)/i.exec(navigator.userAgent);return a?+a[1]||0:0};mt.g.$b=function(){try{return!!navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)&&\"undefined\"!==typeof document.body.style.webkitFilter&&!window.chrome}catch(a){return x}};mt.g.cookieEnabled=navigator.cookieEnabled;mt.g.javaEnabled=navigator.javaEnabled();\nmt.g.language=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||\"\";mt.g.fc=(window.screen.width||0)+\"x\"+(window.screen.height||0);mt.g.colorDepth=window.screen.colorDepth||0;mt.g.T=function(){var a;a=a||document;return parseInt(window.pageYOffset||a.documentElement.scrollTop||a.body&&a.body.scrollTop||0,10)};mt.g.L=function(){var a=document;return parseInt(window.innerHeight||a.documentElement.clientHeight||a.body&&a.body.clientHeight||0,10)};mt.g.uc=\n0;mt.g.Pb=function(){var a=document;return parseInt(window.innerWidth||a.documentElement.clientWidth||a.body.offsetWidth||0,10)};mt.g.orientation=0;(function(){function b(){var a=0;window.orientation!==r&&(a=window.orientation);screen&&(screen.orientation&&screen.orientation.angle!==r)&&(a=screen.orientation.angle);mt.g.orientation=a;mt.g.uc=mt.g.Pb()}b();a.e(window,\"orientationchange\",b)})();return mt.g})();mt.o={};mt.o.parse=function(a){return(new Function(\"return (\"+a+\")\"))()};\nmt.o.stringify=function(){function a(a){/[\"\\\\\\x00-\\x1f]/.test(a)&&(a=a.replace(/[\"\\\\\\x00-\\x1f]/g,function(a){var d=g[a];if(d)return d;d=a.charCodeAt();return\"\\\\u00\"+Math.floor(d/16).toString(16)+(d%16).toString(16)}));return'\"'+a+'\"'}function b(a){return 10>a?\"0\"+a:a}var g={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};return function(d){switch(typeof d){case \"undefined\":return\"undefined\";case \"number\":return isFinite(d)?String(d):\"null\";case \"string\":return a(d);case \"boolean\":return String(d);\ndefault:if(d===v)return\"null\";if(d instanceof Array){var e=[\"[\"],g=d.length,f,m,p;for(m=0;m<g;m++)switch(p=d[m],typeof p){case \"undefined\":case \"function\":case \"unknown\":break;default:f&&e.push(\",\"),e.push(mt.o.stringify(p)),f=1}e.push(\"]\");return e.join(\"\")}if(d instanceof Date)return'\"'+d.getFullYear()+\"-\"+b(d.getMonth()+1)+\"-\"+b(d.getDate())+\"T\"+b(d.getHours())+\":\"+b(d.getMinutes())+\":\"+b(d.getSeconds())+'\"';f=[\"{\"];m=mt.o.stringify;for(g in d)if(Object.prototype.hasOwnProperty.call(d,g))switch(p=\nd[g],typeof p){case \"undefined\":case \"unknown\":case \"function\":break;default:e&&f.push(\",\"),e=1,f.push(m(g)+\":\"+m(p))}f.push(\"}\");return f.join(\"\")}}}();mt.localStorage={};mt.localStorage.ka=function(){if(!mt.localStorage.l)try{mt.localStorage.l=document.createElement(\"input\"),mt.localStorage.l.type=\"hidden\",mt.localStorage.l.style.display=\"none\",mt.localStorage.l.addBehavior(\"#default#userData\"),document.getElementsByTagName(\"head\")[0].appendChild(mt.localStorage.l)}catch(a){return x}return u};\nmt.localStorage.set=function(a,b,g){var d=new Date;d.setTime(d.getTime()+g||31536E6);try{window.localStorage?(b=d.getTime()+\"|\"+b,window.localStorage.setItem(a,b)):mt.localStorage.ka()&&(mt.localStorage.l.expires=d.toUTCString(),mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.setAttribute(a,b),mt.localStorage.l.save(document.location.hostname))}catch(e){}};\nmt.localStorage.get=function(a){if(window.localStorage){if(a=window.localStorage.getItem(a)){var b=a.indexOf(\"|\"),g=a.substring(0,b)-0;if(g&&g>(new Date).getTime())return a.substring(b+1)}}else if(mt.localStorage.ka())try{return mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.getAttribute(a)}catch(d){}return v};\nmt.localStorage.remove=function(a){if(window.localStorage)window.localStorage.removeItem(a);else if(mt.localStorage.ka())try{mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.removeAttribute(a),mt.localStorage.l.save(document.location.hostname)}catch(b){}};mt.sessionStorage={};mt.sessionStorage.set=function(a,b){try{window.sessionStorage&&window.sessionStorage.setItem(a,b)}catch(g){}};\nmt.sessionStorage.get=function(a){try{return window.sessionStorage?window.sessionStorage.getItem(a):v}catch(b){return v}};mt.sessionStorage.remove=function(a){try{window.sessionStorage&&window.sessionStorage.removeItem(a)}catch(b){}};mt.eb={};mt.eb.log=function(a,b){var g=new Image,d=\"mini_tangram_log_\"+Math.floor(2147483648*Math.random()).toString(36);window[d]=g;g.onload=function(){g.onload=v;g=window[d]=v;b&&b(a)};g.src=a};mt.Da={};\nmt.Da.Ob=function(){var a=\"\";if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins[\"Shockwave Flash\"];b&&b.description&&(a=b.description.replace(/^.*\\s+(\\S+)\\s+\\S+$/,\"$1\"))}else if(window.ActiveXObject)try{if(b=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"))(a=b.GetVariable(\"$version\"))&&(a=a.replace(/^.*\\s+(\\d+),(\\d+).*$/,\"$1.$2\"))}catch(g){}return a};\nmt.Da.yc=function(a,b,g,d,e){return'<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" id=\"'+a+'\" width=\"'+g+'\" height=\"'+d+'\"><param name=\"movie\" value=\"'+b+'\" /><param name=\"flashvars\" value=\"'+(e||\"\")+'\" /><param name=\"allowscriptaccess\" value=\"always\" /><embed type=\"application/x-shockwave-flash\" name=\"'+a+'\" width=\"'+g+'\" height=\"'+d+'\" src=\"'+b+'\" flashvars=\"'+(e||\"\")+'\" allowscriptaccess=\"always\" /></object>'};\nh.C={Ac:\"http://tongji.baidu.com/hm-web/welcome/ico\",Za:\"hm.baidu.com/hm.gif\",pb:/^(tongji|hmcdn).baidu.com$/,hb:\"tongji.baidu.com\",Tb:\"hmmd\",Ub:\"hmpl\",rc:\"utm_medium\",Sb:\"hmkw\",tc:\"utm_term\",Qb:\"hmci\",qc:\"utm_content\",Vb:\"hmsr\",sc:\"utm_source\",Rb:\"hmcu\",pc:\"utm_campaign\",M:0,I:Math.round(+new Date/1E3),protocol:\"https:\"===document.location.protocol?\"https:\":\"http:\",za:\"https:\",Bc:0,wc:6E5,Cc:6E5,gc:5E3,xc:5,na:1024,vc:1,Aa:2147483647,gb:\"hca kb cc cf ci ck cl cm cp cu cw ds vl ep et fl ja ln lo lt rnd si su v cv lv api sn p ct u tt\".split(\" \"),\nU:u,Ia:[\"a\",\"input\",\"button\"],Fa:{id:\"data-hm-id\",$:\"data-hm-class\",Z:\"data-hm-xpath\",content:\"data-hm-content\",ga:\"data-hm-tag\",link:\"data-hm-link\"},Ha:\"data-hm-enabled\",Ga:\"data-hm-disabled\",dc:\"https://hmcdn.baidu.com/static/tongji/plugins/\",Ya:[\"UrlChangeTracker\"]};(function(){var a={D:{},e:function(a,g){this.D[a]=this.D[a]||[];this.D[a].push(g)},J:function(a,g){this.D[a]=this.D[a]||[];for(var d=this.D[a].length,e=0;e<d;e++)this.D[a][e](g)}};return h.w=a})();\n(function(){function a(a,d){var e=document.createElement(\"script\");e.charset=\"utf-8\";b.d(d,\"Function\")&&(e.readyState?e.onreadystatechange=function(){if(\"loaded\"===e.readyState||\"complete\"===e.readyState)e.onreadystatechange=v,d()}:e.onload=function(){d()});e.src=a;var l=document.getElementsByTagName(\"script\")[0];l.parentNode.insertBefore(e,l)}var b=mt.lang;return h.load=a})();\n(function(){var a=mt.cookie,b=mt.localStorage,g=mt.sessionStorage,d={getData:function(d){try{return a.get(d)||g.get(d)||b.get(d)}catch(l){}},setData:function(e,l,f){try{a.set(e,l,{domain:d.Q(),path:d.ba(),P:f}),f?b.set(e,l,f):g.set(e,l)}catch(m){}},removeData:function(e){try{a.set(e,\"\",{domain:d.Q(),path:d.ba(),P:-1}),g.remove(e),b.remove(e)}catch(l){}},V:function(a,d){a=\".\"+a.replace(/:\\d+/,\"\");d=\".\"+d.replace(/:\\d+/,\"\");var b=a.indexOf(d);return-1<b&&b+d.length===a.length},ea:function(a,d){a=a.replace(/^https?:\\/\\//,\n\"\");return 0===a.indexOf(d)},Q:function(){for(var a=document.location.hostname,b=0,f=c.dm.length;b<f;b++)if(d.V(a,c.dm[b]))return c.dm[b].replace(/(:\\d+)?[/?#].*/,\"\");return a},ba:function(){for(var a=0,b=c.dm.length;a<b;a++){var f=c.dm[a];if(-1<f.indexOf(\"/\")&&d.ea(document.location.href,f))return f.replace(/^[^/]+(\\/.*)/,\"$1\")+\"/\"}return\"/\"}};return h.oa=d})();\n(function(){var a=mt.lang,b=mt.o,g=h.oa,d={pageview:{},session:{},autoEventTracking:{},customEvent:{},user:{}},e={user:1,session:2,pageview:3,autoEventTracking:3,customEvent:3,others:3},l=[\"session\",\"user\"],f=\"Hm_up_\"+c.id,m={init:function(){m.Yb()},Yb:function(){try{var e=b.parse(decodeURIComponent(g.getData(f)));a.d(e,\"Object\")&&(d.user=e)}catch(s){}},z:function(a){var b={};d[a]!==r&&(b=d[a]);a=this.va();for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},va:function(){for(var a={},b,e=l.length-\n1;0<=e;e--){b=d[l[e]];for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q])}return a},setProperty:function(e,f,g){var q=d[e];if(a.d(q,\"Object\")&&a.d(f,\"Object\")){for(var w in f)if(f.hasOwnProperty(w)){var k=a.h(String(w));if(g||!/^_/.test(k)&&!/_$/.test(k)||/^(_iden|ei_|ec_|ex_|en_|et_|el_)$/.test(k)){var n=f[w];if(n==v)delete q[k];else{if(a.d(n,\"Object\")||a.d(n,\"Array\"))n=b.stringify(n);n=a.h(String(n));m.ac(e,k,n)&&(q[k]={value:n,scope:m.Na(e)})}}}\"user\"===e&&m.Ba()}},r:function(b){b!==r&&(\"userId\"===\nb&&a.d(d.user,\"Object\")?(delete d.user.uid_,m.Ba()):\"user\"===b&&a.d(d.user,\"Object\")?(b=d.user.uid_,d.user=b===r?{}:{uid_:b},m.Ba()):d[b]!==r&&(d[b]={}))},Ba:function(){try{g.setData(f,encodeURIComponent(b.stringify(d.user)),c.age)}catch(a){}},ac:function(a,b,e){var q=u,f=d[a];if(256<encodeURIComponent(String(b)).length||256<encodeURIComponent(String(e)).length)q=x;else{var k=f[b];f[b]={value:e,scope:m.Na(a)};a=m.N(m.z(a));2048<encodeURIComponent(a).length&&(k!==r?f[b]=k:delete f[b],q=x)}return q},\nN:function(a){var d=[],b,e;for(e in a)a.hasOwnProperty(e)&&(b=[e,a[e].value],(1===a[e].scope||2===a[e].scope)&&b.push(a[e].scope),d.push(b.join(\"*\")));return d.join(\"!\")},Na:function(a){a=e[a];return a!==r?a:e.others}};return h.O=m})();\n(function(){var a=mt.f,b=mt.lang,g=mt.o,d=h.w,e=h.O,l=e.N;if(b.isArray(c.cptrk)&&0<c.cptrk.length){var f={Xa:{},ha:{},init:function(){for(var a,d=0;d<c.cptrk.length;d++)try{if(a=g.parse(decodeURIComponent(String(c.cptrk[d]))),a.a!==r&&b.d(a.a,\"Object\")){var e=a.a,l;for(l in e)e.hasOwnProperty(l)&&(f.ha[l]=String(e[l]))}}catch(q){}},Wa:function(){var d,b,e;for(e in f.ha)if(f.ha.hasOwnProperty(e)&&f.Xa[e]===r&&(d=f.ha[e],d=a.ra(d)))b=b===r?{}:b,b[e]=a.R(d,x),f.Xa[e]=u;return b},wa:function(){var a=\nf.Wa();a&&f.ic(a)},Xb:function(){\"MutationObserver\"in window?(new MutationObserver(f.wa)).observe(document.body,{childList:u,subtree:u}):window.setInterval(f.wa,15E3)},ic:function(a){if(b.d(a,\"Object\")){e.setProperty(\"pageview\",a);a=h.c.b.p;var d=h.c.b.ep;h.c.b.et=9;h.c.b.ep=\"\";h.c.b.p=l(e.z(\"pageview\"));h.c.i();h.c.b.p=a;h.c.b.ep=d;e.r(\"pageview\")}}};f.init();d.e(\"pv-b\",function(){var a=f.Wa();a&&e.setProperty(\"pageview\",a)});f.Xb();a.$a(f.wa)}})();\n(function(){var a=mt.lang,b=mt.f,g={aa:function(a,e){return function(l){var f=l.target||l.srcElement;if(f){var m=f.getAttribute(a.ia);l=l.clientX+\":\"+l.clientY;if(m&&m===l)f.removeAttribute(a.ia);else if(e&&0<e.length&&(f=b.Kb(f))&&f.length)if(m=f.length,l=f[f.length-1],1E4>m*l.split(\">\").length)for(l=0;l<m;l++)g.cb(a,f[l]);else g.cb(a,l)}}},cb:function(d,b){for(var g={},f=String(b).split(\">\").length,m=0;m<f;m++)g[b]=\"\",b=b.substring(0,b.lastIndexOf(\">\"));d&&(a.d(d,\"Object\")&&d.Ja)&&d.Ja(g)},ec:function(a,\nb){return function(g){(g.target||g.srcElement).setAttribute(a.ia,g.clientX+\":\"+g.clientY);a&&a.s&&(b?a.s(b):a.s(\"#\"+encodeURIComponent(this.id),g.type))}}};return h.qa=g})();\n(function(){var a=mt.f,b=mt.o,g=mt.event,d=mt.lang,e=h.C,l=h.qa,f=h.O,m=f.N,p={ia:\"HM_ce\",jb:function(){if(c.cetrk&&c.cetrk.length){g.e(document,\"click\",l.aa(p,c.cetrk));for(var d=0,e=c.cetrk.length;d<e;d++){var f;try{f=b.parse(decodeURIComponent(String(c.cetrk[d])))}catch(w){f={}}var k=f.p||\"\";-1===k.indexOf(\">\")&&(0===k.indexOf(\"#\")&&(k=k.substring(1)),(k=a.La(k))&&g.e(k,\"click\",l.ec(p,f)))}}},Ja:function(a){if(c.cetrk&&c.cetrk.length)for(var d=0,e=c.cetrk.length;d<e;d++){var f;try{f=b.parse(decodeURIComponent(String(c.cetrk[d])))}catch(k){f=\n{}}var n=p.Eb(f.p,a);n&&p.s(f,n)}},Eb:function(a,b){a=String(a);if(0<a.indexOf(\"*\")){var d=RegExp(\"^\"+a.replace(/\\[/g,\"\\\\[\").replace(/\\]/g,\"\\\\]\").replace(/\\*/,\"\\\\d+\")+\"$\"),e;for(e in b)if(b.hasOwnProperty(e)&&d.test(e))return e;return v}return b.hasOwnProperty(a)?a:v},s:function(b,e){h.c.b.et=7;var g=b&&b.k||\"\",g=d.h(g),w={};if(b&&b.a&&d.d(b.a,\"Object\")){var k=b.a,n;for(n in k)if(k.hasOwnProperty(n)){var y=p.Lb(k[n]||\"\",e),y=y?a.R(y,x):\"\";w[n]=y}}w=p.Bb(w,e||b&&b.p);w._iden=g;f.setProperty(\"customEvent\",\nw);h.c.b.ep=\"\";h.c.b.p=m(f.z(\"customEvent\"));h.c.i();h.c.b.p=\"\";f.r(\"customEvent\")},Bb:function(b,d){var f=a.ra(d),g=e.Fa;f&&(c.aet&&c.aet.length?(b.ei_=a.getAttribute(f,g.id)||a.getAttribute(f,\"id\")||\"\",b.ec_=a.getAttribute(f,g.$)||a.getAttribute(f,\"class\")||\"\",b.ex_=a.getAttribute(f,g.Z)||a.ua(f),b.en_=a.getAttribute(f,g.content)||a.R(f,u),b.et_=a.getAttribute(f,g.ga)||a.S(f),b.el_=a.getAttribute(f,g.link)||a.getAttribute(f,\"href\")||\"\"):(b.ex_=a.getAttribute(f,g.Z)||a.ua(f),b.en_=a.getAttribute(f,\ng.content)||a.R(f,u)));return b},Lb:function(b,d){b=String(b);d=String(d);if(0<b.indexOf(\"*\")){var e=/.*\\[(\\d+)\\]$/.exec(d);b=b.replace(\"*\",e?e[1]:\"1\")}return a.ra(b)}};h.w.e(\"pv-b\",p.jb);return p})();\n(function(){var a=mt.lang,b=mt.f,g=mt.event,d=mt.g,e=h.C,l=h.w,f=h.O,m=f.N,p=+new Date,s=[],t={aa:function(){return function(d){if(h.c&&h.c.U&&c.aet&&c.aet.length){var f=d.target||d.srcElement;if(f){var k=h.c.Ia,n=b.getAttribute(f,e.Ha)!=v?u:x;if(b.getAttribute(f,e.Ga)==v)if(n)t.la(t.sa(f,d));else{var y=b.S(f);if(a.F(k,\"*\")||a.F(k,y))t.la(t.sa(f,d));else for(;f.parentNode!=v;){var n=f.parentNode,y=b.S(n),z=\"a\"===y&&a.F(k,\"a\")?u:x,y=\"button\"===y&&a.F(k,\"button\")?u:x,A=b.getAttribute(n,e.Ha)!=v?u:x;\nif(b.getAttribute(n,e.Ga)==v&&(z||y||A)){t.la(t.sa(n,d));break}f=f.parentNode}}}}}},sa:function(f,g){var k={},n=e.Fa;k.id=b.getAttribute(f,n.id)||b.getAttribute(f,\"id\")||\"\";k.$=b.getAttribute(f,n.$)||b.getAttribute(f,\"class\")||\"\";k.Z=b.getAttribute(f,n.Z)||b.ua(f);k.content=b.getAttribute(f,n.content)||b.R(f,u);k.ga=b.getAttribute(f,n.ga)||b.S(f);k.link=b.getAttribute(f,n.link)||b.getAttribute(f,\"href\")||\"\";k.type=g.type||\"click\";n=a.Ra(f.offsetTop)?f.offsetTop:0;\"click\"===g.type?n=d.ya?g.clientY+\nMath.max(document.documentElement.scrollTop,document.body.scrollTop):g.pageY:\"touchend\"===g.type&&(g.Va&&g.Va.changedTouches)&&(n=g.Va.changedTouches[0].pageY);k.oc=n;n=this.Db(g);k.Ta=n.Ta||0;k.Ua=n.Ua||0;k.ib=n.ib||0;k.Oa=n.Oa||0;k.fb=n.fb||\"b\";return k},Db:function(f){var e=f.target||f.srcElement,g;if(d.ya){var n=Math.max(document.documentElement.scrollTop,document.body.scrollTop);g=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);g=f.clientX+g;f=f.clientY+n}else g=f.pageX,\nf=f.pageY;var y=n=0,z=0,A=0;if(e&&(n=e.offsetWidth||e.clientWidth,y=e.offsetHeight||e.clientHeight,A=b.Ib(e),z=A.left,A=A.top,a.d(e.getBBox,\"Function\")&&(y=e.getBBox(),n=y.width,y=y.height),\"html\"===(e.tagName||\"\").toLowerCase()))n=Math.max(n,e.clientWidth),y=Math.max(y,e.clientHeight);return{Ta:Math.round(100*((g-z)/n)),Ua:Math.round(100*((f-A)/y)),ib:n,Oa:y,fb:(\"a\"===(e.tagName||\"\").toLowerCase()?e:b.Ab(e))?\"a\":\"b\"}},la:function(b){var d=a.h;b=[+new Date-(h.c.W!==r?h.c.W:p),d(b.id),d(b.$),d(b.ga),\nd(b.Z),d(b.link),d(b.content),b.type,b.oc].join(\"*\");t.ma(b);a.d(this.Y(),\"Function\")&&this.Y()()},ma:function(a){a.length>e.na||(encodeURIComponent(s.join(\"!\")+a).length>e.na&&(t.s(s.join(\"!\")),s=[]),s.push(a))},s:function(a){h.c.b.et=5;h.c.b.ep=a;h.c.b.p=m(f.z(\"autoEventTracking\"));h.c.i();h.c.b.p=\"\"},Y:function(){return function(){s&&s.length&&(t.s(s.join(\"!\")),s=[])}}};a.G(c.aet)&&\"\"!==c.aet&&l.e(\"pv-b\",function(){g.e(document,\"click\",t.aa());\"ontouchend\"in document&&g.e(window,\"touchend\",t.aa());\ng.e(window,\"unload\",t.Y())});return t})();\n(function(){var a=mt.lang,b=mt.event,g=mt.g,d=h.C,e=h.w,l=+new Date,f=[],m=v,p={nb:function(){a.G(c.aet)&&\"\"!==c.aet&&setInterval(p.bb,d.gc)},bb:function(){var a=g.T()+g.L();0<a-h.c.b.vl&&(h.c.b.vl=a)}},s={wb:function(){return function(){h.c&&(h.c.U&&c.aet&&c.aet.length)&&(window.clearTimeout(m),m=window.setTimeout(function(){s.mb(g.T()+g.L())},150))}},mb:function(a){s.ma([+new Date-(h.c.W!==r?h.c.W:l),a].join(\"*\"))},ma:function(a){if(encodeURIComponent(f.join(\"!\")+a).length>d.na||3<f.length)s.s(f.join(\"!\")),\nf=[];f.push(a)},s:function(a){p.bb();h.c.b.et=6;h.c.b.vh=g.L();h.c.b.ep=a;h.c.i()},Y:function(){return function(){f&&f.length&&(s.s(f.join(\"!\")),f=[])}}};a.G(c.aet)&&\"\"!==c.aet&&e.e(\"pv-b\",function(){b.e(window,\"scroll\",s.wb());b.e(window,\"unload\",s.Y());p.nb()});return s})();\n(function(){function a(){return function(){h.c.b.nv=0;h.c.b.st=4;h.c.b.et=3;h.c.b.ep=h.pa.Jb()+\",\"+h.pa.Fb();h.c.i()}}function b(){clearTimeout(z);var a;n&&(a=\"visible\"==document[n]);y&&(a=!document[y]);m=\"undefined\"==typeof a?u:a;if((!f||!p)&&m&&s)k=u,q=+new Date;else if(f&&p&&(!m||!s))k=x,w+=+new Date-q;f=m;p=s;z=setTimeout(b,100)}function g(a){var n=document,b=\"\";if(a in n)b=a;else for(var d=[\"webkit\",\"ms\",\"moz\",\"o\"],f=0;f<d.length;f++){var e=d[f]+a.charAt(0).toUpperCase()+a.slice(1);if(e in n){b=\ne;break}}return b}function d(a){if(!(\"focus\"==a.type||\"blur\"==a.type)||!(a.target&&a.target!=window))s=\"focus\"==a.type||\"focusin\"==a.type?u:x,b()}var e=mt.event,l=h.w,f=u,m=u,p=u,s=u,t=+new Date,q=t,w=0,k=u,n=g(\"visibilityState\"),y=g(\"hidden\"),z;b();(function(){var a=n.replace(/[vV]isibilityState/,\"visibilitychange\");e.e(document,a,b);e.e(window,\"pageshow\",b);e.e(window,\"pagehide\",b);\"object\"==typeof document.onfocusin?(e.e(document,\"focusin\",d),e.e(document,\"focusout\",d)):(e.e(window,\"focus\",d),\ne.e(window,\"blur\",d))})();h.pa={Jb:function(){return+new Date-t},Fb:function(){return k?+new Date-q+w:w}};l.e(\"pv-b\",function(){e.e(window,\"unload\",a())});l.e(\"duration-send\",a());l.e(\"duration-done\",function(){q=t=+new Date;w=0});return h.pa})();\n(function(){var a=mt.lang,b=h.C,g=h.load,d={Wb:function(d){if((window._dxt===r||a.d(window._dxt,\"Array\"))&&\"undefined\"!==typeof h.c){var l=h.c.Q();g([b.protocol,\"//datax.baidu.com/x.js?si=\",c.id,\"&dm=\",encodeURIComponent(l)].join(\"\"),d)}},nc:function(b){if(a.d(b,\"String\")||a.d(b,\"Number\"))window._dxt=window._dxt||[],window._dxt.push([\"_setUserId\",b])}};return h.ub=d})();\n(function(){function a(a,b,d,f){if(!(a===r||b===r||f===r)){if(\"\"===a)return[b,d,f].join(\"*\");a=String(a).split(\"!\");for(var e,g=x,k=0;k<a.length;k++)if(e=a[k].split(\"*\"),String(b)===e[0]){e[1]=d;e[2]=f;a[k]=e.join(\"*\");g=u;break}g||a.push([b,d,f].join(\"*\"));return a.join(\"!\")}}function b(a){for(var f in a)if({}.hasOwnProperty.call(a,f)){var e=a[f];d.d(e,\"Object\")||d.d(e,\"Array\")?b(e):a[f]=String(e)}}var g=mt.url,d=mt.lang,e=mt.o,l=mt.g,f=h.C,m=h.w,p=h.ub,s=h.load,t=h.oa,q=h.O,w=q.N,k={X:[],fa:0,Sa:x,\nB:{Ea:\"\",page:\"\"},init:function(){k.j=0;q.init();m.e(\"pv-b\",function(){k.vb();k.xb()});m.e(\"pv-d\",function(){k.yb();k.B.page=\"\"});m.e(\"stag-b\",function(){h.c.b.api=k.j||k.fa?k.j+\"_\"+k.fa:\"\";h.c.b.ct=[decodeURIComponent(t.getData(\"Hm_ct_\"+c.id)||\"\"),k.B.Ea,k.B.page].join(\"!\")});m.e(\"stag-d\",function(){h.c.b.api=0;k.j=0;k.fa=0})},vb:function(){var a=window._hmt||[];if(!a||d.d(a,\"Array\"))window._hmt={id:c.id,cmd:{},push:function(){for(var a=window._hmt,b=0;b<arguments.length;b++){var n=arguments[b];\nd.d(n,\"Array\")&&(a.cmd[a.id].push(n),\"_setAccount\"===n[0]&&(1<n.length&&/^[0-9a-f]{32}$/.test(n[1]))&&(n=n[1],a.id=n,a.cmd[n]=a.cmd[n]||[]))}}},window._hmt.cmd[c.id]=[],window._hmt.push.apply(window._hmt,a)},xb:function(){var a=window._hmt;if(a&&a.cmd&&a.cmd[c.id])for(var b=a.cmd[c.id],d=/^_track(Event|MobConv|Order)$/,f=0,e=b.length;f<e;f++){var g=b[f];d.test(g[0])?k.X.push(g):k.Ca(g)}a.cmd[c.id]={push:k.Ca}},yb:function(){if(0<k.X.length)for(var a=0,b=k.X.length;a<b;a++)k.Ca(k.X[a]);k.X=v},Ca:function(a){var b=\na[0];if(k.hasOwnProperty(b)&&d.d(k[b],\"Function\"))k[b](a)},_setAccount:function(a){1<a.length&&/^[0-9a-f]{32}$/.test(a[1])&&(k.j|=1)},_setAutoPageview:function(a){if(1<a.length&&(a=a[1],x===a||u===a))k.j|=2,h.c.Pa=a},_trackPageview:function(a){if(1<a.length&&a[1].charAt&&\"/\"===a[1].charAt(0)){k.j|=4;h.c.b.sn=h.c.Ma();h.c.b.et=0;h.c.b.ep=\"\";h.c.b.vl=l.T()+l.L();h.c.b.kb=0;h.c.xa?(h.c.b.nv=0,h.c.b.st=4):h.c.xa=u;var b=h.c.b.u,d=h.c.b.su;h.c.b.u=f.protocol+\"//\"+document.location.host+a[1];k.Sa||(h.c.b.su=\ndocument.location.href);h.c.b.p=w(q.z(\"pageview\"));h.c.i();h.c.b.u=b;h.c.b.su=d;h.c.b.p=\"\";h.c.W=+new Date;q.r(\"pageview\")}},_trackEvent:function(a){2<a.length&&(k.j|=8,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=4,h.c.b.ep=d.h(a[1])+\"*\"+d.h(a[2])+(a[3]?\"*\"+d.h(a[3]):\"\")+(a[4]?\"*\"+d.h(a[4]):\"\"),h.c.b.p=w(q.va()),h.c.i(),h.c.b.p=\"\")},_setCustomVar:function(a){if(!(4>a.length)){var b=a[1],f=a[4]||3;if(0<b&&6>b&&0<f&&4>f){k.fa++;for(var e=(h.c.b.cv||\"*\").split(\"!\"),g=e.length;g<b-1;g++)e.push(\"*\");e[b-1]=f+\"*\"+d.h(a[2])+\n\"*\"+d.h(a[3]);h.c.b.cv=e.join(\"!\");a=h.c.b.cv.replace(/[^1](\\*[^!]*){2}/g,\"*\").replace(/((^|!)\\*)+$/g,\"\");\"\"!==a?t.setData(\"Hm_cv_\"+c.id,encodeURIComponent(a),c.age):t.removeData(\"Hm_cv_\"+c.id)}}},_setUserTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=decodeURIComponent(t.getData(\"Hm_ct_\"+c.id)||\"\"),e=a(e,f,1,b);t.setData(\"Hm_ct_\"+c.id,encodeURIComponent(e),c.age)}}},_setVisitTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=\nk.B.Ea,e=a(e,f,2,b);k.B.Ea=e}}},_setPageTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=k.B.page,e=a(e,f,3,b);k.B.page=e}}},_setReferrerOverride:function(a){1<a.length&&(h.c.b.su=a[1].charAt&&\"/\"===a[1].charAt(0)?f.protocol+\"//\"+window.location.host+a[1]:a[1],k.Sa=u)},_trackOrder:function(a){a=a[1];d.d(a,\"Object\")&&(b(a),k.j|=16,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=94,h.c.b.ep=e.stringify(a),h.c.b.p=w(q.va()),h.c.i(),h.c.b.p=\"\")},_trackMobConv:function(a){if(a={webim:1,\ntel:2,map:3,sms:4,callback:5,share:6}[a[1]])k.j|=32,h.c.b.et=93,h.c.b.ep=a,h.c.i()},_setDataxId:function(a){a=a[1];p.Wb();p.nc(a)},_setUserId:function(a){a=a[1];if(a!==r&&(d.G(a)||d.Ra(a))){var b=q.z(\"user\").uid_;if(!(b&&b.value===d.h(String(a)))){var b=h.c.b.p,f=h.c.b.ep;h.c.b.et=8;h.c.b.ep=\"\";h.c.b.p=\"uid_*\"+d.h(String(a));h.c.i();var e={};e.uid_=a;q.setProperty(\"user\",e,u);h.c.b.p=b;h.c.b.ep=f}}},_clearUserId:function(a){1<a.length&&u===a[1]&&q.r(\"userId\")},_setUserProperty:function(a){a=a[1];\nd.d(a,\"Object\")&&q.setProperty(\"user\",a)},_clearUserProperty:function(a){1<a.length&&u===a[1]&&q.r(\"user\")},_setSessionProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"session\",a)},_clearSessionProperty:function(a){1<a.length&&u===a[1]&&q.r(\"session\")},_setPageviewProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"pageview\",a)},_clearPageviewProperty:function(a){1<a.length&&u===a[1]&&q.r(\"pageview\")},_setAutoEventTrackingProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"autoEventTracking\",\na)},_clearAutoEventTrackingProperty:function(a){1<a.length&&u===a[1]&&q.r(\"autoEventTracking\")},_setAutoTracking:function(a){if(1<a.length&&(a=a[1],x===a||u===a))h.c.Qa=a},_setAutoEventTracking:function(a){if(1<a.length&&(a=a[1],x===a||u===a))h.c.U=a},_trackPageDuration:function(a){1<a.length?(a=a[1],2===String(a).split(\",\").length&&(h.c.b.et=3,h.c.b.ep=a,h.c.i())):m.J(\"duration-send\");m.J(\"duration-done\")},_require:function(a){1<a.length&&(a=a[1],f.pb.test(g.K(a))&&s(a))},_providePlugin:function(a){if(1<\na.length){var b=window._hmt,e=a[1];a=a[2];if(d.F(f.Ya,e)&&d.d(a,\"Function\")&&(b.plugins=b.plugins||{},b.H=b.H||{},b.plugins[e]=a,b.A=b.A||[],a=b.A.slice(),e&&a.length&&a[0][1]===e))for(var g=0,k=a.length;g<k;g++){var l=a[g][2]||{};if(b.plugins[e]&&!b.H[e])b.H[e]=new b.plugins[e](l),b.A.shift();else break}}},_requirePlugin:function(a){if(1<a.length){var b=window._hmt,e=a[1],g=a[2]||{};if(d.F(f.Ya,e))if(b.plugins=b.plugins||{},b.H=b.H||{},b.plugins[e]&&!b.H[e])b.H[e]=new b.plugins[e](g);else{b.A=b.A||\n[];for(var g=0,l=b.A.length;g<l;g++)if(b.A[g][1]===e)return;b.A.push(a);k._require([v,f.dc+e+\".js\"])}}},_trackCustomEvent:function(a){if(1<a.length){var b=a[1];a=a[2];d.d(a,\"Object\")||(a={});a._iden=b;q.setProperty(\"customEvent\",a);h.c.b.et=7;h.c.b.ep=\"\";h.c.b.p=w(q.z(\"customEvent\"));h.c.i();h.c.b.p=\"\";q.r(\"customEvent\")}}};k.init();h.qb=k;return h.qb})();\n(function(){var a=h.w;c.spa!==r&&\"1\"===String(c.spa)&&(window._hmt=window._hmt||[],window._hmt.push([\"_requirePlugin\",\"UrlChangeTracker\"]),a.e(\"pv-b\",function(){\"\"!==window.location.hash&&(h.c.b.u=window.location.href)}))})();\n(function(){function a(){\"undefined\"===typeof window[\"_bdhm_loaded_\"+c.id]&&(window[\"_bdhm_loaded_\"+c.id]=u,this.b={},this.Qa=this.Pa=u,this.U=k.U,this.Ia=e.G(c.aet)&&0<c.aet.length?c.aet.split(\",\"):\"\",this.xa=x,this.init())}var b=mt.url,g=mt.eb,d=mt.Da,e=mt.lang,l=mt.cookie,f=mt.g,m=mt.sessionStorage,p=mt.o,s=mt.event,t=h.oa,q=h.O,w=q.N,k=h.C,n=h.load,y=h.w;a.prototype={V:function(a,b){a=\".\"+a.replace(/:\\d+/,\"\");b=\".\"+b.replace(/:\\d+/,\"\");var d=a.indexOf(b);return-1<d&&d+b.length===a.length},ea:function(a,\nb){a=a.replace(/^https?:\\/\\//,\"\");return 0===a.indexOf(b)},ca:function(a){for(var d=0;d<c.dm.length;d++)if(-1<c.dm[d].indexOf(\"/\")){if(this.ea(a,c.dm[d]))return u}else{var e=b.K(a);if(e&&this.V(e,c.dm[d]))return u}return x},Q:function(){for(var a=document.location.hostname,b=0,d=c.dm.length;b<d;b++)if(this.V(a,c.dm[b]))return c.dm[b].replace(/(:\\d+)?[/?#].*/,\"\");return a},ba:function(){for(var a=0,b=c.dm.length;a<b;a++){var d=c.dm[a];if(-1<d.indexOf(\"/\")&&this.ea(document.location.href,d))return d.replace(/^[^/]+(\\/.*)/,\n\"$1\")+\"/\"}return\"/\"},Mb:function(){if(!document.referrer)return k.I-k.M>c.vdur?1:4;var a=x;this.ca(document.referrer)&&this.ca(document.location.href)?a=u:(a=b.K(document.referrer),a=this.V(a||\"\",document.location.hostname));return a?k.I-k.M>c.vdur?1:4:3},lc:function(){var a,b,d,e,f,g;k.M=t.getData(\"Hm_lpvt_\"+c.id)||0;13===k.M.length&&(k.M=Math.round(k.M/1E3));b=this.Mb();a=4!==b?1:0;if(g=t.getData(\"Hm_lvt_\"+c.id)){e=g.split(\",\");for(f=e.length-1;0<=f;f--)13===e[f].length&&(e[f]=\"\"+Math.round(e[f]/\n1E3));for(;2592E3<k.I-e[0];)e.shift();f=4>e.length?2:3;for(1===a&&e.push(k.I);4<e.length;)e.shift();g=e.join(\",\");e=e[e.length-1]}else g=k.I,e=\"\",f=1;this.Zb()?(t.setData(\"Hm_lvt_\"+c.id,g,c.age),t.setData(\"Hm_lpvt_\"+c.id,k.I),d=l.bc(this.Q(),this.ba())):this.zb();if(0===c.nv&&this.ca(document.location.href)&&(\"\"===document.referrer||this.ca(document.referrer)))a=0,b=4;this.b.nv=a;this.b.st=b;this.b.cc=d;this.b.lt=e;this.b.lv=f},Zb:function(){var a=b.K(document.location.href);return!e.F(\"sjh.baidu.com isite.baidu.com ls.wejianzhan.com bs.wejianzhan.com product.weijianzhan.com qianhu.weijianzhan.com aisite.wejianzhan.com\".split(\" \"),\na)},zb:function(){for(var a=document.cookie.split(\";\"),b=0;b<a.length;b++){var d=a[b].split(\"=\");d.length&&/Hm_(up|ct|cv|lp?vt)_[0-9a-f]{31}/.test(String(d[0]))&&t.removeData(d[0]);d.length&&/Hm_ck_[0-9]{13}/.test(String(d[0]))&&t.removeData(d[0])}},kc:function(){for(var a=[],b=this.b.et,d=0,e=k.gb.length;d<e;d++){var f=k.gb[d],g=this.b[f];\"undefined\"!==typeof g&&\"\"!==g&&(\"tt\"!==f||\"tt\"===f&&0===b)&&(\"ct\"!==f||\"ct\"===f&&0===b)&&a.push(f+\"=\"+encodeURIComponent(g))}return a.join(\"&\")},mc:function(){this.lc();\nthis.b.si=c.id;this.b.sn=this.Ma();this.b.su=document.referrer;this.b.ds=f.fc;this.b.cl=f.colorDepth+\"-bit\";this.b.ln=String(f.language).toLowerCase();this.b.ja=f.javaEnabled?1:0;this.b.ck=f.cookieEnabled?1:0;this.b.lo=\"number\"===typeof _bdhm_top?1:0;this.b.fl=d.Ob();this.b.v=\"1.2.72\";this.b.cv=decodeURIComponent(t.getData(\"Hm_cv_\"+c.id)||\"\");this.b.tt=document.title||\"\";this.b.vl=f.T()+f.L();var a=document.location.href;this.b.cm=b.m(a,k.Tb)||\"\";this.b.cp=b.m(a,k.Ub)||b.m(a,k.rc)||\"\";this.b.cw=b.m(a,\nk.Sb)||b.m(a,k.tc)||\"\";this.b.ci=b.m(a,k.Qb)||b.m(a,k.qc)||\"\";this.b.cf=b.m(a,k.Vb)||b.m(a,k.sc)||\"\";this.b.cu=b.m(a,k.Rb)||b.m(a,k.pc)||\"\";f.$b()&&(this.b.u=window.location.href)},init:function(){try{this.mc(),0===this.b.nv?this.jc():this.Ka(),h.c=this,this.tb(),this.rb(),y.J(\"pv-b\"),this.hc()}catch(a){var b=[];b.push(\"si=\"+c.id);b.push(\"n=\"+encodeURIComponent(a.name));b.push(\"m=\"+encodeURIComponent(a.message));b.push(\"r=\"+encodeURIComponent(document.referrer));g.log(k.za+\"//\"+k.Za+\"?\"+b.join(\"&\"))}},\nhc:function(){function a(){y.J(\"pv-d\")}this.Pa?(this.xa=u,this.b.et=0,this.b.ep=\"\",this.b.p=w(q.z(\"pageview\")),this.b.vl=f.T()+f.L(),this.i(a),this.b.p=\"\"):a();this.W=+new Date;q.r(\"pageview\")},i:function(a){if(this.Qa){var b=this;b.b.rnd=Math.round(Math.random()*k.Aa);y.J(\"stag-b\");var d=k.za+\"//\"+k.Za+\"?\"+b.kc();y.J(\"stag-d\");b.ob(d);g.log(d,function(d){b.ab(d);e.d(a,\"Function\")&&a.call(b)})}},tb:function(){var a=document.location.hash.substring(1),d=RegExp(c.id),e=b.K(document.referrer)===k.hb?\n1:0,f=b.m(a,\"jn\"),g=/^heatlink$|^select$|^pageclick$/.test(f);a&&(d.test(a)&&e&&g)&&(this.b.rnd=Math.round(Math.random()*k.Aa),a=document.createElement(\"script\"),a.setAttribute(\"type\",\"text/javascript\"),a.setAttribute(\"charset\",\"utf-8\"),a.setAttribute(\"src\",k.protocol+\"//\"+c.js+f+\".js?\"+this.b.rnd),f=document.getElementsByTagName(\"script\")[0],f.parentNode.insertBefore(a,f))},rb:function(){if(window.postMessage&&window.self!==window.parent){var a=this;s.e(window,\"message\",function(d){if(b.K(d.origin)===\nk.hb){d=d.data||{};var e=d.jn||\"\",f=/^customevent$|^heatmap$/.test(e);if(RegExp(c.id).test(d.sd||\"\")&&f)a.b.rnd=Math.round(Math.random()*k.Aa),n(k.protocol+\"//\"+c.js+e+\".js?\"+a.b.rnd)}});window.parent.postMessage({id:c.id,url:document.location.href,status:\"__Messenger__hmLoaded\"},\"*\")}},ob:function(a){var b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}var e=this.b.u?\"\":\"&u=\"+encodeURIComponent(document.location.href);b.push(a.replace(/^https?:\\/\\//,\"\")+e);m.set(\"Hm_unsent_\"+c.id,p.stringify(b))},\nab:function(a){var b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}if(b.length){a=a.replace(/^https?:\\/\\//,\"\");for(var e=0;e<b.length;e++)if(a.replace(/&u=[^&]*/,\"\")===b[e].replace(/&u=[^&]*/,\"\")){b.splice(e,1);break}b.length?m.set(\"Hm_unsent_\"+c.id,p.stringify(b)):this.Ka()}},Ka:function(){m.remove(\"Hm_unsent_\"+c.id)},jc:function(){var a=this,b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}if(b.length)for(var e=function(b){g.log(k.za+\"//\"+b,function(b){a.ab(b)})},f=0;f<\nb.length;f++)e(b[f])},Ma:function(){return Math.round(+new Date/1E3)%65535}};return new a})();var B=h.C,C=h.load;c.pt&&C([B.protocol,\"//ada.baidu.com/phone-tracker/insert_bdtj?sid=\",c.pt].join(\"\"));\n(function(){var a=mt.g,b=mt.lang,g=mt.event,d=mt.o;if(\"undefined\"!==typeof h.c&&(c.med||(!a.ya||7<a.Hb())&&c.cvcc)){var e,l,f,m,p=function(a){if(a.item){for(var b=a.length,d=Array(b);b--;)d[b]=a[b];return d}return[].slice.call(a)},s=function(a,b){for(var d in a)if(a.hasOwnProperty(d)&&b.call(a,d,a[d])===x)return x},t=function(a,g){var k={};k.n=e;k.t=\"clk\";k.v=a;if(g){var l=g.getAttribute(\"href\"),m=g.getAttribute(\"onclick\")?\"\"+g.getAttribute(\"onclick\"):v,p=g.getAttribute(\"id\")||\"\";f.test(l)?(k.sn=\n\"mediate\",k.snv=l):b.d(m,\"String\")&&f.test(m)&&(k.sn=\"wrap\",k.snv=m);k.id=p}h.c.b.et=86;h.c.b.ep=d.stringify(k);h.c.i();for(k=+new Date;400>=+new Date-k;);};if(c.med)l=\"/zoosnet\",e=\"swt\",f=/swt|zixun|call|chat|zoos|business|talk|kefu|openkf|online|\\/LR\\/Chatpre\\.aspx/i,m={click:function(){for(var a=[],b=p(document.getElementsByTagName(\"a\")),b=[].concat.apply(b,p(document.getElementsByTagName(\"area\"))),b=[].concat.apply(b,p(document.getElementsByTagName(\"img\"))),d,e,g=0,k=b.length;g<k;g++)d=b[g],e=\nd.getAttribute(\"onclick\"),d=d.getAttribute(\"href\"),(f.test(e)||f.test(d))&&a.push(b[g]);return a}};else if(c.cvcc){l=\"/other-comm\";e=\"other\";f=c.cvcc.q||r;var q=c.cvcc.id||r;m={click:function(){for(var a=[],b=p(document.getElementsByTagName(\"a\")),b=[].concat.apply(b,p(document.getElementsByTagName(\"area\"))),b=[].concat.apply(b,p(document.getElementsByTagName(\"img\"))),d,e,g,k=0,l=b.length;k<l;k++)d=b[k],f!==r?(e=d.getAttribute(\"onclick\"),g=d.getAttribute(\"href\"),q?(d=d.getAttribute(\"id\"),(f.test(e)||\nf.test(g)||q.test(d))&&a.push(b[k])):(f.test(e)||f.test(g))&&a.push(b[k])):q!==r&&(d=d.getAttribute(\"id\"),q.test(d)&&a.push(b[k]));return a}}}if(\"undefined\"!==typeof m&&\"undefined\"!==typeof f){var w;l+=/\\/$/.test(l)?\"\":\"/\";var k=function(a,d){if(w===d)return t(l+a,d),x;if(b.d(d,\"Array\")||b.d(d,\"NodeList\"))for(var e=0,f=d.length;e<f;e++)if(w===d[e])return t(l+a+\"/\"+(e+1),d[e]),x};g.e(document,\"mousedown\",function(a){a=a||window.event;w=a.target||a.srcElement;var d={};for(s(m,function(a,e){d[a]=b.d(e,\n\"Function\")?e():document.getElementById(e)});w&&w!==document&&s(d,k)!==x;)w=w.parentNode})}}})();(function(){var a=mt.f,b=mt.lang,g=mt.event,d=mt.o;if(\"undefined\"!==typeof h.c&&b.d(c.cvcf,\"Array\")&&0<c.cvcf.length){var e={lb:function(){for(var b=c.cvcf.length,d,m=0;m<b;m++)(d=a.La(decodeURIComponent(c.cvcf[m])))&&g.e(d,\"click\",e.qa())},qa:function(){return function(){h.c.b.et=86;var a={n:\"form\",t:\"clk\"};a.id=this.id;h.c.b.ep=d.stringify(a);h.c.i()}}};a.$a(function(){e.lb()})}})();\n(function(){var a=mt.event,b=mt.o;if(c.med&&\"undefined\"!==typeof h.c){var g={n:\"anti\",sb:0,kb:0,clk:0},d=function(){h.c.b.et=86;h.c.b.ep=b.stringify(g);h.c.i()};a.e(document,\"click\",function(){g.clk++});a.e(document,\"keyup\",function(){g.kb=1});a.e(window,\"scroll\",function(){g.sb++});a.e(window,\"load\",function(){setTimeout(d,5E3)})}})();})();\n","source":"images/tags _ Night's blog_files/hm.js","raw":"(function(){var h={},mt={},c={id:\"78b7e9790ada71496450ca708cc57e36\",dm:[\"nightxlt.github.io\"],js:\"tongji.baidu.com/hm-web/js/\",etrk:[],cetrk:[],cptrk:[],icon:'',ctrk:false,align:-1,nv:-1,vdur:1800000,age:31536000000,rec:0,rp:[],trust:0,vcard:0,qiao:0,lxb:0,kbtrk:0,pt:0,spa:0,aet:'',hca:'563FF5AC361DE237',conv:0,med:0,cvcc:'',cvcf:[],apps:''};var r=void 0,u=!0,v=null,x=!1;mt.cookie={};mt.cookie.set=function(a,b,g){var d;g.P&&(d=new Date,d.setTime(d.getTime()+g.P));document.cookie=a+\"=\"+b+(g.domain?\"; domain=\"+g.domain:\"\")+(g.path?\"; path=\"+g.path:\"\")+(d?\"; expires=\"+d.toGMTString():\"\")+(g.Dc?\"; secure\":\"\")};mt.cookie.get=function(a){return(a=RegExp(\"(^| )\"+a+\"=([^;]*)(;|$)\").exec(document.cookie))?a[2]:v};\nmt.cookie.bc=function(a,b){try{var g=\"Hm_ck_\"+ +new Date;mt.cookie.set(g,\"is-cookie-enabled\",{domain:a,path:b,P:r});var d=\"is-cookie-enabled\"===mt.cookie.get(g)?\"1\":\"0\";mt.cookie.set(g,\"\",{domain:a,path:b,P:-1});return d}catch(e){return\"0\"}};mt.lang={};mt.lang.d=function(a,b){return\"[object \"+b+\"]\"==={}.toString.call(a)};mt.lang.Ra=function(a){return mt.lang.d(a,\"Number\")&&isFinite(a)};mt.lang.G=function(a){return mt.lang.d(a,\"String\")};mt.lang.isArray=function(a){return mt.lang.d(a,\"Array\")};\nmt.lang.h=function(a){return a.replace?a.replace(/'/g,\"'0\").replace(/\\*/g,\"'1\").replace(/!/g,\"'2\"):a};mt.lang.trim=function(a){return a.replace(/^\\s+|\\s+$/g,\"\")};mt.lang.F=function(a,b){var g=x;if(a==v||!mt.lang.d(a,\"Array\")||b===r)return g;if(Array.prototype.indexOf)g=-1!==a.indexOf(b);else for(var d=0;d<a.length;d++)if(a[d]===b){g=u;break}return g};mt.url={};mt.url.m=function(a,b){var g=a.match(RegExp(\"(^|&|\\\\?|#)(\"+b+\")=([^&#]*)(&|$|#)\",\"\"));return g?g[3]:v};\nmt.url.zc=function(a){return(a=a.match(/^(https?:)\\/\\//))?a[1]:v};mt.url.Gb=function(a){return(a=a.match(/^(https?:\\/\\/)?([^\\/\\?#]*)/))?a[2].replace(/.*@/,\"\"):v};mt.url.K=function(a){return(a=mt.url.Gb(a))?a.replace(/:\\d+$/,\"\"):a};mt.url.ta=function(a){return(a=a.match(/^(https?:\\/\\/)?[^\\/]*(.*)/))?a[2].replace(/[\\?#].*/,\"\").replace(/^$/,\"/\"):v};\n(function(){var a=mt.lang,b=mt.url;mt.f={};mt.f.La=function(a){return document.getElementById(a)};mt.f.ra=function(a){if(!a)return v;try{a=String(a);if(0===a.indexOf(\"!HMCQ!\"))return a;if(0===a.indexOf(\"!HMCC!\"))return document.querySelector(a.substring(6,a.length));for(var d=a.split(\">\"),e=document.body,b=d.length-1;0<=b;b--)if(-1<d[b].indexOf(\"#\")){var f=d[b].split(\"#\")[1];(e=document.getElementById(f))||(e=document.getElementById(decodeURIComponent(f)));d=d.splice(b+1,d.length-(b+1));break}for(a=\n0;e&&a<d.length;){var m=String(d[a]).toLowerCase();if(!(\"html\"===m||\"body\"===m)){var b=0,p=d[a].match(/\\[(\\d+)\\]/i),f=[];if(p)b=p[1]-1,m=m.split(\"[\")[0];else if(1!==e.childNodes.length){for(var s=0,t=0,q=e.childNodes.length;t<q;t++){var w=e.childNodes[t];1===w.nodeType&&w.nodeName.toLowerCase()===m&&s++;if(1<s)return v}if(1!==s)return v}for(s=0;s<e.childNodes.length;s++)1===e.childNodes[s].nodeType&&e.childNodes[s].nodeName.toLowerCase()===m&&f.push(e.childNodes[s]);if(!f[b])return v;e=f[b]}a++}return e}catch(k){return v}};\nmt.f.ta=function(a,d){var b=[],l=[];if(!a)return l;for(;a.parentNode!=v;){for(var f=0,m=0,p=a.parentNode.childNodes.length,s=0;s<p;s++){var t=a.parentNode.childNodes[s];if(t.nodeName===a.nodeName&&(f++,t===a&&(m=f),0<m&&1<f))break}if((p=\"\"!==a.id)&&d){b.unshift(\"#\"+encodeURIComponent(a.id));break}else p&&(p=\"#\"+encodeURIComponent(a.id),p=0<b.length?p+\">\"+b.join(\">\"):p,l.push(p)),b.unshift(encodeURIComponent(String(a.nodeName).toLowerCase())+(1<f?\"[\"+m+\"]\":\"\"));a=a.parentNode}l.push(b.join(\">\"));return l};\nmt.f.ua=function(a){return(a=mt.f.ta(a,u))&&a.length?String(a[0]):\"\"};mt.f.Kb=function(a){return mt.f.ta(a,x)};mt.f.Ab=function(a){var d;for(d=\"A\";(a=a.parentNode)&&1==a.nodeType;)if(a.tagName==d)return a;return v};mt.f.Cb=function(a){return 9===a.nodeType?a:a.ownerDocument||a.document};mt.f.Ib=function(a){var d={top:0,left:0};if(!a)return d;var b=mt.f.Cb(a).documentElement;\"undefined\"!==typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect());return{top:d.top+(window.pageYOffset||b.scrollTop)-\n(b.clientTop||0),left:d.left+(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}};mt.f.getAttribute=function(a,d){var b=a.getAttribute&&a.getAttribute(d)||v;if(!b&&a.attributes&&a.attributes.length)for(var l=a.attributes,f=l.length,m=0;m<f;m++)l[m].nodeName===d&&(b=l[m].nodeValue);return b};mt.f.S=function(a){var d=\"document\";a.tagName!==r&&(d=a.tagName);return d.toLowerCase()};mt.f.Nb=function(b){var d=\"\";b.textContent?d=a.trim(b.textContent):b.innerText&&(d=a.trim(b.innerText));d&&(d=d.replace(/\\s+/g,\n\" \").substring(0,255));return d};mt.f.R=function(g,d){var e;a.G(g)&&0===String(g).indexOf(\"!HMCQ!\")?(e=String(g),e=b.m(document.location.href,e.substring(6,e.length))):a.G(g)||(e=mt.f.S(g),\"input\"===e&&d&&(\"button\"===g.type||\"submit\"===g.type)?e=a.trim(g.value)||\"\":\"input\"===e&&!d&&\"password\"!==g.type?e=a.trim(g.value)||\"\":\"img\"===e?(e=mt.f.getAttribute,e=e(g,\"alt\")||e(g,\"title\")||e(g,\"src\")):e=\"body\"===e||\"html\"===e?[\"(hm-default-content-for-\",e,\")\"].join(\"\"):mt.f.Nb(g));return String(e||\"\").substring(0,\n255)};(function(){(mt.f.$a=function(){function a(){if(!a.da){a.da=u;for(var d=0,b=l.length;d<b;d++)l[d]()}}function d(){try{document.documentElement.doScroll(\"left\")}catch(b){setTimeout(d,1);return}a()}var b=x,l=[],f;document.addEventListener?f=function(){document.removeEventListener(\"DOMContentLoaded\",f,x);a()}:document.attachEvent&&(f=function(){\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",f),a())});(function(){if(!b)if(b=u,\"complete\"===document.readyState)a.da=u;\nelse if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",f,x),window.addEventListener(\"load\",a,x);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",f);window.attachEvent(\"onload\",a);var l=x;try{l=window.frameElement==v}catch(p){}document.documentElement.doScroll&&l&&d()}})();return function(d){a.da?d():l.push(d)}}()).da=x})();return mt.f})();mt.event={};\nmt.event.e=function(a,b,g){a.attachEvent?a.attachEvent(\"on\"+b,function(d){g.call(a,d)}):a.addEventListener&&a.addEventListener(b,g,x)};mt.event.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=x};\n(function(){var a=mt.event;mt.g={};mt.g.ya=/msie (\\d+\\.\\d+)/i.test(navigator.userAgent);mt.g.Hb=function(){if(document.documentMode)return document.documentMode;var a=/msie (\\d+\\.\\d+)/i.exec(navigator.userAgent);return a?+a[1]||0:0};mt.g.$b=function(){try{return!!navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)&&\"undefined\"!==typeof document.body.style.webkitFilter&&!window.chrome}catch(a){return x}};mt.g.cookieEnabled=navigator.cookieEnabled;mt.g.javaEnabled=navigator.javaEnabled();\nmt.g.language=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||\"\";mt.g.fc=(window.screen.width||0)+\"x\"+(window.screen.height||0);mt.g.colorDepth=window.screen.colorDepth||0;mt.g.T=function(){var a;a=a||document;return parseInt(window.pageYOffset||a.documentElement.scrollTop||a.body&&a.body.scrollTop||0,10)};mt.g.L=function(){var a=document;return parseInt(window.innerHeight||a.documentElement.clientHeight||a.body&&a.body.clientHeight||0,10)};mt.g.uc=\n0;mt.g.Pb=function(){var a=document;return parseInt(window.innerWidth||a.documentElement.clientWidth||a.body.offsetWidth||0,10)};mt.g.orientation=0;(function(){function b(){var a=0;window.orientation!==r&&(a=window.orientation);screen&&(screen.orientation&&screen.orientation.angle!==r)&&(a=screen.orientation.angle);mt.g.orientation=a;mt.g.uc=mt.g.Pb()}b();a.e(window,\"orientationchange\",b)})();return mt.g})();mt.o={};mt.o.parse=function(a){return(new Function(\"return (\"+a+\")\"))()};\nmt.o.stringify=function(){function a(a){/[\"\\\\\\x00-\\x1f]/.test(a)&&(a=a.replace(/[\"\\\\\\x00-\\x1f]/g,function(a){var d=g[a];if(d)return d;d=a.charCodeAt();return\"\\\\u00\"+Math.floor(d/16).toString(16)+(d%16).toString(16)}));return'\"'+a+'\"'}function b(a){return 10>a?\"0\"+a:a}var g={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};return function(d){switch(typeof d){case \"undefined\":return\"undefined\";case \"number\":return isFinite(d)?String(d):\"null\";case \"string\":return a(d);case \"boolean\":return String(d);\ndefault:if(d===v)return\"null\";if(d instanceof Array){var e=[\"[\"],g=d.length,f,m,p;for(m=0;m<g;m++)switch(p=d[m],typeof p){case \"undefined\":case \"function\":case \"unknown\":break;default:f&&e.push(\",\"),e.push(mt.o.stringify(p)),f=1}e.push(\"]\");return e.join(\"\")}if(d instanceof Date)return'\"'+d.getFullYear()+\"-\"+b(d.getMonth()+1)+\"-\"+b(d.getDate())+\"T\"+b(d.getHours())+\":\"+b(d.getMinutes())+\":\"+b(d.getSeconds())+'\"';f=[\"{\"];m=mt.o.stringify;for(g in d)if(Object.prototype.hasOwnProperty.call(d,g))switch(p=\nd[g],typeof p){case \"undefined\":case \"unknown\":case \"function\":break;default:e&&f.push(\",\"),e=1,f.push(m(g)+\":\"+m(p))}f.push(\"}\");return f.join(\"\")}}}();mt.localStorage={};mt.localStorage.ka=function(){if(!mt.localStorage.l)try{mt.localStorage.l=document.createElement(\"input\"),mt.localStorage.l.type=\"hidden\",mt.localStorage.l.style.display=\"none\",mt.localStorage.l.addBehavior(\"#default#userData\"),document.getElementsByTagName(\"head\")[0].appendChild(mt.localStorage.l)}catch(a){return x}return u};\nmt.localStorage.set=function(a,b,g){var d=new Date;d.setTime(d.getTime()+g||31536E6);try{window.localStorage?(b=d.getTime()+\"|\"+b,window.localStorage.setItem(a,b)):mt.localStorage.ka()&&(mt.localStorage.l.expires=d.toUTCString(),mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.setAttribute(a,b),mt.localStorage.l.save(document.location.hostname))}catch(e){}};\nmt.localStorage.get=function(a){if(window.localStorage){if(a=window.localStorage.getItem(a)){var b=a.indexOf(\"|\"),g=a.substring(0,b)-0;if(g&&g>(new Date).getTime())return a.substring(b+1)}}else if(mt.localStorage.ka())try{return mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.getAttribute(a)}catch(d){}return v};\nmt.localStorage.remove=function(a){if(window.localStorage)window.localStorage.removeItem(a);else if(mt.localStorage.ka())try{mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.removeAttribute(a),mt.localStorage.l.save(document.location.hostname)}catch(b){}};mt.sessionStorage={};mt.sessionStorage.set=function(a,b){try{window.sessionStorage&&window.sessionStorage.setItem(a,b)}catch(g){}};\nmt.sessionStorage.get=function(a){try{return window.sessionStorage?window.sessionStorage.getItem(a):v}catch(b){return v}};mt.sessionStorage.remove=function(a){try{window.sessionStorage&&window.sessionStorage.removeItem(a)}catch(b){}};mt.eb={};mt.eb.log=function(a,b){var g=new Image,d=\"mini_tangram_log_\"+Math.floor(2147483648*Math.random()).toString(36);window[d]=g;g.onload=function(){g.onload=v;g=window[d]=v;b&&b(a)};g.src=a};mt.Da={};\nmt.Da.Ob=function(){var a=\"\";if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins[\"Shockwave Flash\"];b&&b.description&&(a=b.description.replace(/^.*\\s+(\\S+)\\s+\\S+$/,\"$1\"))}else if(window.ActiveXObject)try{if(b=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"))(a=b.GetVariable(\"$version\"))&&(a=a.replace(/^.*\\s+(\\d+),(\\d+).*$/,\"$1.$2\"))}catch(g){}return a};\nmt.Da.yc=function(a,b,g,d,e){return'<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" id=\"'+a+'\" width=\"'+g+'\" height=\"'+d+'\"><param name=\"movie\" value=\"'+b+'\" /><param name=\"flashvars\" value=\"'+(e||\"\")+'\" /><param name=\"allowscriptaccess\" value=\"always\" /><embed type=\"application/x-shockwave-flash\" name=\"'+a+'\" width=\"'+g+'\" height=\"'+d+'\" src=\"'+b+'\" flashvars=\"'+(e||\"\")+'\" allowscriptaccess=\"always\" /></object>'};\nh.C={Ac:\"http://tongji.baidu.com/hm-web/welcome/ico\",Za:\"hm.baidu.com/hm.gif\",pb:/^(tongji|hmcdn).baidu.com$/,hb:\"tongji.baidu.com\",Tb:\"hmmd\",Ub:\"hmpl\",rc:\"utm_medium\",Sb:\"hmkw\",tc:\"utm_term\",Qb:\"hmci\",qc:\"utm_content\",Vb:\"hmsr\",sc:\"utm_source\",Rb:\"hmcu\",pc:\"utm_campaign\",M:0,I:Math.round(+new Date/1E3),protocol:\"https:\"===document.location.protocol?\"https:\":\"http:\",za:\"https:\",Bc:0,wc:6E5,Cc:6E5,gc:5E3,xc:5,na:1024,vc:1,Aa:2147483647,gb:\"hca kb cc cf ci ck cl cm cp cu cw ds vl ep et fl ja ln lo lt rnd si su v cv lv api sn p ct u tt\".split(\" \"),\nU:u,Ia:[\"a\",\"input\",\"button\"],Fa:{id:\"data-hm-id\",$:\"data-hm-class\",Z:\"data-hm-xpath\",content:\"data-hm-content\",ga:\"data-hm-tag\",link:\"data-hm-link\"},Ha:\"data-hm-enabled\",Ga:\"data-hm-disabled\",dc:\"https://hmcdn.baidu.com/static/tongji/plugins/\",Ya:[\"UrlChangeTracker\"]};(function(){var a={D:{},e:function(a,g){this.D[a]=this.D[a]||[];this.D[a].push(g)},J:function(a,g){this.D[a]=this.D[a]||[];for(var d=this.D[a].length,e=0;e<d;e++)this.D[a][e](g)}};return h.w=a})();\n(function(){function a(a,d){var e=document.createElement(\"script\");e.charset=\"utf-8\";b.d(d,\"Function\")&&(e.readyState?e.onreadystatechange=function(){if(\"loaded\"===e.readyState||\"complete\"===e.readyState)e.onreadystatechange=v,d()}:e.onload=function(){d()});e.src=a;var l=document.getElementsByTagName(\"script\")[0];l.parentNode.insertBefore(e,l)}var b=mt.lang;return h.load=a})();\n(function(){var a=mt.cookie,b=mt.localStorage,g=mt.sessionStorage,d={getData:function(d){try{return a.get(d)||g.get(d)||b.get(d)}catch(l){}},setData:function(e,l,f){try{a.set(e,l,{domain:d.Q(),path:d.ba(),P:f}),f?b.set(e,l,f):g.set(e,l)}catch(m){}},removeData:function(e){try{a.set(e,\"\",{domain:d.Q(),path:d.ba(),P:-1}),g.remove(e),b.remove(e)}catch(l){}},V:function(a,d){a=\".\"+a.replace(/:\\d+/,\"\");d=\".\"+d.replace(/:\\d+/,\"\");var b=a.indexOf(d);return-1<b&&b+d.length===a.length},ea:function(a,d){a=a.replace(/^https?:\\/\\//,\n\"\");return 0===a.indexOf(d)},Q:function(){for(var a=document.location.hostname,b=0,f=c.dm.length;b<f;b++)if(d.V(a,c.dm[b]))return c.dm[b].replace(/(:\\d+)?[/?#].*/,\"\");return a},ba:function(){for(var a=0,b=c.dm.length;a<b;a++){var f=c.dm[a];if(-1<f.indexOf(\"/\")&&d.ea(document.location.href,f))return f.replace(/^[^/]+(\\/.*)/,\"$1\")+\"/\"}return\"/\"}};return h.oa=d})();\n(function(){var a=mt.lang,b=mt.o,g=h.oa,d={pageview:{},session:{},autoEventTracking:{},customEvent:{},user:{}},e={user:1,session:2,pageview:3,autoEventTracking:3,customEvent:3,others:3},l=[\"session\",\"user\"],f=\"Hm_up_\"+c.id,m={init:function(){m.Yb()},Yb:function(){try{var e=b.parse(decodeURIComponent(g.getData(f)));a.d(e,\"Object\")&&(d.user=e)}catch(s){}},z:function(a){var b={};d[a]!==r&&(b=d[a]);a=this.va();for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},va:function(){for(var a={},b,e=l.length-\n1;0<=e;e--){b=d[l[e]];for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q])}return a},setProperty:function(e,f,g){var q=d[e];if(a.d(q,\"Object\")&&a.d(f,\"Object\")){for(var w in f)if(f.hasOwnProperty(w)){var k=a.h(String(w));if(g||!/^_/.test(k)&&!/_$/.test(k)||/^(_iden|ei_|ec_|ex_|en_|et_|el_)$/.test(k)){var n=f[w];if(n==v)delete q[k];else{if(a.d(n,\"Object\")||a.d(n,\"Array\"))n=b.stringify(n);n=a.h(String(n));m.ac(e,k,n)&&(q[k]={value:n,scope:m.Na(e)})}}}\"user\"===e&&m.Ba()}},r:function(b){b!==r&&(\"userId\"===\nb&&a.d(d.user,\"Object\")?(delete d.user.uid_,m.Ba()):\"user\"===b&&a.d(d.user,\"Object\")?(b=d.user.uid_,d.user=b===r?{}:{uid_:b},m.Ba()):d[b]!==r&&(d[b]={}))},Ba:function(){try{g.setData(f,encodeURIComponent(b.stringify(d.user)),c.age)}catch(a){}},ac:function(a,b,e){var q=u,f=d[a];if(256<encodeURIComponent(String(b)).length||256<encodeURIComponent(String(e)).length)q=x;else{var k=f[b];f[b]={value:e,scope:m.Na(a)};a=m.N(m.z(a));2048<encodeURIComponent(a).length&&(k!==r?f[b]=k:delete f[b],q=x)}return q},\nN:function(a){var d=[],b,e;for(e in a)a.hasOwnProperty(e)&&(b=[e,a[e].value],(1===a[e].scope||2===a[e].scope)&&b.push(a[e].scope),d.push(b.join(\"*\")));return d.join(\"!\")},Na:function(a){a=e[a];return a!==r?a:e.others}};return h.O=m})();\n(function(){var a=mt.f,b=mt.lang,g=mt.o,d=h.w,e=h.O,l=e.N;if(b.isArray(c.cptrk)&&0<c.cptrk.length){var f={Xa:{},ha:{},init:function(){for(var a,d=0;d<c.cptrk.length;d++)try{if(a=g.parse(decodeURIComponent(String(c.cptrk[d]))),a.a!==r&&b.d(a.a,\"Object\")){var e=a.a,l;for(l in e)e.hasOwnProperty(l)&&(f.ha[l]=String(e[l]))}}catch(q){}},Wa:function(){var d,b,e;for(e in f.ha)if(f.ha.hasOwnProperty(e)&&f.Xa[e]===r&&(d=f.ha[e],d=a.ra(d)))b=b===r?{}:b,b[e]=a.R(d,x),f.Xa[e]=u;return b},wa:function(){var a=\nf.Wa();a&&f.ic(a)},Xb:function(){\"MutationObserver\"in window?(new MutationObserver(f.wa)).observe(document.body,{childList:u,subtree:u}):window.setInterval(f.wa,15E3)},ic:function(a){if(b.d(a,\"Object\")){e.setProperty(\"pageview\",a);a=h.c.b.p;var d=h.c.b.ep;h.c.b.et=9;h.c.b.ep=\"\";h.c.b.p=l(e.z(\"pageview\"));h.c.i();h.c.b.p=a;h.c.b.ep=d;e.r(\"pageview\")}}};f.init();d.e(\"pv-b\",function(){var a=f.Wa();a&&e.setProperty(\"pageview\",a)});f.Xb();a.$a(f.wa)}})();\n(function(){var a=mt.lang,b=mt.f,g={aa:function(a,e){return function(l){var f=l.target||l.srcElement;if(f){var m=f.getAttribute(a.ia);l=l.clientX+\":\"+l.clientY;if(m&&m===l)f.removeAttribute(a.ia);else if(e&&0<e.length&&(f=b.Kb(f))&&f.length)if(m=f.length,l=f[f.length-1],1E4>m*l.split(\">\").length)for(l=0;l<m;l++)g.cb(a,f[l]);else g.cb(a,l)}}},cb:function(d,b){for(var g={},f=String(b).split(\">\").length,m=0;m<f;m++)g[b]=\"\",b=b.substring(0,b.lastIndexOf(\">\"));d&&(a.d(d,\"Object\")&&d.Ja)&&d.Ja(g)},ec:function(a,\nb){return function(g){(g.target||g.srcElement).setAttribute(a.ia,g.clientX+\":\"+g.clientY);a&&a.s&&(b?a.s(b):a.s(\"#\"+encodeURIComponent(this.id),g.type))}}};return h.qa=g})();\n(function(){var a=mt.f,b=mt.o,g=mt.event,d=mt.lang,e=h.C,l=h.qa,f=h.O,m=f.N,p={ia:\"HM_ce\",jb:function(){if(c.cetrk&&c.cetrk.length){g.e(document,\"click\",l.aa(p,c.cetrk));for(var d=0,e=c.cetrk.length;d<e;d++){var f;try{f=b.parse(decodeURIComponent(String(c.cetrk[d])))}catch(w){f={}}var k=f.p||\"\";-1===k.indexOf(\">\")&&(0===k.indexOf(\"#\")&&(k=k.substring(1)),(k=a.La(k))&&g.e(k,\"click\",l.ec(p,f)))}}},Ja:function(a){if(c.cetrk&&c.cetrk.length)for(var d=0,e=c.cetrk.length;d<e;d++){var f;try{f=b.parse(decodeURIComponent(String(c.cetrk[d])))}catch(k){f=\n{}}var n=p.Eb(f.p,a);n&&p.s(f,n)}},Eb:function(a,b){a=String(a);if(0<a.indexOf(\"*\")){var d=RegExp(\"^\"+a.replace(/\\[/g,\"\\\\[\").replace(/\\]/g,\"\\\\]\").replace(/\\*/,\"\\\\d+\")+\"$\"),e;for(e in b)if(b.hasOwnProperty(e)&&d.test(e))return e;return v}return b.hasOwnProperty(a)?a:v},s:function(b,e){h.c.b.et=7;var g=b&&b.k||\"\",g=d.h(g),w={};if(b&&b.a&&d.d(b.a,\"Object\")){var k=b.a,n;for(n in k)if(k.hasOwnProperty(n)){var y=p.Lb(k[n]||\"\",e),y=y?a.R(y,x):\"\";w[n]=y}}w=p.Bb(w,e||b&&b.p);w._iden=g;f.setProperty(\"customEvent\",\nw);h.c.b.ep=\"\";h.c.b.p=m(f.z(\"customEvent\"));h.c.i();h.c.b.p=\"\";f.r(\"customEvent\")},Bb:function(b,d){var f=a.ra(d),g=e.Fa;f&&(c.aet&&c.aet.length?(b.ei_=a.getAttribute(f,g.id)||a.getAttribute(f,\"id\")||\"\",b.ec_=a.getAttribute(f,g.$)||a.getAttribute(f,\"class\")||\"\",b.ex_=a.getAttribute(f,g.Z)||a.ua(f),b.en_=a.getAttribute(f,g.content)||a.R(f,u),b.et_=a.getAttribute(f,g.ga)||a.S(f),b.el_=a.getAttribute(f,g.link)||a.getAttribute(f,\"href\")||\"\"):(b.ex_=a.getAttribute(f,g.Z)||a.ua(f),b.en_=a.getAttribute(f,\ng.content)||a.R(f,u)));return b},Lb:function(b,d){b=String(b);d=String(d);if(0<b.indexOf(\"*\")){var e=/.*\\[(\\d+)\\]$/.exec(d);b=b.replace(\"*\",e?e[1]:\"1\")}return a.ra(b)}};h.w.e(\"pv-b\",p.jb);return p})();\n(function(){var a=mt.lang,b=mt.f,g=mt.event,d=mt.g,e=h.C,l=h.w,f=h.O,m=f.N,p=+new Date,s=[],t={aa:function(){return function(d){if(h.c&&h.c.U&&c.aet&&c.aet.length){var f=d.target||d.srcElement;if(f){var k=h.c.Ia,n=b.getAttribute(f,e.Ha)!=v?u:x;if(b.getAttribute(f,e.Ga)==v)if(n)t.la(t.sa(f,d));else{var y=b.S(f);if(a.F(k,\"*\")||a.F(k,y))t.la(t.sa(f,d));else for(;f.parentNode!=v;){var n=f.parentNode,y=b.S(n),z=\"a\"===y&&a.F(k,\"a\")?u:x,y=\"button\"===y&&a.F(k,\"button\")?u:x,A=b.getAttribute(n,e.Ha)!=v?u:x;\nif(b.getAttribute(n,e.Ga)==v&&(z||y||A)){t.la(t.sa(n,d));break}f=f.parentNode}}}}}},sa:function(f,g){var k={},n=e.Fa;k.id=b.getAttribute(f,n.id)||b.getAttribute(f,\"id\")||\"\";k.$=b.getAttribute(f,n.$)||b.getAttribute(f,\"class\")||\"\";k.Z=b.getAttribute(f,n.Z)||b.ua(f);k.content=b.getAttribute(f,n.content)||b.R(f,u);k.ga=b.getAttribute(f,n.ga)||b.S(f);k.link=b.getAttribute(f,n.link)||b.getAttribute(f,\"href\")||\"\";k.type=g.type||\"click\";n=a.Ra(f.offsetTop)?f.offsetTop:0;\"click\"===g.type?n=d.ya?g.clientY+\nMath.max(document.documentElement.scrollTop,document.body.scrollTop):g.pageY:\"touchend\"===g.type&&(g.Va&&g.Va.changedTouches)&&(n=g.Va.changedTouches[0].pageY);k.oc=n;n=this.Db(g);k.Ta=n.Ta||0;k.Ua=n.Ua||0;k.ib=n.ib||0;k.Oa=n.Oa||0;k.fb=n.fb||\"b\";return k},Db:function(f){var e=f.target||f.srcElement,g;if(d.ya){var n=Math.max(document.documentElement.scrollTop,document.body.scrollTop);g=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);g=f.clientX+g;f=f.clientY+n}else g=f.pageX,\nf=f.pageY;var y=n=0,z=0,A=0;if(e&&(n=e.offsetWidth||e.clientWidth,y=e.offsetHeight||e.clientHeight,A=b.Ib(e),z=A.left,A=A.top,a.d(e.getBBox,\"Function\")&&(y=e.getBBox(),n=y.width,y=y.height),\"html\"===(e.tagName||\"\").toLowerCase()))n=Math.max(n,e.clientWidth),y=Math.max(y,e.clientHeight);return{Ta:Math.round(100*((g-z)/n)),Ua:Math.round(100*((f-A)/y)),ib:n,Oa:y,fb:(\"a\"===(e.tagName||\"\").toLowerCase()?e:b.Ab(e))?\"a\":\"b\"}},la:function(b){var d=a.h;b=[+new Date-(h.c.W!==r?h.c.W:p),d(b.id),d(b.$),d(b.ga),\nd(b.Z),d(b.link),d(b.content),b.type,b.oc].join(\"*\");t.ma(b);a.d(this.Y(),\"Function\")&&this.Y()()},ma:function(a){a.length>e.na||(encodeURIComponent(s.join(\"!\")+a).length>e.na&&(t.s(s.join(\"!\")),s=[]),s.push(a))},s:function(a){h.c.b.et=5;h.c.b.ep=a;h.c.b.p=m(f.z(\"autoEventTracking\"));h.c.i();h.c.b.p=\"\"},Y:function(){return function(){s&&s.length&&(t.s(s.join(\"!\")),s=[])}}};a.G(c.aet)&&\"\"!==c.aet&&l.e(\"pv-b\",function(){g.e(document,\"click\",t.aa());\"ontouchend\"in document&&g.e(window,\"touchend\",t.aa());\ng.e(window,\"unload\",t.Y())});return t})();\n(function(){var a=mt.lang,b=mt.event,g=mt.g,d=h.C,e=h.w,l=+new Date,f=[],m=v,p={nb:function(){a.G(c.aet)&&\"\"!==c.aet&&setInterval(p.bb,d.gc)},bb:function(){var a=g.T()+g.L();0<a-h.c.b.vl&&(h.c.b.vl=a)}},s={wb:function(){return function(){h.c&&(h.c.U&&c.aet&&c.aet.length)&&(window.clearTimeout(m),m=window.setTimeout(function(){s.mb(g.T()+g.L())},150))}},mb:function(a){s.ma([+new Date-(h.c.W!==r?h.c.W:l),a].join(\"*\"))},ma:function(a){if(encodeURIComponent(f.join(\"!\")+a).length>d.na||3<f.length)s.s(f.join(\"!\")),\nf=[];f.push(a)},s:function(a){p.bb();h.c.b.et=6;h.c.b.vh=g.L();h.c.b.ep=a;h.c.i()},Y:function(){return function(){f&&f.length&&(s.s(f.join(\"!\")),f=[])}}};a.G(c.aet)&&\"\"!==c.aet&&e.e(\"pv-b\",function(){b.e(window,\"scroll\",s.wb());b.e(window,\"unload\",s.Y());p.nb()});return s})();\n(function(){function a(){return function(){h.c.b.nv=0;h.c.b.st=4;h.c.b.et=3;h.c.b.ep=h.pa.Jb()+\",\"+h.pa.Fb();h.c.i()}}function b(){clearTimeout(z);var a;n&&(a=\"visible\"==document[n]);y&&(a=!document[y]);m=\"undefined\"==typeof a?u:a;if((!f||!p)&&m&&s)k=u,q=+new Date;else if(f&&p&&(!m||!s))k=x,w+=+new Date-q;f=m;p=s;z=setTimeout(b,100)}function g(a){var n=document,b=\"\";if(a in n)b=a;else for(var d=[\"webkit\",\"ms\",\"moz\",\"o\"],f=0;f<d.length;f++){var e=d[f]+a.charAt(0).toUpperCase()+a.slice(1);if(e in n){b=\ne;break}}return b}function d(a){if(!(\"focus\"==a.type||\"blur\"==a.type)||!(a.target&&a.target!=window))s=\"focus\"==a.type||\"focusin\"==a.type?u:x,b()}var e=mt.event,l=h.w,f=u,m=u,p=u,s=u,t=+new Date,q=t,w=0,k=u,n=g(\"visibilityState\"),y=g(\"hidden\"),z;b();(function(){var a=n.replace(/[vV]isibilityState/,\"visibilitychange\");e.e(document,a,b);e.e(window,\"pageshow\",b);e.e(window,\"pagehide\",b);\"object\"==typeof document.onfocusin?(e.e(document,\"focusin\",d),e.e(document,\"focusout\",d)):(e.e(window,\"focus\",d),\ne.e(window,\"blur\",d))})();h.pa={Jb:function(){return+new Date-t},Fb:function(){return k?+new Date-q+w:w}};l.e(\"pv-b\",function(){e.e(window,\"unload\",a())});l.e(\"duration-send\",a());l.e(\"duration-done\",function(){q=t=+new Date;w=0});return h.pa})();\n(function(){var a=mt.lang,b=h.C,g=h.load,d={Wb:function(d){if((window._dxt===r||a.d(window._dxt,\"Array\"))&&\"undefined\"!==typeof h.c){var l=h.c.Q();g([b.protocol,\"//datax.baidu.com/x.js?si=\",c.id,\"&dm=\",encodeURIComponent(l)].join(\"\"),d)}},nc:function(b){if(a.d(b,\"String\")||a.d(b,\"Number\"))window._dxt=window._dxt||[],window._dxt.push([\"_setUserId\",b])}};return h.ub=d})();\n(function(){function a(a,b,d,f){if(!(a===r||b===r||f===r)){if(\"\"===a)return[b,d,f].join(\"*\");a=String(a).split(\"!\");for(var e,g=x,k=0;k<a.length;k++)if(e=a[k].split(\"*\"),String(b)===e[0]){e[1]=d;e[2]=f;a[k]=e.join(\"*\");g=u;break}g||a.push([b,d,f].join(\"*\"));return a.join(\"!\")}}function b(a){for(var f in a)if({}.hasOwnProperty.call(a,f)){var e=a[f];d.d(e,\"Object\")||d.d(e,\"Array\")?b(e):a[f]=String(e)}}var g=mt.url,d=mt.lang,e=mt.o,l=mt.g,f=h.C,m=h.w,p=h.ub,s=h.load,t=h.oa,q=h.O,w=q.N,k={X:[],fa:0,Sa:x,\nB:{Ea:\"\",page:\"\"},init:function(){k.j=0;q.init();m.e(\"pv-b\",function(){k.vb();k.xb()});m.e(\"pv-d\",function(){k.yb();k.B.page=\"\"});m.e(\"stag-b\",function(){h.c.b.api=k.j||k.fa?k.j+\"_\"+k.fa:\"\";h.c.b.ct=[decodeURIComponent(t.getData(\"Hm_ct_\"+c.id)||\"\"),k.B.Ea,k.B.page].join(\"!\")});m.e(\"stag-d\",function(){h.c.b.api=0;k.j=0;k.fa=0})},vb:function(){var a=window._hmt||[];if(!a||d.d(a,\"Array\"))window._hmt={id:c.id,cmd:{},push:function(){for(var a=window._hmt,b=0;b<arguments.length;b++){var n=arguments[b];\nd.d(n,\"Array\")&&(a.cmd[a.id].push(n),\"_setAccount\"===n[0]&&(1<n.length&&/^[0-9a-f]{32}$/.test(n[1]))&&(n=n[1],a.id=n,a.cmd[n]=a.cmd[n]||[]))}}},window._hmt.cmd[c.id]=[],window._hmt.push.apply(window._hmt,a)},xb:function(){var a=window._hmt;if(a&&a.cmd&&a.cmd[c.id])for(var b=a.cmd[c.id],d=/^_track(Event|MobConv|Order)$/,f=0,e=b.length;f<e;f++){var g=b[f];d.test(g[0])?k.X.push(g):k.Ca(g)}a.cmd[c.id]={push:k.Ca}},yb:function(){if(0<k.X.length)for(var a=0,b=k.X.length;a<b;a++)k.Ca(k.X[a]);k.X=v},Ca:function(a){var b=\na[0];if(k.hasOwnProperty(b)&&d.d(k[b],\"Function\"))k[b](a)},_setAccount:function(a){1<a.length&&/^[0-9a-f]{32}$/.test(a[1])&&(k.j|=1)},_setAutoPageview:function(a){if(1<a.length&&(a=a[1],x===a||u===a))k.j|=2,h.c.Pa=a},_trackPageview:function(a){if(1<a.length&&a[1].charAt&&\"/\"===a[1].charAt(0)){k.j|=4;h.c.b.sn=h.c.Ma();h.c.b.et=0;h.c.b.ep=\"\";h.c.b.vl=l.T()+l.L();h.c.b.kb=0;h.c.xa?(h.c.b.nv=0,h.c.b.st=4):h.c.xa=u;var b=h.c.b.u,d=h.c.b.su;h.c.b.u=f.protocol+\"//\"+document.location.host+a[1];k.Sa||(h.c.b.su=\ndocument.location.href);h.c.b.p=w(q.z(\"pageview\"));h.c.i();h.c.b.u=b;h.c.b.su=d;h.c.b.p=\"\";h.c.W=+new Date;q.r(\"pageview\")}},_trackEvent:function(a){2<a.length&&(k.j|=8,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=4,h.c.b.ep=d.h(a[1])+\"*\"+d.h(a[2])+(a[3]?\"*\"+d.h(a[3]):\"\")+(a[4]?\"*\"+d.h(a[4]):\"\"),h.c.b.p=w(q.va()),h.c.i(),h.c.b.p=\"\")},_setCustomVar:function(a){if(!(4>a.length)){var b=a[1],f=a[4]||3;if(0<b&&6>b&&0<f&&4>f){k.fa++;for(var e=(h.c.b.cv||\"*\").split(\"!\"),g=e.length;g<b-1;g++)e.push(\"*\");e[b-1]=f+\"*\"+d.h(a[2])+\n\"*\"+d.h(a[3]);h.c.b.cv=e.join(\"!\");a=h.c.b.cv.replace(/[^1](\\*[^!]*){2}/g,\"*\").replace(/((^|!)\\*)+$/g,\"\");\"\"!==a?t.setData(\"Hm_cv_\"+c.id,encodeURIComponent(a),c.age):t.removeData(\"Hm_cv_\"+c.id)}}},_setUserTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=decodeURIComponent(t.getData(\"Hm_ct_\"+c.id)||\"\"),e=a(e,f,1,b);t.setData(\"Hm_ct_\"+c.id,encodeURIComponent(e),c.age)}}},_setVisitTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=\nk.B.Ea,e=a(e,f,2,b);k.B.Ea=e}}},_setPageTag:function(b){if(!(3>b.length)){var f=d.h(b[1]);b=d.h(b[2]);if(f!==r&&b!==r){var e=k.B.page,e=a(e,f,3,b);k.B.page=e}}},_setReferrerOverride:function(a){1<a.length&&(h.c.b.su=a[1].charAt&&\"/\"===a[1].charAt(0)?f.protocol+\"//\"+window.location.host+a[1]:a[1],k.Sa=u)},_trackOrder:function(a){a=a[1];d.d(a,\"Object\")&&(b(a),k.j|=16,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=94,h.c.b.ep=e.stringify(a),h.c.b.p=w(q.va()),h.c.i(),h.c.b.p=\"\")},_trackMobConv:function(a){if(a={webim:1,\ntel:2,map:3,sms:4,callback:5,share:6}[a[1]])k.j|=32,h.c.b.et=93,h.c.b.ep=a,h.c.i()},_setDataxId:function(a){a=a[1];p.Wb();p.nc(a)},_setUserId:function(a){a=a[1];if(a!==r&&(d.G(a)||d.Ra(a))){var b=q.z(\"user\").uid_;if(!(b&&b.value===d.h(String(a)))){var b=h.c.b.p,f=h.c.b.ep;h.c.b.et=8;h.c.b.ep=\"\";h.c.b.p=\"uid_*\"+d.h(String(a));h.c.i();var e={};e.uid_=a;q.setProperty(\"user\",e,u);h.c.b.p=b;h.c.b.ep=f}}},_clearUserId:function(a){1<a.length&&u===a[1]&&q.r(\"userId\")},_setUserProperty:function(a){a=a[1];\nd.d(a,\"Object\")&&q.setProperty(\"user\",a)},_clearUserProperty:function(a){1<a.length&&u===a[1]&&q.r(\"user\")},_setSessionProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"session\",a)},_clearSessionProperty:function(a){1<a.length&&u===a[1]&&q.r(\"session\")},_setPageviewProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"pageview\",a)},_clearPageviewProperty:function(a){1<a.length&&u===a[1]&&q.r(\"pageview\")},_setAutoEventTrackingProperty:function(a){a=a[1];d.d(a,\"Object\")&&q.setProperty(\"autoEventTracking\",\na)},_clearAutoEventTrackingProperty:function(a){1<a.length&&u===a[1]&&q.r(\"autoEventTracking\")},_setAutoTracking:function(a){if(1<a.length&&(a=a[1],x===a||u===a))h.c.Qa=a},_setAutoEventTracking:function(a){if(1<a.length&&(a=a[1],x===a||u===a))h.c.U=a},_trackPageDuration:function(a){1<a.length?(a=a[1],2===String(a).split(\",\").length&&(h.c.b.et=3,h.c.b.ep=a,h.c.i())):m.J(\"duration-send\");m.J(\"duration-done\")},_require:function(a){1<a.length&&(a=a[1],f.pb.test(g.K(a))&&s(a))},_providePlugin:function(a){if(1<\na.length){var b=window._hmt,e=a[1];a=a[2];if(d.F(f.Ya,e)&&d.d(a,\"Function\")&&(b.plugins=b.plugins||{},b.H=b.H||{},b.plugins[e]=a,b.A=b.A||[],a=b.A.slice(),e&&a.length&&a[0][1]===e))for(var g=0,k=a.length;g<k;g++){var l=a[g][2]||{};if(b.plugins[e]&&!b.H[e])b.H[e]=new b.plugins[e](l),b.A.shift();else break}}},_requirePlugin:function(a){if(1<a.length){var b=window._hmt,e=a[1],g=a[2]||{};if(d.F(f.Ya,e))if(b.plugins=b.plugins||{},b.H=b.H||{},b.plugins[e]&&!b.H[e])b.H[e]=new b.plugins[e](g);else{b.A=b.A||\n[];for(var g=0,l=b.A.length;g<l;g++)if(b.A[g][1]===e)return;b.A.push(a);k._require([v,f.dc+e+\".js\"])}}},_trackCustomEvent:function(a){if(1<a.length){var b=a[1];a=a[2];d.d(a,\"Object\")||(a={});a._iden=b;q.setProperty(\"customEvent\",a);h.c.b.et=7;h.c.b.ep=\"\";h.c.b.p=w(q.z(\"customEvent\"));h.c.i();h.c.b.p=\"\";q.r(\"customEvent\")}}};k.init();h.qb=k;return h.qb})();\n(function(){var a=h.w;c.spa!==r&&\"1\"===String(c.spa)&&(window._hmt=window._hmt||[],window._hmt.push([\"_requirePlugin\",\"UrlChangeTracker\"]),a.e(\"pv-b\",function(){\"\"!==window.location.hash&&(h.c.b.u=window.location.href)}))})();\n(function(){function a(){\"undefined\"===typeof window[\"_bdhm_loaded_\"+c.id]&&(window[\"_bdhm_loaded_\"+c.id]=u,this.b={},this.Qa=this.Pa=u,this.U=k.U,this.Ia=e.G(c.aet)&&0<c.aet.length?c.aet.split(\",\"):\"\",this.xa=x,this.init())}var b=mt.url,g=mt.eb,d=mt.Da,e=mt.lang,l=mt.cookie,f=mt.g,m=mt.sessionStorage,p=mt.o,s=mt.event,t=h.oa,q=h.O,w=q.N,k=h.C,n=h.load,y=h.w;a.prototype={V:function(a,b){a=\".\"+a.replace(/:\\d+/,\"\");b=\".\"+b.replace(/:\\d+/,\"\");var d=a.indexOf(b);return-1<d&&d+b.length===a.length},ea:function(a,\nb){a=a.replace(/^https?:\\/\\//,\"\");return 0===a.indexOf(b)},ca:function(a){for(var d=0;d<c.dm.length;d++)if(-1<c.dm[d].indexOf(\"/\")){if(this.ea(a,c.dm[d]))return u}else{var e=b.K(a);if(e&&this.V(e,c.dm[d]))return u}return x},Q:function(){for(var a=document.location.hostname,b=0,d=c.dm.length;b<d;b++)if(this.V(a,c.dm[b]))return c.dm[b].replace(/(:\\d+)?[/?#].*/,\"\");return a},ba:function(){for(var a=0,b=c.dm.length;a<b;a++){var d=c.dm[a];if(-1<d.indexOf(\"/\")&&this.ea(document.location.href,d))return d.replace(/^[^/]+(\\/.*)/,\n\"$1\")+\"/\"}return\"/\"},Mb:function(){if(!document.referrer)return k.I-k.M>c.vdur?1:4;var a=x;this.ca(document.referrer)&&this.ca(document.location.href)?a=u:(a=b.K(document.referrer),a=this.V(a||\"\",document.location.hostname));return a?k.I-k.M>c.vdur?1:4:3},lc:function(){var a,b,d,e,f,g;k.M=t.getData(\"Hm_lpvt_\"+c.id)||0;13===k.M.length&&(k.M=Math.round(k.M/1E3));b=this.Mb();a=4!==b?1:0;if(g=t.getData(\"Hm_lvt_\"+c.id)){e=g.split(\",\");for(f=e.length-1;0<=f;f--)13===e[f].length&&(e[f]=\"\"+Math.round(e[f]/\n1E3));for(;2592E3<k.I-e[0];)e.shift();f=4>e.length?2:3;for(1===a&&e.push(k.I);4<e.length;)e.shift();g=e.join(\",\");e=e[e.length-1]}else g=k.I,e=\"\",f=1;this.Zb()?(t.setData(\"Hm_lvt_\"+c.id,g,c.age),t.setData(\"Hm_lpvt_\"+c.id,k.I),d=l.bc(this.Q(),this.ba())):this.zb();if(0===c.nv&&this.ca(document.location.href)&&(\"\"===document.referrer||this.ca(document.referrer)))a=0,b=4;this.b.nv=a;this.b.st=b;this.b.cc=d;this.b.lt=e;this.b.lv=f},Zb:function(){var a=b.K(document.location.href);return!e.F(\"sjh.baidu.com isite.baidu.com ls.wejianzhan.com bs.wejianzhan.com product.weijianzhan.com qianhu.weijianzhan.com aisite.wejianzhan.com\".split(\" \"),\na)},zb:function(){for(var a=document.cookie.split(\";\"),b=0;b<a.length;b++){var d=a[b].split(\"=\");d.length&&/Hm_(up|ct|cv|lp?vt)_[0-9a-f]{31}/.test(String(d[0]))&&t.removeData(d[0]);d.length&&/Hm_ck_[0-9]{13}/.test(String(d[0]))&&t.removeData(d[0])}},kc:function(){for(var a=[],b=this.b.et,d=0,e=k.gb.length;d<e;d++){var f=k.gb[d],g=this.b[f];\"undefined\"!==typeof g&&\"\"!==g&&(\"tt\"!==f||\"tt\"===f&&0===b)&&(\"ct\"!==f||\"ct\"===f&&0===b)&&a.push(f+\"=\"+encodeURIComponent(g))}return a.join(\"&\")},mc:function(){this.lc();\nthis.b.si=c.id;this.b.sn=this.Ma();this.b.su=document.referrer;this.b.ds=f.fc;this.b.cl=f.colorDepth+\"-bit\";this.b.ln=String(f.language).toLowerCase();this.b.ja=f.javaEnabled?1:0;this.b.ck=f.cookieEnabled?1:0;this.b.lo=\"number\"===typeof _bdhm_top?1:0;this.b.fl=d.Ob();this.b.v=\"1.2.72\";this.b.cv=decodeURIComponent(t.getData(\"Hm_cv_\"+c.id)||\"\");this.b.tt=document.title||\"\";this.b.vl=f.T()+f.L();var a=document.location.href;this.b.cm=b.m(a,k.Tb)||\"\";this.b.cp=b.m(a,k.Ub)||b.m(a,k.rc)||\"\";this.b.cw=b.m(a,\nk.Sb)||b.m(a,k.tc)||\"\";this.b.ci=b.m(a,k.Qb)||b.m(a,k.qc)||\"\";this.b.cf=b.m(a,k.Vb)||b.m(a,k.sc)||\"\";this.b.cu=b.m(a,k.Rb)||b.m(a,k.pc)||\"\";f.$b()&&(this.b.u=window.location.href)},init:function(){try{this.mc(),0===this.b.nv?this.jc():this.Ka(),h.c=this,this.tb(),this.rb(),y.J(\"pv-b\"),this.hc()}catch(a){var b=[];b.push(\"si=\"+c.id);b.push(\"n=\"+encodeURIComponent(a.name));b.push(\"m=\"+encodeURIComponent(a.message));b.push(\"r=\"+encodeURIComponent(document.referrer));g.log(k.za+\"//\"+k.Za+\"?\"+b.join(\"&\"))}},\nhc:function(){function a(){y.J(\"pv-d\")}this.Pa?(this.xa=u,this.b.et=0,this.b.ep=\"\",this.b.p=w(q.z(\"pageview\")),this.b.vl=f.T()+f.L(),this.i(a),this.b.p=\"\"):a();this.W=+new Date;q.r(\"pageview\")},i:function(a){if(this.Qa){var b=this;b.b.rnd=Math.round(Math.random()*k.Aa);y.J(\"stag-b\");var d=k.za+\"//\"+k.Za+\"?\"+b.kc();y.J(\"stag-d\");b.ob(d);g.log(d,function(d){b.ab(d);e.d(a,\"Function\")&&a.call(b)})}},tb:function(){var a=document.location.hash.substring(1),d=RegExp(c.id),e=b.K(document.referrer)===k.hb?\n1:0,f=b.m(a,\"jn\"),g=/^heatlink$|^select$|^pageclick$/.test(f);a&&(d.test(a)&&e&&g)&&(this.b.rnd=Math.round(Math.random()*k.Aa),a=document.createElement(\"script\"),a.setAttribute(\"type\",\"text/javascript\"),a.setAttribute(\"charset\",\"utf-8\"),a.setAttribute(\"src\",k.protocol+\"//\"+c.js+f+\".js?\"+this.b.rnd),f=document.getElementsByTagName(\"script\")[0],f.parentNode.insertBefore(a,f))},rb:function(){if(window.postMessage&&window.self!==window.parent){var a=this;s.e(window,\"message\",function(d){if(b.K(d.origin)===\nk.hb){d=d.data||{};var e=d.jn||\"\",f=/^customevent$|^heatmap$/.test(e);if(RegExp(c.id).test(d.sd||\"\")&&f)a.b.rnd=Math.round(Math.random()*k.Aa),n(k.protocol+\"//\"+c.js+e+\".js?\"+a.b.rnd)}});window.parent.postMessage({id:c.id,url:document.location.href,status:\"__Messenger__hmLoaded\"},\"*\")}},ob:function(a){var b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}var e=this.b.u?\"\":\"&u=\"+encodeURIComponent(document.location.href);b.push(a.replace(/^https?:\\/\\//,\"\")+e);m.set(\"Hm_unsent_\"+c.id,p.stringify(b))},\nab:function(a){var b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}if(b.length){a=a.replace(/^https?:\\/\\//,\"\");for(var e=0;e<b.length;e++)if(a.replace(/&u=[^&]*/,\"\")===b[e].replace(/&u=[^&]*/,\"\")){b.splice(e,1);break}b.length?m.set(\"Hm_unsent_\"+c.id,p.stringify(b)):this.Ka()}},Ka:function(){m.remove(\"Hm_unsent_\"+c.id)},jc:function(){var a=this,b;try{b=p.parse(m.get(\"Hm_unsent_\"+c.id)||\"[]\")}catch(d){b=[]}if(b.length)for(var e=function(b){g.log(k.za+\"//\"+b,function(b){a.ab(b)})},f=0;f<\nb.length;f++)e(b[f])},Ma:function(){return Math.round(+new Date/1E3)%65535}};return new a})();var B=h.C,C=h.load;c.pt&&C([B.protocol,\"//ada.baidu.com/phone-tracker/insert_bdtj?sid=\",c.pt].join(\"\"));\n(function(){var a=mt.g,b=mt.lang,g=mt.event,d=mt.o;if(\"undefined\"!==typeof h.c&&(c.med||(!a.ya||7<a.Hb())&&c.cvcc)){var e,l,f,m,p=function(a){if(a.item){for(var b=a.length,d=Array(b);b--;)d[b]=a[b];return d}return[].slice.call(a)},s=function(a,b){for(var d in a)if(a.hasOwnProperty(d)&&b.call(a,d,a[d])===x)return x},t=function(a,g){var k={};k.n=e;k.t=\"clk\";k.v=a;if(g){var l=g.getAttribute(\"href\"),m=g.getAttribute(\"onclick\")?\"\"+g.getAttribute(\"onclick\"):v,p=g.getAttribute(\"id\")||\"\";f.test(l)?(k.sn=\n\"mediate\",k.snv=l):b.d(m,\"String\")&&f.test(m)&&(k.sn=\"wrap\",k.snv=m);k.id=p}h.c.b.et=86;h.c.b.ep=d.stringify(k);h.c.i();for(k=+new Date;400>=+new Date-k;);};if(c.med)l=\"/zoosnet\",e=\"swt\",f=/swt|zixun|call|chat|zoos|business|talk|kefu|openkf|online|\\/LR\\/Chatpre\\.aspx/i,m={click:function(){for(var a=[],b=p(document.getElementsByTagName(\"a\")),b=[].concat.apply(b,p(document.getElementsByTagName(\"area\"))),b=[].concat.apply(b,p(document.getElementsByTagName(\"img\"))),d,e,g=0,k=b.length;g<k;g++)d=b[g],e=\nd.getAttribute(\"onclick\"),d=d.getAttribute(\"href\"),(f.test(e)||f.test(d))&&a.push(b[g]);return a}};else if(c.cvcc){l=\"/other-comm\";e=\"other\";f=c.cvcc.q||r;var q=c.cvcc.id||r;m={click:function(){for(var a=[],b=p(document.getElementsByTagName(\"a\")),b=[].concat.apply(b,p(document.getElementsByTagName(\"area\"))),b=[].concat.apply(b,p(document.getElementsByTagName(\"img\"))),d,e,g,k=0,l=b.length;k<l;k++)d=b[k],f!==r?(e=d.getAttribute(\"onclick\"),g=d.getAttribute(\"href\"),q?(d=d.getAttribute(\"id\"),(f.test(e)||\nf.test(g)||q.test(d))&&a.push(b[k])):(f.test(e)||f.test(g))&&a.push(b[k])):q!==r&&(d=d.getAttribute(\"id\"),q.test(d)&&a.push(b[k]));return a}}}if(\"undefined\"!==typeof m&&\"undefined\"!==typeof f){var w;l+=/\\/$/.test(l)?\"\":\"/\";var k=function(a,d){if(w===d)return t(l+a,d),x;if(b.d(d,\"Array\")||b.d(d,\"NodeList\"))for(var e=0,f=d.length;e<f;e++)if(w===d[e])return t(l+a+\"/\"+(e+1),d[e]),x};g.e(document,\"mousedown\",function(a){a=a||window.event;w=a.target||a.srcElement;var d={};for(s(m,function(a,e){d[a]=b.d(e,\n\"Function\")?e():document.getElementById(e)});w&&w!==document&&s(d,k)!==x;)w=w.parentNode})}}})();(function(){var a=mt.f,b=mt.lang,g=mt.event,d=mt.o;if(\"undefined\"!==typeof h.c&&b.d(c.cvcf,\"Array\")&&0<c.cvcf.length){var e={lb:function(){for(var b=c.cvcf.length,d,m=0;m<b;m++)(d=a.La(decodeURIComponent(c.cvcf[m])))&&g.e(d,\"click\",e.qa())},qa:function(){return function(){h.c.b.et=86;var a={n:\"form\",t:\"clk\"};a.id=this.id;h.c.b.ep=d.stringify(a);h.c.i()}}};a.$a(function(){e.lb()})}})();\n(function(){var a=mt.event,b=mt.o;if(c.med&&\"undefined\"!==typeof h.c){var g={n:\"anti\",sb:0,kb:0,clk:0},d=function(){h.c.b.et=86;h.c.b.ep=b.stringify(g);h.c.i()};a.e(document,\"click\",function(){g.clk++});a.e(document,\"keyup\",function(){g.kb=1});a.e(window,\"scroll\",function(){g.sb++});a.e(window,\"load\",function(){setTimeout(d,5E3)})}})();})();\n","date":"2020-04-04T08:34:36.682Z","updated":"2020-04-04T08:34:36.357Z","path":"images/tags _ Night's blog_files/hm.js","layout":"false","title":"","comments":1,"_id":"ck8npay3c00hqqr3l6ecgl70y"},{"_content":"@charset \"UTF-8\";\n\n/*!\n * animate.css -http://daneden.me/animate\n * Version - 3.5.0\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\n *\n * Copyright (c) 2016 Daniel Eden\n */\n\n.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.hinge{-webkit-animation-duration:2s;animation-duration:2s}.animated.bounceIn,.animated.bounceOut,.animated.flipOutX,.animated.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}.bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse}@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.shake{-webkit-animation-name:shake;animation-name:shake}@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.tada{-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}@keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}.wobble{-webkit-animation-name:wobble;animation-name:wobble}@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}@keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.bounceIn{-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.bounceOut{-webkit-animation-name:bounceOut;animation-name:bounceOut}@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}@keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}@keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}.rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn}@-webkit-keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}@-webkit-keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}@-webkit-keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}@-webkit-keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}@-webkit-keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}@keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut}@-webkit-keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}@keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft}@-webkit-keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight}@-webkit-keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft}@-webkit-keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}@keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight}@-webkit-keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}@keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.hinge{-webkit-animation-name:hinge;animation-name:hinge}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}.rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}@-webkit-keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}@keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}.zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown}@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}.zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft}@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}.zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight}@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp}@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}","source":"images/tags _ Night's blog_files/animate.min.css","raw":"@charset \"UTF-8\";\n\n/*!\n * animate.css -http://daneden.me/animate\n * Version - 3.5.0\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\n *\n * Copyright (c) 2016 Daniel Eden\n */\n\n.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.hinge{-webkit-animation-duration:2s;animation-duration:2s}.animated.bounceIn,.animated.bounceOut,.animated.flipOutX,.animated.flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s}@-webkit-keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}@keyframes bounce{0%,20%,53%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-transform:translate3d(0,-30px,0);transform:translate3d(0,-30px,0)}40%,43%,70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06)}70%{-webkit-transform:translate3d(0,-15px,0);transform:translate3d(0,-15px,0)}90%{-webkit-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0)}}.bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.flash{-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.pulse{-webkit-animation-name:pulse;animation-name:pulse}@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes shake{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.shake{-webkit-animation-name:shake;animation-name:shake}@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.tada{-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}@keyframes wobble{0%{-webkit-transform:none;transform:none}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:none;transform:none}}.wobble{-webkit-animation-name:wobble;animation-name:wobble}@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}@keyframes jello{0%,11.1%,to{-webkit-transform:none;transform:none}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.bounceIn{-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0);transform:translate3d(0,-3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0);transform:translate3d(0,25px,0)}75%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}90%{-webkit-transform:translate3d(0,5px,0);transform:translate3d(0,5px,0)}to{-webkit-transform:none;transform:none}}.bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0);transform:translate3d(-3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0);transform:translate3d(25px,0,0)}75%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}90%{-webkit-transform:translate3d(5px,0,0);transform:translate3d(5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0);transform:translate3d(3000px,0,0)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0);transform:translate3d(-25px,0,0)}75%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}90%{-webkit-transform:translate3d(-5px,0,0);transform:translate3d(-5px,0,0)}to{-webkit-transform:none;transform:none}}.bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0);transform:translate3d(0,3000px,0)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}75%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}90%{-webkit-transform:translate3d(0,-5px,0);transform:translate3d(0,-5px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.bounceOut{-webkit-animation-name:bounceOut;animation-name:bounceOut}@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0);transform:translate3d(20px,0,0)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0);transform:translate3d(-20px,0,0)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0);transform:translate3d(0,20px,0)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) rotateY(-1turn);transform:perspective(400px) rotateY(-1turn)}0%,40%{-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-190deg);transform:perspective(400px) translateZ(150px) rotateY(-190deg)}50%{-webkit-transform:perspective(400px) translateZ(150px) rotateY(-170deg);transform:perspective(400px) translateZ(150px) rotateY(-170deg)}50%,80%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95);transform:perspective(400px) scale3d(.95,.95,.95)}to{-webkit-transform:perspective(400px);transform:perspective(400px);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animated.flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg)}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}0%,40%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg)}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.flipOutX{-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.flipOutY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}@-webkit-keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}@keyframes lightSpeedIn{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg)}60%,80%{opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:none;transform:none;opacity:1}}.lightSpeedIn{-webkit-animation-name:lightSpeedIn;animation-name:lightSpeedIn;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}@keyframes lightSpeedOut{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.lightSpeedOut{-webkit-animation-name:lightSpeedOut;animation-name:lightSpeedOut;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateIn{0%{transform-origin:center;-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:none;transform:none;opacity:1}}.rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn}@-webkit-keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft}@-webkit-keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInDownRight{0%{transform-origin:right bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight}@-webkit-keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpLeft{0%{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft}@-webkit-keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}@keyframes rotateInUpRight{0%{transform-origin:right bottom;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:none;transform:none;opacity:1}}.rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight}@-webkit-keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}@keyframes rotateOut{0%{transform-origin:center;opacity:1}0%,to{-webkit-transform-origin:center}to{transform-origin:center;-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut}@-webkit-keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}@keyframes rotateOutDownLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft}@-webkit-keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutDownRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight}@-webkit-keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutUpLeft{0%{transform-origin:left bottom;opacity:1}0%,to{-webkit-transform-origin:left bottom}to{transform-origin:left bottom;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft}@-webkit-keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}@keyframes rotateOutUpRight{0%{transform-origin:right bottom;opacity:1}0%,to{-webkit-transform-origin:right bottom}to{transform-origin:right bottom;-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight}@-webkit-keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}@keyframes hinge{0%{transform-origin:top left}0%,20%,60%{-webkit-transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);transform-origin:top left}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-transform-origin:top left;transform-origin:top left;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.hinge{-webkit-animation-name:hinge;animation-name:hinge}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:none;transform:none}}.rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}@-webkit-keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}@keyframes zoomOut{0%{opacity:1}50%{-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%,to{opacity:0}}.zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown}@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0);-webkit-transform-origin:left center;transform-origin:left center}}.zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft}@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0);-webkit-transform-origin:right center;transform-origin:right center}}.zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight}@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp}@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}","date":"2020-04-04T08:34:36.682Z","updated":"2020-04-04T08:34:36.369Z","path":"images/tags _ Night's blog_files/animate.min.css","layout":"false","title":"","comments":1,"_id":"ck8npay3c00hrqr3lo9grsa14"},{"_content":"body {\n  width: 100%;\n}\nbody:before,\nbody:after {\n  content: \"\";\n  display: table;\n}\nbody:after {\n  clear: both;\n}\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  font-weight: inherit;\n  font-style: inherit;\n  font-family: inherit;\n  font-size: 100%;\n  vertical-align: baseline;\n}\nbody {\n  line-height: 1;\n  color: #000;\n  background: #fff;\n}\nol,\nul {\n  list-style: none;\n}\ntable {\n  border-collapse: separate;\n  border-spacing: 0;\n  vertical-align: middle;\n}\ncaption,\nth,\ntd {\n  text-align: left;\n  font-weight: normal;\n  vertical-align: middle;\n}\na img {\n  border: none;\n}\nol {\n  list-style: decimal;\n  padding-left: 20px;\n}\nul {\n  list-style: none;\n}\ninput,\nbutton {\n  margin: 0;\n  padding: 0;\n}\ninput::-moz-focus-inner,\nbutton::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\nhtml {\n  font-size: 18px;\n}\nbody {\n  font-family: \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  background: #fff;\n  text-rendering: optimizeLegibility;\n  -moz-osx-font-smoothing: grayscale;\n  -moz-font-feature-settings: \"liga\" on;\n  color: #333;\n  -webkit-overflow-scrolling: touch;\n}\n::selection {\n  background: rgba(147,181,224,0.6);\n  color: #fff;\n}\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: Times, Georgia, serif;\n  font-weight: bold;\n}\nh1,\nh2,\nh3 {\n  display: block;\n}\nh1 {\n  font-size: 1.6rem;\n  font-family: \"Segoe UI\", \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n}\nh2 {\n  font-size: 1.4rem;\n}\nh3 {\n  font-size: 1.15rem;\n}\nh4,\nh5,\nh6 {\n  font-size: 1rem;\n}\na {\n  text-decoration: none;\n  outline-width: 0;\n  color: #258fb8;\n  outline: none;\n}\n.alignleft {\n  float: left;\n}\n.alignright {\n  float: right;\n}\n.clearfix {\n  *zoom: 1;\n}\n.clearfix:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n.inner {\n  width: 1000px;\n  margin: 0 auto;\n}\n.hide {\n  display: none;\n}\n@media screen and (max-width: 1040px) {\n  .inner {\n    width: 100%;\n  }\n}\n#container {\n  min-height: 100%;\n}\n#container #mobile-nav {\n  display: none;\n}\n#container #mobile-nav .overlay {\n  height: 110px;\n  position: absolute;\n  width: 100%;\n  background: #4d4d4d;\n}\n#container #mobile-nav .overlay.fixed {\n  position: fixed;\n  height: 42px;\n  z-index: 99;\n}\n#container #mobile-nav #header {\n  padding: 10px 0 0 0;\n}\n#container #mobile-nav #header .profilepic {\n  display: block;\n  position: relative;\n  z-index: 100;\n}\n#container #mobile-nav #header .header-menu {\n  height: auto;\n  margin: 10px;\n}\n#container #mobile-nav #header .header-menu ul {\n  text-align: center;\n  cursor: default;\n}\n#container #mobile-nav #header .header-menu li {\n  display: inline-block;\n  margin: 3px;\n}\n#container .left-col {\n  background: rgba(255,255,255,0.85);\n  width: 249px;\n  position: fixed;\n  opacity: 1;\n  -webkit-transition: all 0.2s ease-in;\n  -moz-transition: all 0.2s ease-in;\n  -ms-transition: all 0.2s ease-in;\n  transition: all 0.2s ease-in;\n  height: 100%;\n  overflow-y: auto;\n}\n#container .left-col .overlay {\n  width: 100%;\n  height: 180px;\n  background-color: #000;\n  position: absolute;\n  opacity: 0.7;\n}\n#container .left-col .intrude-less {\n  width: 76%;\n  text-align: center;\n  margin: 112px auto 0;\n}\n#container .left-col li:hover {\n  background: none;\n  font-weight: bold;\n}\n#container .mid-col {\n  position: absolute;\n  right: 0;\n  min-height: 100%;\n  background: rgba(255,255,255,0.8);\n  left: 249px;\n  width: auto;\n}\n@media screen and (max-width: 800px) {\n  #container .left-col {\n    display: none;\n  }\n  #container .mid-col {\n    left: 0;\n  }\n  #container #header .header-nav {\n    position: relative;\n  }\n  #container #header .header-menu {\n    line-height: 1.3;\n    min-height: 3rem;\n  }\n  #container .header-author.fixed {\n    position: fixed;\n    top: -8px;\n    width: 100%;\n    color: #ddd;\n  }\n  #container .header-author.fixed a {\n    color: #fff;\n  }\n  #container .overlay .slider-trigger {\n    position: absolute;\n    z-index: 101;\n    bottom: 0;\n    left: 0;\n    width: 42px;\n    height: 42px;\n  }\n  #container .overlay .slider-trigger:hover {\n    background: #444;\n  }\n  #container .overlay .slider-trigger:before {\n    color: #ddd;\n    content: \"\\f00b\";\n    font: 16px FontAwesome;\n    width: 16px;\n    height: 16px;\n    margin-left: 9px;\n    margin-top: 14px;\n    display: block;\n  }\n  #container .article-header {\n    border-left: none;\n    padding: 0;\n    border-bottom: 1px dotted #ddd;\n  }\n  #container .article-header h1 {\n    margin-bottom: 2px;\n  }\n  #container #header .header-subtitle {\n    padding: 0 3em;\n    font-size: 1em;\n  }\n  #container .article-info-index.article-info {\n    padding-top: 10px;\n    margin: 0;\n    border-top: 1px solid #ddd;\n  }\n  #container .article-info-post.article-info {\n    margin: 0;\n    padding-top: 10px;\n    border: none;\n  }\n  #container #viewer-box .viewer-box-l {\n    font-size: 14px;\n  }\n  #container .article {\n    margin: 0.625rem 10px;\n  }\n  #container .article .article-entry {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  #container .article .article-entry .highlight {\n    padding: 0.35em 0.6em;\n  }\n  #container .article .article-title {\n    display: block;\n    margin: 0;\n    font-size: 1.5rem;\n    font-weight: bold;\n  }\n  #container .article .article-meta {\n    display: none;\n  }\n  #container .article-inner {\n    padding: 12px;\n  }\n  #container .archive-article-inner .article-meta {\n    top: 0;\n    margin-top: 0.5em;\n  }\n  #container .archives .archive-article {\n    padding: 0;\n  }\n  #container .archives .archive-article-date {\n    margin-right: 0;\n  }\n  #container .archives .article-info {\n    display: none;\n  }\n  #container .archive-article-inner .article-meta .archive-article-date,\n  #container .share {\n    padding: 3px 10px;\n  }\n  #container .duoshuo {\n    padding: 0 13px;\n  }\n  #container #disqus_thread {\n    padding: 0 13px;\n  }\n  #container #mobile-nav {\n    display: block;\n  }\n  #container #page-nav .extend {\n    opacity: 1;\n  }\n  #container #page-nav {\n    margin-top: 1em;\n  }\n  #container #page-nav .page-number {\n    margin-bottom: 1.5em;\n  }\n  #container .instagram .open-ins {\n    left: 2px;\n    top: -30px;\n    color: #aaa;\n  }\n  #container .info-on-right {\n    float: initial;\n  }\n  #container .archives-wrap {\n    margin: 10px 10px 0px;\n    padding: 10px;\n    padding-right: 0;\n  }\n  #container .archives-wrap .archive-year-wrap {\n    position: relative;\n    padding: 0 0 0 0;\n  }\n  #container .archives-wrap .archive-year-wrap a {\n    padding: 0 0 0 0;\n  }\n  #container .archives-wrap h1 {\n    font-size: 1.2em;\n    margin-bottom: 0.3em;\n  }\n  #container .archives .archive-article {\n    padding: 10px 0;\n    margin-left: 0;\n  }\n  #container #footer .footer-left {\n    float: initial;\n    margin-bottom: 0.5em;\n  }\n  #container #footer .footer-right {\n    float: initial;\n    margin-bottom: 1em;\n  }\n  #container #footer .visit {\n    margin: 0;\n  }\n  #container .article-category::before {\n    display: none;\n  }\n  #container .article-tag::before {\n    display: none;\n  }\n  #container .article-meta time:before {\n    display: none;\n  }\n  #container .visit {\n    margin-top: 1em;\n  }\n  #container #tocButton {\n    z-index: 100;\n    position: fixed;\n    left: 0.5em;\n    top: auto; /*In order to cover style in article.styl*/\n    bottom: 10px;\n    padding: 0.2em 0.4em;\n    border-radius: 6px;\n    border-style: outset;\n    background: rgba(255,255,255,0.7);\n    font-size: 1em;\n    font-weight: bold;\n    color: #808080;\n  }\n  #container #tocButton:hover {\n    color: #88acdb;\n    font-size: 1em;\n  }\n  #container .toc-article {\n    display: none;\n    z-index: 99;\n    left: 0;\n    top: 38%;\n    bottom: 1em;\n    height: auto;\n    max-height: 58%;\n    width: none;\n    width: auto;\n    min-width: 7em;\n    max-width: 61.8%;\n    overflow: auto;\n    margin-left: 0;\n    padding: 10px;\n    padding-left: 0;\n    border-radius: 2.8%;\n    background: none;\n    font-size: 1em;\n    line-height: 1.25em;\n  }\n  #container .toc-article .toc-title {\n    display: none;\n    padding: 0.3em;\n    color: #fff;\n    background: #d3d3d3;\n    border-radius: 3px;\n  }\n  #container .toc-article .toc {\n    padding: 0.5em;\n  }\n  #container .toc-article ol {\n    margin: 0;\n    padding: 0.5em;\n    border-radius: 5px;\n    background: rgba(255,255,255,0.85);\n  }\n  #container .toc-article ol ol {\n    padding: 0.1em 0;\n    padding-left: 1.2em;\n  }\n  #container .toc-article a {\n    color: #767676;\n  }\n  #container li.toc-item {\n    line-height: 1.2;\n  }\n  #container .copyright {\n    width: 90%;\n    padding: 0.5em 0.8em;\n  }\n  #container .scroll {\n    right: 1.2em;\n  }\n  #container .scroll li {\n    font-size: 1.7em;\n  }\n  #container .hide-labels {\n    z-index: 100;\n    position: fixed;\n    left: 0.5em;\n    top: auto;\n    bottom: 10px;\n    padding: 0.2em 0.4em;\n    border-radius: 6px;\n    border-style: outset;\n    opacity: 0.9;\n    background: rgba(255,255,255,0.8);\n    font-weight: bold;\n    color: #808080;\n  }\n  #container #post-nav-button {\n    display: none;\n  }\n  #container .post-list {\n    visibility: hidden;\n  }\n  #container .ua {\n    display: none !important;\n  }\n  #container .github-text {\n    display: none;\n  }\n  #container .copyright {\n    font-size: 16px;\n  }\n  #container .copyright .copy-path {\n    display: none;\n  }\n  #container .tags a {\n    line-height: 45px;\n  }\n}\n.header-author {\n  text-align: center;\n  margin: 13px 0;\n  font-family: Times, Georgia, serif;\n  font-size: 32px;\n  -webkit-transition: 0.3s;\n  -moz-transition: 0.3s;\n  -ms-transition: 0.3s;\n  transition: 0.3s;\n}\n#header {\n  width: 100%;\n}\n#header a {\n  color: #696969;\n}\n#header a:hover {\n  color: #b0a0aa;\n}\n#header .profilepic {\n  text-align: center;\n  display: block;\n  border: 5px solid #fff;\n  border-radius: 50%;\n  width: 130px;\n  height: 130px;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  background: #88acdb;\n  -webkit-box-orient: horizontal;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  text-align: center;\n}\n#header .profilepic img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  -webkit-animation-duration: 0.4s;\n  -moz-animation-duration: 0.4s;\n  -ms-animation-duration: 0.4s;\n  animation-duration: 0.4s;\n  -webkit-animation-delay: 0.3s;\n  -moz-animation-delay: 0.3s;\n  -ms-animation-delay: 0.3s;\n  animation-delay: 0.3s;\n  -webkit-animation-duration: 0.4s;\n  -webkit-animation-delay: 0.3s;\n}\n#header .profilepic:hover {\n  background: #fff;\n  border: 5px solid #88acdb;\n  -webkit-box-shadow: 0 0 1.5em #88acdb;\n  box-shadow: 0 0 1.5em #88acdb;\n  -webkit-animation: profilepic 0.15s linear infinite alternate;\n  -moz-animation: profilepic 0.15s linear infinite alternate;\n  -ms-animation: profilepic 0.15s linear infinite alternate;\n  animation: profilepic 0.15s linear infinite alternate;\n  -webkit-animation: profilepic 0.15s linear infinite alternate;\n}\n@-moz-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@-webkit-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@-o-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n#header .header-subtitle {\n  text-align: center;\n  color: #999;\n  font-size: 0.875rem;\n  line-height: 1.75;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n#header .header-menu {\n  font-weight: 550;\n  line-height: 1.75rem;\n  font-family: inherit;\n  cursor: pointer;\n  text-transform: uppercase;\n  float: none;\n  min-height: 5.25rem;\n  max-height: 8.75rem;\n  overflow: visible;\n  text-align: center;\n  display: -webkit-box;\n  -webkit-box-orient: horizontal;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n}\n#header .header-menu li {\n  cursor: default;\n}\n#header .header-menu li a {\n  font-size: 0.875rem;\n  min-width: 249px;\n}\n#header .switch-area {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  min-height: 260px;\n  font-size: 0.875rem;\n}\n#header .switch-area .switch-wrap {\n  -webkit-transition: -webkit-transform 0.3s ease-in;\n  -moz-transition: -moz-transform 0.3s ease-in;\n  -ms-transition: -ms-transform 0.3s ease-in;\n  transition: transform 0.3s ease-in;\n  position: relative;\n}\n#header .turn-left {\n  -webkit-transform: translate(-100%, 0);\n  -moz-transform: translate(-100%, 0);\n  -ms-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n}\n#header .header-nav {\n  width: 100%;\n  position: absolute;\n  -webkit-transition: -webkit-transform 0.3s ease-in;\n  -moz-transition: -moz-transform 0.3s ease-in;\n  -ms-transition: -ms-transform 0.3s ease-in;\n  transition: transform 0.3s ease-in;\n}\n#header .switch-part {\n  width: 100%;\n  position: absolute;\n}\n#header .switch-part1 {\n  left: 0;\n}\n#header .switch-part2 {\n  left: 100%;\n  overflow-y: auto;\n  max-height: 260px;\n  font-size: 0.75rem;\n}\n#header .switch-part3 {\n  left: 200%;\n  line-height: 1.6;\n  overflow-y: auto;\n  max-height: 260px;\n}\n#header .switch-part3 .switch-friends-link {\n  display: inline-block;\n  margin-right: 9px;\n  border-radius: 3px;\n  padding: 5px;\n}\n#header .switch-part3 .switch-friends-link:hover {\n  background: #88acdb;\n  color: #fff;\n}\n#header .switch-part4 {\n  left: 300%;\n  text-align: left;\n  line-height: 30px;\n}\n#header .header-nav .social {\n  margin-top: 10px;\n  text-align: center;\n  font-family: Arial;\n}\n#header .header-nav .social a {\n  width: 39px;\n  height: 39px;\n  border-radius: 50%;\n  margin: 0 2px 6px;\n  vertical-align: middle;\n  font-size: 25.740000000000002px;\n  line-height: 39px;\n  text-align: center;\n  color: #fff;\n  background: #6f7170;\n  opacity: 0.75;\n  -webkit-box-shadow: 1px 2px 2px rgba(0,0,0,0.1), 1px 1px 3px rgba(0,0,0,0.3);\n  box-shadow: 1px 2px 2px rgba(0,0,0,0.1), 1px 1px 3px rgba(0,0,0,0.3);\n}\n#header .header-nav .social a:hover {\n  opacity: 1;\n  -webkit-transform: scale(1.1);\n  -moz-transform: scale(1.1);\n  -ms-transform: scale(1.1);\n  transform: scale(1.1);\n}\n#header .header-nav .social .新浪微博 {\n  background: url(\"/img/新浪微博.png\") center no-repeat #ecc260;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .知乎 {\n  background: url(\"/img/知乎.png\") center no-repeat #0078d8;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .豆瓣 {\n  background: url(\"/img/豆瓣.png\") center no-repeat #06c611;\n  -webkit-background-size: 88%;\n  -moz-background-size: 88%;\n  background-size: 88%;\n}\n#header .header-nav .social .V2EX {\n  background: url(\"/img/V2EX.png\") center no-repeat #e4cdb4;\n  -webkit-background-size: 78%;\n  -moz-background-size: 78%;\n  background-size: 78%;\n}\n#header .header-nav .social .TiddlyWiki {\n  background: url(\"/img/TiddlyWiki.png\") center no-repeat #6283dd;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .简书 {\n  background: url(\"/img/简书.png\") center no-repeat #e99888;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .SegmentFault {\n  background: url(\"/img/SegmentFault.png\") center no-repeat #018f56;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .网易云音乐 {\n  background: url(\"/img/网易云音乐.png\") center no-repeat #e51e02;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .虾米音乐 {\n  background: url(\"/img/虾米音乐.png\") center no-repeat #ff6a00;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .CSDN {\n  background: url(\"/img/CSDN.png\") center no-repeat #f00;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .博客园 {\n  background: url(\"/img/博客园.png\") center no-repeat #217ed4;\n  -webkit-background-size: 95%;\n  -moz-background-size: 95%;\n  background-size: 95%;\n}\n#header .header-nav .social .Plunker {\n  background: url(\"/img/Plunker.png\") center no-repeat #000;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .LOFTER {\n  background: url(\"/img/LOFTER.png\") center no-repeat #316061;\n  -webkit-background-size: 75%;\n  -moz-background-size: 75%;\n  background-size: 75%;\n}\n#header .header-nav .social .Coding {\n  background: url(\"/img/Coding.png\") center no-repeat #fff;\n  -webkit-background-size: 88%;\n  -moz-background-size: 88%;\n  background-size: 88%;\n}\n#header .header-nav .social .bilibili {\n  background: url(\"/img/bilibili.png\") center no-repeat #f589a0;\n  -webkit-background-size: 100%;\n  -moz-background-size: 100%;\n  background-size: 100%;\n}\n#header .header-nav .social .AcFun {\n  background: url(\"/img/AcFun.png\") center no-repeat #fbc054;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .niconico {\n  background: url(\"/img/niconico.png\") center no-repeat #fff;\n  -webkit-background-size: 70%;\n  -moz-background-size: 70%;\n  background-size: 70%;\n}\n#header .header-nav .social .Quora {\n  background: url(\"/img/Quora.png\") center no-repeat #b92b27;\n  -webkit-background-size: 103%;\n  -moz-background-size: 103%;\n  background-size: 103%;\n}\n#header .header-nav .social .GitHub {\n  background: url(\"//cdn.bootcss.com/logos/0.2.0/github-octocat.svg\") no-repeat #fff;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n  background-position: 50% 100%;\n}\n#header .header-nav .social .CodePen {\n  background: url(\"//cdn.bootcss.com/logos/0.2.0/codepen-icon.svg\") no-repeat #000;\n  -webkit-background-size: 70%;\n  -moz-background-size: 70%;\n  background-size: 70%;\n  background-position: 50% 50%;\n}\n#header .header-nav .social .RSS {\n  background: #ef7522;\n}\n#header .header-nav .social .RSS::before {\n  content: '\\f09e';\n}\n#header .header-nav .social .Google {\n  background: #c83d20;\n}\n#header .header-nav .social .Google::before {\n  content: '\\f1a0';\n}\n#header .header-nav .social .Twitter {\n  background: #55cff8;\n}\n#header .header-nav .social .Twitter::before {\n  content: '\\f099';\n}\n#header .header-nav .social .LinkedIn {\n  background: #005a87;\n}\n#header .header-nav .social .LinkedIn::before {\n  content: '\\f0e1';\n}\n#header .header-nav .social .Email {\n  background: #6fc0e4;\n}\n#header .header-nav .social .Email::before {\n  content: '\\f003';\n}\n#header .header-nav .social .Facebook {\n  background: #3b5998;\n}\n#header .header-nav .social .Facebook::before {\n  content: '\\f09a';\n}\n#header .header-nav .social .QQ {\n  background: #1cbcef;\n}\n#header .header-nav .social .QQ::before {\n  content: '\\f1d6';\n}\n#header .header-nav .social .微信 {\n  background: #8cdc49;\n}\n#header .header-nav .social .微信::before {\n  content: '\\f1d7';\n}\n#header .header-nav .social .PayPal {\n  background: #03a4e4;\n}\n#header .header-nav .social .PayPal::before {\n  content: '\\f1ed';\n}\n#header .header-nav .social .StackOverflow {\n  background: #f48024;\n}\n#header .header-nav .social .StackOverflow::before {\n  content: '\\f16c';\n}\n#header .header-nav .social .Instagram {\n  background: #bab0a6;\n}\n#header .header-nav .social .Instagram::before {\n  content: '\\f16d';\n}\n#header .header-nav .social .Flickr {\n  background: #0365c8;\n}\n#header .header-nav .social .Flickr::before {\n  content: '\\f16e';\n}\n#header .header-nav .social .reddit {\n  background: #0278d1;\n}\n#header .header-nav .social .reddit::before {\n  content: '\\f281';\n}\n#header .header-nav .social .Medium {\n  background: #00ab6b;\n}\n#header .header-nav .social .Medium::before {\n  content: '\\f23a';\n}\n#header .header-nav .social .Tumblr {\n  background: #3a5976;\n}\n#header .header-nav .social .Tumblr::before {\n  content: '\\f173';\n}\n#header .header-nav .social ._500px {\n  background: #0099e5;\n}\n#header .header-nav .social ._500px::before {\n  content: '\\f26e';\n}\n.duoshuo {\n  padding: 0 40px;\n}\n#disqus_thread {\n  padding: 0 40px;\n}\n#scroll {\n  right: 0;\n}\n.scroll {\n  z-index: 999;\n  position: fixed;\n  top: 61.8%;\n  text-align: center;\n  line-height: 42px;\n}\n.scroll a {\n  display: block;\n  width: 29px;\n  height: 42px;\n  font-size: 28px;\n  background: rgba(215,216,215,0.4);\n}\n.scroll a .fa {\n  color: rgba(255,255,255,0.8);\n}\n.scroll a:hover {\n  background: rgba(147,181,224,0.3) !important;\n}\n.scroll a:hover .fa {\n  color: #fff;\n}\n.scroll a:not(:last-child) {\n  border-bottom: 1px solid #fff;\n}\n.hide-labels {\n  position: fixed;\n  left: 327px;\n  top: 30px;\n  padding: 1px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  outline: none;\n  font-family: inherit;\n  font-size: 0.9em;\n  font-weight: bold;\n  color: #666;\n  background: none;\n  opacity: 0.32;\n  -webkit-appearance: none;\n}\n.hide-labels:hover {\n  color: #88acdb;\n  opacity: 1;\n}\n#post-nav-button {\n  left: 249px;\n  top: 61.8%;\n}\n#post-nav-button a {\n  border-bottom-color: transparent;\n  background: none;\n  cursor: pointer;\n}\n#post-nav-button a .fa-times {\n  display: none;\n}\n.post-list {\n  display: none;\n  text-align: left;\n  font-size: 0.9em;\n  line-height: 1.3em;\n  list-style: decimal;\n}\n.post-list li {\n  margin: 0.4em 0 0.1em 0.7em;\n}\n.post-list li a {\n  color: #808080;\n}\n.post-list li a:hover {\ncolor\n  text-decoration: none;\n}\n.post-list li:hover a {\n  color: #88acdb;\n}\n.article-entry .github-widget h3::after {\n  content: none;\n}\n.article-entry .github-widget .github-box {\n  font-size: 0.8125rem;\n}\n.article-entry .github-widget .github-box .github-box-title h3 {\n  font-size: 1rem;\n}\n.article-entry .github-widget .github-box .github-box-title .github-stats {\n  font-size: 0.6875rem;\n}\n.article-entry .github-widget .github-box .updated {\n  font-size: 0.6875rem;\n}\n.article-entry .github-widget .github-box .download {\n  font-size: 0.75rem;\n}\n.ui-tooltip {\n  padding: 6px;\n  max-width: 30em;\n  -webkit-box-shadow: 0 0 0.8em rgba(0,0,0,0.6);\n  box-shadow: 0 0 0.8em rgba(0,0,0,0.6);\n  color: #fff;\n  font-family: \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  font-size: 0.9em;\n  background: rgba(0,0,0,0.65);\n}\nbody .ui-tooltip {\n  border: 1px solid #fff;\n}\n.pace .pace-progress {\n  background: #77b6ff;\n  -webkit-box-shadow: 0 0 10px rgba(119,182,255,0.7);\n  box-shadow: 0 0 10px rgba(119,182,255,0.7);\n}\n.article-entry ul > li,\n.share,\n.article-category::before,\n.article-tag::before,\n.article-meta time:before {\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.youyan {\n  padding: 20px 40px;\n}\n@media (max-width: 767px) {\n  .youyan {\n    padding: 20px 10px;\n  }\n}\n.archives-wrap {\n  position: relative;\n  margin: 0 30px;\n  padding-right: 1.5em;\n  border-bottom: 1px solid #eee;\n  background: #fff;\n}\n.archives-wrap:first-child {\n  margin-top: 30px;\n}\n.archives-wrap:last-child {\n  margin-bottom: 80px;\n}\n.archives-wrap .archive-year-wrap {\n  line-height: 35px;\n  width: 200px;\n  position: absolute;\n  padding-top: 20px;\n  font-size: 1.8em;\n}\n.archives-wrap .archive-year-wrap a {\n  color: #666;\n  font-weight: bold;\n  padding-left: 48px;\n}\n.archives {\n  position: relative;\n}\n.archives .article-info {\n  border: none;\n}\n.archives .archive-article {\n  margin-left: 160px;\n  padding: 0.5em 0;\n  border-bottom: 1px solid #eee;\n  border-top: 1px solid #fff;\n  position: relative;\n}\n.archives .archive-article:first-child {\n  border-top: 1em;\n  padding-top: 20px;\n}\n.archives .archive-article:last-child {\n  border-bottom: none;\n}\n.archives .archive-article-title {\n  font-size: 1.125rem;\n  color: #333;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.archives .archive-article-title:hover {\n  color: #657b83;\n}\n.archives .archive-article-title span {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.archives .archive-article-title span:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.archive-article-inner .archive-article-header {\n  position: relative;\n}\n.archive-article-inner .article-meta {\n  position: relative;\n  float: right;\n  margin-top: -0.277777777777778rem;\n  padding-right: 0;\n  color: #555;\n  background: none;\n  text-align: right;\n  width: auto;\n}\n.archive-article-inner .article-meta .article-date time {\n  color: #aaa;\n}\n.archive-article-inner .article-meta .archive-article-date,\n.archive-article-inner .article-meta .article-tag-list {\n  margin-right: 1em;\n  display: -moz-inline-stack;\n  display: inline-block;\n  vertical-align: middle;\n  zoom: 1;\n  color: #666;\n  font-size: 14px;\n}\n.archive-article-inner .article-meta .archive-article-date {\n  cursor: default;\n  font-size: 0.875rem;\n  margin-bottom: 5px;\n  margin-top: -10px;\n}\n.archive-article-inner .article-meta .archive-article-date time:before {\n  content: \"\\f073\";\n  color: #999;\n  position: relative;\n  margin-right: 10px;\n  font: 18px FontAwesome;\n}\n.archive-article-inner .article-meta .article-category:before {\n  float: left;\n  margin-top: 1px;\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-category .article-category-link {\n  width: auto;\n  max-width: 83px;\n  padding-left: 10px;\n}\n.archive-article-inner .article-meta .article-tag-list {\n  margin-top: 0px;\n}\n.archive-article-inner .article-meta .article-tag-list:before {\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-tag-list .article-tag-list-item {\n  display: inline-block;\n  width: auto;\n  max-width: 83px;\n  padding-left: 8px;\n  font-size: 12px;\n}\n.archives-wrap {\n  background: rgba(255,255,255,0.4);\n}\n.archives-wrap .archives {\n  background: transparent;\n}\n.body-wrap {\n  margin-bottom: 126px;\n  overflow: hidden;\n}\n.article {\n  margin: 30px;\n  margin-bottom: 5px;\n  position: relative;\n  background: rgba(255,255,255,0.45);\n  -webkit-transition: all 0.2s ease-in;\n}\n.article.show {\n  visibility: visible;\n  -webkit-animation: cd-bounce-1 0.6s;\n  -moz-animation: cd-bounce-1 0.6s;\n  -webkit-animation: cd-bounce-1 0.6s;\n  -moz-animation: cd-bounce-1 0.6s;\n  -ms-animation: cd-bounce-1 0.6s;\n  animation: cd-bounce-1 0.6s;\n}\n.article.hidden {\n  visibility: hidden;\n}\n.article img {\n  max-width: 100%;\n  margin: 0.5em auto;\n}\n@-webkit-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n  }\n}\n@-moz-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -moz-transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -moz-transform: scale(1.01);\n  }\n  100% {\n    -moz-transform: scale(1);\n  }\n}\n.article-index {\n  margin-left: 200px;\n  padding: 15px 0;\n  margin-right: 75px;\n}\n.article-index .brief {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.article-index .brief:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.article-title {\n  color: #696969;\n  margin-left: 0px;\n  font-weight: 400;\n  line-height: 1.3;\n  margin-bottom: 20px;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -o-transition: color 0.3s;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.article-title:hover {\n  color: #b0a0aa;\n}\n.article-inner {\n  position: relative;\n  margin-bottom: 0px;\n  padding-bottom: 0.5em;\n  word-break: break-word;\n  -webkit-box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n}\n.article-header {\n  border-left: 6px solid #eee;\n  padding: 15px 8.2em 15px 25px;\n}\n.article-header:hover {\n  border-left: 5px solid #9c9;\n}\n.article-info li:hover {\n  background: none;\n}\n.article-info-index.article-info {\n  padding-top: 20px;\n  margin: 30px 30px 0 30px;\n  border-top: 1px solid #ddd;\n}\n.article-info-post.article-info {\n  padding: 0;\n  border: none;\n  margin: -30px 0 20px 30px;\n}\n.article-entry {\n  line-height: 1.65em;\n  padding: 0 2em;\n  font-size: 1rem;\n}\n.article-entry blockquote {\n  padding: 0.4em 20px;\n  margin: 0.5em auto;\n  border-left: 4px solid rgba(147,181,224,0.4);\n  background: rgba(255,255,255,0.4);\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.1);\n}\n.article-entry blockquote p {\n  margin: 0.4em auto;\n}\n.article-entry blockquote blockquote {\n  border-left: none;\n}\n.article-entry blockquote footer {\n  font-style: italic;\n}\n.article-entry blockquote footer cite::before {\n  content: \"—\";\n  padding: 0 0.3em;\n}\n.article-entry a:hover {\n  text-decoration: underline;\n  color: #9c9;\n}\n.article-entry p {\n  margin: 0.85em auto;\n  line-height: 1.7;\n}\n.article-entry em {\n  font-style: italic;\n}\n.article-entry video {\n  max-width: 100%;\n}\n.article-entry strong {\n  font-weight: bold;\n}\n.article-entry li strong {\n  color: #708090;\n}\n.article-entry .caption {\n  display: block;\n  font-size: 0.8em;\n  color: #aaa;\n}\n.article-entry hr {\n  height: 0;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-left: 0;\n  border-right: 0;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #fff;\n}\n.article-entry .table-area {\n  overflow: auto;\n}\n.article-entry table {\n  width: 100%;\n  max-width: 65em;\n  border: 1px solid #dedede;\n  margin: 15px auto;\n  border-collapse: collapse;\n  empty-cells: show;\n}\n.article-entry table tr,\n.article-entry table td {\n  height: 35px;\n}\n.article-entry table th {\n  font-weight: bold;\n  text-align: center;\n  background: rgba(158,188,226,0.2);\n  white-space: nowrap;\n}\n.article-entry table tbody tr:hover {\n  background: #efefef;\n}\n.article-entry table td,\n.article-entry table th {\n  border: 1px solid #dedede;\n  padding: 0 10px;\n}\n.article-entry table tr:nth-child(2n) {\n  background: rgba(158,188,226,0.12);\n}\n.article-entry table td:nth-child(1) {\n  white-space: nowrap;\n}\n.article-entry li {\n  margin: 0.1em;\n  font-size: 1rem;\n}\n.article-entry ul,\n.article-entry ol {\n  margin: 10px 0;\n}\n.article-entry ul li.task-list,\n.article-entry ol li.task-list {\n  list-style: none;\n  margin-left: 0;\n}\n.article-entry ul li.task-list::before,\n.article-entry ol li.task-list::before {\n  display: none;\n}\n.article-entry li ul,\n.article-entry li ol {\n  margin-left: 30px;\n}\n.article-entry ul > li:before {\n  content: \"\";\n  background: #dedede;\n}\n.article-entry ul > li:before {\n  display: inline-block;\n  content: \"\";\n  width: 0.4em;\n  height: 0.4em;\n  margin-right: 0.5em;\n  margin-bottom: 0.11em;\n  border: 1px solid #d3d3d3;\n  border-radius: 50%;\n  background: #d3d3d3;\n}\n.article-entry h1 {\n  margin-top: 30px;\n}\n.article-entry h2 {\n  margin: 0.5em auto;\n  color: #66be66;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #ddd;\n  text-align: center;\n  font-size: 1.5rem;\n}\n.article-entry h2:hover {\n  color: #88acdb;\n}\n.article-entry h2::before,\n.article-entry h2::after {\n  content: \" —— \";\n  font-family: Arial;\n}\n.article-entry h3 {\n  margin: 0.5em auto;\n  color: #438aac;\n  background: rgba(243,248,253,0.6);\n  border: 1px solid #d2e8fa;\n  padding: 0.2em 0.6em;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.15);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.15);\n}\n.article-entry h3:hover a {\n  text-decoration: underline;\n}\n.article-entry h3::after {\n  content: \" >\";\n}\n.article-entry h4,\n.article-entry h5,\n.article-entry h6 {\n  margin-top: 20px;\n  color: #574c4c;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #ddd;\n}\n.article-entry figure table {\n  border: none;\n  width: auto;\n  margin: 0;\n}\n.article-entry figure table tbody tr:hover {\n  background: none;\n}\n.article-meta {\n  position: absolute;\n  right: 0;\n  top: 23px;\n  width: 9rem;\n  padding-right: 1.2rem;\n  font-size: 0.875rem;\n  text-align: right;\n  z-index: 1;\n}\n.article-meta time {\n  color: #aaa;\n  float: right;\n}\n.article-meta time:before {\n  margin-top: 0px;\n  margin-right: 4px;\n  content: \"\\f073\";\n  font: 1em FontAwesome;\n  color: #999;\n}\n.article-meta a:nth-child(2) {\n  clear: right;\n  float: right;\n  padding-top: 0.45rem;\n  color: #999;\n}\n.article-meta a:nth-child(2):hover {\n  color: #258fb8;\n  font-size: 110%;\n}\n.article-meta a:nth-child(2) i {\n  vertical-align: top;\n}\n.article-more-link {\n  float: right;\n  margin-top: 5px;\n}\n.article-more-link a {\n  padding: 2px 4px;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n  background: #88acdb;\n  color: #fff;\n  font-size: 0.9rem;\n  line-height: 1em;\n  white-space: nowrap;\n  -webkit-transition: background 0.3s;\n  -moz-transition: background 0.3s;\n  -ms-transition: background 0.3s;\n  transition: background 0.3s;\n  opacity: 0.75;\n}\n.article-more-link a:hover {\n  background: #9c9;\n  opacity: 1;\n}\n.article-more-link a.hidden {\n  visibility: hidden;\n}\n.article-more-link:hover {\n  -webkit-transform: scale(1.06);\n  -moz-transform: scale(1.06);\n  -ms-transform: scale(1.06);\n  transform: scale(1.06);\n}\n#article-nav {\n  display: table;\n  width: 100%;\n  height: 2.5em;\n  margin: 1em auto;\n  font-size: 1rem;\n  background: rgba(158,188,226,0.75);\n}\n#article-nav:hover {\n  background: #93b5e0;\n}\n.article-nav-title {\n  display: table-cell;\n  vertical-align: middle;\n}\n.article-nav-title a {\n  color: #fff;\n}\n.article-nav-title a:hover {\n  font-style: italic;\n}\n#article-nav-older {\n  padding-right: 1em;\n  text-align: right;\n}\n#article-nav-older::after {\n  padding-left: 0.5em;\n  content: \"→\";\n  color: #fff;\n  font-weight: bold;\n  font-family: Calibri;\n}\n#article-nav-newer {\n  padding-left: 1em;\n  text-align: left;\n}\n#article-nav-newer::before {\n  padding-right: 0.5em;\n  content: \"←\";\n  color: #fff;\n  font-weight: bold;\n  font-family: Calibri;\n}\n#intro {\n  display: inline;\n  font-weight: normal;\n  font-size: inherit;\n  opacity: 0;\n  color: #fff;\n}\n#intro::before,\n#intro::after {\n  content: none;\n}\nli:hover {\n  background: rgba(158,188,226,0.21);\n}\n.article-entry > ol:last-child > li:nth-child(2n) {\n  background: rgba(158,188,226,0.12);\n}\n.article-entry > ol:last-child li {\n  word-break: break-all;\n}\n.article-entry > ol:last-child li:hover {\n  background: #f0f0f0;\n}\n#tocButton {\n  position: fixed;\n  left: 169px;\n  top: 385px;\n  font-size: 0.9em;\n  font-weight: bold;\n  font-family: inherit;\n  color: #d3d3d3;\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n  -webkit-appearance: none;\n}\n#tocButton:hover {\n  color: #88acdb;\n}\n.toc-article {\n  position: fixed;\n  width: 179px;\n  top: 378px;\n  bottom: 1em;\n  left: 0;\n  margin-left: 0;\n  padding: 6px 10px 10px 46px;\n  border-radius: 2.8%;\n  overflow: auto;\n}\n#toc {\n  font-size: 0.9rem;\n  line-height: 1.65em;\n}\n#toc .toc-title {\n  font-weight: bold;\n  color: #808080;\n}\n#toc .toc-title.clickable {\n  cursor: pointer;\n}\n#toc .toc-title.clickable:hover {\n  color: #88acdb;\n}\n#toc .toc-title.clickable:active {\n  color: #d3d3d3;\n}\n#toc ol.toc {\n  margin-left: 0;\n  padding: 0.7em;\n  padding-right: 0;\n}\n#toc ol.toc li.toc-item {\n  list-style-type: none;\n}\n#toc ol.toc li.toc-item i {\n  display: inline-block;\n  margin-left: -0.9em;\n  width: 0.9em;\n  color: #b3b3b3;\n  font-weight: bold;\n  cursor: pointer;\n}\n#toc ol.toc li.toc-item i:hover {\n  color: #000;\n}\n#toc ol.toc li.toc-item i.hide {\n  display: none;\n}\n#toc ol.toc li.toc-item:hover {\n  background: none;\n}\n#toc ol.toc a.toc-link {\n  color: #808080;\n}\n#toc ol.toc a.toc-link:visited {\n  color: #f48385;\n}\n#toc ol.toc a.toc-link:hover {\n  color: #88acdb;\n  text-decoration: none;\n  background: rgba(158,188,226,0.21);\n}\n#toc ol.toc ol.toc-child {\n  padding-left: 1.25em;\n  margin: 4px 0;\n}\n#toc a.toc-link {\n  display: inline-block;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow-x: hidden;\n}\n#toc li.toc-item {\n  line-height: 1.45em;\n}\n#toc li.toc-item > i {\n  position: relative;\n  bottom: 0.35em;\n}\n.copyright {\n  width: 85%;\n  max-width: 45em;\n  margin: 1.2em auto 0;\n  padding: 0.5em 1.8em;\n  border: 1px solid #d3d3d3;\n  font-size: 0.93rem;\n  line-height: 1.6em;\n  word-break: break-all;\n  background: rgba(255,255,255,0.4);\n}\n.copyright span {\n  display: inline-block;\n  width: 5.8em;\n  color: #b5b5b5;\n  font-weight: bold;\n}\n.copyright a {\n  color: #808080;\n}\n.copyright a:hover {\n  color: #a3d2a3;\n  text-decoration: underline;\n}\n.copyright:hover .fa-clipboard {\n  color: #000;\n}\n.copyright .copy-path {\n  margin-left: 1em;\n  width: 1em;\n}\n.copyright .copy-path:hover {\n  color: #808080;\n  cursor: pointer;\n}\naside.comment-bar {\n  display: block;\n  cursor: pointer;\n  background: rgba(255,255,255,0.3);\n  padding: 0.5rem;\n  -webkit-box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  text-align: center;\n  font-size: 2rem;\n}\naside.comment-bar i.fa-spinner {\n  display: none;\n}\naside.comment-bar a {\n  display: inline-block;\n  width: 3em;\n}\naside.comment-bar a span {\n  font-size: 1.5rem;\n}\naside.comment-bar:active {\n  background: none;\n}\n@-moz-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@-o-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n.archives-wrap {\n  position: relative;\n  margin: 0 30px;\n  padding-right: 1.5em;\n  border-bottom: 1px solid #eee;\n  background: #fff;\n}\n.archives-wrap:first-child {\n  margin-top: 30px;\n}\n.archives-wrap:last-child {\n  margin-bottom: 80px;\n}\n.archives-wrap .archive-year-wrap {\n  line-height: 35px;\n  width: 200px;\n  position: absolute;\n  padding-top: 20px;\n  font-size: 1.8em;\n}\n.archives-wrap .archive-year-wrap a {\n  color: #666;\n  font-weight: bold;\n  padding-left: 48px;\n}\n.archives {\n  position: relative;\n}\n.archives .article-info {\n  border: none;\n}\n.archives .archive-article {\n  margin-left: 160px;\n  padding: 0.5em 0;\n  border-bottom: 1px solid #eee;\n  border-top: 1px solid #fff;\n  position: relative;\n}\n.archives .archive-article:first-child {\n  border-top: 1em;\n  padding-top: 20px;\n}\n.archives .archive-article:last-child {\n  border-bottom: none;\n}\n.archives .archive-article-title {\n  font-size: 1.125rem;\n  color: #333;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.archives .archive-article-title:hover {\n  color: #657b83;\n}\n.archives .archive-article-title span {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.archives .archive-article-title span:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.archive-article-inner .archive-article-header {\n  position: relative;\n}\n.archive-article-inner .article-meta {\n  position: relative;\n  float: right;\n  margin-top: -0.277777777777778rem;\n  padding-right: 0;\n  color: #555;\n  background: none;\n  text-align: right;\n  width: auto;\n}\n.archive-article-inner .article-meta .article-date time {\n  color: #aaa;\n}\n.archive-article-inner .article-meta .archive-article-date,\n.archive-article-inner .article-meta .article-tag-list {\n  margin-right: 1em;\n  display: -moz-inline-stack;\n  display: inline-block;\n  vertical-align: middle;\n  zoom: 1;\n  color: #666;\n  font-size: 14px;\n}\n.archive-article-inner .article-meta .archive-article-date {\n  cursor: default;\n  font-size: 0.875rem;\n  margin-bottom: 5px;\n  margin-top: -10px;\n}\n.archive-article-inner .article-meta .archive-article-date time:before {\n  content: \"\\f073\";\n  color: #999;\n  position: relative;\n  margin-right: 10px;\n  font: 18px FontAwesome;\n}\n.archive-article-inner .article-meta .article-category:before {\n  float: left;\n  margin-top: 1px;\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-category .article-category-link {\n  width: auto;\n  max-width: 83px;\n  padding-left: 10px;\n}\n.archive-article-inner .article-meta .article-tag-list {\n  margin-top: 0px;\n}\n.archive-article-inner .article-meta .article-tag-list:before {\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-tag-list .article-tag-list-item {\n  display: inline-block;\n  width: auto;\n  max-width: 83px;\n  padding-left: 8px;\n  font-size: 12px;\n}\n.archives-wrap {\n  background: rgba(255,255,255,0.4);\n}\n.archives-wrap .archives {\n  background: transparent;\n}\n.article-entry pre,\n.article-entry .highlight {\n  background: rgba(51,51,51,0.85);\n  margin: auto;\n  padding: 0.35em 1.5em;\n  border-style: solid;\n  border-color: #ddd;\n  border-width: 1px;\n  overflow: auto;\n  color: #ccc;\n  line-height: 1.3rem;\n}\n.article-entry .highlight .gutter pre,\n.article-entry .gist .gist-file .gist-data .line-numbers {\n  color: #d3d3d3;\n  font-size: 0.85rem;\n}\n.article-entry pre,\n.article-entry code {\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco, monospace, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\";\n  font-size: 1em;\n}\n.article-entry pre code {\n  text-shadow: none;\n  padding: 0;\n  background: none;\n  color: #ccc;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n.article-entry .highlight {\n  border-radius: 2px;\n  max-height: 50em;\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n  overflow: auto;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.05);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.05);\n}\n.article-entry .highlight pre {\n  background: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n.article-entry .highlight table {\n  margin: 0;\n  width: auto;\n}\n.article-entry .highlight td {\n  border: none;\n  padding: 0;\n}\n.article-entry .highlight figcaption {\n  font-size: 0.85em;\n  color: #999;\n  line-height: 1em;\n  margin-bottom: 1em;\n}\n.article-entry .highlight figcaption:before,\n.article-entry .highlight figcaption:after {\n  content: \"\";\n  display: table;\n}\n.article-entry .highlight figcaption:after {\n  clear: both;\n}\n.article-entry .highlight figcaption a {\n  float: right;\n}\n.article-entry .highlight .gutter pre {\n  text-align: right;\n  padding-right: 1em;\n}\n.article-entry .highlight .line {\n  line-height: 1.3rem;\n}\n.article-entry .gist {\n  margin: 0 -20px;\n  border-style: solid;\n  border-color: #ddd;\n  border-width: 1px 0;\n  background: rgba(51,51,51,0.85);\n  padding: 15px 20px 15px 0;\n}\n.article-entry .gist .gist-file {\n  border: none;\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco monospace;\n  margin: 0;\n}\n.article-entry .gist .gist-file .gist-data {\n  background: none;\n  border: none;\n}\n.article-entry .gist .gist-file .gist-data .line-numbers {\n  background: none;\n  border: none;\n  padding: 0 20px 0 0;\n}\n.article-entry .gist .gist-file .gist-data .line-data {\n  padding: 0 !important;\n}\n.article-entry .gist .gist-file .highlight {\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n.article-entry .gist .gist-file .gist-meta {\n  background: rgba(51,51,51,0.85);\n  color: #999;\n  font: 0.85em \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial;\n  text-shadow: 0 0;\n  padding: 0;\n  margin-top: 1em;\n  margin-left: 20px;\n}\n.article-entry .gist .gist-file .gist-meta a {\n  color: #258fb8;\n  font-weight: normal;\n}\n.article-entry .gist .gist-file .gist-meta a:hover {\n  text-decoration: underline;\n}\n.article-entry code {\n  color: #808080;\n  background: rgba(248,237,223,0.5);\n  padding: 0.05em 0.3em;\n  border-radius: 3px;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.08);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.08);\n  var: 1;\n  color: #fff;\n  background: rgba(153,204,153,0.7);\n}\npre .comment,\npre .title {\n  color: #999;\n}\npre .variable,\npre .attribute,\npre .tag,\npre .regexp,\npre .ruby .constant,\npre .xml .tag .title,\npre .xml .pi,\npre .xml .doctype,\npre .html .doctype,\npre .css .id,\npre .css .class,\npre .css .pseudo {\n  color: #f2777a;\n}\npre .number,\npre .preprocessor,\npre .built_in,\npre .literal,\npre .params,\npre .constant {\n  color: #f99157;\n}\npre .class,\npre .ruby .class .title,\npre .css .rules .attribute {\n  color: #9c9;\n}\npre .string,\npre .value,\npre .inheritance,\npre .header,\npre .ruby .symbol,\npre .xml .cdata {\n  color: #9c9;\n}\npre .css .hexcolor {\n  color: #6cc;\n}\npre .function,\npre .python .decorator,\npre .python .title,\npre .ruby .function .title,\npre .ruby .title .keyword,\npre .perl .sub,\npre .javascript .title,\npre .coffeescript .title {\n  color: #69c;\n}\npre .keyword,\npre .javascript .function {\n  color: #c9c;\n}\n#footer {\n  font-size: 0.8rem;\n  font-family: \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  bottom: 20px;\n  opacity: 0.75;\n  width: 100%;\n  text-align: center;\n}\n#footer .footer-left {\n  float: left;\n}\n#footer .footer-right {\n  float: right;\n}\n#footer .outer {\n  padding: 0 30px;\n}\n#footer .fa-heart {\n  color: #f00;\n  -webkit-animation-duration: 1.1s;\n  -moz-animation-duration: 1.1s;\n  -ms-animation-duration: 1.1s;\n  animation-duration: 1.1s;\n}\n#footer #busuanzi_value_site_uv,\n#footer #busuanzi_container_page_pv {\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco;\n}\n#footer .visit {\n  font-size: 0.88rem;\n}\n#footer .visit .fa {\n  padding-right: 0.25em;\n  color: #808080;\n}\n#footer .visit #site-visit:hover,\n#footer .visit #page-visit:hover {\n  color: #000;\n}\n#footer .visit #site-visit:hover .fa,\n#footer .visit #page-visit:hover .fa {\n  color: #333;\n}\n.share {\n  padding-left: 40px;\n  margin: 1em auto 0.5em;\n  opacity: 0.75;\n}\n.share:hover {\n  opacity: 1;\n}\n.bdsharebuttonbox a,\n.bdsharebuttonbox .bds_more {\n  width: 30px;\n  height: 30px !important;\n  line-height: 30px !important;\n  text-align: center;\n  padding-left: 0 !important;\n  font-size: 20.400000000000002px !important;\n  text-decoration: none;\n  color: #fff !important;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1), 1px 1px 1px rgba(0,0,0,0.3);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.1), 1px 1px 1px rgba(0,0,0,0.3);\n}\n.bdsharebuttonbox a:hover,\n.bdsharebuttonbox .bds_more:hover {\n  -webkit-transform: scale(1.1);\n  -moz-transform: scale(1.1);\n  -ms-transform: scale(1.1);\n  transform: scale(1.1);\n  color: #fff !important;\n}\n.bdsharebuttonbox .bds_tsina {\n  background: #db332f !important;\n}\n.bdsharebuttonbox .bds_sqq {\n  background: #1cbcef !important;\n}\n.bdsharebuttonbox .bds_copy {\n  background: #8f8f8f !important;\n}\n.bdsharebuttonbox .bds_mail {\n  background: #6fc0e4 !important;\n}\n.bdsharebuttonbox .bds_weixin {\n  background: #8cdc49 !important;\n}\n.bdsharebuttonbox .bds_more {\n  background: #8cbcf5 !important;\n}\n.bdsharebuttonbox .bds_twi {\n  background: #21abf4 !important;\n}\n#page-nav {\n  text-align: center;\n  margin-top: 30px;\n}\n#page-nav .page-number {\n  width: 20px;\n  height: 20px;\n  background: #4d4d4d;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  display: inline-block;\n  color: #fff;\n  line-height: 20px;\n  font-size: 12px;\n  margin: 0 3px 30px;\n}\n#page-nav .page-number:hover {\n  background: #5e5e5e;\n}\n#page-nav .current {\n  background: #88acdb;\n  cursor: default;\n}\n#page-nav .current:hover {\n  background: #88acdb;\n}\n#page-nav .extend {\n  color: #4d4d4d;\n  margin: 0 27px;\n  opacity: 0;\n}\n#page-nav .extend:hover {\n  color: #5e5e5e;\n}\n#page-nav:hover .extend {\n  opacity: 1;\n}\n#post-instagram {\n  padding: 30px;\n}\n#post-instagram .article-entry {\n  padding-right: 0;\n}\n.instagram {\n  position: relative;\n  min-height: 500px;\n}\n.instagram .open-ins {\n  display: block;\n  padding: 10px 0;\n  position: absolute;\n  right: 28px;\n  top: -75px;\n  color: #333;\n}\n.instagram .open-ins:hover {\n  color: #657b83;\n}\n.instagram .year {\n  display: inline;\n}\n.instagram .album h1 em {\n  font-style: normal;\n  font-size: 14px;\n  margin-left: 10px;\n}\n.instagram .album ul {\n  min-height: 149px;\n  padding-top: 17px;\n  border-bottom: 1px solid #ddd;\n  list-style: none;\n}\n.instagram .album li {\n  position: relative;\n  display: inline-block;\n  min-width: 157px;\n  margin: 0;\n}\n.instagram .album li:before {\n  display: none;\n}\n.instagram .album div.img-box {\n  position: relative;\n  margin: 0 20px 10px;\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box .img-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0px;\n  width: 100%;\n  margin: -5px;\n  padding: 5px;\n  background: rgba(204,204,204,0.8);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -moz-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -webkit-transition: all 0.15s ease-out 0.1s;\n  -moz-transition: all 0.15s ease-out 0.1s;\n  -o-transition: all 0.15s ease-out 0.1s;\n  -webkit-transition: all 0.15s ease-out 0.1s;\n  -moz-transition: all 0.15s ease-out 0.1s;\n  -ms-transition: all 0.15s ease-out 0.1s;\n  transition: all 0.15s ease-out 0.1s;\n  opacity: 0.2;\n  cursor: pointer;\n  display: block;\n}\n.instagram .album div.img-box .img-bg:hover {\n  opacity: 0;\n}\n.instagram .album div.img-box img {\n  width: 100%;\n  height: auto;\n  display: block;\n}\n@media screen and (max-width: 600px) {\n  .instagram .album ul {\n    margin-left: 0;\n    padding: 0;\n    text-align: center;\n  }\n  .instagram .album li {\n    max-width: 300px;\n  }\n  .instagram .album div.img-box {\n    margin: 0;\n  }\n}\n.switch-btn {\n  margin: 0 auto;\n  margin-top: 23px;\n  position: relative;\n  width: 70px;\n  text-align: center;\n}\n.switch-btn .tips-box {\n  position: relative;\n}\n.switch-btn .tips-box .tips-arrow {\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-bottom: 6px solid #000;\n  opacity: 0.8;\n  position: absolute;\n  top: -6px;\n  left: 30px;\n}\n.switch-btn .tips-box .tips-inner {\n  padding: 5px 8px 4px 8px;\n  background-color: #000;\n  color: #fff;\n  width: 80px;\n  text-align: center;\n  border-radius: 3px;\n  opacity: 0.8;\n  position: absolute;\n  z-index: 99;\n  left: -13px;\n}\n.switch-btn .tips-box .tips-inner li {\n  padding: 4px 0;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  line-height: 1.15;\n  color: #ddd;\n}\n.switch-btn .tips-box .tips-inner li:hover {\n  background: #111;\n}\n.switch-btn .icon {\n  height: 32px;\n  width: 32px;\n  background: #cecece;\n  border-radius: 100px;\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  padding: 10px;\n  -webkit-transform: scale(0.6);\n  -moz-transform: scale(0.6);\n  -ms-transform: scale(0.6);\n  transform: scale(0.6);\n  cursor: pointer;\n}\n.switch-btn .icon-ctn {\n  width: 34px;\n  height: 34px;\n  position: relative;\n  overflow: hidden;\n}\n.switch-btn .icon-ctn .birdhouse {\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-style: solid;\n  border-color: transparent transparent #4d4d4d transparent;\n  border-width: 0 16px 14px;\n}\n.switch-btn .icon-ctn .birdhouse:after {\n  content: '';\n  position: absolute;\n  top: 12px;\n  left: -12px;\n  border-style: solid;\n  border-color: #4d4d4d transparent transparent transparent;\n  border-width: 100px 12px;\n}\n.switch-btn .icon-ctn .birdhouse_holes {\n  width: 12px;\n  height: 12px;\n  background: #ddd;\n  position: absolute;\n  -webkit-border-radius: 60px;\n  -moz-border-radius: 60px;\n  border-radius: 60px;\n  left: 10px;\n  top: 8px;\n}\n.switch-btn .icon-ctn .birdhouse_holes:after {\n  content: '';\n  position: absolute;\n  width: 4px;\n  height: 4px;\n  background: #ccc;\n  bottom: -8px;\n  left: 4px;\n  -webkit-border-radius: 60px;\n  -moz-border-radius: 60px;\n  border-radius: 60px;\n}\n.switch-btn .icon-ctn .ribbon {\n  width: 12px;\n  height: 20px;\n  background: #333;\n  margin: 2px 0 0 10px;\n}\n.switch-btn .icon-ctn .ribbon:after {\n  content: '';\n  position: absolute;\n  left: 10px;\n  top: 16px;\n  width: 0;\n  height: 0;\n  border: solid #333;\n  border-color: transparent #333 transparent #333;\n  border-width: 6px 6px 8px 6px;\n}\n.switch-btn .icon-ctn .loopback_l {\n  width: 10px;\n  height: 5px;\n  border-style: solid;\n  border-width: 0px 3px 3px 3px;\n  border-color: #333;\n  border-radius: 0 0 50px 50px;\n  position: absolute;\n  top: 16px;\n  left: 1px;\n}\n.switch-btn .icon-ctn .loopback_l:before {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px;\n  border-color: transparent transparent transparent #333;\n  bottom: 7px;\n  left: 5px;\n}\n.switch-btn .icon-ctn .loopback_l:after {\n  content: '';\n  width: 5px;\n  height: 5px;\n  border-style: solid;\n  border-width: 3px 0 0 3px;\n  border-color: #333;\n  border-radius: 50px 0 0 0;\n  position: absolute;\n  left: -3px;\n  bottom: 5px;\n}\n.switch-btn .icon-ctn .loopback_r {\n  width: 10px;\n  height: 5px;\n  border-style: solid;\n  border-width: 3px 3px 0 3px;\n  border-color: #333;\n  border-radius: 50px 50px 0 0;\n  position: absolute;\n  top: 8px;\n  right: 2px;\n}\n.switch-btn .icon-ctn .loopback_r:before {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px;\n  border-color: transparent #333 transparent transparent;\n  top: 7px;\n  right: 5px;\n}\n.switch-btn .icon-ctn .loopback_r:after {\n  content: '';\n  width: 5px;\n  height: 5px;\n  border-style: solid;\n  border-width: 0 3px 3px 0;\n  border-color: #333;\n  border-radius: 0 0 50px 0;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n}\n.switch-btn .icon-ctn .user {\n  width: 12px;\n  height: 14px;\n  background: #333;\n  border-radius: 5px 5px 0 0;\n  margin-left: 10px;\n  margin-top: 2px;\n}\n.switch-btn .icon-ctn .user:before {\n  content: '';\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  top: 17px;\n  left: 0px;\n  border-style: solid;\n  border-color: transparent transparent #333 transparent;\n  border-width: 0 16px 6px 16px;\n}\n.switch-btn .icon-ctn .user:after {\n  content: '';\n  width: 8px;\n  height: 5px;\n  background: #333;\n  position: absolute;\n  margin-top: 13px;\n  margin-left: -4px;\n}\n.switch-btn .icon-ctn .shoulder {\n  width: 32px;\n  height: 6px;\n  background: #333;\n  position: absolute;\n  bottom: 6px;\n}\n#header .tagcloud a {\n  color: #fff;\n}\n.tagcloud a {\n  display: inline-block;\n  text-decoration: none;\n  font-weight: normal;\n  font-size: 0.75rem;\n  color: #fff;\n  height: 1.125rem;\n  line-height: 1.125rem;\n  float: left;\n  padding: 0 5px 0 10px;\n  position: relative;\n  border-radius: 0 5px 5px 0;\n  margin: 5px 9px 5px 8px;\n  opacity: 0.75;\n  font-family: \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\" \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial;\n}\n.tagcloud a.color0 {\n  background: #88acdb;\n}\n.tagcloud a.color0::before {\n  border-right-color: #88acdb;\n}\n.tagcloud a.color1 {\n  background: #ffa07a;\n}\n.tagcloud a.color1::before {\n  border-right-color: #ffa07a;\n}\n.tagcloud a.color2 {\n  background: #f08080;\n}\n.tagcloud a.color2::before {\n  border-right-color: #f08080;\n}\n.tagcloud a.color3 {\n  background: #76becc;\n}\n.tagcloud a.color3::before {\n  border-right-color: #76becc;\n}\n.tagcloud a.color4 {\n  background: #918597;\n}\n.tagcloud a.color4::before {\n  border-right-color: #918597;\n}\n.tagcloud a.color5 {\n  background: #6fc0e4;\n}\n.tagcloud a.color5::before {\n  border-right-color: #6fc0e4;\n}\n.tagcloud a.color6 {\n  background: #bc8f8f;\n}\n.tagcloud a.color6::before {\n  border-right-color: #bc8f8f;\n}\n.tagcloud a:hover {\n  opacity: 1;\n  -webkit-transform: scale(1.06);\n  -moz-transform: scale(1.06);\n  -ms-transform: scale(1.06);\n  transform: scale(1.06);\n  background-color: #9c9;\n  border-color: #9c9;\n}\n.tagcloud a:hover::before {\n  border-right-color: #9c9;\n}\n.tagcloud a:before {\n  content: \" \";\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: -1.1rem;\n  border: 0.5625rem solid transparent;\n}\n.tagcloud a:after {\n  content: \" \";\n  width: 4px;\n  height: 4px;\n  background-color: #fff;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.3);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.3);\n  position: absolute;\n  top: 0.4375rem;\n  left: 2px;\n}\n.article-tag::before,\n.article-category::before {\n  float: left;\n  color: #999;\n  font: 18px FontAwesome;\n  margin-right: 5px;\n  margin-top: 0.333333333333333rem;\n}\n.article-tag::before {\n  content: \"\\f02b\";\n  margin-left: 1em;\n}\n.article-category::before {\n  content: \"\\f02d\";\n}\n.article-pop-out {\n  float: left;\n}\n.article-pop-out:before {\n  color: #999;\n  content: \"\\f08d\";\n  font: 18px FontAwesome;\n  float: left;\n  margin-right: 5px;\n  margin-top: 0.333333333333333rem;\n}\n.article-pop-out:after {\n  float: left;\n  content: \"\";\n  margin-right: 20px;\n  margin-top: 9px;\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n}\n::-webkit-scrollbar-button:start:increment,\n::-webkit-scrollbar-button:end:decrement {\n  display: none;\n}\n::-webkit-scrollbar-corner {\n  display: block;\n}\n::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  background-color: rgba(0,0,0,0.2);\n}\n::-webkit-scrollbar-thumb:hover {\n  border-radius: 8px;\n  background-color: rgba(0,0,0,0.5);\n}\n::-webkit-scrollbar-track,\n::-webkit-scrollbar-thumb {\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n}\n::-webkit-scrollbar-track:hover {\n  background-color: rgba(0,0,0,0.15);\n}\n::-webkit-scrollbar-button:start {\n  width: 10px;\n  height: 10px;\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat 0 0;\n}\n::-webkit-scrollbar-button:start:hover {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -15px 0;\n}\n::-webkit-scrollbar-button:start:active {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -30px 0;\n}\n::-webkit-scrollbar-button:end {\n  width: 10px;\n  height: 10px;\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat 0 -18px;\n}\n::-webkit-scrollbar-button:end:hover {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -15px -18px;\n}\n::-webkit-scrollbar-button:end:active {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -30px -18px;\n}\n#viewer {\n  position: fixed;\n  z-index: 1000000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n}\n#viewer-box {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  color: #ccc;\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transition: -webkit-transform 0.25s ease-in-out;\n}\n#viewer-box .viewer-box-l {\n  background: rgba(20,20,20,0.9);\n  width: 80%;\n  height: auto;\n  -webkit-box-flex: 0;\n  -moz-box-flex: 0;\n  -ms-box-flex: 0;\n  box-flex: 0;\n  -webkit-flex-grow: 0;\n  flex-grow: 0;\n  min-width: 8em;\n  max-width: 23em;\n}\n#viewer-box .viewer-box-l .viewer-box-wrap {\n  margin: 20px 10px 0px 20px;\n}\n#viewer-box .viewer-box-l .viewer-title {\n  line-height: 32px;\n}\n#viewer-box .viewer-box-l .viewer-title:before {\n  content: \"\";\n  width: 6px;\n  height: 6px;\n  border: 1px solid #999;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  background: #aaa;\n  display: inline-block;\n  margin-right: 10px;\n}\n#viewer-box .viewer-box-l .viewer-div {\n  border-bottom: 1px dotted #666;\n  padding-bottom: 13px;\n  line-height: 20px;\n}\n#viewer-box .viewer-box-l .viewer-div:last-child {\n  border-bottom: none;\n}\n#viewer-box .viewer-box-l .viewer-div .switch-friends-link {\n  line-height: 20px;\n}\n#viewer-box .viewer-box-r {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  width: auto;\n  height: auto;\n  background: rgba(0,0,0,0);\n}\n#viewer-box .viewer-box-r:hover {\n  cursor: w-resize;\n}\n#viewer-box.anm-swipe {\n  -webkit-transform: translate3d(0, 0, 0);\n}\n#viewer-box.anm-swipe .viewer-box-r {\n  background: rgba(0,0,0,0);\n}\n.hide {\n  display: none;\n}\n#viewer-box .viewer-list {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  overflow: hidden;\n}\n.search {\n  width: 68%;\n  height: 18px;\n  margin-top: 1px;\n  padding: 0;\n  font-family: inherit;\n  border: 2px solid transparent;\n  border-bottom: 2px solid #d3d3d3;\n  border-radius: 2px;\n  opacity: 0.65;\n  background: none;\n}\n.search:hover {\n  border: 2px solid #d3d3d3;\n  opacity: 1;\n  -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.3);\n  box-shadow: 0 0 10px rgba(0,0,0,0.3);\n}\n#search-form .fa-times {\n  display: none;\n  padding: 1px 0.7em;\n  -webkit-box-shadow: 0 0 3px rgba(0,0,0,0.15);\n  box-shadow: 0 0 3px rgba(0,0,0,0.15);\n  cursor: pointer;\n  color: #808080;\n}\n#search-form .fa-times:active {\n  background: #d3d3d3;\n}\n#search-form .fa-times:hover {\n  zoom: 1.1;\n  padding: 1px 0.6em;\n  border: 1px solid #d3d3d3;\n  -webkit-box-shadow: 0 0 6px rgba(0,0,0,0.25);\n  box-shadow: 0 0 6px rgba(0,0,0,0.25);\n}\n#local-search-result {\n  margin: auto -12% auto -6%;\n  font-size: 0.9rem;\n  text-align: left;\n  word-break: break-all;\n}\n#local-search-result ul.search-result-list li:hover {\n  font-weight: normal;\n}\n#local-search-result li {\n  margin: 0.5em auto;\n  border-bottom: 2px solid #d3d3d3;\n}\n#local-search-result .search-result-list li:hover {\n  background: rgba(158,188,226,0.21);\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.2);\n  box-shadow: 0 0 5px rgba(0,0,0,0.2);\n}\n#local-search-result a.search-result-title {\n  line-height: 1.2;\n  font-weight: bold;\n  color: #708090;\n}\n#local-search-result p.search-result {\n  margin: 0.4em auto;\n  line-height: 1.2rem;\n  max-height: 3.6rem;\n  overflow: hidden;\n  font-size: 0.8rem;\n  text-align: justify;\n  color: #808080;\n}\n#local-search-result em.search-keyword {\n  color: #f58e90;\n  border-bottom: 1px dashed #f58e90;\n  font-weight: bold;\n  font-size: 0.85rem;\n}\np.no-result {\n  display: none;\n  margin: 2em 0 2em 6%;\n  padding-bottom: 0.5em;\n  text-align: left;\n  color: #808080;\n  font-family: Times, Georgia serif;\n  border-bottom: 2px solid #d3d3d3;\n}\n","source":"images/tags _ Night's blog_files/style.css","raw":"body {\n  width: 100%;\n}\nbody:before,\nbody:after {\n  content: \"\";\n  display: table;\n}\nbody:after {\n  clear: both;\n}\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  font-weight: inherit;\n  font-style: inherit;\n  font-family: inherit;\n  font-size: 100%;\n  vertical-align: baseline;\n}\nbody {\n  line-height: 1;\n  color: #000;\n  background: #fff;\n}\nol,\nul {\n  list-style: none;\n}\ntable {\n  border-collapse: separate;\n  border-spacing: 0;\n  vertical-align: middle;\n}\ncaption,\nth,\ntd {\n  text-align: left;\n  font-weight: normal;\n  vertical-align: middle;\n}\na img {\n  border: none;\n}\nol {\n  list-style: decimal;\n  padding-left: 20px;\n}\nul {\n  list-style: none;\n}\ninput,\nbutton {\n  margin: 0;\n  padding: 0;\n}\ninput::-moz-focus-inner,\nbutton::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\nhtml {\n  font-size: 18px;\n}\nbody {\n  font-family: \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  background: #fff;\n  text-rendering: optimizeLegibility;\n  -moz-osx-font-smoothing: grayscale;\n  -moz-font-feature-settings: \"liga\" on;\n  color: #333;\n  -webkit-overflow-scrolling: touch;\n}\n::selection {\n  background: rgba(147,181,224,0.6);\n  color: #fff;\n}\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: Times, Georgia, serif;\n  font-weight: bold;\n}\nh1,\nh2,\nh3 {\n  display: block;\n}\nh1 {\n  font-size: 1.6rem;\n  font-family: \"Segoe UI\", \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n}\nh2 {\n  font-size: 1.4rem;\n}\nh3 {\n  font-size: 1.15rem;\n}\nh4,\nh5,\nh6 {\n  font-size: 1rem;\n}\na {\n  text-decoration: none;\n  outline-width: 0;\n  color: #258fb8;\n  outline: none;\n}\n.alignleft {\n  float: left;\n}\n.alignright {\n  float: right;\n}\n.clearfix {\n  *zoom: 1;\n}\n.clearfix:after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n.inner {\n  width: 1000px;\n  margin: 0 auto;\n}\n.hide {\n  display: none;\n}\n@media screen and (max-width: 1040px) {\n  .inner {\n    width: 100%;\n  }\n}\n#container {\n  min-height: 100%;\n}\n#container #mobile-nav {\n  display: none;\n}\n#container #mobile-nav .overlay {\n  height: 110px;\n  position: absolute;\n  width: 100%;\n  background: #4d4d4d;\n}\n#container #mobile-nav .overlay.fixed {\n  position: fixed;\n  height: 42px;\n  z-index: 99;\n}\n#container #mobile-nav #header {\n  padding: 10px 0 0 0;\n}\n#container #mobile-nav #header .profilepic {\n  display: block;\n  position: relative;\n  z-index: 100;\n}\n#container #mobile-nav #header .header-menu {\n  height: auto;\n  margin: 10px;\n}\n#container #mobile-nav #header .header-menu ul {\n  text-align: center;\n  cursor: default;\n}\n#container #mobile-nav #header .header-menu li {\n  display: inline-block;\n  margin: 3px;\n}\n#container .left-col {\n  background: rgba(255,255,255,0.85);\n  width: 249px;\n  position: fixed;\n  opacity: 1;\n  -webkit-transition: all 0.2s ease-in;\n  -moz-transition: all 0.2s ease-in;\n  -ms-transition: all 0.2s ease-in;\n  transition: all 0.2s ease-in;\n  height: 100%;\n  overflow-y: auto;\n}\n#container .left-col .overlay {\n  width: 100%;\n  height: 180px;\n  background-color: #000;\n  position: absolute;\n  opacity: 0.7;\n}\n#container .left-col .intrude-less {\n  width: 76%;\n  text-align: center;\n  margin: 112px auto 0;\n}\n#container .left-col li:hover {\n  background: none;\n  font-weight: bold;\n}\n#container .mid-col {\n  position: absolute;\n  right: 0;\n  min-height: 100%;\n  background: rgba(255,255,255,0.8);\n  left: 249px;\n  width: auto;\n}\n@media screen and (max-width: 800px) {\n  #container .left-col {\n    display: none;\n  }\n  #container .mid-col {\n    left: 0;\n  }\n  #container #header .header-nav {\n    position: relative;\n  }\n  #container #header .header-menu {\n    line-height: 1.3;\n    min-height: 3rem;\n  }\n  #container .header-author.fixed {\n    position: fixed;\n    top: -8px;\n    width: 100%;\n    color: #ddd;\n  }\n  #container .header-author.fixed a {\n    color: #fff;\n  }\n  #container .overlay .slider-trigger {\n    position: absolute;\n    z-index: 101;\n    bottom: 0;\n    left: 0;\n    width: 42px;\n    height: 42px;\n  }\n  #container .overlay .slider-trigger:hover {\n    background: #444;\n  }\n  #container .overlay .slider-trigger:before {\n    color: #ddd;\n    content: \"\\f00b\";\n    font: 16px FontAwesome;\n    width: 16px;\n    height: 16px;\n    margin-left: 9px;\n    margin-top: 14px;\n    display: block;\n  }\n  #container .article-header {\n    border-left: none;\n    padding: 0;\n    border-bottom: 1px dotted #ddd;\n  }\n  #container .article-header h1 {\n    margin-bottom: 2px;\n  }\n  #container #header .header-subtitle {\n    padding: 0 3em;\n    font-size: 1em;\n  }\n  #container .article-info-index.article-info {\n    padding-top: 10px;\n    margin: 0;\n    border-top: 1px solid #ddd;\n  }\n  #container .article-info-post.article-info {\n    margin: 0;\n    padding-top: 10px;\n    border: none;\n  }\n  #container #viewer-box .viewer-box-l {\n    font-size: 14px;\n  }\n  #container .article {\n    margin: 0.625rem 10px;\n  }\n  #container .article .article-entry {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  #container .article .article-entry .highlight {\n    padding: 0.35em 0.6em;\n  }\n  #container .article .article-title {\n    display: block;\n    margin: 0;\n    font-size: 1.5rem;\n    font-weight: bold;\n  }\n  #container .article .article-meta {\n    display: none;\n  }\n  #container .article-inner {\n    padding: 12px;\n  }\n  #container .archive-article-inner .article-meta {\n    top: 0;\n    margin-top: 0.5em;\n  }\n  #container .archives .archive-article {\n    padding: 0;\n  }\n  #container .archives .archive-article-date {\n    margin-right: 0;\n  }\n  #container .archives .article-info {\n    display: none;\n  }\n  #container .archive-article-inner .article-meta .archive-article-date,\n  #container .share {\n    padding: 3px 10px;\n  }\n  #container .duoshuo {\n    padding: 0 13px;\n  }\n  #container #disqus_thread {\n    padding: 0 13px;\n  }\n  #container #mobile-nav {\n    display: block;\n  }\n  #container #page-nav .extend {\n    opacity: 1;\n  }\n  #container #page-nav {\n    margin-top: 1em;\n  }\n  #container #page-nav .page-number {\n    margin-bottom: 1.5em;\n  }\n  #container .instagram .open-ins {\n    left: 2px;\n    top: -30px;\n    color: #aaa;\n  }\n  #container .info-on-right {\n    float: initial;\n  }\n  #container .archives-wrap {\n    margin: 10px 10px 0px;\n    padding: 10px;\n    padding-right: 0;\n  }\n  #container .archives-wrap .archive-year-wrap {\n    position: relative;\n    padding: 0 0 0 0;\n  }\n  #container .archives-wrap .archive-year-wrap a {\n    padding: 0 0 0 0;\n  }\n  #container .archives-wrap h1 {\n    font-size: 1.2em;\n    margin-bottom: 0.3em;\n  }\n  #container .archives .archive-article {\n    padding: 10px 0;\n    margin-left: 0;\n  }\n  #container #footer .footer-left {\n    float: initial;\n    margin-bottom: 0.5em;\n  }\n  #container #footer .footer-right {\n    float: initial;\n    margin-bottom: 1em;\n  }\n  #container #footer .visit {\n    margin: 0;\n  }\n  #container .article-category::before {\n    display: none;\n  }\n  #container .article-tag::before {\n    display: none;\n  }\n  #container .article-meta time:before {\n    display: none;\n  }\n  #container .visit {\n    margin-top: 1em;\n  }\n  #container #tocButton {\n    z-index: 100;\n    position: fixed;\n    left: 0.5em;\n    top: auto; /*In order to cover style in article.styl*/\n    bottom: 10px;\n    padding: 0.2em 0.4em;\n    border-radius: 6px;\n    border-style: outset;\n    background: rgba(255,255,255,0.7);\n    font-size: 1em;\n    font-weight: bold;\n    color: #808080;\n  }\n  #container #tocButton:hover {\n    color: #88acdb;\n    font-size: 1em;\n  }\n  #container .toc-article {\n    display: none;\n    z-index: 99;\n    left: 0;\n    top: 38%;\n    bottom: 1em;\n    height: auto;\n    max-height: 58%;\n    width: none;\n    width: auto;\n    min-width: 7em;\n    max-width: 61.8%;\n    overflow: auto;\n    margin-left: 0;\n    padding: 10px;\n    padding-left: 0;\n    border-radius: 2.8%;\n    background: none;\n    font-size: 1em;\n    line-height: 1.25em;\n  }\n  #container .toc-article .toc-title {\n    display: none;\n    padding: 0.3em;\n    color: #fff;\n    background: #d3d3d3;\n    border-radius: 3px;\n  }\n  #container .toc-article .toc {\n    padding: 0.5em;\n  }\n  #container .toc-article ol {\n    margin: 0;\n    padding: 0.5em;\n    border-radius: 5px;\n    background: rgba(255,255,255,0.85);\n  }\n  #container .toc-article ol ol {\n    padding: 0.1em 0;\n    padding-left: 1.2em;\n  }\n  #container .toc-article a {\n    color: #767676;\n  }\n  #container li.toc-item {\n    line-height: 1.2;\n  }\n  #container .copyright {\n    width: 90%;\n    padding: 0.5em 0.8em;\n  }\n  #container .scroll {\n    right: 1.2em;\n  }\n  #container .scroll li {\n    font-size: 1.7em;\n  }\n  #container .hide-labels {\n    z-index: 100;\n    position: fixed;\n    left: 0.5em;\n    top: auto;\n    bottom: 10px;\n    padding: 0.2em 0.4em;\n    border-radius: 6px;\n    border-style: outset;\n    opacity: 0.9;\n    background: rgba(255,255,255,0.8);\n    font-weight: bold;\n    color: #808080;\n  }\n  #container #post-nav-button {\n    display: none;\n  }\n  #container .post-list {\n    visibility: hidden;\n  }\n  #container .ua {\n    display: none !important;\n  }\n  #container .github-text {\n    display: none;\n  }\n  #container .copyright {\n    font-size: 16px;\n  }\n  #container .copyright .copy-path {\n    display: none;\n  }\n  #container .tags a {\n    line-height: 45px;\n  }\n}\n.header-author {\n  text-align: center;\n  margin: 13px 0;\n  font-family: Times, Georgia, serif;\n  font-size: 32px;\n  -webkit-transition: 0.3s;\n  -moz-transition: 0.3s;\n  -ms-transition: 0.3s;\n  transition: 0.3s;\n}\n#header {\n  width: 100%;\n}\n#header a {\n  color: #696969;\n}\n#header a:hover {\n  color: #b0a0aa;\n}\n#header .profilepic {\n  text-align: center;\n  display: block;\n  border: 5px solid #fff;\n  border-radius: 50%;\n  width: 130px;\n  height: 130px;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  background: #88acdb;\n  -webkit-box-orient: horizontal;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  text-align: center;\n}\n#header .profilepic img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  -webkit-animation-duration: 0.4s;\n  -moz-animation-duration: 0.4s;\n  -ms-animation-duration: 0.4s;\n  animation-duration: 0.4s;\n  -webkit-animation-delay: 0.3s;\n  -moz-animation-delay: 0.3s;\n  -ms-animation-delay: 0.3s;\n  animation-delay: 0.3s;\n  -webkit-animation-duration: 0.4s;\n  -webkit-animation-delay: 0.3s;\n}\n#header .profilepic:hover {\n  background: #fff;\n  border: 5px solid #88acdb;\n  -webkit-box-shadow: 0 0 1.5em #88acdb;\n  box-shadow: 0 0 1.5em #88acdb;\n  -webkit-animation: profilepic 0.15s linear infinite alternate;\n  -moz-animation: profilepic 0.15s linear infinite alternate;\n  -ms-animation: profilepic 0.15s linear infinite alternate;\n  animation: profilepic 0.15s linear infinite alternate;\n  -webkit-animation: profilepic 0.15s linear infinite alternate;\n}\n@-moz-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@-webkit-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@-o-keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n@keyframes profilepic {\n  0% {\n    right: 4px;\n    top: 1x;\n  }\n  100% {\n    right: 0px;\n    top: -1px;\n  }\n}\n#header .header-subtitle {\n  text-align: center;\n  color: #999;\n  font-size: 0.875rem;\n  line-height: 1.75;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n#header .header-menu {\n  font-weight: 550;\n  line-height: 1.75rem;\n  font-family: inherit;\n  cursor: pointer;\n  text-transform: uppercase;\n  float: none;\n  min-height: 5.25rem;\n  max-height: 8.75rem;\n  overflow: visible;\n  text-align: center;\n  display: -webkit-box;\n  -webkit-box-orient: horizontal;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n}\n#header .header-menu li {\n  cursor: default;\n}\n#header .header-menu li a {\n  font-size: 0.875rem;\n  min-width: 249px;\n}\n#header .switch-area {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  min-height: 260px;\n  font-size: 0.875rem;\n}\n#header .switch-area .switch-wrap {\n  -webkit-transition: -webkit-transform 0.3s ease-in;\n  -moz-transition: -moz-transform 0.3s ease-in;\n  -ms-transition: -ms-transform 0.3s ease-in;\n  transition: transform 0.3s ease-in;\n  position: relative;\n}\n#header .turn-left {\n  -webkit-transform: translate(-100%, 0);\n  -moz-transform: translate(-100%, 0);\n  -ms-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n}\n#header .header-nav {\n  width: 100%;\n  position: absolute;\n  -webkit-transition: -webkit-transform 0.3s ease-in;\n  -moz-transition: -moz-transform 0.3s ease-in;\n  -ms-transition: -ms-transform 0.3s ease-in;\n  transition: transform 0.3s ease-in;\n}\n#header .switch-part {\n  width: 100%;\n  position: absolute;\n}\n#header .switch-part1 {\n  left: 0;\n}\n#header .switch-part2 {\n  left: 100%;\n  overflow-y: auto;\n  max-height: 260px;\n  font-size: 0.75rem;\n}\n#header .switch-part3 {\n  left: 200%;\n  line-height: 1.6;\n  overflow-y: auto;\n  max-height: 260px;\n}\n#header .switch-part3 .switch-friends-link {\n  display: inline-block;\n  margin-right: 9px;\n  border-radius: 3px;\n  padding: 5px;\n}\n#header .switch-part3 .switch-friends-link:hover {\n  background: #88acdb;\n  color: #fff;\n}\n#header .switch-part4 {\n  left: 300%;\n  text-align: left;\n  line-height: 30px;\n}\n#header .header-nav .social {\n  margin-top: 10px;\n  text-align: center;\n  font-family: Arial;\n}\n#header .header-nav .social a {\n  width: 39px;\n  height: 39px;\n  border-radius: 50%;\n  margin: 0 2px 6px;\n  vertical-align: middle;\n  font-size: 25.740000000000002px;\n  line-height: 39px;\n  text-align: center;\n  color: #fff;\n  background: #6f7170;\n  opacity: 0.75;\n  -webkit-box-shadow: 1px 2px 2px rgba(0,0,0,0.1), 1px 1px 3px rgba(0,0,0,0.3);\n  box-shadow: 1px 2px 2px rgba(0,0,0,0.1), 1px 1px 3px rgba(0,0,0,0.3);\n}\n#header .header-nav .social a:hover {\n  opacity: 1;\n  -webkit-transform: scale(1.1);\n  -moz-transform: scale(1.1);\n  -ms-transform: scale(1.1);\n  transform: scale(1.1);\n}\n#header .header-nav .social .新浪微博 {\n  background: url(\"/img/新浪微博.png\") center no-repeat #ecc260;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .知乎 {\n  background: url(\"/img/知乎.png\") center no-repeat #0078d8;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .豆瓣 {\n  background: url(\"/img/豆瓣.png\") center no-repeat #06c611;\n  -webkit-background-size: 88%;\n  -moz-background-size: 88%;\n  background-size: 88%;\n}\n#header .header-nav .social .V2EX {\n  background: url(\"/img/V2EX.png\") center no-repeat #e4cdb4;\n  -webkit-background-size: 78%;\n  -moz-background-size: 78%;\n  background-size: 78%;\n}\n#header .header-nav .social .TiddlyWiki {\n  background: url(\"/img/TiddlyWiki.png\") center no-repeat #6283dd;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .简书 {\n  background: url(\"/img/简书.png\") center no-repeat #e99888;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .SegmentFault {\n  background: url(\"/img/SegmentFault.png\") center no-repeat #018f56;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .网易云音乐 {\n  background: url(\"/img/网易云音乐.png\") center no-repeat #e51e02;\n  -webkit-background-size: 80%;\n  -moz-background-size: 80%;\n  background-size: 80%;\n}\n#header .header-nav .social .虾米音乐 {\n  background: url(\"/img/虾米音乐.png\") center no-repeat #ff6a00;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .CSDN {\n  background: url(\"/img/CSDN.png\") center no-repeat #f00;\n  -webkit-background-size: 82%;\n  -moz-background-size: 82%;\n  background-size: 82%;\n}\n#header .header-nav .social .博客园 {\n  background: url(\"/img/博客园.png\") center no-repeat #217ed4;\n  -webkit-background-size: 95%;\n  -moz-background-size: 95%;\n  background-size: 95%;\n}\n#header .header-nav .social .Plunker {\n  background: url(\"/img/Plunker.png\") center no-repeat #000;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .LOFTER {\n  background: url(\"/img/LOFTER.png\") center no-repeat #316061;\n  -webkit-background-size: 75%;\n  -moz-background-size: 75%;\n  background-size: 75%;\n}\n#header .header-nav .social .Coding {\n  background: url(\"/img/Coding.png\") center no-repeat #fff;\n  -webkit-background-size: 88%;\n  -moz-background-size: 88%;\n  background-size: 88%;\n}\n#header .header-nav .social .bilibili {\n  background: url(\"/img/bilibili.png\") center no-repeat #f589a0;\n  -webkit-background-size: 100%;\n  -moz-background-size: 100%;\n  background-size: 100%;\n}\n#header .header-nav .social .AcFun {\n  background: url(\"/img/AcFun.png\") center no-repeat #fbc054;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n}\n#header .header-nav .social .niconico {\n  background: url(\"/img/niconico.png\") center no-repeat #fff;\n  -webkit-background-size: 70%;\n  -moz-background-size: 70%;\n  background-size: 70%;\n}\n#header .header-nav .social .Quora {\n  background: url(\"/img/Quora.png\") center no-repeat #b92b27;\n  -webkit-background-size: 103%;\n  -moz-background-size: 103%;\n  background-size: 103%;\n}\n#header .header-nav .social .GitHub {\n  background: url(\"//cdn.bootcss.com/logos/0.2.0/github-octocat.svg\") no-repeat #fff;\n  -webkit-background-size: 90%;\n  -moz-background-size: 90%;\n  background-size: 90%;\n  background-position: 50% 100%;\n}\n#header .header-nav .social .CodePen {\n  background: url(\"//cdn.bootcss.com/logos/0.2.0/codepen-icon.svg\") no-repeat #000;\n  -webkit-background-size: 70%;\n  -moz-background-size: 70%;\n  background-size: 70%;\n  background-position: 50% 50%;\n}\n#header .header-nav .social .RSS {\n  background: #ef7522;\n}\n#header .header-nav .social .RSS::before {\n  content: '\\f09e';\n}\n#header .header-nav .social .Google {\n  background: #c83d20;\n}\n#header .header-nav .social .Google::before {\n  content: '\\f1a0';\n}\n#header .header-nav .social .Twitter {\n  background: #55cff8;\n}\n#header .header-nav .social .Twitter::before {\n  content: '\\f099';\n}\n#header .header-nav .social .LinkedIn {\n  background: #005a87;\n}\n#header .header-nav .social .LinkedIn::before {\n  content: '\\f0e1';\n}\n#header .header-nav .social .Email {\n  background: #6fc0e4;\n}\n#header .header-nav .social .Email::before {\n  content: '\\f003';\n}\n#header .header-nav .social .Facebook {\n  background: #3b5998;\n}\n#header .header-nav .social .Facebook::before {\n  content: '\\f09a';\n}\n#header .header-nav .social .QQ {\n  background: #1cbcef;\n}\n#header .header-nav .social .QQ::before {\n  content: '\\f1d6';\n}\n#header .header-nav .social .微信 {\n  background: #8cdc49;\n}\n#header .header-nav .social .微信::before {\n  content: '\\f1d7';\n}\n#header .header-nav .social .PayPal {\n  background: #03a4e4;\n}\n#header .header-nav .social .PayPal::before {\n  content: '\\f1ed';\n}\n#header .header-nav .social .StackOverflow {\n  background: #f48024;\n}\n#header .header-nav .social .StackOverflow::before {\n  content: '\\f16c';\n}\n#header .header-nav .social .Instagram {\n  background: #bab0a6;\n}\n#header .header-nav .social .Instagram::before {\n  content: '\\f16d';\n}\n#header .header-nav .social .Flickr {\n  background: #0365c8;\n}\n#header .header-nav .social .Flickr::before {\n  content: '\\f16e';\n}\n#header .header-nav .social .reddit {\n  background: #0278d1;\n}\n#header .header-nav .social .reddit::before {\n  content: '\\f281';\n}\n#header .header-nav .social .Medium {\n  background: #00ab6b;\n}\n#header .header-nav .social .Medium::before {\n  content: '\\f23a';\n}\n#header .header-nav .social .Tumblr {\n  background: #3a5976;\n}\n#header .header-nav .social .Tumblr::before {\n  content: '\\f173';\n}\n#header .header-nav .social ._500px {\n  background: #0099e5;\n}\n#header .header-nav .social ._500px::before {\n  content: '\\f26e';\n}\n.duoshuo {\n  padding: 0 40px;\n}\n#disqus_thread {\n  padding: 0 40px;\n}\n#scroll {\n  right: 0;\n}\n.scroll {\n  z-index: 999;\n  position: fixed;\n  top: 61.8%;\n  text-align: center;\n  line-height: 42px;\n}\n.scroll a {\n  display: block;\n  width: 29px;\n  height: 42px;\n  font-size: 28px;\n  background: rgba(215,216,215,0.4);\n}\n.scroll a .fa {\n  color: rgba(255,255,255,0.8);\n}\n.scroll a:hover {\n  background: rgba(147,181,224,0.3) !important;\n}\n.scroll a:hover .fa {\n  color: #fff;\n}\n.scroll a:not(:last-child) {\n  border-bottom: 1px solid #fff;\n}\n.hide-labels {\n  position: fixed;\n  left: 327px;\n  top: 30px;\n  padding: 1px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  outline: none;\n  font-family: inherit;\n  font-size: 0.9em;\n  font-weight: bold;\n  color: #666;\n  background: none;\n  opacity: 0.32;\n  -webkit-appearance: none;\n}\n.hide-labels:hover {\n  color: #88acdb;\n  opacity: 1;\n}\n#post-nav-button {\n  left: 249px;\n  top: 61.8%;\n}\n#post-nav-button a {\n  border-bottom-color: transparent;\n  background: none;\n  cursor: pointer;\n}\n#post-nav-button a .fa-times {\n  display: none;\n}\n.post-list {\n  display: none;\n  text-align: left;\n  font-size: 0.9em;\n  line-height: 1.3em;\n  list-style: decimal;\n}\n.post-list li {\n  margin: 0.4em 0 0.1em 0.7em;\n}\n.post-list li a {\n  color: #808080;\n}\n.post-list li a:hover {\ncolor\n  text-decoration: none;\n}\n.post-list li:hover a {\n  color: #88acdb;\n}\n.article-entry .github-widget h3::after {\n  content: none;\n}\n.article-entry .github-widget .github-box {\n  font-size: 0.8125rem;\n}\n.article-entry .github-widget .github-box .github-box-title h3 {\n  font-size: 1rem;\n}\n.article-entry .github-widget .github-box .github-box-title .github-stats {\n  font-size: 0.6875rem;\n}\n.article-entry .github-widget .github-box .updated {\n  font-size: 0.6875rem;\n}\n.article-entry .github-widget .github-box .download {\n  font-size: 0.75rem;\n}\n.ui-tooltip {\n  padding: 6px;\n  max-width: 30em;\n  -webkit-box-shadow: 0 0 0.8em rgba(0,0,0,0.6);\n  box-shadow: 0 0 0.8em rgba(0,0,0,0.6);\n  color: #fff;\n  font-family: \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  font-size: 0.9em;\n  background: rgba(0,0,0,0.65);\n}\nbody .ui-tooltip {\n  border: 1px solid #fff;\n}\n.pace .pace-progress {\n  background: #77b6ff;\n  -webkit-box-shadow: 0 0 10px rgba(119,182,255,0.7);\n  box-shadow: 0 0 10px rgba(119,182,255,0.7);\n}\n.article-entry ul > li,\n.share,\n.article-category::before,\n.article-tag::before,\n.article-meta time:before {\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.youyan {\n  padding: 20px 40px;\n}\n@media (max-width: 767px) {\n  .youyan {\n    padding: 20px 10px;\n  }\n}\n.archives-wrap {\n  position: relative;\n  margin: 0 30px;\n  padding-right: 1.5em;\n  border-bottom: 1px solid #eee;\n  background: #fff;\n}\n.archives-wrap:first-child {\n  margin-top: 30px;\n}\n.archives-wrap:last-child {\n  margin-bottom: 80px;\n}\n.archives-wrap .archive-year-wrap {\n  line-height: 35px;\n  width: 200px;\n  position: absolute;\n  padding-top: 20px;\n  font-size: 1.8em;\n}\n.archives-wrap .archive-year-wrap a {\n  color: #666;\n  font-weight: bold;\n  padding-left: 48px;\n}\n.archives {\n  position: relative;\n}\n.archives .article-info {\n  border: none;\n}\n.archives .archive-article {\n  margin-left: 160px;\n  padding: 0.5em 0;\n  border-bottom: 1px solid #eee;\n  border-top: 1px solid #fff;\n  position: relative;\n}\n.archives .archive-article:first-child {\n  border-top: 1em;\n  padding-top: 20px;\n}\n.archives .archive-article:last-child {\n  border-bottom: none;\n}\n.archives .archive-article-title {\n  font-size: 1.125rem;\n  color: #333;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.archives .archive-article-title:hover {\n  color: #657b83;\n}\n.archives .archive-article-title span {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.archives .archive-article-title span:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.archive-article-inner .archive-article-header {\n  position: relative;\n}\n.archive-article-inner .article-meta {\n  position: relative;\n  float: right;\n  margin-top: -0.277777777777778rem;\n  padding-right: 0;\n  color: #555;\n  background: none;\n  text-align: right;\n  width: auto;\n}\n.archive-article-inner .article-meta .article-date time {\n  color: #aaa;\n}\n.archive-article-inner .article-meta .archive-article-date,\n.archive-article-inner .article-meta .article-tag-list {\n  margin-right: 1em;\n  display: -moz-inline-stack;\n  display: inline-block;\n  vertical-align: middle;\n  zoom: 1;\n  color: #666;\n  font-size: 14px;\n}\n.archive-article-inner .article-meta .archive-article-date {\n  cursor: default;\n  font-size: 0.875rem;\n  margin-bottom: 5px;\n  margin-top: -10px;\n}\n.archive-article-inner .article-meta .archive-article-date time:before {\n  content: \"\\f073\";\n  color: #999;\n  position: relative;\n  margin-right: 10px;\n  font: 18px FontAwesome;\n}\n.archive-article-inner .article-meta .article-category:before {\n  float: left;\n  margin-top: 1px;\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-category .article-category-link {\n  width: auto;\n  max-width: 83px;\n  padding-left: 10px;\n}\n.archive-article-inner .article-meta .article-tag-list {\n  margin-top: 0px;\n}\n.archive-article-inner .article-meta .article-tag-list:before {\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-tag-list .article-tag-list-item {\n  display: inline-block;\n  width: auto;\n  max-width: 83px;\n  padding-left: 8px;\n  font-size: 12px;\n}\n.archives-wrap {\n  background: rgba(255,255,255,0.4);\n}\n.archives-wrap .archives {\n  background: transparent;\n}\n.body-wrap {\n  margin-bottom: 126px;\n  overflow: hidden;\n}\n.article {\n  margin: 30px;\n  margin-bottom: 5px;\n  position: relative;\n  background: rgba(255,255,255,0.45);\n  -webkit-transition: all 0.2s ease-in;\n}\n.article.show {\n  visibility: visible;\n  -webkit-animation: cd-bounce-1 0.6s;\n  -moz-animation: cd-bounce-1 0.6s;\n  -webkit-animation: cd-bounce-1 0.6s;\n  -moz-animation: cd-bounce-1 0.6s;\n  -ms-animation: cd-bounce-1 0.6s;\n  animation: cd-bounce-1 0.6s;\n}\n.article.hidden {\n  visibility: hidden;\n}\n.article img {\n  max-width: 100%;\n  margin: 0.5em auto;\n}\n@-webkit-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n  }\n}\n@-moz-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -moz-transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -moz-transform: scale(1.01);\n  }\n  100% {\n    -moz-transform: scale(1);\n  }\n}\n.article-index {\n  margin-left: 200px;\n  padding: 15px 0;\n  margin-right: 75px;\n}\n.article-index .brief {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.article-index .brief:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.article-title {\n  color: #696969;\n  margin-left: 0px;\n  font-weight: 400;\n  line-height: 1.3;\n  margin-bottom: 20px;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -o-transition: color 0.3s;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.article-title:hover {\n  color: #b0a0aa;\n}\n.article-inner {\n  position: relative;\n  margin-bottom: 0px;\n  padding-bottom: 0.5em;\n  word-break: break-word;\n  -webkit-box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n}\n.article-header {\n  border-left: 6px solid #eee;\n  padding: 15px 8.2em 15px 25px;\n}\n.article-header:hover {\n  border-left: 5px solid #9c9;\n}\n.article-info li:hover {\n  background: none;\n}\n.article-info-index.article-info {\n  padding-top: 20px;\n  margin: 30px 30px 0 30px;\n  border-top: 1px solid #ddd;\n}\n.article-info-post.article-info {\n  padding: 0;\n  border: none;\n  margin: -30px 0 20px 30px;\n}\n.article-entry {\n  line-height: 1.65em;\n  padding: 0 2em;\n  font-size: 1rem;\n}\n.article-entry blockquote {\n  padding: 0.4em 20px;\n  margin: 0.5em auto;\n  border-left: 4px solid rgba(147,181,224,0.4);\n  background: rgba(255,255,255,0.4);\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.1);\n}\n.article-entry blockquote p {\n  margin: 0.4em auto;\n}\n.article-entry blockquote blockquote {\n  border-left: none;\n}\n.article-entry blockquote footer {\n  font-style: italic;\n}\n.article-entry blockquote footer cite::before {\n  content: \"—\";\n  padding: 0 0.3em;\n}\n.article-entry a:hover {\n  text-decoration: underline;\n  color: #9c9;\n}\n.article-entry p {\n  margin: 0.85em auto;\n  line-height: 1.7;\n}\n.article-entry em {\n  font-style: italic;\n}\n.article-entry video {\n  max-width: 100%;\n}\n.article-entry strong {\n  font-weight: bold;\n}\n.article-entry li strong {\n  color: #708090;\n}\n.article-entry .caption {\n  display: block;\n  font-size: 0.8em;\n  color: #aaa;\n}\n.article-entry hr {\n  height: 0;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-left: 0;\n  border-right: 0;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #fff;\n}\n.article-entry .table-area {\n  overflow: auto;\n}\n.article-entry table {\n  width: 100%;\n  max-width: 65em;\n  border: 1px solid #dedede;\n  margin: 15px auto;\n  border-collapse: collapse;\n  empty-cells: show;\n}\n.article-entry table tr,\n.article-entry table td {\n  height: 35px;\n}\n.article-entry table th {\n  font-weight: bold;\n  text-align: center;\n  background: rgba(158,188,226,0.2);\n  white-space: nowrap;\n}\n.article-entry table tbody tr:hover {\n  background: #efefef;\n}\n.article-entry table td,\n.article-entry table th {\n  border: 1px solid #dedede;\n  padding: 0 10px;\n}\n.article-entry table tr:nth-child(2n) {\n  background: rgba(158,188,226,0.12);\n}\n.article-entry table td:nth-child(1) {\n  white-space: nowrap;\n}\n.article-entry li {\n  margin: 0.1em;\n  font-size: 1rem;\n}\n.article-entry ul,\n.article-entry ol {\n  margin: 10px 0;\n}\n.article-entry ul li.task-list,\n.article-entry ol li.task-list {\n  list-style: none;\n  margin-left: 0;\n}\n.article-entry ul li.task-list::before,\n.article-entry ol li.task-list::before {\n  display: none;\n}\n.article-entry li ul,\n.article-entry li ol {\n  margin-left: 30px;\n}\n.article-entry ul > li:before {\n  content: \"\";\n  background: #dedede;\n}\n.article-entry ul > li:before {\n  display: inline-block;\n  content: \"\";\n  width: 0.4em;\n  height: 0.4em;\n  margin-right: 0.5em;\n  margin-bottom: 0.11em;\n  border: 1px solid #d3d3d3;\n  border-radius: 50%;\n  background: #d3d3d3;\n}\n.article-entry h1 {\n  margin-top: 30px;\n}\n.article-entry h2 {\n  margin: 0.5em auto;\n  color: #66be66;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #ddd;\n  text-align: center;\n  font-size: 1.5rem;\n}\n.article-entry h2:hover {\n  color: #88acdb;\n}\n.article-entry h2::before,\n.article-entry h2::after {\n  content: \" —— \";\n  font-family: Arial;\n}\n.article-entry h3 {\n  margin: 0.5em auto;\n  color: #438aac;\n  background: rgba(243,248,253,0.6);\n  border: 1px solid #d2e8fa;\n  padding: 0.2em 0.6em;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.15);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.15);\n}\n.article-entry h3:hover a {\n  text-decoration: underline;\n}\n.article-entry h3::after {\n  content: \" >\";\n}\n.article-entry h4,\n.article-entry h5,\n.article-entry h6 {\n  margin-top: 20px;\n  color: #574c4c;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #ddd;\n}\n.article-entry figure table {\n  border: none;\n  width: auto;\n  margin: 0;\n}\n.article-entry figure table tbody tr:hover {\n  background: none;\n}\n.article-meta {\n  position: absolute;\n  right: 0;\n  top: 23px;\n  width: 9rem;\n  padding-right: 1.2rem;\n  font-size: 0.875rem;\n  text-align: right;\n  z-index: 1;\n}\n.article-meta time {\n  color: #aaa;\n  float: right;\n}\n.article-meta time:before {\n  margin-top: 0px;\n  margin-right: 4px;\n  content: \"\\f073\";\n  font: 1em FontAwesome;\n  color: #999;\n}\n.article-meta a:nth-child(2) {\n  clear: right;\n  float: right;\n  padding-top: 0.45rem;\n  color: #999;\n}\n.article-meta a:nth-child(2):hover {\n  color: #258fb8;\n  font-size: 110%;\n}\n.article-meta a:nth-child(2) i {\n  vertical-align: top;\n}\n.article-more-link {\n  float: right;\n  margin-top: 5px;\n}\n.article-more-link a {\n  padding: 2px 4px;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n  background: #88acdb;\n  color: #fff;\n  font-size: 0.9rem;\n  line-height: 1em;\n  white-space: nowrap;\n  -webkit-transition: background 0.3s;\n  -moz-transition: background 0.3s;\n  -ms-transition: background 0.3s;\n  transition: background 0.3s;\n  opacity: 0.75;\n}\n.article-more-link a:hover {\n  background: #9c9;\n  opacity: 1;\n}\n.article-more-link a.hidden {\n  visibility: hidden;\n}\n.article-more-link:hover {\n  -webkit-transform: scale(1.06);\n  -moz-transform: scale(1.06);\n  -ms-transform: scale(1.06);\n  transform: scale(1.06);\n}\n#article-nav {\n  display: table;\n  width: 100%;\n  height: 2.5em;\n  margin: 1em auto;\n  font-size: 1rem;\n  background: rgba(158,188,226,0.75);\n}\n#article-nav:hover {\n  background: #93b5e0;\n}\n.article-nav-title {\n  display: table-cell;\n  vertical-align: middle;\n}\n.article-nav-title a {\n  color: #fff;\n}\n.article-nav-title a:hover {\n  font-style: italic;\n}\n#article-nav-older {\n  padding-right: 1em;\n  text-align: right;\n}\n#article-nav-older::after {\n  padding-left: 0.5em;\n  content: \"→\";\n  color: #fff;\n  font-weight: bold;\n  font-family: Calibri;\n}\n#article-nav-newer {\n  padding-left: 1em;\n  text-align: left;\n}\n#article-nav-newer::before {\n  padding-right: 0.5em;\n  content: \"←\";\n  color: #fff;\n  font-weight: bold;\n  font-family: Calibri;\n}\n#intro {\n  display: inline;\n  font-weight: normal;\n  font-size: inherit;\n  opacity: 0;\n  color: #fff;\n}\n#intro::before,\n#intro::after {\n  content: none;\n}\nli:hover {\n  background: rgba(158,188,226,0.21);\n}\n.article-entry > ol:last-child > li:nth-child(2n) {\n  background: rgba(158,188,226,0.12);\n}\n.article-entry > ol:last-child li {\n  word-break: break-all;\n}\n.article-entry > ol:last-child li:hover {\n  background: #f0f0f0;\n}\n#tocButton {\n  position: fixed;\n  left: 169px;\n  top: 385px;\n  font-size: 0.9em;\n  font-weight: bold;\n  font-family: inherit;\n  color: #d3d3d3;\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n  -webkit-appearance: none;\n}\n#tocButton:hover {\n  color: #88acdb;\n}\n.toc-article {\n  position: fixed;\n  width: 179px;\n  top: 378px;\n  bottom: 1em;\n  left: 0;\n  margin-left: 0;\n  padding: 6px 10px 10px 46px;\n  border-radius: 2.8%;\n  overflow: auto;\n}\n#toc {\n  font-size: 0.9rem;\n  line-height: 1.65em;\n}\n#toc .toc-title {\n  font-weight: bold;\n  color: #808080;\n}\n#toc .toc-title.clickable {\n  cursor: pointer;\n}\n#toc .toc-title.clickable:hover {\n  color: #88acdb;\n}\n#toc .toc-title.clickable:active {\n  color: #d3d3d3;\n}\n#toc ol.toc {\n  margin-left: 0;\n  padding: 0.7em;\n  padding-right: 0;\n}\n#toc ol.toc li.toc-item {\n  list-style-type: none;\n}\n#toc ol.toc li.toc-item i {\n  display: inline-block;\n  margin-left: -0.9em;\n  width: 0.9em;\n  color: #b3b3b3;\n  font-weight: bold;\n  cursor: pointer;\n}\n#toc ol.toc li.toc-item i:hover {\n  color: #000;\n}\n#toc ol.toc li.toc-item i.hide {\n  display: none;\n}\n#toc ol.toc li.toc-item:hover {\n  background: none;\n}\n#toc ol.toc a.toc-link {\n  color: #808080;\n}\n#toc ol.toc a.toc-link:visited {\n  color: #f48385;\n}\n#toc ol.toc a.toc-link:hover {\n  color: #88acdb;\n  text-decoration: none;\n  background: rgba(158,188,226,0.21);\n}\n#toc ol.toc ol.toc-child {\n  padding-left: 1.25em;\n  margin: 4px 0;\n}\n#toc a.toc-link {\n  display: inline-block;\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow-x: hidden;\n}\n#toc li.toc-item {\n  line-height: 1.45em;\n}\n#toc li.toc-item > i {\n  position: relative;\n  bottom: 0.35em;\n}\n.copyright {\n  width: 85%;\n  max-width: 45em;\n  margin: 1.2em auto 0;\n  padding: 0.5em 1.8em;\n  border: 1px solid #d3d3d3;\n  font-size: 0.93rem;\n  line-height: 1.6em;\n  word-break: break-all;\n  background: rgba(255,255,255,0.4);\n}\n.copyright span {\n  display: inline-block;\n  width: 5.8em;\n  color: #b5b5b5;\n  font-weight: bold;\n}\n.copyright a {\n  color: #808080;\n}\n.copyright a:hover {\n  color: #a3d2a3;\n  text-decoration: underline;\n}\n.copyright:hover .fa-clipboard {\n  color: #000;\n}\n.copyright .copy-path {\n  margin-left: 1em;\n  width: 1em;\n}\n.copyright .copy-path:hover {\n  color: #808080;\n  cursor: pointer;\n}\naside.comment-bar {\n  display: block;\n  cursor: pointer;\n  background: rgba(255,255,255,0.3);\n  padding: 0.5rem;\n  -webkit-box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  box-shadow: 3px 2px 8px rgba(0,0,0,0.07);\n  text-align: center;\n  font-size: 2rem;\n}\naside.comment-bar i.fa-spinner {\n  display: none;\n}\naside.comment-bar a {\n  display: inline-block;\n  width: 3em;\n}\naside.comment-bar a span {\n  font-size: 1.5rem;\n}\naside.comment-bar:active {\n  background: none;\n}\n@-moz-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@-o-keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n@keyframes cd-bounce-1 {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n  60% {\n    opacity: 1;\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    -o-transform: scale(1.01);\n    -webkit-transform: scale(1.01);\n    -moz-transform: scale(1.01);\n    -ms-transform: scale(1.01);\n    transform: scale(1.01);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    -o-transform: scale(1);\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n  }\n}\n.archives-wrap {\n  position: relative;\n  margin: 0 30px;\n  padding-right: 1.5em;\n  border-bottom: 1px solid #eee;\n  background: #fff;\n}\n.archives-wrap:first-child {\n  margin-top: 30px;\n}\n.archives-wrap:last-child {\n  margin-bottom: 80px;\n}\n.archives-wrap .archive-year-wrap {\n  line-height: 35px;\n  width: 200px;\n  position: absolute;\n  padding-top: 20px;\n  font-size: 1.8em;\n}\n.archives-wrap .archive-year-wrap a {\n  color: #666;\n  font-weight: bold;\n  padding-left: 48px;\n}\n.archives {\n  position: relative;\n}\n.archives .article-info {\n  border: none;\n}\n.archives .archive-article {\n  margin-left: 160px;\n  padding: 0.5em 0;\n  border-bottom: 1px solid #eee;\n  border-top: 1px solid #fff;\n  position: relative;\n}\n.archives .archive-article:first-child {\n  border-top: 1em;\n  padding-top: 20px;\n}\n.archives .archive-article:last-child {\n  border-bottom: none;\n}\n.archives .archive-article-title {\n  font-size: 1.125rem;\n  color: #333;\n  -webkit-transition: color 0.3s;\n  -moz-transition: color 0.3s;\n  -ms-transition: color 0.3s;\n  transition: color 0.3s;\n}\n.archives .archive-article-title:hover {\n  color: #657b83;\n}\n.archives .archive-article-title span {\n  display: block;\n  color: #a8a8a8;\n  font-size: 12px;\n  line-height: 14px;\n  height: 7px;\n  padding-left: 2px;\n}\n.archives .archive-article-title span:before {\n  display: inline-block;\n  content: \"“\";\n  font-family: serif;\n  font-size: 30px;\n  float: left;\n  margin: 4px 4px 0 -12px;\n  color: #c8c8c8;\n}\n.archive-article-inner .archive-article-header {\n  position: relative;\n}\n.archive-article-inner .article-meta {\n  position: relative;\n  float: right;\n  margin-top: -0.277777777777778rem;\n  padding-right: 0;\n  color: #555;\n  background: none;\n  text-align: right;\n  width: auto;\n}\n.archive-article-inner .article-meta .article-date time {\n  color: #aaa;\n}\n.archive-article-inner .article-meta .archive-article-date,\n.archive-article-inner .article-meta .article-tag-list {\n  margin-right: 1em;\n  display: -moz-inline-stack;\n  display: inline-block;\n  vertical-align: middle;\n  zoom: 1;\n  color: #666;\n  font-size: 14px;\n}\n.archive-article-inner .article-meta .archive-article-date {\n  cursor: default;\n  font-size: 0.875rem;\n  margin-bottom: 5px;\n  margin-top: -10px;\n}\n.archive-article-inner .article-meta .archive-article-date time:before {\n  content: \"\\f073\";\n  color: #999;\n  position: relative;\n  margin-right: 10px;\n  font: 18px FontAwesome;\n}\n.archive-article-inner .article-meta .article-category:before {\n  float: left;\n  margin-top: 1px;\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-category .article-category-link {\n  width: auto;\n  max-width: 83px;\n  padding-left: 10px;\n}\n.archive-article-inner .article-meta .article-tag-list {\n  margin-top: 0px;\n}\n.archive-article-inner .article-meta .article-tag-list:before {\n  left: 15px;\n}\n.archive-article-inner .article-meta .article-tag-list .article-tag-list-item {\n  display: inline-block;\n  width: auto;\n  max-width: 83px;\n  padding-left: 8px;\n  font-size: 12px;\n}\n.archives-wrap {\n  background: rgba(255,255,255,0.4);\n}\n.archives-wrap .archives {\n  background: transparent;\n}\n.article-entry pre,\n.article-entry .highlight {\n  background: rgba(51,51,51,0.85);\n  margin: auto;\n  padding: 0.35em 1.5em;\n  border-style: solid;\n  border-color: #ddd;\n  border-width: 1px;\n  overflow: auto;\n  color: #ccc;\n  line-height: 1.3rem;\n}\n.article-entry .highlight .gutter pre,\n.article-entry .gist .gist-file .gist-data .line-numbers {\n  color: #d3d3d3;\n  font-size: 0.85rem;\n}\n.article-entry pre,\n.article-entry code {\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco, monospace, \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\";\n  font-size: 1em;\n}\n.article-entry pre code {\n  text-shadow: none;\n  padding: 0;\n  background: none;\n  color: #ccc;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n.article-entry .highlight {\n  border-radius: 2px;\n  max-height: 50em;\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n  overflow: auto;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.05);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.05);\n}\n.article-entry .highlight pre {\n  background: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n.article-entry .highlight table {\n  margin: 0;\n  width: auto;\n}\n.article-entry .highlight td {\n  border: none;\n  padding: 0;\n}\n.article-entry .highlight figcaption {\n  font-size: 0.85em;\n  color: #999;\n  line-height: 1em;\n  margin-bottom: 1em;\n}\n.article-entry .highlight figcaption:before,\n.article-entry .highlight figcaption:after {\n  content: \"\";\n  display: table;\n}\n.article-entry .highlight figcaption:after {\n  clear: both;\n}\n.article-entry .highlight figcaption a {\n  float: right;\n}\n.article-entry .highlight .gutter pre {\n  text-align: right;\n  padding-right: 1em;\n}\n.article-entry .highlight .line {\n  line-height: 1.3rem;\n}\n.article-entry .gist {\n  margin: 0 -20px;\n  border-style: solid;\n  border-color: #ddd;\n  border-width: 1px 0;\n  background: rgba(51,51,51,0.85);\n  padding: 15px 20px 15px 0;\n}\n.article-entry .gist .gist-file {\n  border: none;\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco monospace;\n  margin: 0;\n}\n.article-entry .gist .gist-file .gist-data {\n  background: none;\n  border: none;\n}\n.article-entry .gist .gist-file .gist-data .line-numbers {\n  background: none;\n  border: none;\n  padding: 0 20px 0 0;\n}\n.article-entry .gist .gist-file .gist-data .line-data {\n  padding: 0 !important;\n}\n.article-entry .gist .gist-file .highlight {\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n.article-entry .gist .gist-file .gist-meta {\n  background: rgba(51,51,51,0.85);\n  color: #999;\n  font: 0.85em \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial;\n  text-shadow: 0 0;\n  padding: 0;\n  margin-top: 1em;\n  margin-left: 20px;\n}\n.article-entry .gist .gist-file .gist-meta a {\n  color: #258fb8;\n  font-weight: normal;\n}\n.article-entry .gist .gist-file .gist-meta a:hover {\n  text-decoration: underline;\n}\n.article-entry code {\n  color: #808080;\n  background: rgba(248,237,223,0.5);\n  padding: 0.05em 0.3em;\n  border-radius: 3px;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.08);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.08);\n  var: 1;\n  color: #fff;\n  background: rgba(153,204,153,0.7);\n}\npre .comment,\npre .title {\n  color: #999;\n}\npre .variable,\npre .attribute,\npre .tag,\npre .regexp,\npre .ruby .constant,\npre .xml .tag .title,\npre .xml .pi,\npre .xml .doctype,\npre .html .doctype,\npre .css .id,\npre .css .class,\npre .css .pseudo {\n  color: #f2777a;\n}\npre .number,\npre .preprocessor,\npre .built_in,\npre .literal,\npre .params,\npre .constant {\n  color: #f99157;\n}\npre .class,\npre .ruby .class .title,\npre .css .rules .attribute {\n  color: #9c9;\n}\npre .string,\npre .value,\npre .inheritance,\npre .header,\npre .ruby .symbol,\npre .xml .cdata {\n  color: #9c9;\n}\npre .css .hexcolor {\n  color: #6cc;\n}\npre .function,\npre .python .decorator,\npre .python .title,\npre .ruby .function .title,\npre .ruby .title .keyword,\npre .perl .sub,\npre .javascript .title,\npre .coffeescript .title {\n  color: #69c;\n}\npre .keyword,\npre .javascript .function {\n  color: #c9c;\n}\n#footer {\n  font-size: 0.8rem;\n  font-family: \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\", sans-serif;\n  text-shadow: 0 1px #fff;\n  position: absolute;\n  bottom: 20px;\n  opacity: 0.75;\n  width: 100%;\n  text-align: center;\n}\n#footer .footer-left {\n  float: left;\n}\n#footer .footer-right {\n  float: right;\n}\n#footer .outer {\n  padding: 0 30px;\n}\n#footer .fa-heart {\n  color: #f00;\n  -webkit-animation-duration: 1.1s;\n  -moz-animation-duration: 1.1s;\n  -ms-animation-duration: 1.1s;\n  animation-duration: 1.1s;\n}\n#footer #busuanzi_value_site_uv,\n#footer #busuanzi_container_page_pv {\n  font-family: Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco;\n}\n#footer .visit {\n  font-size: 0.88rem;\n}\n#footer .visit .fa {\n  padding-right: 0.25em;\n  color: #808080;\n}\n#footer .visit #site-visit:hover,\n#footer .visit #page-visit:hover {\n  color: #000;\n}\n#footer .visit #site-visit:hover .fa,\n#footer .visit #page-visit:hover .fa {\n  color: #333;\n}\n.share {\n  padding-left: 40px;\n  margin: 1em auto 0.5em;\n  opacity: 0.75;\n}\n.share:hover {\n  opacity: 1;\n}\n.bdsharebuttonbox a,\n.bdsharebuttonbox .bds_more {\n  width: 30px;\n  height: 30px !important;\n  line-height: 30px !important;\n  text-align: center;\n  padding-left: 0 !important;\n  font-size: 20.400000000000002px !important;\n  text-decoration: none;\n  color: #fff !important;\n  -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1), 1px 1px 1px rgba(0,0,0,0.3);\n  box-shadow: 1px 1px 1px rgba(0,0,0,0.1), 1px 1px 1px rgba(0,0,0,0.3);\n}\n.bdsharebuttonbox a:hover,\n.bdsharebuttonbox .bds_more:hover {\n  -webkit-transform: scale(1.1);\n  -moz-transform: scale(1.1);\n  -ms-transform: scale(1.1);\n  transform: scale(1.1);\n  color: #fff !important;\n}\n.bdsharebuttonbox .bds_tsina {\n  background: #db332f !important;\n}\n.bdsharebuttonbox .bds_sqq {\n  background: #1cbcef !important;\n}\n.bdsharebuttonbox .bds_copy {\n  background: #8f8f8f !important;\n}\n.bdsharebuttonbox .bds_mail {\n  background: #6fc0e4 !important;\n}\n.bdsharebuttonbox .bds_weixin {\n  background: #8cdc49 !important;\n}\n.bdsharebuttonbox .bds_more {\n  background: #8cbcf5 !important;\n}\n.bdsharebuttonbox .bds_twi {\n  background: #21abf4 !important;\n}\n#page-nav {\n  text-align: center;\n  margin-top: 30px;\n}\n#page-nav .page-number {\n  width: 20px;\n  height: 20px;\n  background: #4d4d4d;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  display: inline-block;\n  color: #fff;\n  line-height: 20px;\n  font-size: 12px;\n  margin: 0 3px 30px;\n}\n#page-nav .page-number:hover {\n  background: #5e5e5e;\n}\n#page-nav .current {\n  background: #88acdb;\n  cursor: default;\n}\n#page-nav .current:hover {\n  background: #88acdb;\n}\n#page-nav .extend {\n  color: #4d4d4d;\n  margin: 0 27px;\n  opacity: 0;\n}\n#page-nav .extend:hover {\n  color: #5e5e5e;\n}\n#page-nav:hover .extend {\n  opacity: 1;\n}\n#post-instagram {\n  padding: 30px;\n}\n#post-instagram .article-entry {\n  padding-right: 0;\n}\n.instagram {\n  position: relative;\n  min-height: 500px;\n}\n.instagram .open-ins {\n  display: block;\n  padding: 10px 0;\n  position: absolute;\n  right: 28px;\n  top: -75px;\n  color: #333;\n}\n.instagram .open-ins:hover {\n  color: #657b83;\n}\n.instagram .year {\n  display: inline;\n}\n.instagram .album h1 em {\n  font-style: normal;\n  font-size: 14px;\n  margin-left: 10px;\n}\n.instagram .album ul {\n  min-height: 149px;\n  padding-top: 17px;\n  border-bottom: 1px solid #ddd;\n  list-style: none;\n}\n.instagram .album li {\n  position: relative;\n  display: inline-block;\n  min-width: 157px;\n  margin: 0;\n}\n.instagram .album li:before {\n  display: none;\n}\n.instagram .album div.img-box {\n  position: relative;\n  margin: 0 20px 10px;\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box .img-bg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0px;\n  width: 100%;\n  margin: -5px;\n  padding: 5px;\n  background: rgba(204,204,204,0.8);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -moz-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.04), 0 1px 5px rgba(0,0,0,0.1);\n  -webkit-transition: all 0.15s ease-out 0.1s;\n  -moz-transition: all 0.15s ease-out 0.1s;\n  -o-transition: all 0.15s ease-out 0.1s;\n  -webkit-transition: all 0.15s ease-out 0.1s;\n  -moz-transition: all 0.15s ease-out 0.1s;\n  -ms-transition: all 0.15s ease-out 0.1s;\n  transition: all 0.15s ease-out 0.1s;\n  opacity: 0.2;\n  cursor: pointer;\n  display: block;\n}\n.instagram .album div.img-box .img-bg:hover {\n  opacity: 0;\n}\n.instagram .album div.img-box img {\n  width: 100%;\n  height: auto;\n  display: block;\n}\n@media screen and (max-width: 600px) {\n  .instagram .album ul {\n    margin-left: 0;\n    padding: 0;\n    text-align: center;\n  }\n  .instagram .album li {\n    max-width: 300px;\n  }\n  .instagram .album div.img-box {\n    margin: 0;\n  }\n}\n.switch-btn {\n  margin: 0 auto;\n  margin-top: 23px;\n  position: relative;\n  width: 70px;\n  text-align: center;\n}\n.switch-btn .tips-box {\n  position: relative;\n}\n.switch-btn .tips-box .tips-arrow {\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-bottom: 6px solid #000;\n  opacity: 0.8;\n  position: absolute;\n  top: -6px;\n  left: 30px;\n}\n.switch-btn .tips-box .tips-inner {\n  padding: 5px 8px 4px 8px;\n  background-color: #000;\n  color: #fff;\n  width: 80px;\n  text-align: center;\n  border-radius: 3px;\n  opacity: 0.8;\n  position: absolute;\n  z-index: 99;\n  left: -13px;\n}\n.switch-btn .tips-box .tips-inner li {\n  padding: 4px 0;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  line-height: 1.15;\n  color: #ddd;\n}\n.switch-btn .tips-box .tips-inner li:hover {\n  background: #111;\n}\n.switch-btn .icon {\n  height: 32px;\n  width: 32px;\n  background: #cecece;\n  border-radius: 100px;\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  padding: 10px;\n  -webkit-transform: scale(0.6);\n  -moz-transform: scale(0.6);\n  -ms-transform: scale(0.6);\n  transform: scale(0.6);\n  cursor: pointer;\n}\n.switch-btn .icon-ctn {\n  width: 34px;\n  height: 34px;\n  position: relative;\n  overflow: hidden;\n}\n.switch-btn .icon-ctn .birdhouse {\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-style: solid;\n  border-color: transparent transparent #4d4d4d transparent;\n  border-width: 0 16px 14px;\n}\n.switch-btn .icon-ctn .birdhouse:after {\n  content: '';\n  position: absolute;\n  top: 12px;\n  left: -12px;\n  border-style: solid;\n  border-color: #4d4d4d transparent transparent transparent;\n  border-width: 100px 12px;\n}\n.switch-btn .icon-ctn .birdhouse_holes {\n  width: 12px;\n  height: 12px;\n  background: #ddd;\n  position: absolute;\n  -webkit-border-radius: 60px;\n  -moz-border-radius: 60px;\n  border-radius: 60px;\n  left: 10px;\n  top: 8px;\n}\n.switch-btn .icon-ctn .birdhouse_holes:after {\n  content: '';\n  position: absolute;\n  width: 4px;\n  height: 4px;\n  background: #ccc;\n  bottom: -8px;\n  left: 4px;\n  -webkit-border-radius: 60px;\n  -moz-border-radius: 60px;\n  border-radius: 60px;\n}\n.switch-btn .icon-ctn .ribbon {\n  width: 12px;\n  height: 20px;\n  background: #333;\n  margin: 2px 0 0 10px;\n}\n.switch-btn .icon-ctn .ribbon:after {\n  content: '';\n  position: absolute;\n  left: 10px;\n  top: 16px;\n  width: 0;\n  height: 0;\n  border: solid #333;\n  border-color: transparent #333 transparent #333;\n  border-width: 6px 6px 8px 6px;\n}\n.switch-btn .icon-ctn .loopback_l {\n  width: 10px;\n  height: 5px;\n  border-style: solid;\n  border-width: 0px 3px 3px 3px;\n  border-color: #333;\n  border-radius: 0 0 50px 50px;\n  position: absolute;\n  top: 16px;\n  left: 1px;\n}\n.switch-btn .icon-ctn .loopback_l:before {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px;\n  border-color: transparent transparent transparent #333;\n  bottom: 7px;\n  left: 5px;\n}\n.switch-btn .icon-ctn .loopback_l:after {\n  content: '';\n  width: 5px;\n  height: 5px;\n  border-style: solid;\n  border-width: 3px 0 0 3px;\n  border-color: #333;\n  border-radius: 50px 0 0 0;\n  position: absolute;\n  left: -3px;\n  bottom: 5px;\n}\n.switch-btn .icon-ctn .loopback_r {\n  width: 10px;\n  height: 5px;\n  border-style: solid;\n  border-width: 3px 3px 0 3px;\n  border-color: #333;\n  border-radius: 50px 50px 0 0;\n  position: absolute;\n  top: 8px;\n  right: 2px;\n}\n.switch-btn .icon-ctn .loopback_r:before {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 4px;\n  border-color: transparent #333 transparent transparent;\n  top: 7px;\n  right: 5px;\n}\n.switch-btn .icon-ctn .loopback_r:after {\n  content: '';\n  width: 5px;\n  height: 5px;\n  border-style: solid;\n  border-width: 0 3px 3px 0;\n  border-color: #333;\n  border-radius: 0 0 50px 0;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n}\n.switch-btn .icon-ctn .user {\n  width: 12px;\n  height: 14px;\n  background: #333;\n  border-radius: 5px 5px 0 0;\n  margin-left: 10px;\n  margin-top: 2px;\n}\n.switch-btn .icon-ctn .user:before {\n  content: '';\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  top: 17px;\n  left: 0px;\n  border-style: solid;\n  border-color: transparent transparent #333 transparent;\n  border-width: 0 16px 6px 16px;\n}\n.switch-btn .icon-ctn .user:after {\n  content: '';\n  width: 8px;\n  height: 5px;\n  background: #333;\n  position: absolute;\n  margin-top: 13px;\n  margin-left: -4px;\n}\n.switch-btn .icon-ctn .shoulder {\n  width: 32px;\n  height: 6px;\n  background: #333;\n  position: absolute;\n  bottom: 6px;\n}\n#header .tagcloud a {\n  color: #fff;\n}\n.tagcloud a {\n  display: inline-block;\n  text-decoration: none;\n  font-weight: normal;\n  font-size: 0.75rem;\n  color: #fff;\n  height: 1.125rem;\n  line-height: 1.125rem;\n  float: left;\n  padding: 0 5px 0 10px;\n  position: relative;\n  border-radius: 0 5px 5px 0;\n  margin: 5px 9px 5px 8px;\n  opacity: 0.75;\n  font-family: \"Microsoft YaHei\", \"PingFang SC\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\" \"Lucida Grande\", Verdana, \"Helvetica Neue\", Arial;\n}\n.tagcloud a.color0 {\n  background: #88acdb;\n}\n.tagcloud a.color0::before {\n  border-right-color: #88acdb;\n}\n.tagcloud a.color1 {\n  background: #ffa07a;\n}\n.tagcloud a.color1::before {\n  border-right-color: #ffa07a;\n}\n.tagcloud a.color2 {\n  background: #f08080;\n}\n.tagcloud a.color2::before {\n  border-right-color: #f08080;\n}\n.tagcloud a.color3 {\n  background: #76becc;\n}\n.tagcloud a.color3::before {\n  border-right-color: #76becc;\n}\n.tagcloud a.color4 {\n  background: #918597;\n}\n.tagcloud a.color4::before {\n  border-right-color: #918597;\n}\n.tagcloud a.color5 {\n  background: #6fc0e4;\n}\n.tagcloud a.color5::before {\n  border-right-color: #6fc0e4;\n}\n.tagcloud a.color6 {\n  background: #bc8f8f;\n}\n.tagcloud a.color6::before {\n  border-right-color: #bc8f8f;\n}\n.tagcloud a:hover {\n  opacity: 1;\n  -webkit-transform: scale(1.06);\n  -moz-transform: scale(1.06);\n  -ms-transform: scale(1.06);\n  transform: scale(1.06);\n  background-color: #9c9;\n  border-color: #9c9;\n}\n.tagcloud a:hover::before {\n  border-right-color: #9c9;\n}\n.tagcloud a:before {\n  content: \" \";\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: 0;\n  left: -1.1rem;\n  border: 0.5625rem solid transparent;\n}\n.tagcloud a:after {\n  content: \" \";\n  width: 4px;\n  height: 4px;\n  background-color: #fff;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.3);\n  box-shadow: 0 0 0 1px rgba(0,0,0,0.3);\n  position: absolute;\n  top: 0.4375rem;\n  left: 2px;\n}\n.article-tag::before,\n.article-category::before {\n  float: left;\n  color: #999;\n  font: 18px FontAwesome;\n  margin-right: 5px;\n  margin-top: 0.333333333333333rem;\n}\n.article-tag::before {\n  content: \"\\f02b\";\n  margin-left: 1em;\n}\n.article-category::before {\n  content: \"\\f02d\";\n}\n.article-pop-out {\n  float: left;\n}\n.article-pop-out:before {\n  color: #999;\n  content: \"\\f08d\";\n  font: 18px FontAwesome;\n  float: left;\n  margin-right: 5px;\n  margin-top: 0.333333333333333rem;\n}\n.article-pop-out:after {\n  float: left;\n  content: \"\";\n  margin-right: 20px;\n  margin-top: 9px;\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n}\n::-webkit-scrollbar-button:start:increment,\n::-webkit-scrollbar-button:end:decrement {\n  display: none;\n}\n::-webkit-scrollbar-corner {\n  display: block;\n}\n::-webkit-scrollbar-thumb {\n  border-radius: 8px;\n  background-color: rgba(0,0,0,0.2);\n}\n::-webkit-scrollbar-thumb:hover {\n  border-radius: 8px;\n  background-color: rgba(0,0,0,0.5);\n}\n::-webkit-scrollbar-track,\n::-webkit-scrollbar-thumb {\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n}\n::-webkit-scrollbar-track:hover {\n  background-color: rgba(0,0,0,0.15);\n}\n::-webkit-scrollbar-button:start {\n  width: 10px;\n  height: 10px;\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat 0 0;\n}\n::-webkit-scrollbar-button:start:hover {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -15px 0;\n}\n::-webkit-scrollbar-button:start:active {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -30px 0;\n}\n::-webkit-scrollbar-button:end {\n  width: 10px;\n  height: 10px;\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat 0 -18px;\n}\n::-webkit-scrollbar-button:end:hover {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -15px -18px;\n}\n::-webkit-scrollbar-button:end:active {\n  background: url(\"../img/scrollbar_arrow.png\") no-repeat -30px -18px;\n}\n#viewer {\n  position: fixed;\n  z-index: 1000000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n}\n#viewer-box {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  color: #ccc;\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transition: -webkit-transform 0.25s ease-in-out;\n}\n#viewer-box .viewer-box-l {\n  background: rgba(20,20,20,0.9);\n  width: 80%;\n  height: auto;\n  -webkit-box-flex: 0;\n  -moz-box-flex: 0;\n  -ms-box-flex: 0;\n  box-flex: 0;\n  -webkit-flex-grow: 0;\n  flex-grow: 0;\n  min-width: 8em;\n  max-width: 23em;\n}\n#viewer-box .viewer-box-l .viewer-box-wrap {\n  margin: 20px 10px 0px 20px;\n}\n#viewer-box .viewer-box-l .viewer-title {\n  line-height: 32px;\n}\n#viewer-box .viewer-box-l .viewer-title:before {\n  content: \"\";\n  width: 6px;\n  height: 6px;\n  border: 1px solid #999;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  background: #aaa;\n  display: inline-block;\n  margin-right: 10px;\n}\n#viewer-box .viewer-box-l .viewer-div {\n  border-bottom: 1px dotted #666;\n  padding-bottom: 13px;\n  line-height: 20px;\n}\n#viewer-box .viewer-box-l .viewer-div:last-child {\n  border-bottom: none;\n}\n#viewer-box .viewer-box-l .viewer-div .switch-friends-link {\n  line-height: 20px;\n}\n#viewer-box .viewer-box-r {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  width: auto;\n  height: auto;\n  background: rgba(0,0,0,0);\n}\n#viewer-box .viewer-box-r:hover {\n  cursor: w-resize;\n}\n#viewer-box.anm-swipe {\n  -webkit-transform: translate3d(0, 0, 0);\n}\n#viewer-box.anm-swipe .viewer-box-r {\n  background: rgba(0,0,0,0);\n}\n.hide {\n  display: none;\n}\n#viewer-box .viewer-list {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  overflow: hidden;\n}\n.search {\n  width: 68%;\n  height: 18px;\n  margin-top: 1px;\n  padding: 0;\n  font-family: inherit;\n  border: 2px solid transparent;\n  border-bottom: 2px solid #d3d3d3;\n  border-radius: 2px;\n  opacity: 0.65;\n  background: none;\n}\n.search:hover {\n  border: 2px solid #d3d3d3;\n  opacity: 1;\n  -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.3);\n  box-shadow: 0 0 10px rgba(0,0,0,0.3);\n}\n#search-form .fa-times {\n  display: none;\n  padding: 1px 0.7em;\n  -webkit-box-shadow: 0 0 3px rgba(0,0,0,0.15);\n  box-shadow: 0 0 3px rgba(0,0,0,0.15);\n  cursor: pointer;\n  color: #808080;\n}\n#search-form .fa-times:active {\n  background: #d3d3d3;\n}\n#search-form .fa-times:hover {\n  zoom: 1.1;\n  padding: 1px 0.6em;\n  border: 1px solid #d3d3d3;\n  -webkit-box-shadow: 0 0 6px rgba(0,0,0,0.25);\n  box-shadow: 0 0 6px rgba(0,0,0,0.25);\n}\n#local-search-result {\n  margin: auto -12% auto -6%;\n  font-size: 0.9rem;\n  text-align: left;\n  word-break: break-all;\n}\n#local-search-result ul.search-result-list li:hover {\n  font-weight: normal;\n}\n#local-search-result li {\n  margin: 0.5em auto;\n  border-bottom: 2px solid #d3d3d3;\n}\n#local-search-result .search-result-list li:hover {\n  background: rgba(158,188,226,0.21);\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.2);\n  box-shadow: 0 0 5px rgba(0,0,0,0.2);\n}\n#local-search-result a.search-result-title {\n  line-height: 1.2;\n  font-weight: bold;\n  color: #708090;\n}\n#local-search-result p.search-result {\n  margin: 0.4em auto;\n  line-height: 1.2rem;\n  max-height: 3.6rem;\n  overflow: hidden;\n  font-size: 0.8rem;\n  text-align: justify;\n  color: #808080;\n}\n#local-search-result em.search-keyword {\n  color: #f58e90;\n  border-bottom: 1px dashed #f58e90;\n  font-weight: bold;\n  font-size: 0.85rem;\n}\np.no-result {\n  display: none;\n  margin: 2em 0 2em 6%;\n  padding-bottom: 0.5em;\n  text-align: left;\n  color: #808080;\n  font-family: Times, Georgia serif;\n  border-bottom: 2px solid #d3d3d3;\n}\n","date":"2020-04-04T08:34:36.681Z","updated":"2020-04-04T08:34:36.404Z","path":"images/tags _ Night's blog_files/style.css","layout":"false","title":"","comments":1,"_id":"ck8npay3d00hsqr3ly7buogql"},{"_content":"/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"2.2.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if(\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype||{},\"isPrototypeOf\"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=d.createElement(\"script\"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+M+\"))|)\"+L+\"*\\\\]\",O=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N+\")*)|.*)\\\\)|)\",P=new RegExp(L+\"+\",\"g\"),Q=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),R=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),S=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),T=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),U=new RegExp(O),V=new RegExp(\"^\"+M+\"$\"),W={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M+\"|[*])\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/'|\\\\/g,ba=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),ca=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],\"string\"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+\" \"]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(\"object\"!==b.nodeName.toLowerCase()){(k=b.getAttribute(\"id\"))?k=k.replace(aa,\"\\\\$&\"):b.setAttribute(\"id\",k=u),r=g(a),h=r.length,l=V.test(k)?\"#\"+k:\"[id='\"+k+\"']\";while(h--)r[h]=l+\" \"+qa(r[h]);s=r.join(\",\"),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute(\"id\")}}}return i(a.replace(Q,\"$1\"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(\"|\"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener(\"unload\",da,!1):e.attachEvent&&e.attachEvent(\"onunload\",da)),c.attributes=ia(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return\"undefined\"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ia(function(a){var b=n.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",O)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,\"='$1']\"),c.matchesSelector&&p&&!A[b+\" \"]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ba,ca),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(P,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,\"$1\"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||\"\")||fa.error(\"unsupported lang: \"+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(Q,\"$1\"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s=\"0\",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG(\"*\",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ia(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ja(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ja(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(\"disabled\")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,\"string\"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,\"string\"==typeof a){if(e=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?\"string\"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,\"parentNode\")},parentsUntil:function(a,b,c){return u(a,\"parentNode\",c)},next:function(a){return F(a,\"nextSibling\")},prev:function(a){return F(a,\"previousSibling\")},nextAll:function(a){return u(a,\"nextSibling\")},prevAll:function(a){return u(a,\"previousSibling\")},nextUntil:function(a,b,c){return u(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return u(a,\"previousSibling\",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:\"\")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&\"string\"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c=\"\",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=\"\"),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler(\"ready\"),n(d).off(\"ready\"))))}});function J(){d.removeEventListener(\"DOMContentLoaded\",J),a.removeEventListener(\"load\",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),\"complete\"===d.readyState||\"loading\"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener(\"DOMContentLoaded\",J),a.addEventListener(\"load\",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if(\"string\"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(Q,\"-$&\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:P.test(c)?n.parseJSON(c):c;\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,\"-$&\").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf(\"-\")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){N.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=N.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,\"\")},i=h(),j=c&&c[3]||(n.cssNumber[b]?\"\":\"px\"),k=(n.cssNumber[b]||\"px\"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||\".5\",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c=\"undefined\"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):\"undefined\"!=typeof a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],\"globalEval\",!b||N.get(b[c],\"globalEval\"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if(\"object\"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement(\"div\")),h=(Y.exec(f)||[\"\",\"\"])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=\"\"}else m.push(b.createTextNode(f));l.textContent=\"\",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),\"script\"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||\"\")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement(\"div\")),c=d.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if(\"object\"==typeof b){\"string\"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&(\"string\"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return\"undefined\"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,\"handle events\")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(\"click\"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&\"function\"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function qa(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&X.test(a.type)?b.checked=a.checked:\"input\"!==c&&\"textarea\"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&\"string\"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,\"script\"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,\"script\"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||\"\")&&!N.access(j,\"globalEval\")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,\"\")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,\"script\")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,\"<$1></$2>\")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,\"script\"),g.length>0&&aa(g,!i&&_(a,\"script\")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:\"block\",BODY:\"block\"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],\"display\");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),\"none\"!==c&&c||(wa=(wa||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement(\"div\"),h=d.createElement(\"div\");if(h.style){h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,g.style.cssText=\"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute\",g.appendChild(h);function i(){h.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%\",h.innerHTML=\"\",Ea.appendChild(g);var d=a.getComputedStyle(h);b=\"1%\"!==d.top,f=\"2px\"===d.marginLeft,c=\"4px\"===d.width,h.style.marginRight=\"50%\",e=\"4px\"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement(\"div\"));return c.style.cssText=h.style.cssText=\"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",h.style.width=\"1px\",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,\"\"!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+\"\":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ja={letterSpacing:\"0\",fontWeight:\"400\"},Ka=[\"Webkit\",\"O\",\"Moz\",\"ms\"],La=d.createElement(\"div\").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||\"px\"):b}function Oa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Pa(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=N.access(d,\"olddisplay\",za(d.nodeName)))):(e=V(d),\"none\"===c&&e||N.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f=\"number\"),null!=c&&c===c&&(\"number\"===f&&(c+=e&&e[3]||(n.cssNumber[h]?\"\":\"px\")),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),\"normal\"===e&&b in Ja&&(e=Ja[b]),\"\"===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,\"display\"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,f),f);return g&&(e=T.exec(c))&&\"px\"!==(e[3]||\"px\")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,\"marginLeft\"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+\"px\":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:\"inline-block\"},Fa,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:\"swing\"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?N.get(a,\"olddisplay\")||za(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?za(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=N.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{\"*\":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=N.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa(\"show\"),slideUp:Xa(\"hide\"),slideToggle:Xa(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||\"fx\",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement(\"input\"),b=d.createElement(\"select\"),c=b.appendChild(d.createElement(\"option\"));a.type=\"checkbox\",l.checkOn=\"\"!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",l.radioValue=\"t\"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return\"undefined\"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+\"\"),c):e&&\"get\"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\nvoid 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute(\"class\")||\"\"}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])d.indexOf(\" \"+f+\" \")<0&&(d+=f+\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])while(d.indexOf(\" \"+f+\" \")>-1)d=d.replace(\" \"+f+\" \",\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if(\"string\"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&\"boolean\"!==c||(b=fb(this),b&&N.set(this,\"__className__\",b),this.setAttribute&&this.setAttribute(\"class\",b||a===!1?\"\":N.get(this,\"__className__\")||\"\"))})},hasClass:function(a){var b,c,d=0;b=\" \"+a+\" \";while(c=this[d++])if(1===c.nodeType&&(\" \"+fb(c)+\" \").replace(eb,\" \").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(gb,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a)).replace(hb,\" \")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute(\"disabled\"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,\"type\")?b.type:b,r=k.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(\".\")>-1&&(r=q.split(\".\"),q=r.shift(),r.sort()),l=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join(\".\"),b.rnamespace=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,\"events\")||{})[b.type]&&N.get(h,\"handle\"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin=\"onfocusin\"in a,l.focusin||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(b){var c;if(!b||\"string\"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,\"text/xml\")}catch(d){c=void 0}return c&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub=\"*/\".concat(\"*\"),vb=d.createElement(\"a\");vb.href=jb.href;function wb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:\"GET\",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ub,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){\"object\"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks(\"once memory\"),s=m.statusCode||{},t={},u={},v=0,w=\"canceled\",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+\"\").replace(mb,\"\").replace(rb,jb.protocol+\"//\"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||\"*\").toLowerCase().match(G)||[\"\"],null==m.crossDomain){j=d.createElement(\"a\");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+\"//\"+vb.host!=j.protocol+\"//\"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?\"&\":\"?\")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,\"$1_=\"+kb++):f+(lb.test(f)?\"&\":\"?\")+\"_=\"+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader(\"If-Modified-Since\",n.lastModified[f]),n.etag[f]&&x.setRequestHeader(\"If-None-Match\",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader(\"Content-Type\",m.contentType),x.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+ub+\"; q=0.01\":\"\"):m.accepts[\"*\"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w=\"abort\";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger(\"ajaxSend\",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort(\"timeout\")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,\"No Transport\");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||\"\",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[f]=w),w=x.getResponseHeader(\"etag\"),w&&(n.etag[f]=w)),204===b||\"HEAD\"===m.type?y=\"nocontent\":304===b?y=\"notmodified\":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y=\"error\",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+\"\",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?\"ajaxSuccess\":\"ajaxError\",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger(\"ajaxComplete\",[x,m]),--n.active||n.event.trigger(\"ajaxStop\")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+\"[\"+(\"object\"==typeof e&&null!=e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Gb(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join(\"&\").replace(Bb,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,\"\\r\\n\")}}):{name:b.name,value:c.replace(Db,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&\"withCredentials\"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,\"abort\"===a?h.abort():\"error\"===a?\"number\"!=typeof h.status?f(0,\"error\"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,\"text\"!==(h.responseType||\"text\")||\"string\"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c(\"error\"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c(\"abort\");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n(\"<script>\").prop({charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&f(\"error\"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Jb.pop()||n.expando+\"_\"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?\"url\":\"string\"==typeof b.data&&0===(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Kb.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,\"$1\"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e||\"GET\",dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=\"pageYOffset\"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\n","source":"images/tags _ Night's blog_files/jquery.min.js","raw":"/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"2.2.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if(\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype||{},\"isPrototypeOf\"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf(\"use strict\")?(b=d.createElement(\"script\"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",L=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",N=\"\\\\[\"+L+\"*(\"+M+\")(?:\"+L+\"*([*^$|!~]?=)\"+L+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+M+\"))|)\"+L+\"*\\\\]\",O=\":(\"+M+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+N+\")*)|.*)\\\\)|)\",P=new RegExp(L+\"+\",\"g\"),Q=new RegExp(\"^\"+L+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+L+\"+$\",\"g\"),R=new RegExp(\"^\"+L+\"*,\"+L+\"*\"),S=new RegExp(\"^\"+L+\"*([>+~]|\"+L+\")\"+L+\"*\"),T=new RegExp(\"=\"+L+\"*([^\\\\]'\\\"]*?)\"+L+\"*\\\\]\",\"g\"),U=new RegExp(O),V=new RegExp(\"^\"+M+\"$\"),W={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),TAG:new RegExp(\"^(\"+M+\"|[*])\"),ATTR:new RegExp(\"^\"+N),PSEUDO:new RegExp(\"^\"+O),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+L+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+L+\"*(?:([+-]|)\"+L+\"*(\\\\d+)|))\"+L+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+K+\")$\",\"i\"),needsContext:new RegExp(\"^\"+L+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+L+\"*((?:-\\\\d)?\\\\d*)\"+L+\"*\\\\)|)(?=[^-]|$)\",\"i\")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/'|\\\\/g,ba=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+L+\"?|(\"+L+\")|.)\",\"ig\"),ca=function(a,b,c){var d=\"0x\"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],\"string\"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+\" \"]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if(\"object\"!==b.nodeName.toLowerCase()){(k=b.getAttribute(\"id\"))?k=k.replace(aa,\"\\\\$&\"):b.setAttribute(\"id\",k=u),r=g(a),h=r.length,l=V.test(k)?\"#\"+k:\"[id='\"+k+\"']\";while(h--)r[h]=l+\" \"+qa(r[h]);s=r.join(\",\"),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute(\"id\")}}}return i(a.replace(Q,\"$1\"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+\" \")>d.cacheLength&&delete b[a.shift()],b[c+\" \"]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement(\"div\");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split(\"|\"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return\"input\"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(\"input\"===c||\"button\"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&\"undefined\"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?\"HTML\"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener(\"unload\",da,!1):e.attachEvent&&e.attachEvent(\"onunload\",da)),c.attributes=ia(function(a){return a.className=\"i\",!a.getAttribute(\"className\")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment(\"\")),!a.getElementsByTagName(\"*\").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(\"undefined\"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute(\"id\")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=\"undefined\"!=typeof a.getAttributeNode&&a.getAttributeNode(\"id\");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return\"undefined\"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(\"*\"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return\"undefined\"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML=\"<a id='\"+u+\"'></a><select id='\"+u+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",a.querySelectorAll(\"[msallowcapture^='']\").length&&q.push(\"[*^$]=\"+L+\"*(?:''|\\\"\\\")\"),a.querySelectorAll(\"[selected]\").length||q.push(\"\\\\[\"+L+\"*(?:value|\"+K+\")\"),a.querySelectorAll(\"[id~=\"+u+\"-]\").length||q.push(\"~=\"),a.querySelectorAll(\":checked\").length||q.push(\":checked\"),a.querySelectorAll(\"a#\"+u+\"+*\").length||q.push(\".#.+[+~]\")}),ia(function(a){var b=n.createElement(\"input\");b.setAttribute(\"type\",\"hidden\"),a.appendChild(b).setAttribute(\"name\",\"D\"),a.querySelectorAll(\"[name=d]\").length&&q.push(\"name\"+L+\"*[*^$|!~]?=\"),a.querySelectorAll(\":enabled\").length||q.push(\":enabled\",\":disabled\"),a.querySelectorAll(\"*,:x\"),q.push(\",.*:\")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,\"div\"),s.call(a,\"[s!='']:x\"),r.push(\"!=\",O)}),q=q.length&&new RegExp(q.join(\"|\")),r=r.length&&new RegExp(r.join(\"|\")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,\"='$1']\"),c.matchesSelector&&p&&!A[b+\" \"]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c=\"\",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if(\"string\"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||\"\").replace(ba,ca),\"~=\"===a[2]&&(a[3]=\" \"+a[3]+\" \"),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),\"nth\"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(\"even\"===a[3]||\"odd\"===a[3])),a[5]=+(a[7]+a[8]||\"odd\"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||\"\":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(\")\",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return\"*\"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+\" \"];return b||(b=new RegExp(\"(^|\"+L+\")\"+a+\"(\"+L+\"|$)\"))&&y(a,function(a){return b.test(\"string\"==typeof a.className&&a.className||\"undefined\"!=typeof a.getAttribute&&a.getAttribute(\"class\")||\"\")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?\"!=\"===b:b?(e+=\"\",\"=\"===b?e===c:\"!=\"===b?e!==c:\"^=\"===b?c&&0===e.indexOf(c):\"*=\"===b?c&&e.indexOf(c)>-1:\"$=\"===b?c&&e.slice(-c.length)===c:\"~=\"===b?(\" \"+e.replace(P,\" \")+\" \").indexOf(c)>-1:\"|=\"===b?e===c||e.slice(0,c.length+1)===c+\"-\":!1):!0}},CHILD:function(a,b,c,d,e){var f=\"nth\"!==a.slice(0,3),g=\"last\"!==a.slice(-4),h=\"of-type\"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?\"nextSibling\":\"previousSibling\",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p=\"only\"===a&&!o&&\"nextSibling\"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error(\"unsupported pseudo: \"+a);return e[u]?e(b):e.length>1?(c=[a,a,\"\",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,\"$1\"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||\"\")||fa.error(\"unsupported lang: \"+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute(\"xml:lang\")||b.getAttribute(\"lang\"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+\"-\");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&!!a.checked||\"option\"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return\"input\"===b&&\"button\"===a.type||\"button\"===b},text:function(a){var b;return\"input\"===a.nodeName.toLowerCase()&&\"text\"===a.type&&(null==(b=a.getAttribute(\"type\"))||\"text\"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+\" \"];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q,\" \")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d=\"\";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&\"parentNode\"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||\"*\",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[\" \"],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:\" \"===a[i-2].type?\"*\":\"\"})).replace(Q,\"$1\"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s=\"0\",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG(\"*\",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+\" \"];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n=\"function\"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&\"ID\"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split(\"\").sort(B).join(\"\")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement(\"div\"))}),ia(function(a){return a.innerHTML=\"<a href='#'></a>\",\"#\"===a.firstChild.getAttribute(\"href\")})||ja(\"type|href|height|width\",function(a,b,c){return c?void 0:a.getAttribute(b,\"type\"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML=\"<input/>\",a.firstChild.setAttribute(\"value\",\"\"),\"\"===a.firstChild.getAttribute(\"value\")})||ja(\"value\",function(a,b,c){return c||\"input\"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute(\"disabled\")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[\":\"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if(\"string\"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=\":not(\"+a+\")\"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if(\"string\"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+\" \"+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,\"string\"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,\"string\"==typeof a){if(e=\"<\"===a[0]&&\">\"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||\"string\"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?\"string\"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,\"parentNode\")},parentsUntil:function(a,b,c){return u(a,\"parentNode\",c)},next:function(a){return F(a,\"nextSibling\")},prev:function(a){return F(a,\"previousSibling\")},nextAll:function(a){return u(a,\"nextSibling\")},prevAll:function(a){return u(a,\"previousSibling\")},nextUntil:function(a,b,c){return u(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return u(a,\"previousSibling\",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return\"Until\"!==a.slice(-5)&&(d=c),d&&\"string\"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a=\"string\"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:\"\")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&\"string\"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c=\"\",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=\"\"),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[[\"resolve\",\"done\",n.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",n.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",n.Callbacks(\"memory\")]],c=\"pending\",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+\"With\"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+\"With\"](this===e?d:this,arguments),this},e[f[0]+\"With\"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler(\"ready\"),n(d).off(\"ready\"))))}});function J(){d.removeEventListener(\"DOMContentLoaded\",J),a.removeEventListener(\"load\",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),\"complete\"===d.readyState||\"loading\"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener(\"DOMContentLoaded\",J),a.addEventListener(\"load\",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if(\"object\"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if(\"string\"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&\"string\"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d=\"data-\"+b.replace(Q,\"-$&\").toLowerCase(),c=a.getAttribute(d),\"string\"==typeof c){try{c=\"true\"===c?!0:\"false\"===c?!1:\"null\"===c?null:+c+\"\"===c?+c:P.test(c)?n.parseJSON(c):c;\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,\"hasDataAttrs\"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf(\"data-\")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,\"hasDataAttrs\",!0)}return e}return\"object\"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,\"-$&\").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf(\"-\")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||\"fx\")+\"queue\",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||\"fx\";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};\"inprogress\"===e&&(e=c.shift(),d--),e&&(\"fx\"===b&&c.unshift(\"inprogress\"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+\"queueHooks\";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks(\"once memory\").add(function(){N.remove(a,[b+\"queue\",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return\"string\"!=typeof a&&(b=a,a=\"fx\",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),\"fx\"===a&&\"inprogress\"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};\"string\"!=typeof a&&(b=a,a=void 0),a=a||\"fx\";while(g--)c=N.get(f[g],a+\"queueHooks\"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp(\"^(?:([+-])=|)(\"+S+\")([a-z%]*)$\",\"i\"),U=[\"Top\",\"Right\",\"Bottom\",\"Left\"],V=function(a,b){return a=b||a,\"none\"===n.css(a,\"display\")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,\"\")},i=h(),j=c&&c[3]||(n.cssNumber[b]?\"\":\"px\"),k=(n.cssNumber[b]||\"px\"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||\".5\",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,\"<select multiple='multiple'>\",\"</select>\"],thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c=\"undefined\"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||\"*\"):\"undefined\"!=typeof a.querySelectorAll?a.querySelectorAll(b||\"*\"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],\"globalEval\",!b||N.get(b[c],\"globalEval\"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if(\"object\"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement(\"div\")),h=(Y.exec(f)||[\"\",\"\"])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=\"\"}else m.push(b.createTextNode(f));l.textContent=\"\",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),\"script\"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||\"\")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement(\"div\")),c=d.createElement(\"input\");c.setAttribute(\"type\",\"radio\"),c.setAttribute(\"checked\",\"checked\"),c.setAttribute(\"name\",\"t\"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML=\"<textarea>x</textarea>\",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if(\"object\"==typeof b){\"string\"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&(\"string\"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return\"undefined\"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(\".\")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||\"\").match(G)||[\"\"],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||\"\").split(\".\").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp(\"(^|\\\\.)\"+p.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&(\"**\"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,\"handle events\")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,\"events\")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(\"click\"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||\"click\"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+\" \",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:\"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:\"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:\"focusin\"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:\"focusout\"},click:{trigger:function(){return\"checkbox\"===this.type&&this.click&&n.nodeName(this,\"input\")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,\"a\")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+\".\"+d.namespace:d.origType,d.selector,d.handler),this;if(\"object\"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&\"function\"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,\"table\")&&n.nodeName(11!==b.nodeType?b:b.firstChild,\"tr\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function qa(a){return a.type=(null!==a.getAttribute(\"type\"))+\"/\"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute(\"type\"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();\"input\"===c&&X.test(a.type)?b.checked=a.checked:\"input\"!==c&&\"textarea\"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&\"string\"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,\"script\"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,\"script\"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||\"\")&&!N.access(j,\"globalEval\")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,\"\")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,\"script\")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,\"<$1></$2>\")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,\"script\"),g.length>0&&aa(g,!i&&_(a,\"script\")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent=\"\");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if(\"string\"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:\"block\",BODY:\"block\"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],\"display\");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),\"none\"!==c&&c||(wa=(wa||n(\"<iframe frameborder='0' width='0' height='0'/>\")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp(\"^(\"+S+\")(?!px)[a-z%]+$\",\"i\"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement(\"div\"),h=d.createElement(\"div\");if(h.style){h.style.backgroundClip=\"content-box\",h.cloneNode(!0).style.backgroundClip=\"\",l.clearCloneStyle=\"content-box\"===h.style.backgroundClip,g.style.cssText=\"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute\",g.appendChild(h);function i(){h.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%\",h.innerHTML=\"\",Ea.appendChild(g);var d=a.getComputedStyle(h);b=\"1%\"!==d.top,f=\"2px\"===d.marginLeft,c=\"4px\"===d.width,h.style.marginRight=\"50%\",e=\"4px\"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement(\"div\"));return c.style.cssText=h.style.cssText=\"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0\",c.style.marginRight=c.style.width=\"0\",h.style.width=\"1px\",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,\"\"!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+\"\":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Ja={letterSpacing:\"0\",fontWeight:\"400\"},Ka=[\"Webkit\",\"O\",\"Moz\",\"ms\"],La=d.createElement(\"div\").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||\"px\"):b}function Oa(a,b,c,d,e){for(var f=c===(d?\"border\":\"content\")?4:\"width\"===b?1:0,g=0;4>f;f+=2)\"margin\"===c&&(g+=n.css(a,c+U[f],!0,e)),d?(\"content\"===c&&(g-=n.css(a,\"padding\"+U[f],!0,e)),\"margin\"!==c&&(g-=n.css(a,\"border\"+U[f]+\"Width\",!0,e))):(g+=n.css(a,\"padding\"+U[f],!0,e),\"padding\"!==c&&(g+=n.css(a,\"border\"+U[f]+\"Width\",!0,e)));return g}function Pa(a,b,c){var d=!0,e=\"width\"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g=\"border-box\"===n.css(a,\"boxSizing\",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?\"border\":\"content\"),d,f)+\"px\"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,\"olddisplay\"),c=d.style.display,b?(f[g]||\"none\"!==c||(d.style.display=\"\"),\"\"===d.style.display&&V(d)&&(f[g]=N.access(d,\"olddisplay\",za(d.nodeName)))):(e=V(d),\"none\"===c&&e||N.set(d,\"olddisplay\",e?c:n.css(d,\"display\"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&\"none\"!==d.style.display&&\"\"!==d.style.display||(d.style.display=b?f[g]||\"\":\"none\"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,\"opacity\");return\"\"===c?\"1\":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":\"cssFloat\"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&\"get\"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,\"string\"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f=\"number\"),null!=c&&c===c&&(\"number\"===f&&(c+=e&&e[3]||(n.cssNumber[h]?\"\":\"px\")),l.clearCloneStyle||\"\"!==c||0!==b.indexOf(\"background\")||(i[b]=\"inherit\"),g&&\"set\"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&\"get\"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),\"normal\"===e&&b in Ja&&(e=Ja[b]),\"\"===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each([\"height\",\"width\"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,\"display\"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,\"border-box\"===n.css(a,\"boxSizing\",!1,f),f);return g&&(e=T.exec(c))&&\"px\"!==(e[3]||\"px\")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,\"marginLeft\"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+\"px\":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:\"inline-block\"},Fa,[a,\"marginRight\"]):void 0}),n.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f=\"string\"==typeof c?c.split(\" \"):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return\"boolean\"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?\"\":\"px\")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,\"\"),b&&\"auto\"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:\"swing\"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e[\"margin\"+c]=e[\"padding\"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners[\"*\"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,\"fxshow\");c.queue||(h=n._queueHooks(a,\"fx\"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,\"fx\").length||h.empty.fire()})})),1===a.nodeType&&(\"height\"in b||\"width\"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,\"display\"),k=\"none\"===j?N.get(a,\"olddisplay\")||za(a.nodeName):j,\"inline\"===k&&\"none\"===n.css(a,\"float\")&&(o.display=\"inline-block\")),c.overflow&&(o.overflow=\"hidden\",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||\"toggle\"===e,e===(p?\"hide\":\"show\")){if(\"show\"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))\"inline\"===(\"none\"===j?za(a.nodeName):j)&&(o.display=j);else{q?\"hidden\"in q&&(p=q.hidden):q=N.access(a,\"fxshow\",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,\"fxshow\");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start=\"width\"===d||\"height\"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&\"expand\"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{\"*\":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=[\"*\"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&\"object\"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:\"number\"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue=\"fx\"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,\"finish\"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return\"string\"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||\"fx\",[]),this.each(function(){var b=!0,e=null!=a&&a+\"queueHooks\",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||\"fx\"),this.each(function(){var b,c=N.get(this),d=c[a+\"queue\"],e=c[a+\"queueHooks\"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each([\"toggle\",\"show\",\"hide\"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||\"boolean\"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa(\"show\"),slideUp:Xa(\"hide\"),slideToggle:Xa(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||\"fx\",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement(\"input\"),b=d.createElement(\"select\"),c=b.appendChild(d.createElement(\"option\"));a.type=\"checkbox\",l.checkOn=\"\"!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement(\"input\"),a.value=\"t\",a.type=\"radio\",l.radioValue=\"t\"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return\"undefined\"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+\"\"),c):e&&\"get\"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&\"radio\"===b&&n.nodeName(a,\"input\")){var c=a.value;return a.setAttribute(\"type\",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\nvoid 0!==c?e&&\"set\"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&\"get\"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,\"tabindex\");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute(\"class\")||\"\"}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])d.indexOf(\" \"+f+\" \")<0&&(d+=f+\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr(\"class\",\"\");if(\"string\"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(\" \"+e+\" \").replace(eb,\" \")){g=0;while(f=b[g++])while(d.indexOf(\" \"+f+\" \")>-1)d=d.replace(\" \"+f+\" \",\" \");h=n.trim(d),e!==h&&c.setAttribute(\"class\",h)}}return this},toggleClass:function(a,b){var c=typeof a;return\"boolean\"==typeof b&&\"string\"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if(\"string\"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&\"boolean\"!==c||(b=fb(this),b&&N.set(this,\"__className__\",b),this.setAttribute&&this.setAttribute(\"class\",b||a===!1?\"\":N.get(this,\"__className__\")||\"\"))})},hasClass:function(a){var b,c,d=0;b=\" \"+a+\" \";while(c=this[d++])if(1===c.nodeType&&(\" \"+fb(c)+\" \").replace(eb,\" \").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e=\"\":\"number\"==typeof e?e+=\"\":n.isArray(e)&&(e=n.map(e,function(a){return null==a?\"\":a+\"\"})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&\"set\"in b&&void 0!==b.set(this,e,\"value\")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&\"get\"in b&&void 0!==(c=b.get(e,\"value\"))?c:(c=e.value,\"string\"==typeof c?c.replace(gb,\"\"):null==c?\"\":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,\"value\");return null!=b?b:n.trim(n.text(a)).replace(hb,\" \")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f=\"select-one\"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute(\"disabled\"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,\"optgroup\"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each([\"radio\",\"checkbox\"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute(\"value\")?\"on\":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,\"type\")?b.type:b,r=k.call(b,\"namespace\")?b.namespace.split(\".\"):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(\".\")>-1&&(r=q.split(\".\"),q=r.shift(),r.sort()),l=q.indexOf(\":\")<0&&\"on\"+q,b=b[n.expando]?b:new n.Event(q,\"object\"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join(\".\"),b.rnamespace=b.namespace?new RegExp(\"(^|\\\\.)\"+r.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,\"events\")||{})[b.type]&&N.get(h,\"handle\"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin=\"onfocusin\"in a,l.focusin||n.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+\"\")},n.parseXML=function(b){var c;if(!b||\"string\"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,\"text/xml\")}catch(d){c=void 0}return c&&!c.getElementsByTagName(\"parsererror\").length||n.error(\"Invalid XML: \"+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub=\"*/\".concat(\"*\"),vb=d.createElement(\"a\");vb.href=jb.href;function wb(a){return function(b,c){\"string\"!=typeof b&&(c=b,b=\"*\");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])\"+\"===d[0]?(d=d.slice(1)||\"*\",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return\"string\"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e[\"*\"]&&g(\"*\")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(\"*\"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader(\"Content-Type\"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+\" \"+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if(\"*\"===f)f=i;else if(\"*\"!==i&&i!==f){if(g=j[i+\" \"+f]||j[\"* \"+f],!g)for(e in j)if(h=e.split(\" \"),h[1]===f&&(g=j[i+\" \"+h[0]]||j[\"* \"+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a[\"throws\"])b=g(b);else try{b=g(b)}catch(l){return{state:\"parsererror\",error:g?l:\"No conversion from \"+i+\" to \"+f}}}return{state:\"success\",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:\"GET\",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":ub,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":n.parseJSON,\"text xml\":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){\"object\"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks(\"once memory\"),s=m.statusCode||{},t={},u={},v=0,w=\"canceled\",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+\"\").replace(mb,\"\").replace(rb,jb.protocol+\"//\"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||\"*\").toLowerCase().match(G)||[\"\"],null==m.crossDomain){j=d.createElement(\"a\");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+\"//\"+vb.host!=j.protocol+\"//\"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&\"string\"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger(\"ajaxStart\"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?\"&\":\"?\")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,\"$1_=\"+kb++):f+(lb.test(f)?\"&\":\"?\")+\"_=\"+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader(\"If-Modified-Since\",n.lastModified[f]),n.etag[f]&&x.setRequestHeader(\"If-None-Match\",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader(\"Content-Type\",m.contentType),x.setRequestHeader(\"Accept\",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+(\"*\"!==m.dataTypes[0]?\", \"+ub+\"; q=0.01\":\"\"):m.accepts[\"*\"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w=\"abort\";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger(\"ajaxSend\",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort(\"timeout\")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,\"No Transport\");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||\"\",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader(\"Last-Modified\"),w&&(n.lastModified[f]=w),w=x.getResponseHeader(\"etag\"),w&&(n.etag[f]=w)),204===b||\"HEAD\"===m.type?y=\"nocontent\":304===b?y=\"notmodified\":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y=\"error\",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+\"\",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?\"ajaxSuccess\":\"ajaxError\",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger(\"ajaxComplete\",[x,m]),--n.active||n.event.trigger(\"ajaxStop\")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,\"json\")},getScript:function(a,b){return n.get(a,void 0,b,\"script\")}}),n.each([\"get\",\"post\"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,\"body\")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+\"[\"+(\"object\"==typeof e&&null!=e?b:\"\")+\"]\",e,c,d)});else if(c||\"object\"!==n.type(b))d(a,b);else for(e in b)Gb(a+\"[\"+e+\"]\",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?\"\":b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join(\"&\").replace(Bb,\"+\")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,\"elements\");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(\":disabled\")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,\"\\r\\n\")}}):{name:b.name,value:c.replace(Db,\"\\r\\n\")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&\"withCredentials\"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e[\"X-Requested-With\"]||(e[\"X-Requested-With\"]=\"XMLHttpRequest\");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,\"abort\"===a?h.abort():\"error\"===a?\"number\"!=typeof h.status?f(0,\"error\"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,\"text\"!==(h.responseType||\"text\")||\"string\"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c(\"error\"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c(\"abort\");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter(\"script\",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\")}),n.ajaxTransport(\"script\",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n(\"<script>\").prop({charset:a.scriptCharset,src:a.url}).on(\"load error\",c=function(a){b.remove(),c=null,a&&f(\"error\"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var a=Jb.pop()||n.expando+\"_\"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?\"url\":\"string\"==typeof b.data&&0===(b.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Kb.test(b.data)&&\"data\");return h||\"jsonp\"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,\"$1\"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?\"&\":\"?\")+b.jsonp+\"=\"+e),b.converters[\"script json\"]=function(){return g||n.error(e+\" was not called\"),g[0]},b.dataTypes[0]=\"json\",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),\"script\"):void 0}),n.parseHTML=function(a,b,c){if(!a||\"string\"!=typeof a)return null;\"boolean\"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if(\"string\"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(\" \");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&\"object\"==typeof b&&(e=\"POST\"),g.length>0&&n.ajax({url:a,type:e||\"GET\",dataType:\"html\",data:b}).done(function(a){f=arguments,g.html(d?n(\"<div>\").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,\"position\"),l=n(a),m={};\"static\"===k&&(a.style.position=\"relative\"),h=l.offset(),f=n.css(a,\"top\"),i=n.css(a,\"left\"),j=(\"absolute\"===k||\"fixed\"===k)&&(f+i).indexOf(\"auto\")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),\"using\"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return\"fixed\"===n.css(c,\"position\")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],\"html\")||(d=a.offset()),d.top+=n.css(a[0],\"borderTopWidth\",!0),d.left+=n.css(a[0],\"borderLeftWidth\",!0)),{top:b.top-d.top-n.css(c,\"marginTop\",!0),left:b.left-d.left-n.css(c,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&\"static\"===n.css(a,\"position\"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,b){var c=\"pageYOffset\"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each([\"top\",\"left\"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+\"px\":c):void 0})}),n.each({Height:\"height\",Width:\"width\"},function(a,b){n.each({padding:\"inner\"+a,content:b,\"\":\"outer\"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||\"boolean\"!=typeof d),g=c||(d===!0||e===!0?\"margin\":\"border\");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement[\"client\"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body[\"scroll\"+a],e[\"scroll\"+a],b.body[\"offset\"+a],e[\"offset\"+a],e[\"client\"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,\"**\"):this.off(b,a||\"**\",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\n","date":"2020-04-04T08:34:36.680Z","updated":"2020-04-04T08:34:36.425Z","path":"images/tags _ Night's blog_files/jquery.min.js","layout":"false","title":"","comments":1,"_id":"ck8npay3d00htqr3lqaotz2sp"}],"Post":[{"title":"Best Time to Buy and Sell Stock","date":"2019-01-05T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.\n ## Examples\n``` java\nExample 1:\nInput: [7,1,5,3,6,4]\nOutput: 5\n```\n```java\nExample 2:\nInput: [7,6,4,3,1]\nOutput: 0\n```\n## Solution\n　　这道贪心的题关键在于找到前面n个的最小，不需要用Treeset排序。只需要记录前i个的最小。以及后面的多笔交易也与之类似。\n\n## Code\n\n```java\n//Single transaction\n class Solution {\n      public int maxProfit(int[] prices) {\n        if (prices.length == 0 || prices.length == 1) {\n            return 0;\n        }\n        int maxProfit = 0;\n        int min = prices[0];\n        for (int i = 1; i < prices.length; i++) {\n            min = Math.min(min, prices[i]);\n            maxProfit = Math.max(maxProfit, prices[i] - min);\n        }\n        return maxProfit;\n    }\n}\n```\n\n```java\n//Multiple transaction\nclass Solution {\n     public int maxProfit(int[] prices) {\n        if (prices.length == 0 || prices.length == 1) {\n            return 0;\n        }\n        int maxProfit = 0;\n        int min = prices[0];\n        for (int i = 1; i < prices.length; i++) {\n            if (prices[i] - min > 0) {\n                maxProfit += prices[i] - min;\n            }\n            min = prices[i];\n        }\n        return maxProfit;\n    }\n\n\n}\n```","source":"_posts/Best Time to Buy and Sell Stock.md","raw":"title: Best Time to Buy and Sell Stock\ndate: 2019-1-6\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.\n ## Examples\n``` java\nExample 1:\nInput: [7,1,5,3,6,4]\nOutput: 5\n```\n```java\nExample 2:\nInput: [7,6,4,3,1]\nOutput: 0\n```\n## Solution\n　　这道贪心的题关键在于找到前面n个的最小，不需要用Treeset排序。只需要记录前i个的最小。以及后面的多笔交易也与之类似。\n\n## Code\n\n```java\n//Single transaction\n class Solution {\n      public int maxProfit(int[] prices) {\n        if (prices.length == 0 || prices.length == 1) {\n            return 0;\n        }\n        int maxProfit = 0;\n        int min = prices[0];\n        for (int i = 1; i < prices.length; i++) {\n            min = Math.min(min, prices[i]);\n            maxProfit = Math.max(maxProfit, prices[i] - min);\n        }\n        return maxProfit;\n    }\n}\n```\n\n```java\n//Multiple transaction\nclass Solution {\n     public int maxProfit(int[] prices) {\n        if (prices.length == 0 || prices.length == 1) {\n            return 0;\n        }\n        int maxProfit = 0;\n        int min = prices[0];\n        for (int i = 1; i < prices.length; i++) {\n            if (prices[i] - min > 0) {\n                maxProfit += prices[i] - min;\n            }\n            min = prices[i];\n        }\n        return maxProfit;\n    }\n\n\n}\n```","slug":"Best Time to Buy and Sell Stock","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxxw0004qr3laspro957","content":"<h2 id=\"Problem-description\"><a href=\"#Problem-description\" class=\"headerlink\" title=\"Problem description\"></a>Problem description</h2><h3 id=\"Say-you-have-an-array-for-which-the-ith-element-is-the-price-of-a-given-stock-on-day-i-If-you-were-only-permitted-to-complete-at-most-one-transaction-i-e-buy-one-and-sell-one-share-of-the-stock-design-an-algorithm-to-find-the-maximum-profit-Note-that-you-cannot-sell-a-stock-before-you-buy-one\"><a href=\"#Say-you-have-an-array-for-which-the-ith-element-is-the-price-of-a-given-stock-on-day-i-If-you-were-only-permitted-to-complete-at-most-one-transaction-i-e-buy-one-and-sell-one-share-of-the-stock-design-an-algorithm-to-find-the-maximum-profit-Note-that-you-cannot-sell-a-stock-before-you-buy-one\" class=\"headerlink\" title=\"Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.\"></a>Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.</h3><h2 id=\"Examples\"><a href=\"#Examples\" class=\"headerlink\" title=\"Examples\"></a>Examples</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Example <span class=\"number\">1</span>:</span><br><span class=\"line\">Input: [<span class=\"number\">7</span>,<span class=\"number\">1</span>,<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">6</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">Output: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Example <span class=\"number\">2</span>:</span><br><span class=\"line\">Input: [<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\">Output: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>　　这道贪心的题关键在于找到前面n个的最小，不需要用Treeset排序。只需要记录前i个的最小。以及后面的多笔交易也与之类似。</p>\n<h2 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Single transaction</span></span><br><span class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (prices.length == <span class=\"number\">0</span> || prices.length == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxProfit = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> min = prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">            min = Math.min(min, prices[i]);</span><br><span class=\"line\">            maxProfit = Math.max(maxProfit, prices[i] - min);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> maxProfit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Multiple transaction</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (prices.length == <span class=\"number\">0</span> || prices.length == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxProfit = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> min = prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (prices[i] - min &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                maxProfit += prices[i] - min;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            min = prices[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> maxProfit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Problem-description\"><a href=\"#Problem-description\" class=\"headerlink\" title=\"Problem description\"></a>Problem description</h2><h3 id=\"Say-you-have-an-array-for-which-the-ith-element-is-the-price-of-a-given-stock-on-day-i-If-you-were-only-permitted-to-complete-at-most-one-transaction-i-e-buy-one-and-sell-one-share-of-the-stock-design-an-algorithm-to-find-the-maximum-profit-Note-that-you-cannot-sell-a-stock-before-you-buy-one\"><a href=\"#Say-you-have-an-array-for-which-the-ith-element-is-the-price-of-a-given-stock-on-day-i-If-you-were-only-permitted-to-complete-at-most-one-transaction-i-e-buy-one-and-sell-one-share-of-the-stock-design-an-algorithm-to-find-the-maximum-profit-Note-that-you-cannot-sell-a-stock-before-you-buy-one\" class=\"headerlink\" title=\"Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.\"></a>Say you have an array for which the ith element is the price of a given stock on day i.If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.Note that you cannot sell a stock before you buy one.</h3><h2 id=\"Examples\"><a href=\"#Examples\" class=\"headerlink\" title=\"Examples\"></a>Examples</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Example <span class=\"number\">1</span>:</span><br><span class=\"line\">Input: [<span class=\"number\">7</span>,<span class=\"number\">1</span>,<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">6</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">Output: <span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Example <span class=\"number\">2</span>:</span><br><span class=\"line\">Input: [<span class=\"number\">7</span>,<span class=\"number\">6</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\">Output: <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p>　　这道贪心的题关键在于找到前面n个的最小，不需要用Treeset排序。只需要记录前i个的最小。以及后面的多笔交易也与之类似。</p>\n<h2 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Single transaction</span></span><br><span class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (prices.length == <span class=\"number\">0</span> || prices.length == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxProfit = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> min = prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">            min = Math.min(min, prices[i]);</span><br><span class=\"line\">            maxProfit = Math.max(maxProfit, prices[i] - min);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> maxProfit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Multiple transaction</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(<span class=\"keyword\">int</span>[] prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (prices.length == <span class=\"number\">0</span> || prices.length == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxProfit = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> min = prices[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (prices[i] - min &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                maxProfit += prices[i] - min;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            min = prices[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> maxProfit;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Android 8.0 apk自动更新的一些坑","date":"2017-09-05T16:00:00.000Z","description":"自动更新下载对应apk后，跳转系统安装界面闪退，以及安装时提示软件包出错","_content":"\n## 跳转系统安装界面闪退\n\n  这个是8.0独有的坑，在AndroidManifast中加上\n  \n```java\n<uses-permission android:name=\"android.permission.REQUEST_INSTALL_PACKAGES\"/>\n```\n\n即可解决跳转安装界面闪退bug。\n\n## 安装时提示软件包出错\n\n  在用Intent install apk，时加上install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);  \n\n```java\n \t\t Intent install = new Intent(Intent.ACTION_VIEW);\n         install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         install.setDataAndType(uri, \"application/vnd.android.package-archive\");\n         install.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n         context.startActivity(install);\n```  \n\n","source":"_posts/Android 8.0 apk自动更新的一些坑.md","raw":"title: Android 8.0 apk自动更新的一些坑\ndate: 2017-09-06 00:00:00\ntags: [Android]\ncategories: bug\ndescription: 自动更新下载对应apk后，跳转系统安装界面闪退，以及安装时提示软件包出错\n---\n\n## 跳转系统安装界面闪退\n\n  这个是8.0独有的坑，在AndroidManifast中加上\n  \n```java\n<uses-permission android:name=\"android.permission.REQUEST_INSTALL_PACKAGES\"/>\n```\n\n即可解决跳转安装界面闪退bug。\n\n## 安装时提示软件包出错\n\n  在用Intent install apk，时加上install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);  \n\n```java\n \t\t Intent install = new Intent(Intent.ACTION_VIEW);\n         install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n         install.setDataAndType(uri, \"application/vnd.android.package-archive\");\n         install.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n         context.startActivity(install);\n```  \n\n","slug":"Android 8.0 apk自动更新的一些坑","published":1,"updated":"2020-02-13T07:16:09.043Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy00006qr3ldqt1elxa","content":"<h2 id=\"跳转系统安装界面闪退\"><a href=\"#跳转系统安装界面闪退\" class=\"headerlink\" title=\"跳转系统安装界面闪退\"></a>跳转系统安装界面闪退</h2><p>  这个是8.0独有的坑，在AndroidManifast中加上</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;uses-permission android:name=<span class=\"string\">\"android.permission.REQUEST_INSTALL_PACKAGES\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>即可解决跳转安装界面闪退bug。</p>\n<h2 id=\"安装时提示软件包出错\"><a href=\"#安装时提示软件包出错\" class=\"headerlink\" title=\"安装时提示软件包出错\"></a>安装时提示软件包出错</h2><p>  在用Intent install apk，时加上install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);  </p>\n<pre><code class=\"java\"> Intent install = <span class=\"keyword\">new</span> Intent(Intent.ACTION_VIEW);\ninstall.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\ninstall.setDataAndType(uri, <span class=\"string\">\"application/vnd.android.package-archive\"</span>);\ninstall.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(install);\n</code></pre>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"跳转系统安装界面闪退\"><a href=\"#跳转系统安装界面闪退\" class=\"headerlink\" title=\"跳转系统安装界面闪退\"></a>跳转系统安装界面闪退</h2><p>  这个是8.0独有的坑，在AndroidManifast中加上</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;uses-permission android:name=<span class=\"string\">\"android.permission.REQUEST_INSTALL_PACKAGES\"</span>/&gt;</span><br></pre></td></tr></table></figure>\n<p>即可解决跳转安装界面闪退bug。</p>\n<h2 id=\"安装时提示软件包出错\"><a href=\"#安装时提示软件包出错\" class=\"headerlink\" title=\"安装时提示软件包出错\"></a>安装时提示软件包出错</h2><p>  在用Intent install apk，时加上install.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);  </p>\n<pre><code class=\"java\"> Intent install = <span class=\"keyword\">new</span> Intent(Intent.ACTION_VIEW);\ninstall.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\ninstall.setDataAndType(uri, <span class=\"string\">\"application/vnd.android.package-archive\"</span>);\ninstall.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(install);\n</code></pre>\n"},{"title":"AsyncTask Mechanism","date":"2019-02-23T16:00:00.000Z","description":"　　","_content":"## 源码解析\n\n### 构造方法\n```java\npublic AsyncTask() {\n        this((Looper) null);\n    }\n\tpublic AsyncTask(@Nullable Looper callbackLooper) {\n        mHandler = callbackLooper == null || callbackLooper == Looper.getMainLooper()\n            ? getMainHandler()\n            : new Handler(callbackLooper);\n...\n    }\n```\n由此可看出默认AsyncTask是在主线程运行的。且onPreExecute、onPostExecute也定义了@MainThread\n### 业务逻辑\n进入AsyncTask的execute（）\n```java\n    @MainThread\n    public final AsyncTask<Params, Progress, Result> execute(Params... params) {\n        return executeOnExecutor(sDefaultExecutor, params);//sDefaultExecutor is a sreial executor\n    }\n    @MainThread\n    public final AsyncTask<Params, Progress, Result> executeOnExecutor(Executor exec,\n            Params... params) {\n        if (mStatus != Status.PENDING) {\n            switch (mStatus) {\n                case RUNNING:\n                    throw new IllegalStateException(\"Cannot execute task:\"\n                            + \" the task is already running.\");\n                case FINISHED:\n                    throw new IllegalStateException(\"Cannot execute task:\"\n                            + \" the task has already been executed \"\n                            + \"(a task can be executed only once)\");\n            }\n        }\n\n        mStatus = Status.RUNNING;\n\n        onPreExecute();\n\n        mWorker.mParams = params;\n        exec.execute(mFuture);\n\n        return this;\n    }\n```\nsDefaultExecutor是一个串行的线程池，先执行onPreExecute().然后将params封装到mWorker(WorkerRunnable)中.而mWorker又是被封装到mFuture(FutureTask也是个Runnable)中的。然后sDefaultExecutor线程池开始执行FututreTask。进入sDefaultExecutor\n```java\n    private static final BlockingQueue<Runnable> sPoolWorkQueue =\n            new LinkedBlockingQueue<Runnable>(128);\n\n  ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(\n                CORE_POOL_SIZE, MAXIMUM_POOL_SIZE, KEEP_ALIVE_SECONDS, TimeUnit.SECONDS,\n                sPoolWorkQueue, sThreadFactory);\npublic static final Executor SERIAL_EXECUTOR = new SerialExecutor()\nprivate static volatile Executor sDefaultExecutor = SERIAL_EXECUTOR;\n\n   private static class SerialExecutor implements Executor {\n        final ArrayDeque<Runnable> mTasks = new ArrayDeque<Runnable>();\n        Runnable mActive;\n\n        public synchronized void execute(final Runnable r) {\n            mTasks.offer(new Runnable() {\n                public void run() {\n                    try {\n                        r.run();\n                    } finally {\n                        scheduleNext();\n                    }\n                }\n            });\n            if (mActive == null) {\n                scheduleNext();\n            }\n        }\n\n        protected synchronized void scheduleNext() {\n            if ((mActive = mTasks.poll()) != null) {\n                THREAD_POOL_EXECUTOR.execute(mActive);\n            }\n        }\n    }\n```\nexecute()首先会将FutureTask对象插入到任务队列mTasks上，如果此时没有正在执行的任务，则调用scheduleNext()让THREAD_POOL_EXECUTOR执行任务。同时一个任务执行结束后，会自动地调度下一个任务开始执行。\n\nAsyncTask中有两个线程池sDefaultExecutor（SerialExecutor:内部封装了ArrayDequeue）和 THREAD_POOL_EXECUTOR (Customized Executor:内部封装了BlockingQueue) 和一个InternalHandler(Handler).SerialExecutor用于任务的排队，而 THREAD_POOL_EXECUTOR 用于执行任务。IntenalHandler用于子线程切换主线程。进入mFurue的run方法。\n```java\npublic void run() {\n        if (state != NEW ||\n            !U.compareAndSwapObject(this, RUNNER, null, Thread.currentThread()))\n            return;\n        try {\n            Callable<V> c = callable;\n            if (c != null && state == NEW) {\n                V result;\n                boolean ran;\n                try {\n                    result = c.call();\n                    ran = true;\n                } catch (Throwable ex) {\n                    result = null;\n                    ran = false;\n                    setException(ex);\n                }\n                if (ran)\n                    set(result);\n            }\n        } finally {\n            // runner must be non-null until state is settled to\n            // prevent concurrent calls to run()\n            runner = null;\n            // state must be re-read after nulling runner to prevent\n            // leaked interrupts\n            int s = state;\n            if (s >= INTERRUPTING)\n                handlePossibleCancellationInterrupt(s);\n        }\n    }\n```\n其中callable即为封装的mWorker(WorkerRunnable).进入构造方法中定义WorkerRunnable的call方法\n```java\n        mWorker = new WorkerRunnable<Params, Result>() {\n            public Result call() throws Exception {\n                mTaskInvoked.set(true);\n                Result result = null;\n                try {\n                    Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);\n                    //noinspection unchecked\n                    result = doInBackground(mParams);\n                    Binder.flushPendingCommands();\n                } catch (Throwable tr) {\n                    mCancelled.set(true);\n                    throw tr;\n                } finally {\n                    postResult(result);\n                }\n                return result;\n            }\n        }\n```\nmTaskInvoked设为true，表示任务已被调用过。再执行doInBackGround.将返回值传给postResult().进入postResult()\n\n```java\n    private Result postResult(Result result) {\n        @SuppressWarnings(\"unchecked\")\n        Message message = getHandler().obtainMessage(MESSAGE_POST_RESULT,\n                new AsyncTaskResult<Result>(this, result));\n        message.sendToTarget();\n        return result;\n    }\n```\n postResult（）会通过sHandler发送一个MESSAGE_POST_RESULT的消息。进入sHandler\n```java\n    private static InternalHandler sHandler;\n\t\nprivate static class InternalHandler extends Handler {\n        public InternalHandler(Looper looper) {\n            super(looper);\n        }\n\n        @SuppressWarnings({\"unchecked\", \"RawUseOfParameterizedType\"})\n        @Override\n        public void handleMessage(Message msg) {\n            AsyncTaskResult<?> result = (AsyncTaskResult<?>) msg.obj;\n            switch (msg.what) {\n                case MESSAGE_POST_RESULT:\n                    // There is only one result\n                    result.mTask.finish(result.mData[0]);\n                    break;\n                case MESSAGE_POST_PROGRESS:\n                    result.mTask.onProgressUpdate(result.mData);\n                    break;\n            }\n        }\n    }\n\tprivate void finish(Result result) {\n        if (isCancelled()) {\n            onCancelled(result);\n        } else {\n            onPostExecute(result);\n        }\n        mStatus = Status.FINISHED;\n    }\n```\nsHadler在收到MESSAGE_POST_RESULT执行AsyncTasl。finish()，而在finish()中，若AsyncTask是被取消执行，则调用onCancelled(result),否则调用onPostExecutor(result).将doInBackGround()的返回值传给了主线程。\n## 总结\n1. 先执行onPreExecute. 将传入params封装到mWorker中，而mWorker是封装到mFuture中的。\n2. 将mFuture压入SerialExecutor任务队列，若队列空，让THREAD_POOL_EXECUTOR开始执行mFuture. 执行mFuture的run()会调用mWorker的call（）\n3. 在call()调用doInBackGround()获得返回值，并将返回值传给sHandler\n4. sHandler接到消息调用AsyncTask的finish()\n5. 在finish()中调用onPostExecute()\n\n## 小心翻车\n- AsyncTask不必在主线程定义\n- execute不必在主线程调用\n- 不能自己直接调用onPre/onPost/doInBackGround/onProgressUpdated\n- 一个AsyncTask对象只能执行一次（否则会抛出异常IllegalStateException）\n\n之前在开发者艺术探索中读到不能在子线程中定义AsyncTask定义和使用execute。但是经过实践，发现从sdk22以后，是可以在子线程中进行定义和execute的。因为Handler默认是使用MainLooper，无论在子线程中是否定义Looper。\n```java\n    public AsyncTask() {\n        this((Looper) null);//1\n    }\n\t    public AsyncTask(@Nullable Looper callbackLooper) {\n        mHandler = callbackLooper == null || callbackLooper == Looper.getMainLooper()\n            ? getMainHandler()//2\n            : new Handler(callbackLooper);\n\t\t\t....\n\t\t\t}\n\t\t\t\n\t\t\t    private static Handler getMainHandler() {\n        synchronized (AsyncTask.class) {\n            if (sHandler == null) {\n                sHandler = new InternalHandler(Looper.getMainLooper());//3\n            }\n            return sHandler;\n        }\n    }\n```\n1. 直接new AsyncTask会调用Looper为空的重载方法\n2. Handler = getMainHandler\n3. Looper = sMainLooper\n\n测试代码如下\n\n```java\n new Thread(new Runnable() {\n            @Override public void run() {\n                MyAsync myAsync = new MyAsync();\n                myAsync.execute();\n            }\n        }).start();\n\t\t    public class MyAsync extends AsyncTask {\n @Override protected void onPreExecute() {\n            Log.i(\"TAG\", \"onPreExecute: \");\n            super.onPreExecute();\n        }\n\n        @Override protected Object doInBackground(Object[] objects) {\n            Log.i(\"TAG\", \"doInBackground: \");\n            return null;\n        }\n    }\n```\n当然子线程中使用AsyncTask不能在onPreExecute,onPostExecute中进行UI操作，因为AsyncTask的实例创建在子线程，onPreExecute,onPostExecute也都运行在子线程。\n\n在","source":"_posts/AnsyncTask Mechanism.md","raw":"title: AsyncTask Mechanism\ndate: 2019-2-24\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n## 源码解析\n\n### 构造方法\n```java\npublic AsyncTask() {\n        this((Looper) null);\n    }\n\tpublic AsyncTask(@Nullable Looper callbackLooper) {\n        mHandler = callbackLooper == null || callbackLooper == Looper.getMainLooper()\n            ? getMainHandler()\n            : new Handler(callbackLooper);\n...\n    }\n```\n由此可看出默认AsyncTask是在主线程运行的。且onPreExecute、onPostExecute也定义了@MainThread\n### 业务逻辑\n进入AsyncTask的execute（）\n```java\n    @MainThread\n    public final AsyncTask<Params, Progress, Result> execute(Params... params) {\n        return executeOnExecutor(sDefaultExecutor, params);//sDefaultExecutor is a sreial executor\n    }\n    @MainThread\n    public final AsyncTask<Params, Progress, Result> executeOnExecutor(Executor exec,\n            Params... params) {\n        if (mStatus != Status.PENDING) {\n            switch (mStatus) {\n                case RUNNING:\n                    throw new IllegalStateException(\"Cannot execute task:\"\n                            + \" the task is already running.\");\n                case FINISHED:\n                    throw new IllegalStateException(\"Cannot execute task:\"\n                            + \" the task has already been executed \"\n                            + \"(a task can be executed only once)\");\n            }\n        }\n\n        mStatus = Status.RUNNING;\n\n        onPreExecute();\n\n        mWorker.mParams = params;\n        exec.execute(mFuture);\n\n        return this;\n    }\n```\nsDefaultExecutor是一个串行的线程池，先执行onPreExecute().然后将params封装到mWorker(WorkerRunnable)中.而mWorker又是被封装到mFuture(FutureTask也是个Runnable)中的。然后sDefaultExecutor线程池开始执行FututreTask。进入sDefaultExecutor\n```java\n    private static final BlockingQueue<Runnable> sPoolWorkQueue =\n            new LinkedBlockingQueue<Runnable>(128);\n\n  ThreadPoolExecutor threadPoolExecutor = new ThreadPoolExecutor(\n                CORE_POOL_SIZE, MAXIMUM_POOL_SIZE, KEEP_ALIVE_SECONDS, TimeUnit.SECONDS,\n                sPoolWorkQueue, sThreadFactory);\npublic static final Executor SERIAL_EXECUTOR = new SerialExecutor()\nprivate static volatile Executor sDefaultExecutor = SERIAL_EXECUTOR;\n\n   private static class SerialExecutor implements Executor {\n        final ArrayDeque<Runnable> mTasks = new ArrayDeque<Runnable>();\n        Runnable mActive;\n\n        public synchronized void execute(final Runnable r) {\n            mTasks.offer(new Runnable() {\n                public void run() {\n                    try {\n                        r.run();\n                    } finally {\n                        scheduleNext();\n                    }\n                }\n            });\n            if (mActive == null) {\n                scheduleNext();\n            }\n        }\n\n        protected synchronized void scheduleNext() {\n            if ((mActive = mTasks.poll()) != null) {\n                THREAD_POOL_EXECUTOR.execute(mActive);\n            }\n        }\n    }\n```\nexecute()首先会将FutureTask对象插入到任务队列mTasks上，如果此时没有正在执行的任务，则调用scheduleNext()让THREAD_POOL_EXECUTOR执行任务。同时一个任务执行结束后，会自动地调度下一个任务开始执行。\n\nAsyncTask中有两个线程池sDefaultExecutor（SerialExecutor:内部封装了ArrayDequeue）和 THREAD_POOL_EXECUTOR (Customized Executor:内部封装了BlockingQueue) 和一个InternalHandler(Handler).SerialExecutor用于任务的排队，而 THREAD_POOL_EXECUTOR 用于执行任务。IntenalHandler用于子线程切换主线程。进入mFurue的run方法。\n```java\npublic void run() {\n        if (state != NEW ||\n            !U.compareAndSwapObject(this, RUNNER, null, Thread.currentThread()))\n            return;\n        try {\n            Callable<V> c = callable;\n            if (c != null && state == NEW) {\n                V result;\n                boolean ran;\n                try {\n                    result = c.call();\n                    ran = true;\n                } catch (Throwable ex) {\n                    result = null;\n                    ran = false;\n                    setException(ex);\n                }\n                if (ran)\n                    set(result);\n            }\n        } finally {\n            // runner must be non-null until state is settled to\n            // prevent concurrent calls to run()\n            runner = null;\n            // state must be re-read after nulling runner to prevent\n            // leaked interrupts\n            int s = state;\n            if (s >= INTERRUPTING)\n                handlePossibleCancellationInterrupt(s);\n        }\n    }\n```\n其中callable即为封装的mWorker(WorkerRunnable).进入构造方法中定义WorkerRunnable的call方法\n```java\n        mWorker = new WorkerRunnable<Params, Result>() {\n            public Result call() throws Exception {\n                mTaskInvoked.set(true);\n                Result result = null;\n                try {\n                    Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND);\n                    //noinspection unchecked\n                    result = doInBackground(mParams);\n                    Binder.flushPendingCommands();\n                } catch (Throwable tr) {\n                    mCancelled.set(true);\n                    throw tr;\n                } finally {\n                    postResult(result);\n                }\n                return result;\n            }\n        }\n```\nmTaskInvoked设为true，表示任务已被调用过。再执行doInBackGround.将返回值传给postResult().进入postResult()\n\n```java\n    private Result postResult(Result result) {\n        @SuppressWarnings(\"unchecked\")\n        Message message = getHandler().obtainMessage(MESSAGE_POST_RESULT,\n                new AsyncTaskResult<Result>(this, result));\n        message.sendToTarget();\n        return result;\n    }\n```\n postResult（）会通过sHandler发送一个MESSAGE_POST_RESULT的消息。进入sHandler\n```java\n    private static InternalHandler sHandler;\n\t\nprivate static class InternalHandler extends Handler {\n        public InternalHandler(Looper looper) {\n            super(looper);\n        }\n\n        @SuppressWarnings({\"unchecked\", \"RawUseOfParameterizedType\"})\n        @Override\n        public void handleMessage(Message msg) {\n            AsyncTaskResult<?> result = (AsyncTaskResult<?>) msg.obj;\n            switch (msg.what) {\n                case MESSAGE_POST_RESULT:\n                    // There is only one result\n                    result.mTask.finish(result.mData[0]);\n                    break;\n                case MESSAGE_POST_PROGRESS:\n                    result.mTask.onProgressUpdate(result.mData);\n                    break;\n            }\n        }\n    }\n\tprivate void finish(Result result) {\n        if (isCancelled()) {\n            onCancelled(result);\n        } else {\n            onPostExecute(result);\n        }\n        mStatus = Status.FINISHED;\n    }\n```\nsHadler在收到MESSAGE_POST_RESULT执行AsyncTasl。finish()，而在finish()中，若AsyncTask是被取消执行，则调用onCancelled(result),否则调用onPostExecutor(result).将doInBackGround()的返回值传给了主线程。\n## 总结\n1. 先执行onPreExecute. 将传入params封装到mWorker中，而mWorker是封装到mFuture中的。\n2. 将mFuture压入SerialExecutor任务队列，若队列空，让THREAD_POOL_EXECUTOR开始执行mFuture. 执行mFuture的run()会调用mWorker的call（）\n3. 在call()调用doInBackGround()获得返回值，并将返回值传给sHandler\n4. sHandler接到消息调用AsyncTask的finish()\n5. 在finish()中调用onPostExecute()\n\n## 小心翻车\n- AsyncTask不必在主线程定义\n- execute不必在主线程调用\n- 不能自己直接调用onPre/onPost/doInBackGround/onProgressUpdated\n- 一个AsyncTask对象只能执行一次（否则会抛出异常IllegalStateException）\n\n之前在开发者艺术探索中读到不能在子线程中定义AsyncTask定义和使用execute。但是经过实践，发现从sdk22以后，是可以在子线程中进行定义和execute的。因为Handler默认是使用MainLooper，无论在子线程中是否定义Looper。\n```java\n    public AsyncTask() {\n        this((Looper) null);//1\n    }\n\t    public AsyncTask(@Nullable Looper callbackLooper) {\n        mHandler = callbackLooper == null || callbackLooper == Looper.getMainLooper()\n            ? getMainHandler()//2\n            : new Handler(callbackLooper);\n\t\t\t....\n\t\t\t}\n\t\t\t\n\t\t\t    private static Handler getMainHandler() {\n        synchronized (AsyncTask.class) {\n            if (sHandler == null) {\n                sHandler = new InternalHandler(Looper.getMainLooper());//3\n            }\n            return sHandler;\n        }\n    }\n```\n1. 直接new AsyncTask会调用Looper为空的重载方法\n2. Handler = getMainHandler\n3. Looper = sMainLooper\n\n测试代码如下\n\n```java\n new Thread(new Runnable() {\n            @Override public void run() {\n                MyAsync myAsync = new MyAsync();\n                myAsync.execute();\n            }\n        }).start();\n\t\t    public class MyAsync extends AsyncTask {\n @Override protected void onPreExecute() {\n            Log.i(\"TAG\", \"onPreExecute: \");\n            super.onPreExecute();\n        }\n\n        @Override protected Object doInBackground(Object[] objects) {\n            Log.i(\"TAG\", \"doInBackground: \");\n            return null;\n        }\n    }\n```\n当然子线程中使用AsyncTask不能在onPreExecute,onPostExecute中进行UI操作，因为AsyncTask的实例创建在子线程，onPreExecute,onPostExecute也都运行在子线程。\n\n在","slug":"AnsyncTask Mechanism","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy30009qr3ljf5lmrrm"},{"title":"Android事件分发源码解析","date":"2017-08-19T16:00:00.000Z","description":"事件分发机制","_content":"## View的事件分发机制\n\n### 事件分发机制图解\n\n ![该图示自上而下有些许错误，请参考底部图解](/images/事件分发机制图解.png)\n\n 由上图可看出所涉及到了三个重要的方法\n\n * dispatchTouchEvent(MotionEvent ev):用于事件的分发\n\n * onIerveptTouchEvent(MotionEvent ev):用来进行事件的拦截，\n   在dispatchTouchEvent()中进行调用，且View没有该方法，只有ViewGroup有。\n\n * onTouchEvent(MotionEvent ev):用来处理点击事件，\n   在dispatchTouchEvent()中进行调用。\n\n\n  `事件分发`：当我们点击屏幕时，就产生了点击事件，该事件被封装成了一个MotionEvent类。系统会将MotionEvent传递给View的层级，MotionEvent在View中的层级传递过程就是事件分发。\n\n### View的事件分发机制\n\n  当点击事件产生后，事件会首先传递给Activity，Activity会调用dispatchEvent()，将事件分发给phoneWindow,phoneWindow再分发给DecorView，最后由DecorView分发给根ViewGroup.\n  \n  进入ViewGroup的dispatchTouchEvent\n\n```java\n@Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n ...\n            if (actionMasked == MotionEvent.ACTION_DOWN) {//判断是否是Down事件，是则进行初始化mFirstTouchEvent\n                cancelAndClearTouchTargets(ev);\n                resetTouchState();\n            }\n\n            final boolean intercepted;\n            if (actionMasked == MotionEvent.ACTION_DOWN\n                    || mFirstTouchTarget != null) {//mFirstTouchEvent表示当前ViewGroup是否拦截了事件，mFirstTouchEvent！=null表示不拦截\n                final boolean disallowIntercept = (mGroupFlags & FLAG_DISALLOW_INTERCEPT) != 0;//FLAG_DISALLOW_INTERCEPT：禁止ViewGroup拦截除了Down之外的事件，一般可通过子View的requestDisallowInterceptTouchEvent()来设置\n                if (!disallowIntercept) {//进行拦截\n                    intercepted = onInterceptTouchEvent(ev);\n                    ev.setAction(action); // restore action in case it was changed\n                } else {\n                    intercepted = false;\n                }\n            } else {//既不是touch目标，也不是down事件，则进行拦截，如ACTION_UP,ACTION_MOVE\n                         intercepted = true;\n            }\n              ...\n                        final View[] children = mChildren;\n                        for (int i = childrenCount - 1; i >= 0; i--) {\n       //倒序遍历子View（即从最外层开始遍历），判断其是否能接收到点击事件，如果能，则交由子View来进行处理，\n                            final int childIndex = getAndVerifyPreorderedIndex(\n                                    childrenCount, i, customOrder);\n                            final View child = getAndVerifyPreorderedView(\n                                    preorderedList, children, childIndex);\n\n                        \n                            if (childWithAccessibilityFocus != null) {\n                                if (childWithAccessibilityFocus != child) {\n                                    continue;\n                                }\n                                childWithAccessibilityFocus = null;\n                                i = childrenCount - 1;\n                            }\n\n                            if (!canViewReceivePointerEvents(child)\n                                    || !isTransformedTouchPointInView(x, y, child, null)) {\n     //判断子View是否在播放动画或者触摸点位置是否在子View的范围里，均不满足则continue\n                                ev.setTargetAccessibilityFocus(false);\n                                continue;\n                            }\n\n                            newTouchTarget = getTouchTarget(child);\n                            if (newTouchTarget != null) {\n                                // Child is already receiving touch within its bounds.\n                                // Give it the new pointer in addition to the ones it is handling.\n                                newTouchTarget.pointerIdBits |= idBitsToAssign;\n                                break;\n                            }\n\n                            resetCancelNextUpFlag(child);\n                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {//转换触控分发事件\n                                // Child wants to receive touch within its bounds.\n                                mLastTouchDownTime = ev.getDownTime();\n                                if (preorderedList != null) {\n                                    // childIndex points into presorted list, find original index\n                                    for (int j = 0; j < childrenCount; j++) {\n                                        if (children[childIndex] == mChildren[j]) {\n                                            mLastTouchDownIndex = j;\n                                            break;\n                                        }\n                                    }\n                                } else {\n                                    mLastTouchDownIndex = childIndex;\n                                }\n                                mLastTouchDownX = ev.getX();\n                                mLastTouchDownY = ev.getY();\n                                newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\n                            }\n                            ev.setTargetAccessibilityFocus(false);\n                        }\n                       \n```\n\n  当ViewGroup要拦截事件的时候，后续事件全部交由它处理，而不用再调用onInterceptTouchEvent()进行判断，因此onInterceptTouchEvent()并不是每次事件都会执行。\n\n```java\n  public boolean onInterceptTouchEvent(MotionEvent ev) {\n        if (ev.isFromSource(InputDevice.SOURCE_MOUSE)\n                && ev.getAction() == MotionEvent.ACTION_DOWN\n                && ev.isButtonPressed(MotionEvent.BUTTON_PRIMARY)\n                && isOnScrollbarThumb(ev.getX(), ev.getY())) {\n            return true;\n        }\n        return false;\n    }\n```\n\n  onInterceptTouchEvent()默认返回false，不进行拦截，可在ViewGroup中重写该方法进行拦截。\n\n  查看上述转换触控分发事件dispatchTransformedTouchEvent()：\n\n```java\n private boolean dispatchTransformedTouchEvent(MotionEvent event, boolean cancel,\n            View child, int desiredPointerIdBits) {\n        final boolean handled;\n\n        // Canceling motions is a special case.  We don't need to perform any transformations\n        // or filtering.  The important part is the action, not the contents.\n        final int oldAction = event.getAction();\n        if (cancel || oldAction == MotionEvent.ACTION_CANCEL) {\n            event.setAction(MotionEvent.ACTION_CANCEL);\n            if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n            } else {\n                handled = child.dispatchTouchEvent(event);\n            }\n            event.setAction(oldAction);\n            return handled;\n        }\n        \n    }\n```\n\n   如果viewGroup有子View，则调用子View的dispatchTouchEvent(event),没有则调用super.dispatchTouchEvent(event)，因为ViewGroup是继承自View，进入View的dispatchTouchEvent(event)\n\n```java\npublic boolean dispatchTouchEvent(MotionEvent event) {\n        if (event.isTargetAccessibilityFocus()) {\n            // We don't have focus or no virtual descendant has it, do not handle the event.\n            if (!isAccessibilityFocusedViewOrHost()) {\n                return false;\n            }\n            // We have focus and got the event, then use normal event dispatch.\n            event.setTargetAccessibilityFocus(false);\n        }\n\n        boolean result = false;\n\n        if (mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onTouchEvent(event, 0);\n        }\n\n        final int actionMasked = event.getActionMasked();\n        if (actionMasked == MotionEvent.ACTION_DOWN) {\n            // Defensive cleanup for new gesture\n            stopNestedScroll();\n        }\n\n        if (onFilterTouchEventForSecurity(event)) {\n            if ((mViewFlags & ENABLED_MASK) == ENABLED && handleScrollBarDragging(event)) {\n                result = true;\n            }\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n        ...\n        return result;\n    }\n```\n  \n  如果OnTouchListener不为null且onTouch()返回为true，则表示事件被消费，不会执行onTouchEvent(event),否则就会执行onTouchEvent(event).根据执行顺序可看出OnTouchListener.onTouch()优先级>onTouchEvent(event).下面进入omTouchEvent()。\n\n```java\npublic boolean onTouchEvent(MotionEvent event) {\n        final float x = event.getX();\n        final float y = event.getY();\n        final int viewFlags = mViewFlags;\n        final int action = event.getAction();\n\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if ((viewFlags & ENABLED_MASK) == DISABLED) {\n            if (action == MotionEvent.ACTION_UP && (mPrivateFlags & PFLAG_PRESSED) != 0) {\n                setPressed(false);\n            }\n            mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n            // A disabled view that is clickable still consumes the touch\n            // events, it just doesn't respond to them.\n            return clickable;\n        }\n        if (mTouchDelegate != null) {\n            if (mTouchDelegate.onTouchEvent(event)) {\n                return true;\n            }\n        }\n\n        if (clickable || (viewFlags & TOOLTIP) == TOOLTIP) {\n            switch (action) {\n                case MotionEvent.ACTION_UP:\n                    mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n                    if ((viewFlags & TOOLTIP) == TOOLTIP) {\n                        handleTooltipUp();\n                    }\n                    if (!clickable) {\n                        removeTapCallback();\n                        removeLongPressCallback();\n                        mInContextButtonPress = false;\n                        mHasPerformedLongPress = false;\n                        mIgnoreNextUpEvent = false;\n                        break;\n                    }\n                    boolean prepressed = (mPrivateFlags & PFLAG_PREPRESSED) != 0;\n                    if ((mPrivateFlags & PFLAG_PRESSED) != 0 || prepressed) {\n                        // take focus if we don't have it already and we should in\n                        // touch mode.\n                        boolean focusTaken = false;\n                        if (isFocusable() && isFocusableInTouchMode() && !isFocused()) {\n                            focusTaken = requestFocus();\n                        }\n\n                        if (prepressed) {\n                            // The button is being released before we actually\n                            // showed it as pressed.  Make it show the pressed\n                            // state now (before scheduling the click) to ensure\n                            // the user sees it.\n                            setPressed(true, x, y);\n                        }\n\n                        if (!mHasPerformedLongPress && !mIgnoreNextUpEvent) {\n                            // This is a tap, so remove the longpress check\n                            removeLongPressCallback();\n\n                            // Only perform take click actions if we were in the pressed state\n                            if (!focusTaken) {\n                                // Use a Runnable and post this rather than calling\n                                // performClick directly. This lets other visual state\n                                // of the view update before click actions start.\n                                if (mPerformClick == null) {\n                                    mPerformClick = new PerformClick();\n                                }\n                                if (!post(mPerformClick)) {\n                                    performClick();\n                                }\n                            }\n                        }\n\n                        ...\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n``` \n\n  只要View的CLICKABLE和LONG_CLICKABLE有一个为true，那么onTouchEvent()就会返回true消费这个事件。只要设置View设置了对应的监听事件setOnClickListener和setOnLongClickListener来设置，其会自动将对应属性设置为true。进入至performClick()。\n\n```java\n public boolean performClick() {\n        final boolean result;\n        final ListenerInfo li = mListenerInfo;\n        if (li != null && li.mOnClickListener != null) {//如果view设置了onClickListener，则就会执行其onClick()，\n            playSoundEffect(SoundEffectConstants.CLICK);\n            li.mOnClickListener.onClick(this);\n            result = true;\n        } else {\n            result = false;\n        }\n\n        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);\n\n        notifyEnterOrExitForAutoFillIfNeeded(true);\n\n        return result;\n    }\n```  \n\n## 点击事件分发的传递原则\n   \n   ![事件分发自上而下分发](/images/事件分发.png)\n\n  根ViewGroupdispatchTouchEvent()遍历子View询问是否允许拦截，不允许则将事件分发给子View的dispatchTouchEvent()，允许则进入onInterceptTouchEvent(event)判断自己是否要拦截这个事件，不拦截则将事件分发给子View的dispatchTouchEvent()，拦截则进入自己的onTouchEvent()进行处理。当传递到子View，如果其onTouchEvent返回true表明其处理了该事件，返回false，会将事件传递给父View进行处理。\n","source":"_posts/Android事件分发源码解析.md","raw":"title: Android事件分发源码解析\ndate: 2017-08-20 00:00:00\ntags: [Android]\ncategories: 进阶之光\ndescription: 事件分发机制\n---\n## View的事件分发机制\n\n### 事件分发机制图解\n\n ![该图示自上而下有些许错误，请参考底部图解](/images/事件分发机制图解.png)\n\n 由上图可看出所涉及到了三个重要的方法\n\n * dispatchTouchEvent(MotionEvent ev):用于事件的分发\n\n * onIerveptTouchEvent(MotionEvent ev):用来进行事件的拦截，\n   在dispatchTouchEvent()中进行调用，且View没有该方法，只有ViewGroup有。\n\n * onTouchEvent(MotionEvent ev):用来处理点击事件，\n   在dispatchTouchEvent()中进行调用。\n\n\n  `事件分发`：当我们点击屏幕时，就产生了点击事件，该事件被封装成了一个MotionEvent类。系统会将MotionEvent传递给View的层级，MotionEvent在View中的层级传递过程就是事件分发。\n\n### View的事件分发机制\n\n  当点击事件产生后，事件会首先传递给Activity，Activity会调用dispatchEvent()，将事件分发给phoneWindow,phoneWindow再分发给DecorView，最后由DecorView分发给根ViewGroup.\n  \n  进入ViewGroup的dispatchTouchEvent\n\n```java\n@Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n ...\n            if (actionMasked == MotionEvent.ACTION_DOWN) {//判断是否是Down事件，是则进行初始化mFirstTouchEvent\n                cancelAndClearTouchTargets(ev);\n                resetTouchState();\n            }\n\n            final boolean intercepted;\n            if (actionMasked == MotionEvent.ACTION_DOWN\n                    || mFirstTouchTarget != null) {//mFirstTouchEvent表示当前ViewGroup是否拦截了事件，mFirstTouchEvent！=null表示不拦截\n                final boolean disallowIntercept = (mGroupFlags & FLAG_DISALLOW_INTERCEPT) != 0;//FLAG_DISALLOW_INTERCEPT：禁止ViewGroup拦截除了Down之外的事件，一般可通过子View的requestDisallowInterceptTouchEvent()来设置\n                if (!disallowIntercept) {//进行拦截\n                    intercepted = onInterceptTouchEvent(ev);\n                    ev.setAction(action); // restore action in case it was changed\n                } else {\n                    intercepted = false;\n                }\n            } else {//既不是touch目标，也不是down事件，则进行拦截，如ACTION_UP,ACTION_MOVE\n                         intercepted = true;\n            }\n              ...\n                        final View[] children = mChildren;\n                        for (int i = childrenCount - 1; i >= 0; i--) {\n       //倒序遍历子View（即从最外层开始遍历），判断其是否能接收到点击事件，如果能，则交由子View来进行处理，\n                            final int childIndex = getAndVerifyPreorderedIndex(\n                                    childrenCount, i, customOrder);\n                            final View child = getAndVerifyPreorderedView(\n                                    preorderedList, children, childIndex);\n\n                        \n                            if (childWithAccessibilityFocus != null) {\n                                if (childWithAccessibilityFocus != child) {\n                                    continue;\n                                }\n                                childWithAccessibilityFocus = null;\n                                i = childrenCount - 1;\n                            }\n\n                            if (!canViewReceivePointerEvents(child)\n                                    || !isTransformedTouchPointInView(x, y, child, null)) {\n     //判断子View是否在播放动画或者触摸点位置是否在子View的范围里，均不满足则continue\n                                ev.setTargetAccessibilityFocus(false);\n                                continue;\n                            }\n\n                            newTouchTarget = getTouchTarget(child);\n                            if (newTouchTarget != null) {\n                                // Child is already receiving touch within its bounds.\n                                // Give it the new pointer in addition to the ones it is handling.\n                                newTouchTarget.pointerIdBits |= idBitsToAssign;\n                                break;\n                            }\n\n                            resetCancelNextUpFlag(child);\n                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {//转换触控分发事件\n                                // Child wants to receive touch within its bounds.\n                                mLastTouchDownTime = ev.getDownTime();\n                                if (preorderedList != null) {\n                                    // childIndex points into presorted list, find original index\n                                    for (int j = 0; j < childrenCount; j++) {\n                                        if (children[childIndex] == mChildren[j]) {\n                                            mLastTouchDownIndex = j;\n                                            break;\n                                        }\n                                    }\n                                } else {\n                                    mLastTouchDownIndex = childIndex;\n                                }\n                                mLastTouchDownX = ev.getX();\n                                mLastTouchDownY = ev.getY();\n                                newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\n                            }\n                            ev.setTargetAccessibilityFocus(false);\n                        }\n                       \n```\n\n  当ViewGroup要拦截事件的时候，后续事件全部交由它处理，而不用再调用onInterceptTouchEvent()进行判断，因此onInterceptTouchEvent()并不是每次事件都会执行。\n\n```java\n  public boolean onInterceptTouchEvent(MotionEvent ev) {\n        if (ev.isFromSource(InputDevice.SOURCE_MOUSE)\n                && ev.getAction() == MotionEvent.ACTION_DOWN\n                && ev.isButtonPressed(MotionEvent.BUTTON_PRIMARY)\n                && isOnScrollbarThumb(ev.getX(), ev.getY())) {\n            return true;\n        }\n        return false;\n    }\n```\n\n  onInterceptTouchEvent()默认返回false，不进行拦截，可在ViewGroup中重写该方法进行拦截。\n\n  查看上述转换触控分发事件dispatchTransformedTouchEvent()：\n\n```java\n private boolean dispatchTransformedTouchEvent(MotionEvent event, boolean cancel,\n            View child, int desiredPointerIdBits) {\n        final boolean handled;\n\n        // Canceling motions is a special case.  We don't need to perform any transformations\n        // or filtering.  The important part is the action, not the contents.\n        final int oldAction = event.getAction();\n        if (cancel || oldAction == MotionEvent.ACTION_CANCEL) {\n            event.setAction(MotionEvent.ACTION_CANCEL);\n            if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n            } else {\n                handled = child.dispatchTouchEvent(event);\n            }\n            event.setAction(oldAction);\n            return handled;\n        }\n        \n    }\n```\n\n   如果viewGroup有子View，则调用子View的dispatchTouchEvent(event),没有则调用super.dispatchTouchEvent(event)，因为ViewGroup是继承自View，进入View的dispatchTouchEvent(event)\n\n```java\npublic boolean dispatchTouchEvent(MotionEvent event) {\n        if (event.isTargetAccessibilityFocus()) {\n            // We don't have focus or no virtual descendant has it, do not handle the event.\n            if (!isAccessibilityFocusedViewOrHost()) {\n                return false;\n            }\n            // We have focus and got the event, then use normal event dispatch.\n            event.setTargetAccessibilityFocus(false);\n        }\n\n        boolean result = false;\n\n        if (mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onTouchEvent(event, 0);\n        }\n\n        final int actionMasked = event.getActionMasked();\n        if (actionMasked == MotionEvent.ACTION_DOWN) {\n            // Defensive cleanup for new gesture\n            stopNestedScroll();\n        }\n\n        if (onFilterTouchEventForSecurity(event)) {\n            if ((mViewFlags & ENABLED_MASK) == ENABLED && handleScrollBarDragging(event)) {\n                result = true;\n            }\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n        ...\n        return result;\n    }\n```\n  \n  如果OnTouchListener不为null且onTouch()返回为true，则表示事件被消费，不会执行onTouchEvent(event),否则就会执行onTouchEvent(event).根据执行顺序可看出OnTouchListener.onTouch()优先级>onTouchEvent(event).下面进入omTouchEvent()。\n\n```java\npublic boolean onTouchEvent(MotionEvent event) {\n        final float x = event.getX();\n        final float y = event.getY();\n        final int viewFlags = mViewFlags;\n        final int action = event.getAction();\n\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if ((viewFlags & ENABLED_MASK) == DISABLED) {\n            if (action == MotionEvent.ACTION_UP && (mPrivateFlags & PFLAG_PRESSED) != 0) {\n                setPressed(false);\n            }\n            mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n            // A disabled view that is clickable still consumes the touch\n            // events, it just doesn't respond to them.\n            return clickable;\n        }\n        if (mTouchDelegate != null) {\n            if (mTouchDelegate.onTouchEvent(event)) {\n                return true;\n            }\n        }\n\n        if (clickable || (viewFlags & TOOLTIP) == TOOLTIP) {\n            switch (action) {\n                case MotionEvent.ACTION_UP:\n                    mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n                    if ((viewFlags & TOOLTIP) == TOOLTIP) {\n                        handleTooltipUp();\n                    }\n                    if (!clickable) {\n                        removeTapCallback();\n                        removeLongPressCallback();\n                        mInContextButtonPress = false;\n                        mHasPerformedLongPress = false;\n                        mIgnoreNextUpEvent = false;\n                        break;\n                    }\n                    boolean prepressed = (mPrivateFlags & PFLAG_PREPRESSED) != 0;\n                    if ((mPrivateFlags & PFLAG_PRESSED) != 0 || prepressed) {\n                        // take focus if we don't have it already and we should in\n                        // touch mode.\n                        boolean focusTaken = false;\n                        if (isFocusable() && isFocusableInTouchMode() && !isFocused()) {\n                            focusTaken = requestFocus();\n                        }\n\n                        if (prepressed) {\n                            // The button is being released before we actually\n                            // showed it as pressed.  Make it show the pressed\n                            // state now (before scheduling the click) to ensure\n                            // the user sees it.\n                            setPressed(true, x, y);\n                        }\n\n                        if (!mHasPerformedLongPress && !mIgnoreNextUpEvent) {\n                            // This is a tap, so remove the longpress check\n                            removeLongPressCallback();\n\n                            // Only perform take click actions if we were in the pressed state\n                            if (!focusTaken) {\n                                // Use a Runnable and post this rather than calling\n                                // performClick directly. This lets other visual state\n                                // of the view update before click actions start.\n                                if (mPerformClick == null) {\n                                    mPerformClick = new PerformClick();\n                                }\n                                if (!post(mPerformClick)) {\n                                    performClick();\n                                }\n                            }\n                        }\n\n                        ...\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n``` \n\n  只要View的CLICKABLE和LONG_CLICKABLE有一个为true，那么onTouchEvent()就会返回true消费这个事件。只要设置View设置了对应的监听事件setOnClickListener和setOnLongClickListener来设置，其会自动将对应属性设置为true。进入至performClick()。\n\n```java\n public boolean performClick() {\n        final boolean result;\n        final ListenerInfo li = mListenerInfo;\n        if (li != null && li.mOnClickListener != null) {//如果view设置了onClickListener，则就会执行其onClick()，\n            playSoundEffect(SoundEffectConstants.CLICK);\n            li.mOnClickListener.onClick(this);\n            result = true;\n        } else {\n            result = false;\n        }\n\n        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);\n\n        notifyEnterOrExitForAutoFillIfNeeded(true);\n\n        return result;\n    }\n```  \n\n## 点击事件分发的传递原则\n   \n   ![事件分发自上而下分发](/images/事件分发.png)\n\n  根ViewGroupdispatchTouchEvent()遍历子View询问是否允许拦截，不允许则将事件分发给子View的dispatchTouchEvent()，允许则进入onInterceptTouchEvent(event)判断自己是否要拦截这个事件，不拦截则将事件分发给子View的dispatchTouchEvent()，拦截则进入自己的onTouchEvent()进行处理。当传递到子View，如果其onTouchEvent返回true表明其处理了该事件，返回false，会将事件传递给父View进行处理。\n","slug":"Android事件分发源码解析","published":1,"updated":"2020-02-13T07:16:09.043Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy4000aqr3lau7r6ng3"},{"title":"Binder Resolve","date":"2019-01-16T16:00:00.000Z","description":"　　","_content":"```java\npublic interface IBookManager extends IInterface {\n  static final String DESCRIPTOR = \"com.hdu.test.IBookManager\";\n\n  static final int TRANSACTION_getBOOKLIST = IBinder.FIRST_CALL_TRANSACTION + 0;// Flag the method invoked\n  static final int TRANSACTION_addBook = IBinder.FIRST_CALL_TRANSACTION + 1;\n\n  public List<Book> getBookList() throws RemoteException;// method \n\n  public void addBook(Book book) throws RemoteException;\n\n  public class BookManagetImpl extends Binder implements IBookManager {//The concrete  implementation  of Binder\n\n    public BookManagetImpl() {\n        this.attachInterface(this, DESCRIPTOR);// Register this IInterface,so that queryLocalInterface would use DESCRIPTOR to get IInterface.\n    }\n\n    public static IBookManager asInterface(IBinder binder) {// Client invoke this method to obtain IBookManager inteface\n      if (binder == null) {\n        return null;\n      }\n      IInterface iin = binder.queryLocalInterface(DESCRIPTOR);// Obtain IInterface by DESCRIPTOR.\n      if ((iin != null) && (iin instanceof IBookManager)) {\n        return (IBookManager) iin;\n      }\n      return new BookManagetImpl.Proxy(binder);\n    }\n\n    @Override protected boolean onTransact(int code, Parcel data, Parcel reply, int flags) throws RemoteException {//server would progress RPC\n      switch (code) {\n        case INTERFACE_TRANSACTION:\n          reply.writeString(DESCRIPTOR);\n          return true;\n        case TRANSACTION_getBOOKLIST:\n          data.enforceInterface(DESCRIPTOR);\n          List<Book> books = this.getBookList();\n          reply.writeNoException();\n          reply.writeTypedList(books);//write reslut into reply\n          return true;\n        case TRANSACTION_addBook:\n          data.enforceInterface(DESCRIPTOR);\n          Book book = null;\n          if (0 != data.readInt()) {\n            book = Book.CREATOR.createFromParcel(data);\n          }\n          this.addBook(book);\n          reply.writeNoException();\n          return true;\n      }\n      return super.onTransact(code, data, reply, flags);\n    }\n\n    @Override public List<Book> getBookList() throws RemoteException {\n      return null;\n    }\n\n    @Override public void addBook(Book book) throws RemoteException {\n\n    }\n\n    @Override public IBinder asBinder() {\n      return this;\n    }\n\n    private static class Proxy implements IBookManager {\n\n      private IBinder mRemote;\n\n      public Proxy(IBinder remote) {\n        mRemote = remote;\n      }\n\n      @Override public List<Book> getBookList() throws RemoteException {// Client would invoke these method  as follows\n        Parcel data = Parcel.obtain();\n        Parcel reply = Parcel.obtain();\n        List<Book> books;\n        try {\n          data.writeInterfaceToken(DESCRIPTOR);\n          mRemote.transact(TRANSACTION_getBOOKLIST, data, reply, 0);\n          data.readException();\n          books = reply.createTypedArrayList(Book.CREATOR);\n        } finally {\n          data.recycle();\n          reply.recycle();\n        }\n        return books;\n      }\n\n      @Override public void addBook(Book book) throws RemoteException {  \n        Parcel data = Parcel.obtain();\n        Parcel reply = Parcel.obtain();\n        try {\n          data.writeInterfaceToken(DESCRIPTOR);\n          if (book != null) {\n            data.writeInt(1);\n            book.writeToParcel(data, 0);\n          } else {\n            data.writeInt(0);\n          }\n          mRemote.transact(TRANSACTION_addBook, data, reply, 0);\n          reply.readException();\n        }finally {\n          reply.recycle();\n          data.recycle();\n        }\n      }\n\n      @Override public IBinder asBinder() {\n        return mRemote;\n      }\n\n      public String getInterfaceDescriptor() {\n        return DESCRIPTOR;\n      }\n    }\n  }\n}\n\n```\n整个Binder运行机制如下图所示：\n![Binder](/images/Binder.png)\n\n1. 首先客户端通过IBookManager.asInteface()获得IBookManager中的Binder中的Proxy实例\n2. 客户端调用Proxy的getBookList()，通过调用transcation()传入code、输入data、输出reply。发起了RPC请求。\n3. 服务端通过onTranscation()处理RPC请求，根据传入的code值进行响应处理。若需要返回值，并将返回值写入reply.\n4. 客户端若需要返回值则从reply中取出。","source":"_posts/Binder Resolve.md","raw":"title: Binder Resolve\ndate: 2019-1-17\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n```java\npublic interface IBookManager extends IInterface {\n  static final String DESCRIPTOR = \"com.hdu.test.IBookManager\";\n\n  static final int TRANSACTION_getBOOKLIST = IBinder.FIRST_CALL_TRANSACTION + 0;// Flag the method invoked\n  static final int TRANSACTION_addBook = IBinder.FIRST_CALL_TRANSACTION + 1;\n\n  public List<Book> getBookList() throws RemoteException;// method \n\n  public void addBook(Book book) throws RemoteException;\n\n  public class BookManagetImpl extends Binder implements IBookManager {//The concrete  implementation  of Binder\n\n    public BookManagetImpl() {\n        this.attachInterface(this, DESCRIPTOR);// Register this IInterface,so that queryLocalInterface would use DESCRIPTOR to get IInterface.\n    }\n\n    public static IBookManager asInterface(IBinder binder) {// Client invoke this method to obtain IBookManager inteface\n      if (binder == null) {\n        return null;\n      }\n      IInterface iin = binder.queryLocalInterface(DESCRIPTOR);// Obtain IInterface by DESCRIPTOR.\n      if ((iin != null) && (iin instanceof IBookManager)) {\n        return (IBookManager) iin;\n      }\n      return new BookManagetImpl.Proxy(binder);\n    }\n\n    @Override protected boolean onTransact(int code, Parcel data, Parcel reply, int flags) throws RemoteException {//server would progress RPC\n      switch (code) {\n        case INTERFACE_TRANSACTION:\n          reply.writeString(DESCRIPTOR);\n          return true;\n        case TRANSACTION_getBOOKLIST:\n          data.enforceInterface(DESCRIPTOR);\n          List<Book> books = this.getBookList();\n          reply.writeNoException();\n          reply.writeTypedList(books);//write reslut into reply\n          return true;\n        case TRANSACTION_addBook:\n          data.enforceInterface(DESCRIPTOR);\n          Book book = null;\n          if (0 != data.readInt()) {\n            book = Book.CREATOR.createFromParcel(data);\n          }\n          this.addBook(book);\n          reply.writeNoException();\n          return true;\n      }\n      return super.onTransact(code, data, reply, flags);\n    }\n\n    @Override public List<Book> getBookList() throws RemoteException {\n      return null;\n    }\n\n    @Override public void addBook(Book book) throws RemoteException {\n\n    }\n\n    @Override public IBinder asBinder() {\n      return this;\n    }\n\n    private static class Proxy implements IBookManager {\n\n      private IBinder mRemote;\n\n      public Proxy(IBinder remote) {\n        mRemote = remote;\n      }\n\n      @Override public List<Book> getBookList() throws RemoteException {// Client would invoke these method  as follows\n        Parcel data = Parcel.obtain();\n        Parcel reply = Parcel.obtain();\n        List<Book> books;\n        try {\n          data.writeInterfaceToken(DESCRIPTOR);\n          mRemote.transact(TRANSACTION_getBOOKLIST, data, reply, 0);\n          data.readException();\n          books = reply.createTypedArrayList(Book.CREATOR);\n        } finally {\n          data.recycle();\n          reply.recycle();\n        }\n        return books;\n      }\n\n      @Override public void addBook(Book book) throws RemoteException {  \n        Parcel data = Parcel.obtain();\n        Parcel reply = Parcel.obtain();\n        try {\n          data.writeInterfaceToken(DESCRIPTOR);\n          if (book != null) {\n            data.writeInt(1);\n            book.writeToParcel(data, 0);\n          } else {\n            data.writeInt(0);\n          }\n          mRemote.transact(TRANSACTION_addBook, data, reply, 0);\n          reply.readException();\n        }finally {\n          reply.recycle();\n          data.recycle();\n        }\n      }\n\n      @Override public IBinder asBinder() {\n        return mRemote;\n      }\n\n      public String getInterfaceDescriptor() {\n        return DESCRIPTOR;\n      }\n    }\n  }\n}\n\n```\n整个Binder运行机制如下图所示：\n![Binder](/images/Binder.png)\n\n1. 首先客户端通过IBookManager.asInteface()获得IBookManager中的Binder中的Proxy实例\n2. 客户端调用Proxy的getBookList()，通过调用transcation()传入code、输入data、输出reply。发起了RPC请求。\n3. 服务端通过onTranscation()处理RPC请求，根据传入的code值进行响应处理。若需要返回值，并将返回值写入reply.\n4. 客户端若需要返回值则从reply中取出。","slug":"Binder Resolve","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy6000bqr3lt9670via"},{"title":"Binder Pool","date":"2019-01-27T16:00:00.000Z","description":"实现一个service管理多个aidl","_content":"![binder_pool](/images/binder_pool.png)\n从图中可知，每个aidl在Binder连接池中都有一个对应的Binder实例。在BinderPool中提供一个根据code查询对应Binder的query方法。\n1. 服务端创建三个aidl文件\n```java\n// ISecurityCenter.aidl\ninterface ISecurityCenter {\n  String encrypt(String content);\n  String decrypt(String password);\n}\n\n  ```\n  ```java\n// ICompute.aidl\ninterface ICompute {\n    int add(int a, int b);\n}\n\n```\n  ```java\n// IBinderPool.aidl\ninterface IBinderPool {\n   IBinder queryBinder(int binderCode);\n}\n\n```\n\n2. 服务端实现对应Binder实例\n```java\npublic class SecurityCenterImpl extends ISecurityCenter.Stub {\n\n  private static final char SECRET_CODE = '^';\n\n  @Override public String encrypt(String content) throws RemoteException {\n    char[] chars = content.toCharArray();\n    for (int i = 0; i < chars.length; i++) {\n      chars[i] ^= SECRET_CODE;\n    }\n    return new String(chars);\n  }\n\n  @Override public String decrypt(String password) throws RemoteException {\n    return encrypt(password);\n  }\n}\n```\n```java\npublic class ComputeImpl extends ICompute.Stub {\n  @Override public int add(int a, int b) throws RemoteException {\n    return a + b;\n  }\n}\n```\n```java\npublic class BinderPool {\n  public static final int BINDER_NONE = -1;\n  public static final int BINDER_COMPUTE = 0;\n  public static final int BINDER_SECURITY_CENTER = 1;\n\n  private Context mContext;\n  private IBinderPool mBinderPool;\n  private static volatile BinderPool sInstance;\n  private CountDownLatch mConnectBinderPoolCountDownLatch;\n  //sync operation,Prevent the conflicts of binding.\n\n  private ServiceConnection mBinderPoolConnection = new ServiceConnection() {\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\n      mBinderPool = IBinderPool.Stub.asInterface(service);\n      try {\n        mBinderPool.asBinder().linkToDeath(mBinderDeathRecipient, 0);//Prevent unexpected exit\n      } catch (RemoteException e) {\n        e.printStackTrace();\n      }\n      mConnectBinderPoolCountDownLatch.countDown();\n    }\n\n    @Override public void onServiceDisconnected(ComponentName name) {\n\n    }\n  };\n  private IBinder.DeathRecipient mBinderDeathRecipient = new IBinder.DeathRecipient() {\n    @Override public void binderDied() {\n      Log.i(\"TAG\", \"binderDied: \");\n      mBinderPool.asBinder().unlinkToDeath(mBinderDeathRecipient, 0);\n      mBinderPool = null;\n      connectBinderPoolService();\n    }\n  };\n  private BinderPool(Context context) {\n    mContext = context.getApplicationContext();\n    connectBinderPoolService();//Begin conncect service\n  }\n  public static BinderPool getInsance(Context context) {\n    if (sInstance == null) {\n      synchronized (BinderPool.class) {\n        if (sInstance == null) {\n          sInstance = new BinderPool(context);\n        }\n      }\n    }\n    return sInstance;\n  }\n  private synchronized void connectBinderPoolService() {\n    mConnectBinderPoolCountDownLatch = new CountDownLatch(1);//Only one client can bind service\n    Intent service = new Intent(mContext, BinderPoolService.class);\n    mContext.bindService(service, mBinderPoolConnection, Context.BIND_AUTO_CREATE);\n    try {\n      mConnectBinderPoolCountDownLatch.await();\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public IBinder queryBinder(int bindCode) {\n    IBinder binder = null;\n    if (mBinderPool != null) {\n      try {\n        binder = mBinderPool.queryBinder(bindCode);\n      } catch (RemoteException e) {\n        e.printStackTrace();\n      }\n    }\n    return binder;\n  }\n  public static class BinderPoolImpl extends IBinderPool.Stub {\n    public BinderPoolImpl() {\n      super();\n    }\n\n    @Override public IBinder queryBinder(int binderCode) throws RemoteException {\n      IBinder binder = null;\n      switch (binderCode) {\n        case BINDER_SECURITY_CENTER:\n          binder = new SecurityCenterImpl();\n          break;\n        case BINDER_COMPUTE:\n          binder = new ComputeImpl();\n          break;\n        default:\n          break;\n      }\n      return binder;\n    }\n  }\n}\n\n```\n3. 服务端返回Binder连接池\n```java\n//Service\npublic class BinderPoolService extends Service {\n\n\n  private Binder mBinderPool = new BinderPool.BinderPoolImpl();\n\n  @Override\n  public void onCreate() {\n    Log.i(\"TAG\", \"service:onCreate: \");\n    super.onCreate();\n  }\n\n  @Override\n  public IBinder onBind(Intent intent) {\n    Log.d(\"TAG\", \"onBind\");\n    return mBinderPool;\n  }\n\n  @Override\n  public void onDestroy() {\n    super.onDestroy();\n  }\n\n}\n```\n\n4.客户端通过BinderPool获得对应Binder。再从Binder中获取已被服务器实现了的接口。\n```java\npublic class BinderPoolActivity extends AppCompatActivity {\n  private ISecurityCenter mSecurityCenter;\n  private ICompute mCompute;\n\n  @Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        doWork();\n      }\n    }).start();\n  }\n\n  private void doWork() {\n    BinderPool binderPool = BinderPool.getInsance(BinderPoolActivity.this);\n    IBinder securityBinder = binderPool\n        .queryBinder(BinderPool.BINDER_SECURITY_CENTER);\n    ;\n    mSecurityCenter = (ISecurityCenter) SecurityCenterImpl\n        .asInterface(securityBinder);//Get implemented interface\n    Log.d(\"TAG\", \"visit ISecurityCenter\");\n    String msg = \"helloworld-安卓\";\n    System.out.println(\"content:\" + msg);\n    try {\n      String password = mSecurityCenter.encrypt(msg);\n      System.out.println(\"encrypt:\" + password);\n      System.out.println(\"decrypt:\" + mSecurityCenter.decrypt(password));\n    } catch (RemoteException e) {\n      e.printStackTrace();\n    }\n\n    Log.d(\"TAG\", \"visit ICompute\");\n    IBinder computeBinder = binderPool\n        .queryBinder(BinderPool.BINDER_COMPUTE);\n    ;\n    mCompute = ComputeImpl.asInterface(computeBinder);\n    try {\n      System.out.println(\"3+5=\" + mCompute.add(3, 5));\n    } catch (RemoteException e) {\n      e.printStackTrace();\n    }\n  }\n}\n```","source":"_posts/Binder Pool.md","raw":"title: Binder Pool\ndate: 2019-1-28\ntags: [Android,IPC]\ncategories: Android开发艺术探索\ndescription: 实现一个service管理多个aidl\n---\n![binder_pool](/images/binder_pool.png)\n从图中可知，每个aidl在Binder连接池中都有一个对应的Binder实例。在BinderPool中提供一个根据code查询对应Binder的query方法。\n1. 服务端创建三个aidl文件\n```java\n// ISecurityCenter.aidl\ninterface ISecurityCenter {\n  String encrypt(String content);\n  String decrypt(String password);\n}\n\n  ```\n  ```java\n// ICompute.aidl\ninterface ICompute {\n    int add(int a, int b);\n}\n\n```\n  ```java\n// IBinderPool.aidl\ninterface IBinderPool {\n   IBinder queryBinder(int binderCode);\n}\n\n```\n\n2. 服务端实现对应Binder实例\n```java\npublic class SecurityCenterImpl extends ISecurityCenter.Stub {\n\n  private static final char SECRET_CODE = '^';\n\n  @Override public String encrypt(String content) throws RemoteException {\n    char[] chars = content.toCharArray();\n    for (int i = 0; i < chars.length; i++) {\n      chars[i] ^= SECRET_CODE;\n    }\n    return new String(chars);\n  }\n\n  @Override public String decrypt(String password) throws RemoteException {\n    return encrypt(password);\n  }\n}\n```\n```java\npublic class ComputeImpl extends ICompute.Stub {\n  @Override public int add(int a, int b) throws RemoteException {\n    return a + b;\n  }\n}\n```\n```java\npublic class BinderPool {\n  public static final int BINDER_NONE = -1;\n  public static final int BINDER_COMPUTE = 0;\n  public static final int BINDER_SECURITY_CENTER = 1;\n\n  private Context mContext;\n  private IBinderPool mBinderPool;\n  private static volatile BinderPool sInstance;\n  private CountDownLatch mConnectBinderPoolCountDownLatch;\n  //sync operation,Prevent the conflicts of binding.\n\n  private ServiceConnection mBinderPoolConnection = new ServiceConnection() {\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\n      mBinderPool = IBinderPool.Stub.asInterface(service);\n      try {\n        mBinderPool.asBinder().linkToDeath(mBinderDeathRecipient, 0);//Prevent unexpected exit\n      } catch (RemoteException e) {\n        e.printStackTrace();\n      }\n      mConnectBinderPoolCountDownLatch.countDown();\n    }\n\n    @Override public void onServiceDisconnected(ComponentName name) {\n\n    }\n  };\n  private IBinder.DeathRecipient mBinderDeathRecipient = new IBinder.DeathRecipient() {\n    @Override public void binderDied() {\n      Log.i(\"TAG\", \"binderDied: \");\n      mBinderPool.asBinder().unlinkToDeath(mBinderDeathRecipient, 0);\n      mBinderPool = null;\n      connectBinderPoolService();\n    }\n  };\n  private BinderPool(Context context) {\n    mContext = context.getApplicationContext();\n    connectBinderPoolService();//Begin conncect service\n  }\n  public static BinderPool getInsance(Context context) {\n    if (sInstance == null) {\n      synchronized (BinderPool.class) {\n        if (sInstance == null) {\n          sInstance = new BinderPool(context);\n        }\n      }\n    }\n    return sInstance;\n  }\n  private synchronized void connectBinderPoolService() {\n    mConnectBinderPoolCountDownLatch = new CountDownLatch(1);//Only one client can bind service\n    Intent service = new Intent(mContext, BinderPoolService.class);\n    mContext.bindService(service, mBinderPoolConnection, Context.BIND_AUTO_CREATE);\n    try {\n      mConnectBinderPoolCountDownLatch.await();\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public IBinder queryBinder(int bindCode) {\n    IBinder binder = null;\n    if (mBinderPool != null) {\n      try {\n        binder = mBinderPool.queryBinder(bindCode);\n      } catch (RemoteException e) {\n        e.printStackTrace();\n      }\n    }\n    return binder;\n  }\n  public static class BinderPoolImpl extends IBinderPool.Stub {\n    public BinderPoolImpl() {\n      super();\n    }\n\n    @Override public IBinder queryBinder(int binderCode) throws RemoteException {\n      IBinder binder = null;\n      switch (binderCode) {\n        case BINDER_SECURITY_CENTER:\n          binder = new SecurityCenterImpl();\n          break;\n        case BINDER_COMPUTE:\n          binder = new ComputeImpl();\n          break;\n        default:\n          break;\n      }\n      return binder;\n    }\n  }\n}\n\n```\n3. 服务端返回Binder连接池\n```java\n//Service\npublic class BinderPoolService extends Service {\n\n\n  private Binder mBinderPool = new BinderPool.BinderPoolImpl();\n\n  @Override\n  public void onCreate() {\n    Log.i(\"TAG\", \"service:onCreate: \");\n    super.onCreate();\n  }\n\n  @Override\n  public IBinder onBind(Intent intent) {\n    Log.d(\"TAG\", \"onBind\");\n    return mBinderPool;\n  }\n\n  @Override\n  public void onDestroy() {\n    super.onDestroy();\n  }\n\n}\n```\n\n4.客户端通过BinderPool获得对应Binder。再从Binder中获取已被服务器实现了的接口。\n```java\npublic class BinderPoolActivity extends AppCompatActivity {\n  private ISecurityCenter mSecurityCenter;\n  private ICompute mCompute;\n\n  @Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    new Thread(new Runnable() {\n\n      @Override\n      public void run() {\n        doWork();\n      }\n    }).start();\n  }\n\n  private void doWork() {\n    BinderPool binderPool = BinderPool.getInsance(BinderPoolActivity.this);\n    IBinder securityBinder = binderPool\n        .queryBinder(BinderPool.BINDER_SECURITY_CENTER);\n    ;\n    mSecurityCenter = (ISecurityCenter) SecurityCenterImpl\n        .asInterface(securityBinder);//Get implemented interface\n    Log.d(\"TAG\", \"visit ISecurityCenter\");\n    String msg = \"helloworld-安卓\";\n    System.out.println(\"content:\" + msg);\n    try {\n      String password = mSecurityCenter.encrypt(msg);\n      System.out.println(\"encrypt:\" + password);\n      System.out.println(\"decrypt:\" + mSecurityCenter.decrypt(password));\n    } catch (RemoteException e) {\n      e.printStackTrace();\n    }\n\n    Log.d(\"TAG\", \"visit ICompute\");\n    IBinder computeBinder = binderPool\n        .queryBinder(BinderPool.BINDER_COMPUTE);\n    ;\n    mCompute = ComputeImpl.asInterface(computeBinder);\n    try {\n      System.out.println(\"3+5=\" + mCompute.add(3, 5));\n    } catch (RemoteException e) {\n      e.printStackTrace();\n    }\n  }\n}\n```","slug":"Binder Pool","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy7000eqr3loufs6hdq"},{"title":"Bitmap的高效加载","date":"2019-02-22T16:00:00.000Z","description":"怎么又OOM啦","_content":"## 降低加载Bitmap的内存\n一言以蔽之：加载Bitmap前将Bitmap压缩至ImageView大小。\n实现：利用BitmapFactory.Options加载所需尺寸图片。通过BitmapFactory.Options来缩放图片，主要利用了他的inSampleSize参数，即采用率。当inSampleSize为1时，采样后的图片大小为原始图片的原始大小；当imSampleSize大于1时，比如为2，那么采样后的图片其宽/高均为原图大小的1/2，而像素为原图的1/4，其占有的内存大小也为原图的1/4.拿一张1024 * 1024像素的图片来说，假定采用ARGB8888格式存储，那么他占有的内存为1024*1024*4，即4MB，如果imSampleSIze为2，那么采样后的图片其内存占用只有512* 512 * 4，即1MB。可以发现采样率imSampleSize必须是大于1的整数才会有缩小的效果，并且采样率同时作用于宽、高，这导致缩放后的图片大小以采用率的2次方递减，即缩放比例为1/(imSamolSize的2次方)，比如inSamoleSize为4，那么缩放比例就是1/16。\n\n获取采样率遵循如下流程：\n\n1）将BitmapFactoryFactory.Optiobs的inJustDecodeBounds参数设为true并加载图片。（为了获取图片宽高）\n\n2）从BitmapFactory.Options中取出图片的原始宽高信息，他们对应于outWidth和outHeight参数。\n\n3）根据采样率的规则并结合目标View的所需大小计算出采样率inSampleSize.\n\n4）将BirmipFactory.Options的inJustDecodeBounds参数设为false，然后重新加载图片。\n\n```java\n   public Bitmap decodeSampledBitmapFromResource(Resources res,\n            int resId, int reqWidth, int reqHeight) {\n        // First decode with inJustDecodeBounds=true to check dimensions\n        final BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inJustDecodeBounds = true;\n        BitmapFactory.decodeResource(res, resId, options);\n\n        // Calculate inSampleSize\n        options.inSampleSize = calculateInSampleSize(options, reqWidth,\n                reqHeight);\n\n        // Decode bitmap with inSampleSize set\n        options.inJustDecodeBounds = false;\n        return BitmapFactory.decodeResource(res, resId, options);\n    }\n\n    public int calculateInSampleSize(BitmapFactory.Options options,\n            int reqWidth, int reqHeight) {\n        if (reqWidth == 0 || reqHeight == 0) {\n            return 1;\n        }\n\n        // Raw height and width of image\n        final int height = options.outHeight;\n        final int width = options.outWidth;\n        Log.d(TAG, \"origin, w= \" + width + \" h=\" + height);\n        int inSampleSize = 1;\n\n        if (height > reqHeight || width > reqWidth) {\n            final int halfHeight = height / 2;\n            final int halfWidth = width / 2;\n\n            // Calculate the largest inSampleSize value that is a power of 2 and\n            // keeps both\n            // height and width larger than the requested height and width.\n            while ((halfHeight / inSampleSize) >= reqHeight\n                    && (halfWidth / inSampleSize) >= reqWidth) {\n                inSampleSize *= 2;\n            }\n        }\n\n        Log.d(TAG, \"sampleSize:\" + inSampleSize);\n        return inSampleSize;\n    }\n\n```","source":"_posts/Bitmap的高效加载.md","raw":"title:  Bitmap的高效加载\ndate: 2019-2-23\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 怎么又OOM啦\n---\n## 降低加载Bitmap的内存\n一言以蔽之：加载Bitmap前将Bitmap压缩至ImageView大小。\n实现：利用BitmapFactory.Options加载所需尺寸图片。通过BitmapFactory.Options来缩放图片，主要利用了他的inSampleSize参数，即采用率。当inSampleSize为1时，采样后的图片大小为原始图片的原始大小；当imSampleSize大于1时，比如为2，那么采样后的图片其宽/高均为原图大小的1/2，而像素为原图的1/4，其占有的内存大小也为原图的1/4.拿一张1024 * 1024像素的图片来说，假定采用ARGB8888格式存储，那么他占有的内存为1024*1024*4，即4MB，如果imSampleSIze为2，那么采样后的图片其内存占用只有512* 512 * 4，即1MB。可以发现采样率imSampleSize必须是大于1的整数才会有缩小的效果，并且采样率同时作用于宽、高，这导致缩放后的图片大小以采用率的2次方递减，即缩放比例为1/(imSamolSize的2次方)，比如inSamoleSize为4，那么缩放比例就是1/16。\n\n获取采样率遵循如下流程：\n\n1）将BitmapFactoryFactory.Optiobs的inJustDecodeBounds参数设为true并加载图片。（为了获取图片宽高）\n\n2）从BitmapFactory.Options中取出图片的原始宽高信息，他们对应于outWidth和outHeight参数。\n\n3）根据采样率的规则并结合目标View的所需大小计算出采样率inSampleSize.\n\n4）将BirmipFactory.Options的inJustDecodeBounds参数设为false，然后重新加载图片。\n\n```java\n   public Bitmap decodeSampledBitmapFromResource(Resources res,\n            int resId, int reqWidth, int reqHeight) {\n        // First decode with inJustDecodeBounds=true to check dimensions\n        final BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inJustDecodeBounds = true;\n        BitmapFactory.decodeResource(res, resId, options);\n\n        // Calculate inSampleSize\n        options.inSampleSize = calculateInSampleSize(options, reqWidth,\n                reqHeight);\n\n        // Decode bitmap with inSampleSize set\n        options.inJustDecodeBounds = false;\n        return BitmapFactory.decodeResource(res, resId, options);\n    }\n\n    public int calculateInSampleSize(BitmapFactory.Options options,\n            int reqWidth, int reqHeight) {\n        if (reqWidth == 0 || reqHeight == 0) {\n            return 1;\n        }\n\n        // Raw height and width of image\n        final int height = options.outHeight;\n        final int width = options.outWidth;\n        Log.d(TAG, \"origin, w= \" + width + \" h=\" + height);\n        int inSampleSize = 1;\n\n        if (height > reqHeight || width > reqWidth) {\n            final int halfHeight = height / 2;\n            final int halfWidth = width / 2;\n\n            // Calculate the largest inSampleSize value that is a power of 2 and\n            // keeps both\n            // height and width larger than the requested height and width.\n            while ((halfHeight / inSampleSize) >= reqHeight\n                    && (halfWidth / inSampleSize) >= reqWidth) {\n                inSampleSize *= 2;\n            }\n        }\n\n        Log.d(TAG, \"sampleSize:\" + inSampleSize);\n        return inSampleSize;\n    }\n\n```","slug":"Bitmap的高效加载","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxy8000fqr3ldsqd41c0"},{"title":"android studio build成功，build app时报illegalStateException","date":"2019-01-02T16:00:00.000Z","description":"build apk时报illegal state exception","_content":"\n### Error\n```java\nError:beta<build>|]\nError:java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\nError:java.lang.IllegalStateException: java.lang.IllegalStateException\nError:com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\nError:java.lang.IllegalStateException\n```\n### 日志信息\n\n```gradle\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':AnkiDroid:transformClassesWithInstantRunForDebug'.\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n\tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n\tat org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n\tat org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)\n\tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)\n\tat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:497)\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n\t... 34 more\nCaused by: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:320)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.transform(InstantRunTransform.java:186)\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)\n\tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n\t... 51 more\nCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n\tat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n\tat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n\tat java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\n\tat com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:315)\n\t... 55 more\nCaused by: java.lang.IllegalStateException\n\tat org.objectweb.asm.tree.analysis.BasicInterpreter.<init>(BasicInterpreter.java:66)\n\tat com.android.build.gradle.internal.incremental.ConstructorBuilder$1.<init>(ConstructorBuilder.java:127)\n\tat com.android.build.gradle.internal.incremental.ConstructorBuilder.build(ConstructorBuilder.java:127)\n\tat com.android.build.gradle.internal.incremental.IncrementalSupportVisitor.visitMethod(IncrementalSupportVisitor.java:223)\n\tat org.objectweb.asm.ClassVisitor.visitMethod(ClassVisitor.java:327)\n\tat org.objectweb.asm.commons.SerialVersionUIDAdder.visitMethod(SerialVersionUIDAdder.java:236)\n\tat org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:686)\n\tat org.objectweb.asm.tree.ClassNode.accept(ClassNode.java:436)\n\tat com.android.build.gradle.internal.incremental.IncrementalVisitor.instrumentClass(IncrementalVisitor.java:365)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.transformToClasses2Format(InstantRunTransform.java:414)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$doTransform$4(InstantRunTransform.java:276)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$null$5(InstantRunTransform.java:305)\n\tat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n```\n### 解决方案\n　　关闭Instant run(Settings->Build->Instant Run).再重新安装即可成功。","source":"_posts/Build apk with an illegal state exception.md","raw":"title: android studio build成功，build app时报illegalStateException\ndate: 2019-1-3\ntags: [Android]\ncategories: bug\ndescription: build apk时报illegal state exception\n---\n\n### Error\n```java\nError:beta<build>|]\nError:java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\nError:java.lang.IllegalStateException: java.lang.IllegalStateException\nError:com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\nError:java.lang.IllegalStateException\n```\n### 日志信息\n\n```gradle\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':AnkiDroid:transformClassesWithInstantRunForDebug'.\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n\tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n\tat org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n\tat org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)\n\tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)\n\tat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:230)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:497)\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n\t... 34 more\nCaused by: com.android.build.api.transform.TransformException: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:320)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.transform(InstantRunTransform.java:186)\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:239)\n\tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:235)\n\tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n\t... 51 more\nCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n\tat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n\tat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n\tat java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\n\tat com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.doTransform(InstantRunTransform.java:315)\n\t... 55 more\nCaused by: java.lang.IllegalStateException\n\tat org.objectweb.asm.tree.analysis.BasicInterpreter.<init>(BasicInterpreter.java:66)\n\tat com.android.build.gradle.internal.incremental.ConstructorBuilder$1.<init>(ConstructorBuilder.java:127)\n\tat com.android.build.gradle.internal.incremental.ConstructorBuilder.build(ConstructorBuilder.java:127)\n\tat com.android.build.gradle.internal.incremental.IncrementalSupportVisitor.visitMethod(IncrementalSupportVisitor.java:223)\n\tat org.objectweb.asm.ClassVisitor.visitMethod(ClassVisitor.java:327)\n\tat org.objectweb.asm.commons.SerialVersionUIDAdder.visitMethod(SerialVersionUIDAdder.java:236)\n\tat org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:686)\n\tat org.objectweb.asm.tree.ClassNode.accept(ClassNode.java:436)\n\tat com.android.build.gradle.internal.incremental.IncrementalVisitor.instrumentClass(IncrementalVisitor.java:365)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.transformToClasses2Format(InstantRunTransform.java:414)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$doTransform$4(InstantRunTransform.java:276)\n\tat com.android.build.gradle.internal.transforms.InstantRunTransform.lambda$null$5(InstantRunTransform.java:305)\n\tat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n```\n### 解决方案\n　　关闭Instant run(Settings->Build->Instant Run).再重新安装即可成功。","slug":"Build apk with an illegal state exception","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxya000jqr3ldlwyqkvc"},{"title":"Add the two non-negative numbers","date":"2019-01-03T16:00:00.000Z","description":"Add the two  negative numbers and return it as a linked list.","_content":"## Problem description\n  ### You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.You may assume the two numbers do not contain any leading zero, except the number 0 itself.\n ## Examples\n``` java\nExample 1:\nInput: (2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 0 -> 8\nExplanation: 342 + 465 = 807.\n```\n\n## Solution\n　　看到这道超级熟悉的题目，写两个点。1：看清题目，一开始以为是正序的单链表，就觉得直接算不好算必须放到数组中。后来再看了下题目是逆序，这就好处理啦。2：还是循环少套if的问题，降低时间复杂度。创立一个头结点，省去判断，返回时，返回其next.效率提升了一半。\n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n        public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        ListNode result = new ListNode(0);\n        ListNode p = result;\n        int carry = 0;\n        while (l1 != null || l2 != null || carry != 0) {\n            int sum = ((l1 == null) ? 0 : l1.val) + ((l2 == null) ? 0 : l2.val) + carry;\n            carry = sum / 10;\n            sum = sum % 10;\n            ListNode node = new ListNode(sum);\n            node.next = null;\n            p.next = node;\n            p = node;\n            l1 = (l1 == null) ? null : l1.next;\n            l2 = (l2 == null) ? null : l2.next;\n        }\n        return result.next;\n    }\n\n}\n```","source":"_posts/Add the two non-negative numbers.md","raw":"title:  Add the two non-negative numbers\ndate: 2019-1-4\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Add the two  negative numbers and return it as a linked list.\n---\n## Problem description\n  ### You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.You may assume the two numbers do not contain any leading zero, except the number 0 itself.\n ## Examples\n``` java\nExample 1:\nInput: (2 -> 4 -> 3) + (5 -> 6 -> 4)\nOutput: 7 -> 0 -> 8\nExplanation: 342 + 465 = 807.\n```\n\n## Solution\n　　看到这道超级熟悉的题目，写两个点。1：看清题目，一开始以为是正序的单链表，就觉得直接算不好算必须放到数组中。后来再看了下题目是逆序，这就好处理啦。2：还是循环少套if的问题，降低时间复杂度。创立一个头结点，省去判断，返回时，返回其next.效率提升了一半。\n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n        public static ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        ListNode result = new ListNode(0);\n        ListNode p = result;\n        int carry = 0;\n        while (l1 != null || l2 != null || carry != 0) {\n            int sum = ((l1 == null) ? 0 : l1.val) + ((l2 == null) ? 0 : l2.val) + carry;\n            carry = sum / 10;\n            sum = sum % 10;\n            ListNode node = new ListNode(sum);\n            node.next = null;\n            p.next = node;\n            p = node;\n            l1 = (l1 == null) ? null : l1.next;\n            l2 = (l2 == null) ? null : l2.next;\n        }\n        return result.next;\n    }\n\n}\n```","slug":"Add the two non-negative numbers","published":1,"updated":"2020-02-13T07:16:09.042Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyb000lqr3li1wewdd5"},{"title":"Climbing a stair","date":"2019-01-26T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### You are climbing a stair case. It takes n steps to reach to the top.Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?Note: Given n will be a positive integer.\n ## Examples\n``` java\nExample 1:\nInput: 2\nOutput: 2\nExplanation: There are two ways to climb to the top.\n1. 1 step + 1 step\n2. 2 steps\n```\n```java\nExample 2:\nInput: 3\nOutput: 3\nExplanation: There are three ways to climb to the top.\n1. 1 step + 1 step + 1 step\n2. 1 step + 2 steps\n3. 2 steps + 1 step\n```\n## Solution\n　　剑指Offer上的青蛙跳台阶翻版，即斐波那契数列。\n\n## Code\n\n```java\n class Solution {\n       public int climbStairs(int n) {\n        int[] res = new int[]{0, 1, 2};\n        if (n < 3) {\n            return res[n];\n        }\n        int fibMinTwo = 1,fibMinOne = 2;\n        int fibN = 0;\n        for (int i = 2; i < n; i++) {\n            fibN = fibMinOne + fibMinTwo;\n            fibMinTwo = fibMinOne;\n            fibMinOne = fibN;\n        }\n        return fibN;\n    }\n}\n```","source":"_posts/Climbing a stair.md","raw":"title: Climbing a stair\ndate: 2019-1-27\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### You are climbing a stair case. It takes n steps to reach to the top.Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?Note: Given n will be a positive integer.\n ## Examples\n``` java\nExample 1:\nInput: 2\nOutput: 2\nExplanation: There are two ways to climb to the top.\n1. 1 step + 1 step\n2. 2 steps\n```\n```java\nExample 2:\nInput: 3\nOutput: 3\nExplanation: There are three ways to climb to the top.\n1. 1 step + 1 step + 1 step\n2. 1 step + 2 steps\n3. 2 steps + 1 step\n```\n## Solution\n　　剑指Offer上的青蛙跳台阶翻版，即斐波那契数列。\n\n## Code\n\n```java\n class Solution {\n       public int climbStairs(int n) {\n        int[] res = new int[]{0, 1, 2};\n        if (n < 3) {\n            return res[n];\n        }\n        int fibMinTwo = 1,fibMinOne = 2;\n        int fibN = 0;\n        for (int i = 2; i < n; i++) {\n            fibN = fibMinOne + fibMinTwo;\n            fibMinTwo = fibMinOne;\n            fibMinOne = fibN;\n        }\n        return fibN;\n    }\n}\n```","slug":"Climbing a stair","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyd000qqr3lyt31cvie"},{"title":"Combinations of a Phone Number","date":"2019-01-15T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a string containing digits from 2-9 inclusive, return all possible letter combinations that the number could represent.Although the above answer is in lexicographical order, your answer could be in any order you want.\n ## Examples\n``` java\nExample 1:\nInput: \"23\"\nOutput: [\"ad\", \"ae\", \"af\", \"bd\", \"be\", \"bf\", \"cd\", \"ce\", \"cf\"].\n```\n## Solution\n　　起初是通过HashMap存储数字和拼音映射，但深搜那里实在搞不定，检索了相关算法发现参考算法是回溯。那回溯和DFS有什么差异呢？\n  　　其实回溯就是深搜的一种实现，深搜是无序的，而回溯是有序的。比如这道题必须是2对应的字符在前面，3的字符在后面。深搜已访问过的节点不再访问，所有点仅访问一次。而回溯不一样，已访问过的节点可能会再次访问，也可能存在未曾访问过的节点。这道题一个值得注意的点是拼接字符串不能用stringBuilder,其会将一次深搜的结果拼在一起，如第一个ex中，结果会变为ad,ade,adef...这不是我需要的结果。所以必须使用string。每次拼接会new一次。\n\n## Code\n```java\n class Solution {\n        public List<String> letterCombinations(String digits) {\n        List<String> strings = new ArrayList<>();\n        if (digits == null || digits.length() == 0) {\n            return strings;\n        }\n        int len = digits.length();\n        String[] dict = {\"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"};\n        String arr[] = new String[len];\n        for (int i = 0; i < len; i++) {\n            arr[i] = dict[digits.charAt(i) - '0' - 2];\n        }\n        group(arr, 0, \"\", strings);\n        \n        return strings;\n    }\n\n    private String group(String[] arr, int startIndex, String stringCombination, List<String> strings) {\n        char[] chars = arr[startIndex].toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            if (startIndex == arr.length - 1) {\n                strings.add(stringCombination + chars[i]);\n            } else {\n                group(arr, startIndex + 1, stringCombination + chars[i], strings);\n            }\n        }\n        return stringCombination;\n    }\n\n}\n```","source":"_posts/Combinations of a Phone Number.md","raw":"title: Combinations of a Phone Number\ndate: 2019-1-16\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription:   　　\n---\n## Problem description\n  ### Given a string containing digits from 2-9 inclusive, return all possible letter combinations that the number could represent.Although the above answer is in lexicographical order, your answer could be in any order you want.\n ## Examples\n``` java\nExample 1:\nInput: \"23\"\nOutput: [\"ad\", \"ae\", \"af\", \"bd\", \"be\", \"bf\", \"cd\", \"ce\", \"cf\"].\n```\n## Solution\n　　起初是通过HashMap存储数字和拼音映射，但深搜那里实在搞不定，检索了相关算法发现参考算法是回溯。那回溯和DFS有什么差异呢？\n  　　其实回溯就是深搜的一种实现，深搜是无序的，而回溯是有序的。比如这道题必须是2对应的字符在前面，3的字符在后面。深搜已访问过的节点不再访问，所有点仅访问一次。而回溯不一样，已访问过的节点可能会再次访问，也可能存在未曾访问过的节点。这道题一个值得注意的点是拼接字符串不能用stringBuilder,其会将一次深搜的结果拼在一起，如第一个ex中，结果会变为ad,ade,adef...这不是我需要的结果。所以必须使用string。每次拼接会new一次。\n\n## Code\n```java\n class Solution {\n        public List<String> letterCombinations(String digits) {\n        List<String> strings = new ArrayList<>();\n        if (digits == null || digits.length() == 0) {\n            return strings;\n        }\n        int len = digits.length();\n        String[] dict = {\"abc\", \"def\", \"ghi\", \"jkl\", \"mno\", \"pqrs\", \"tuv\", \"wxyz\"};\n        String arr[] = new String[len];\n        for (int i = 0; i < len; i++) {\n            arr[i] = dict[digits.charAt(i) - '0' - 2];\n        }\n        group(arr, 0, \"\", strings);\n        \n        return strings;\n    }\n\n    private String group(String[] arr, int startIndex, String stringCombination, List<String> strings) {\n        char[] chars = arr[startIndex].toCharArray();\n        for (int i = 0; i < chars.length; i++) {\n            if (startIndex == arr.length - 1) {\n                strings.add(stringCombination + chars[i]);\n            } else {\n                group(arr, startIndex + 1, stringCombination + chars[i], strings);\n            }\n        }\n        return stringCombination;\n    }\n\n}\n```","slug":"Combinations of a Phone Number","published":1,"updated":"2020-02-13T07:16:09.044Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxye000sqr3luexupb91"},{"title":"ConcurrentHashMap源码简析","date":"2019-02-28T16:00:00.000Z","description":"　　","_content":"本文转自[ConcurrentHashMap](https://www.bookstack.cn/read/android_interview/java-concurrence-ConcurrentHashMap.md)\n## 前言\nHashMap是我们平时开发过程中用的比较多的集合，但它是非线程安全的，在涉及到多线程并发的情况，进行put操作有可能会引起死循环，导致CPU利用率接近100%。\n解决方案有Hashtable和Collections.synchronizedMap(hashMap)，不过这两个方案基本上是对读写进行加锁操作，一个线程在读写元素，其余线程必须等待，性能可想而知。所以ConcurrentHashMap应运而生\n\n因为ConCurrentHashMap在JDK1.8后有较大改进。故分层次讨论\n\n## JDK 1.6分析\nConcurrentHashMap采用 分段锁的机制，实现并发的更新操作，底层采用数组+链表+红黑树的存储结构。\n其包含两个核心静态内部类 Segment和HashEntry。\n\n1. Segment继承ReentrantLock用来充当锁的角色，每个 Segment 对象守护每个散列映射表的若干个桶。\n2. HashEntry 用来封装映射表的键 / 值对；\n3. 每个桶是由若干个 HashEntry 对象链接起来的链表。\n\n一个 ConcurrentHashMap 实例中包含由若干个 Segment 对象组成的数组，下面我们通过一个图来演示一下 ConcurrentHashMap 的结构：\n![enter description here](/images/jdk_6_concurrent_hashmap.PNG)\n\n## JDK1.8分析\n1.8的实现已经抛弃了Segment分段锁机制，利用CAS+Synchronized来保证并发更新的安全，底层依然采用数组+链表+红黑树的存储结构。\n\n![enter description here](/images/jdk_8_concurrent_hashmap.PNG)\n\n### 基础概念\n在开始之前，有些重要的概念需要介绍一下：\n\n1. table：volatile修饰，默认为null，初始化发生在第一次插入操作，默认大小为16的数组，用来存储Node节点数据，扩容时大小总是2的幂次方。\n\n2. nextTable：volatile修饰，默认为null，扩容时新生成的数组，其大小为原数组的两倍。\n\n3. sizeCtl：volatile修饰，默认为0，用来控制table的初始化和扩容操作，具体应用在后续会体现出来。\n-1 代表table正在初始化\n-N 表示有N-1个线程正在进行扩容操作\n4. 其余情况：\n1、如果table未初始化，表示table需要初始化的大小。\n2、如果table初始化完成，表示table的容量，默认是table大小的0.75倍，居然用这个公式算0.75（n - (n >>> 2)）。\n\n5. Node：保存key，value及key的hash值的数据结构。\n```java\nclass Node<K,V> implements Map.Entry<K,V> {\n  final int hash;\n  final K key;\n  volatile V val;\n  volatile Node<K,V> next;\n  ... 省略部分代码\n}\n```\n其中value和next都用volatile修饰，保证并发的可见性。\n6. ForwardingNode：一个特殊的Node节点，hash值为-1，其中存储nextTable的引用。\n```java\nfinal class ForwardingNode<K,V> extends Node<K,V> {\n  final Node<K,V>[] nextTable;\n  ForwardingNode(Node<K,V>[] tab) {\n      super(MOVED, null, null, null);\n      this.nextTable = tab;\n  }\n}\n```\n只有table发生扩容的时候，ForwardingNode才会发挥作用，作为一个占位符放在table中表示当前节点为null或则已经被移动。\n\n### 构造方法\n实例化ConcurrentHashMap时带参数时，如同HashMap一半，会根据参数调整table的大小，假设参数为100，最终会调整成256，确保table的大小总是2的幂次方。\n```java\nConcurrentHashMap<String, String> hashMap = new ConcurrentHashMap<>(100);\nprivate static final int tableSizeFor(int c) {\n    int n = c - 1;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;\n}\n```\n注意，ConcurrentHashMap在构造函数中只会初始化sizeCtl值，并不会直接初始化table，而是延缓到第一次put操作。\n\n### table初始化\n前面已经提到过，table初始化操作会延缓到第一次put行为。但是put是可以并发执行的，Doug Lea是如何实现table只初始化一次的？让我们来看看源码的实现。\n```java\nprivate final Node<K,V>[] initTable() {\n    Node<K,V>[] tab; int sc;\n    while ((tab = table) == null || tab.length == 0) {\n//如果一个线程发现sizeCtl<0，意味着另外的线程执行CAS操作成功，当前线程只需要让出cpu时间片\n        if ((sc = sizeCtl) < 0) \n            Thread.yield(); //让出CPU时间片\n        else if (U.compareAndSwapInt(this, SIZECTL, sc, -1)) {\n            try {\n                if ((tab = table) == null || tab.length == 0) {\n                    int n = (sc > 0) ? sc : DEFAULT_CAPACITY;\n                    @SuppressWarnings(\"unchecked\")\n                    Node<K,V>[] nt = (Node<K,V>[])new Node<?,?>[n];\n                    table = tab = nt;\n                    sc = n - (n >>> 2);\n                }\n            } finally {\n                sizeCtl = sc;\n            }\n            break;\n        }\n    }\n    return tab;\n}\n```\nsizeCtl默认为0，如果ConcurrentHashMap实例化时有传参数，sizeCtl会是一个2的幂次方的值。所以执行第一次put操作的线程会执行Unsafe.compareAndSwapInt方法修改sizeCtl为-1，有且只有一个线程能够修改成功，其它线程通过Thread.yield()让出CPU时间片等待table初始化完成。\n### put\n假设table已经初始化完成，put操作采用CAS+synchronized实现并发插入或更新操作，具体实现如下\n```java\nfinal V putVal(K key, V value, boolean onlyIfAbsent) {\n    if (key == null || value == null) throw new NullPointerException();\n    int hash = spread(key.hashCode());\n    int binCount = 0;\n    for (Node<K,V>[] tab = table;;) {\n        Node<K,V> f; int n, i, fh;\n        if (tab == null || (n = tab.length) == 0)\n            tab = initTable();//初始化table\n        else if ((f = tabAt(tab, i = (n - 1) & hash)) == null) {\n            if (casTabAt(tab, i, null, new Node<K,V>(hash, key, value, null)))\n                break;                   // no lock when adding to empty bin\n        }\n        else if ((fh = f.hash) == MOVED)\n            tab = helpTransfer(tab, f);\n        ...省略部分代码\n    }\n    addCount(1L, binCount);\n    return null;\n}\n```\n1. hash算法:static final int spread(int h) {return (h ^ (h >>> 16)) & HASH_BITS;}\n2. table中定位索引位置，n是table的大小:  int index = (n - 1) & hash\n3. 获取table中对应索引的元素f。Doug Lea采用Unsafe.getObjectVolatile来获取，也许有人质疑，直接table[index]不可以么，为什么要这么复杂？在java内存模型中，我们已经知道每个线程都有一个工作内存，里面存储着table的副本，虽然table是volatile修饰的，但不能保证线程每次都拿到table中的最新元素，Unsafe.getObjectVolatile可以直接获取指定内存的数据，保证了每次拿到数据都是最新的。\n4. 如果f为null，说明table中这个位置第一次插入元素，利用Unsafe.compareAndSwapObject方法插入Node节点。\n\n-  如果CAS成功，说明Node节点已经插入，随后addCount(1L, binCount)方法会检查当前容量是否需要进行扩容。\n-  如果CAS失败，说明有其它线程提前插入了节点，自旋重新尝试在这个位置插入节点。\n\n5.如果f的hash值为-1，说明当前f是ForwardingNode节点，意味有其它线程正在扩容，则一起进行扩容操作。\n6.其余情况把新的Node节点按链表或红黑树的方式插入到合适的位置，这个过程采用同步内置锁synchronized实现并发，代码如下:\n```java\nsynchronized (f) {\n if (tabAt(tab, i) == f) {\n     if (fh >= 0) {\n         binCount = 1;\n         for (Node<K,V> e = f;; ++binCount) {\n             K ek;\n             if (e.hash == hash &&\n                 ((ek = e.key) == key ||\n                  (ek != null && key.equals(ek)))) {\n                 oldVal = e.val;\n                 if (!onlyIfAbsent)\n                     e.val = value;\n                 break;\n             }\n             Node<K,V> pred = e;\n             if ((e = e.next) == null) {\n                 pred.next = new Node<K,V>(hash, key,\n                                           value, null);\n                 break;\n             }\n         }\n     }\n     else if (f instanceof TreeBin) {\n         Node<K,V> p;\n         binCount = 2;\n         if ((p = ((TreeBin<K,V>)f).putTreeVal(hash, key,\n                                        value)) != null) {\n             oldVal = p.val;\n             if (!onlyIfAbsent)\n                 p.val = value;\n         }\n     }\n }\n         addCount(1L, binCount);\n\t\t return null;\n}\n```\n1. 在节点f上进行同步，节点插入之前，再次利用tabAt(tab, i) == f判断，防止被其它线程修改。\n2. 与HashMap类似，如果f.hash >= 0，说明f是链表结构的头结点，遍历链表，如果找到对应的node节点，则修改value，否则在链表尾部加入节点。如果f是TreeBin类型节点，说明f是红黑树根节点，则在树结构上遍历元素，更新或增加节点。如果链表中节点数binCount >= TREEIFY_THRESHOLD(默认是8)，则把链表转化为红黑树结构。\n\n在putval（）最后检测是否需要扩容\n\n### table 扩容\n当table容量不足的时候，即table的元素数量达到容量阈值sizeCtl，需要对table进行扩容。\n整个扩容分为两部分：\n\n1 构建一个nextTable，大小为table的两倍。\n2. 把table的数据复制到nextTable中。\n这两个过程在单线程下实现很简单，但是ConcurrentHashMap是支持并发插入的，扩容操作自然也会有并发的出现，这种情况下，第二步可以支持节点的并发复制，这样性能自然提升不少，但实现的复杂度也上升了一个台阶。\n\n先看第一步，构建nextTable，毫无疑问，这个过程只能只有单个线程进行nextTable的初始化，具体实现如下：\n```java\nprivate final void addCount(long x, int check) {\n    ... 省略部分代码\n    if (check >= 0) {\n        Node<K,V>[] tab, nt; int n, sc;\n        while (s >= (long)(sc = sizeCtl) && (tab = table) != null &&\n               (n = tab.length) < MAXIMUM_CAPACITY) {\n            int rs = resizeStamp(n);\n            if (sc < 0) {\n                if ((sc >>> RESIZE_STAMP_SHIFT) != rs || sc == rs + 1 ||\n                    sc == rs + MAX_RESIZERS || (nt = nextTable) == null ||\n                    transferIndex <= 0)\n                    break;\n                if (U.compareAndSwapInt(this, SIZECTL, sc, sc + 1))\n                    transfer(tab, nt);\n            }\n            else if (U.compareAndSwapInt(this, SIZECTL, sc,\n                                         (rs << RESIZE_STAMP_SHIFT) + 2))\n                transfer(tab, null);\n            s = sumCount();\n        }\n    }\n}\n```\n通过Unsafe.compareAndSwapInt修改sizeCtl值，保证只有一个线程能够初始化nextTable，扩容后的数组长度为原来的两倍，但是容量是原来的1.5\n\n节点从table移动到nextTable，大体思想是遍历、复制的过程。\n\n1. 首先根据运算得到需要遍历的次数i，然后利用tabAt方法获得i位置的元素f，初始化一个forwardNode实例fwd。\n2. 如果f == null，则在table中的i位置放入fwd，这个过程是采用Unsafe.compareAndSwapObjectf方法实现的，很巧妙的实现了节点的并发移动。\n3. 否则采用同步内置锁synchronized实现并发\n-  如果f是链表的头节点，就构造一个反序链表，把他们分别放在nextTable的i和i+n的位置上，移动完成，采用Unsafe.putObjectVolatile方法给table原位置赋值fwd\n- 如果f是TreeBin节点，也做一个反序处理，并判断是否需要untreeify，把处理的结果分别放在nextTable的i和i+n的位置上，移动完成，同样采用Unsafe.putObjectVolatile方法给table原位置赋值fwd\n4. 遍历过所有的节点以后就完成了复制工作，把table指向nextTable，并更新sizeCtl为新数组大小的0.75倍 ，扩容完成\n\n### get\n```java\npublic V get(Object key) {\n    Node<K,V>[] tab; Node<K,V> e, p; int n, eh; K ek;\n    int h = spread(key.hashCode());\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (e = tabAt(tab, (n - 1) & h)) != null) {\n        if ((eh = e.hash) == h) {\n            if ((ek = e.key) == key || (ek != null && key.equals(ek)))\n                return e.val;\n        }\n        else if (eh < 0)\n            return (p = e.find(h, key)) != null ? p.val : null;\n        while ((e = e.next) != null) {\n            if (e.hash == h &&\n                ((ek = e.key) == key || (ek != null && key.equals(ek))))\n                return e.val;\n        }\n    }\n    return null;\n}\n```\n1. 判断table是否为空，如果为空，直接返回null\n2. 计算key的hash值，并获取指定table中指定位置的Node节点，通过遍历链表或则树结构找到对应的节点，返回value值\n\n## 总结\nConcurrentHashMap 是一个并发散列映射表的实现，它允许完全并发的读取，并且支持给定数量的并发更新。相比于 HashTable 和同步包装器包装的 HashMap，使用一个全局的锁来同步不同线程间的并发访问，同一时间点，只能有一个线程持有锁，也就是说在同一时间点，只能有一个线程能访问容器，这虽然保证多线程间的安全并发访问，但同时也导致对容器的访问变成串行化的了","source":"_posts/ConcurrentHashMap源码简析.md","raw":"title: ConcurrentHashMap源码简析\ndate: 2019-3-1\ntags: [Java,源码解析]\ncategories: Java源码\ndescription: 　　\n---\n本文转自[ConcurrentHashMap](https://www.bookstack.cn/read/android_interview/java-concurrence-ConcurrentHashMap.md)\n## 前言\nHashMap是我们平时开发过程中用的比较多的集合，但它是非线程安全的，在涉及到多线程并发的情况，进行put操作有可能会引起死循环，导致CPU利用率接近100%。\n解决方案有Hashtable和Collections.synchronizedMap(hashMap)，不过这两个方案基本上是对读写进行加锁操作，一个线程在读写元素，其余线程必须等待，性能可想而知。所以ConcurrentHashMap应运而生\n\n因为ConCurrentHashMap在JDK1.8后有较大改进。故分层次讨论\n\n## JDK 1.6分析\nConcurrentHashMap采用 分段锁的机制，实现并发的更新操作，底层采用数组+链表+红黑树的存储结构。\n其包含两个核心静态内部类 Segment和HashEntry。\n\n1. Segment继承ReentrantLock用来充当锁的角色，每个 Segment 对象守护每个散列映射表的若干个桶。\n2. HashEntry 用来封装映射表的键 / 值对；\n3. 每个桶是由若干个 HashEntry 对象链接起来的链表。\n\n一个 ConcurrentHashMap 实例中包含由若干个 Segment 对象组成的数组，下面我们通过一个图来演示一下 ConcurrentHashMap 的结构：\n![enter description here](/images/jdk_6_concurrent_hashmap.PNG)\n\n## JDK1.8分析\n1.8的实现已经抛弃了Segment分段锁机制，利用CAS+Synchronized来保证并发更新的安全，底层依然采用数组+链表+红黑树的存储结构。\n\n![enter description here](/images/jdk_8_concurrent_hashmap.PNG)\n\n### 基础概念\n在开始之前，有些重要的概念需要介绍一下：\n\n1. table：volatile修饰，默认为null，初始化发生在第一次插入操作，默认大小为16的数组，用来存储Node节点数据，扩容时大小总是2的幂次方。\n\n2. nextTable：volatile修饰，默认为null，扩容时新生成的数组，其大小为原数组的两倍。\n\n3. sizeCtl：volatile修饰，默认为0，用来控制table的初始化和扩容操作，具体应用在后续会体现出来。\n-1 代表table正在初始化\n-N 表示有N-1个线程正在进行扩容操作\n4. 其余情况：\n1、如果table未初始化，表示table需要初始化的大小。\n2、如果table初始化完成，表示table的容量，默认是table大小的0.75倍，居然用这个公式算0.75（n - (n >>> 2)）。\n\n5. Node：保存key，value及key的hash值的数据结构。\n```java\nclass Node<K,V> implements Map.Entry<K,V> {\n  final int hash;\n  final K key;\n  volatile V val;\n  volatile Node<K,V> next;\n  ... 省略部分代码\n}\n```\n其中value和next都用volatile修饰，保证并发的可见性。\n6. ForwardingNode：一个特殊的Node节点，hash值为-1，其中存储nextTable的引用。\n```java\nfinal class ForwardingNode<K,V> extends Node<K,V> {\n  final Node<K,V>[] nextTable;\n  ForwardingNode(Node<K,V>[] tab) {\n      super(MOVED, null, null, null);\n      this.nextTable = tab;\n  }\n}\n```\n只有table发生扩容的时候，ForwardingNode才会发挥作用，作为一个占位符放在table中表示当前节点为null或则已经被移动。\n\n### 构造方法\n实例化ConcurrentHashMap时带参数时，如同HashMap一半，会根据参数调整table的大小，假设参数为100，最终会调整成256，确保table的大小总是2的幂次方。\n```java\nConcurrentHashMap<String, String> hashMap = new ConcurrentHashMap<>(100);\nprivate static final int tableSizeFor(int c) {\n    int n = c - 1;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;\n}\n```\n注意，ConcurrentHashMap在构造函数中只会初始化sizeCtl值，并不会直接初始化table，而是延缓到第一次put操作。\n\n### table初始化\n前面已经提到过，table初始化操作会延缓到第一次put行为。但是put是可以并发执行的，Doug Lea是如何实现table只初始化一次的？让我们来看看源码的实现。\n```java\nprivate final Node<K,V>[] initTable() {\n    Node<K,V>[] tab; int sc;\n    while ((tab = table) == null || tab.length == 0) {\n//如果一个线程发现sizeCtl<0，意味着另外的线程执行CAS操作成功，当前线程只需要让出cpu时间片\n        if ((sc = sizeCtl) < 0) \n            Thread.yield(); //让出CPU时间片\n        else if (U.compareAndSwapInt(this, SIZECTL, sc, -1)) {\n            try {\n                if ((tab = table) == null || tab.length == 0) {\n                    int n = (sc > 0) ? sc : DEFAULT_CAPACITY;\n                    @SuppressWarnings(\"unchecked\")\n                    Node<K,V>[] nt = (Node<K,V>[])new Node<?,?>[n];\n                    table = tab = nt;\n                    sc = n - (n >>> 2);\n                }\n            } finally {\n                sizeCtl = sc;\n            }\n            break;\n        }\n    }\n    return tab;\n}\n```\nsizeCtl默认为0，如果ConcurrentHashMap实例化时有传参数，sizeCtl会是一个2的幂次方的值。所以执行第一次put操作的线程会执行Unsafe.compareAndSwapInt方法修改sizeCtl为-1，有且只有一个线程能够修改成功，其它线程通过Thread.yield()让出CPU时间片等待table初始化完成。\n### put\n假设table已经初始化完成，put操作采用CAS+synchronized实现并发插入或更新操作，具体实现如下\n```java\nfinal V putVal(K key, V value, boolean onlyIfAbsent) {\n    if (key == null || value == null) throw new NullPointerException();\n    int hash = spread(key.hashCode());\n    int binCount = 0;\n    for (Node<K,V>[] tab = table;;) {\n        Node<K,V> f; int n, i, fh;\n        if (tab == null || (n = tab.length) == 0)\n            tab = initTable();//初始化table\n        else if ((f = tabAt(tab, i = (n - 1) & hash)) == null) {\n            if (casTabAt(tab, i, null, new Node<K,V>(hash, key, value, null)))\n                break;                   // no lock when adding to empty bin\n        }\n        else if ((fh = f.hash) == MOVED)\n            tab = helpTransfer(tab, f);\n        ...省略部分代码\n    }\n    addCount(1L, binCount);\n    return null;\n}\n```\n1. hash算法:static final int spread(int h) {return (h ^ (h >>> 16)) & HASH_BITS;}\n2. table中定位索引位置，n是table的大小:  int index = (n - 1) & hash\n3. 获取table中对应索引的元素f。Doug Lea采用Unsafe.getObjectVolatile来获取，也许有人质疑，直接table[index]不可以么，为什么要这么复杂？在java内存模型中，我们已经知道每个线程都有一个工作内存，里面存储着table的副本，虽然table是volatile修饰的，但不能保证线程每次都拿到table中的最新元素，Unsafe.getObjectVolatile可以直接获取指定内存的数据，保证了每次拿到数据都是最新的。\n4. 如果f为null，说明table中这个位置第一次插入元素，利用Unsafe.compareAndSwapObject方法插入Node节点。\n\n-  如果CAS成功，说明Node节点已经插入，随后addCount(1L, binCount)方法会检查当前容量是否需要进行扩容。\n-  如果CAS失败，说明有其它线程提前插入了节点，自旋重新尝试在这个位置插入节点。\n\n5.如果f的hash值为-1，说明当前f是ForwardingNode节点，意味有其它线程正在扩容，则一起进行扩容操作。\n6.其余情况把新的Node节点按链表或红黑树的方式插入到合适的位置，这个过程采用同步内置锁synchronized实现并发，代码如下:\n```java\nsynchronized (f) {\n if (tabAt(tab, i) == f) {\n     if (fh >= 0) {\n         binCount = 1;\n         for (Node<K,V> e = f;; ++binCount) {\n             K ek;\n             if (e.hash == hash &&\n                 ((ek = e.key) == key ||\n                  (ek != null && key.equals(ek)))) {\n                 oldVal = e.val;\n                 if (!onlyIfAbsent)\n                     e.val = value;\n                 break;\n             }\n             Node<K,V> pred = e;\n             if ((e = e.next) == null) {\n                 pred.next = new Node<K,V>(hash, key,\n                                           value, null);\n                 break;\n             }\n         }\n     }\n     else if (f instanceof TreeBin) {\n         Node<K,V> p;\n         binCount = 2;\n         if ((p = ((TreeBin<K,V>)f).putTreeVal(hash, key,\n                                        value)) != null) {\n             oldVal = p.val;\n             if (!onlyIfAbsent)\n                 p.val = value;\n         }\n     }\n }\n         addCount(1L, binCount);\n\t\t return null;\n}\n```\n1. 在节点f上进行同步，节点插入之前，再次利用tabAt(tab, i) == f判断，防止被其它线程修改。\n2. 与HashMap类似，如果f.hash >= 0，说明f是链表结构的头结点，遍历链表，如果找到对应的node节点，则修改value，否则在链表尾部加入节点。如果f是TreeBin类型节点，说明f是红黑树根节点，则在树结构上遍历元素，更新或增加节点。如果链表中节点数binCount >= TREEIFY_THRESHOLD(默认是8)，则把链表转化为红黑树结构。\n\n在putval（）最后检测是否需要扩容\n\n### table 扩容\n当table容量不足的时候，即table的元素数量达到容量阈值sizeCtl，需要对table进行扩容。\n整个扩容分为两部分：\n\n1 构建一个nextTable，大小为table的两倍。\n2. 把table的数据复制到nextTable中。\n这两个过程在单线程下实现很简单，但是ConcurrentHashMap是支持并发插入的，扩容操作自然也会有并发的出现，这种情况下，第二步可以支持节点的并发复制，这样性能自然提升不少，但实现的复杂度也上升了一个台阶。\n\n先看第一步，构建nextTable，毫无疑问，这个过程只能只有单个线程进行nextTable的初始化，具体实现如下：\n```java\nprivate final void addCount(long x, int check) {\n    ... 省略部分代码\n    if (check >= 0) {\n        Node<K,V>[] tab, nt; int n, sc;\n        while (s >= (long)(sc = sizeCtl) && (tab = table) != null &&\n               (n = tab.length) < MAXIMUM_CAPACITY) {\n            int rs = resizeStamp(n);\n            if (sc < 0) {\n                if ((sc >>> RESIZE_STAMP_SHIFT) != rs || sc == rs + 1 ||\n                    sc == rs + MAX_RESIZERS || (nt = nextTable) == null ||\n                    transferIndex <= 0)\n                    break;\n                if (U.compareAndSwapInt(this, SIZECTL, sc, sc + 1))\n                    transfer(tab, nt);\n            }\n            else if (U.compareAndSwapInt(this, SIZECTL, sc,\n                                         (rs << RESIZE_STAMP_SHIFT) + 2))\n                transfer(tab, null);\n            s = sumCount();\n        }\n    }\n}\n```\n通过Unsafe.compareAndSwapInt修改sizeCtl值，保证只有一个线程能够初始化nextTable，扩容后的数组长度为原来的两倍，但是容量是原来的1.5\n\n节点从table移动到nextTable，大体思想是遍历、复制的过程。\n\n1. 首先根据运算得到需要遍历的次数i，然后利用tabAt方法获得i位置的元素f，初始化一个forwardNode实例fwd。\n2. 如果f == null，则在table中的i位置放入fwd，这个过程是采用Unsafe.compareAndSwapObjectf方法实现的，很巧妙的实现了节点的并发移动。\n3. 否则采用同步内置锁synchronized实现并发\n-  如果f是链表的头节点，就构造一个反序链表，把他们分别放在nextTable的i和i+n的位置上，移动完成，采用Unsafe.putObjectVolatile方法给table原位置赋值fwd\n- 如果f是TreeBin节点，也做一个反序处理，并判断是否需要untreeify，把处理的结果分别放在nextTable的i和i+n的位置上，移动完成，同样采用Unsafe.putObjectVolatile方法给table原位置赋值fwd\n4. 遍历过所有的节点以后就完成了复制工作，把table指向nextTable，并更新sizeCtl为新数组大小的0.75倍 ，扩容完成\n\n### get\n```java\npublic V get(Object key) {\n    Node<K,V>[] tab; Node<K,V> e, p; int n, eh; K ek;\n    int h = spread(key.hashCode());\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (e = tabAt(tab, (n - 1) & h)) != null) {\n        if ((eh = e.hash) == h) {\n            if ((ek = e.key) == key || (ek != null && key.equals(ek)))\n                return e.val;\n        }\n        else if (eh < 0)\n            return (p = e.find(h, key)) != null ? p.val : null;\n        while ((e = e.next) != null) {\n            if (e.hash == h &&\n                ((ek = e.key) == key || (ek != null && key.equals(ek))))\n                return e.val;\n        }\n    }\n    return null;\n}\n```\n1. 判断table是否为空，如果为空，直接返回null\n2. 计算key的hash值，并获取指定table中指定位置的Node节点，通过遍历链表或则树结构找到对应的节点，返回value值\n\n## 总结\nConcurrentHashMap 是一个并发散列映射表的实现，它允许完全并发的读取，并且支持给定数量的并发更新。相比于 HashTable 和同步包装器包装的 HashMap，使用一个全局的锁来同步不同线程间的并发访问，同一时间点，只能有一个线程持有锁，也就是说在同一时间点，只能有一个线程能访问容器，这虽然保证多线程间的安全并发访问，但同时也导致对容器的访问变成串行化的了","slug":"ConcurrentHashMap源码简析","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyg000xqr3l0zezryp5"},{"title":"CountDownLatch的使用","date":"2019-01-28T16:00:00.000Z","description":"姑且当你是信号量了","_content":"　　在BInderPool中有用到countdownLatch.整理如下：\n  ## 简介\n  　　CountDownLatch是一个倒计数的同步锁存器。它和信号量有些差异。CountDownLatch是通过先调用await()阻塞当前进程，在其它线程中一直调用countdown（）减小锁存器中的值count。当其它线程任务完成。count减至0.await()释放锁。而信号量则是信号量大于０时，可正常并发。而小于等于０时阻塞.CountDownLatch不支持重置count。如需重置count，可采用CyclicBarrier。\n\t\n## 样例\n\n```java\npublic class CountDownLatchDemo {\n    private static final int PLAYER_AMOUNT = 5;\n    public CountDownLatchDemo() {\n        // TODO Auto-generated constructor stub    \n     }\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        //对于每位运动员，CountDownLatch减1后即结束比赛\n        CountDownLatch begin = new CountDownLatch(1);\n        //对于整个比赛，所有运动员结束后才算结束\n        CountDownLatch end = new CountDownLatch(PLAYER_AMOUNT);\n        Player[] plays = new Player[PLAYER_AMOUNT];\n        \n        for(int i=0;i<PLAYER_AMOUNT;i++)\n            plays[i] = new Player(i+1,begin,end);\n        \n        //设置特定的线程池，大小为5\n        ExecutorService exe = Executors.newFixedThreadPool(PLAYER_AMOUNT);\n        for(Player p:plays)\n            exe.execute(p);            //分配线程\n        System.out.println(\"Race begins!\");\n        begin.countDown();//比赛开始\n        try{\n            end.await();            //等待end状态变为0，即为比赛结束\n        }catch (InterruptedException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }finally{\n            System.out.println(\"Race ends!\");\n        }\n        exe.shutdown();\n    }\n}\n```\n```java\npublic class Player implements Runnable {\n\n    private int id;\n    private CountDownLatch begin;\n    private CountDownLatch end;\n    public Player(int i, CountDownLatch begin, CountDownLatch end) {\n        // TODO Auto-generated constructor stub\n        super();\n        this.id = i;\n        this.begin = begin;\n        this.end = end;\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        try{\n            begin.await();        //等待哨响，等待begin的状态为0\n            Thread.sleep((long)(Math.random()*100));    //随机分配时间，即运动员完成时间\n            System.out.println(\"Play\"+id+\" arrived.\");\n        }catch (InterruptedException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }finally{\n            end.countDown();    //跑到终点使end状态减1，最终减至0\n        }\n    }\n}\n```\n\n## 生产者消费者\n\n```java\npublic class BlockingQueueTest {\n    private static ArrayBlockingQueue<Integer> queue = new ArrayBlockingQueue<Integer>(5, true); //最大容量为5的数组堵塞队列\n    //private static LinkedBlockingQueue<Integer> queue = new LinkedBlockingQueue<Integer>(5);\n\n    private static CountDownLatch producerLatch; //倒计时计数器\n    private static CountDownLatch consumerLatch;\n\n    public static void main(String[] args) {\n        BlockingQueueTest queueTest = new BlockingQueueTest();\n        queueTest.test();\n    }\n\n    private void test(){\n        producerLatch = new CountDownLatch(10); //state值为10\n        consumerLatch = new CountDownLatch(10); //state值为10\n\n        Thread t1 = new Thread(new ProducerTask());\n        Thread t2 = new Thread(new ConsumerTask());\n\n        //启动线程\n        t1.start();\n        t2.start();\n\n        try {\n            System.out.println(\"producer zero...\");\n            producerLatch.await(); //main线程进入producerLatch倒计时等待状态，直到state值为0，再继续往下执行\n            System.out.println(\"producer end\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            System.out.println(\"consumer waiting...\");\n            consumerLatch.await(); //main线程进入consumerLatch倒计时等待状态，直到state值为0，再继续往下执行\n            System.out.println(\"consumer end\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        //结束线程\n        t1.interrupt();\n        t2.interrupt();\n\n        System.out.println(\"end\");\n    }\n\n    //生产者\n    class ProducerTask implements Runnable{\n        private Random rnd = new Random();\n\n        @Override\n        public void run() {\n            try {\n                while(true){\n                    queue.put(rnd.nextInt(100)); //如果queue容量已满，则当前线程会堵塞，直到有空间再继续\n\n                    //offer方法为非堵塞的\n                    //queue.offer(rnd.nextInt(100), 1, TimeUnit.SECONDS); //等待1秒后还不能加入队列则返回失败，放弃加入\n                    //queue.offer(rnd.nextInt(100));\n\n                    producerLatch.countDown(); //state值减1\n                    //TimeUnit.SECONDS.sleep(2); //线程休眠2秒\n                }\n            } catch (InterruptedException e) {\n                //e.printStackTrace();\n            }  catch (Exception ex){\n                ex.printStackTrace();\n            }\n        }\n    }\n\n    //消费者\n    class ConsumerTask implements Runnable{\n        @Override\n        public void run() {\n            try {\n                while(true){\n                    Integer value = queue.take(); //如果queue为空，则当前线程会堵塞，直到有新数据加入\n\n                    //poll方法为非堵塞的\n                    //Integer value = queue.poll(1, TimeUnit.SECONDS); //等待1秒后还没有数据可取则返回失败，放弃获取\n                    //Integer value = queue.poll();\n\n                    System.out.println(\"value = \" + value);\n\n                    consumerLatch.countDown(); //state值减1\n                    TimeUnit.SECONDS.sleep(2); //线程休眠2秒\n                }\n            } catch (InterruptedException e) {\n                //e.printStackTrace();\n            } catch (Exception ex){\n                ex.printStackTrace();\n            }\n        }\n    }\n\n}\n```\n\nArrayBlockingQueue和LinkedBlockingQueue的区别：\n\n1. 队列中锁的实现不同\n\n    ArrayBlockingQueue实现的队列中的锁是没有分离的，即生产和消费用的是同一个锁；\n\n    LinkedBlockingQueue实现的队列中的锁是分离的，即生产用的是putLock，消费是takeLock\n\n2. 在生产或消费时操作不同\n\n    ArrayBlockingQueue实现的队列中在生产和消费的时候，是直接将枚举对象插入或移除的；\n\n    LinkedBlockingQueue实现的队列中在生产和消费的时候，需要把枚举对象转换为Node<E>进行插入或移除，会影响性能\n\n3. 队列大小初始化方式不同\n\n    ArrayBlockingQueue实现的队列中必须指定队列的大小；\n\n    LinkedBlockingQueue实现的队列中可以不指定队列的大小，但是默认是Integer.MAX_VALUE","source":"_posts/CountDownLatch.md","raw":"title: CountDownLatch的使用\ndate: 2019-1-29\ntags: [Java]\ncategories: Java API\ndescription: 姑且当你是信号量了\n---\n　　在BInderPool中有用到countdownLatch.整理如下：\n  ## 简介\n  　　CountDownLatch是一个倒计数的同步锁存器。它和信号量有些差异。CountDownLatch是通过先调用await()阻塞当前进程，在其它线程中一直调用countdown（）减小锁存器中的值count。当其它线程任务完成。count减至0.await()释放锁。而信号量则是信号量大于０时，可正常并发。而小于等于０时阻塞.CountDownLatch不支持重置count。如需重置count，可采用CyclicBarrier。\n\t\n## 样例\n\n```java\npublic class CountDownLatchDemo {\n    private static final int PLAYER_AMOUNT = 5;\n    public CountDownLatchDemo() {\n        // TODO Auto-generated constructor stub    \n     }\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        //对于每位运动员，CountDownLatch减1后即结束比赛\n        CountDownLatch begin = new CountDownLatch(1);\n        //对于整个比赛，所有运动员结束后才算结束\n        CountDownLatch end = new CountDownLatch(PLAYER_AMOUNT);\n        Player[] plays = new Player[PLAYER_AMOUNT];\n        \n        for(int i=0;i<PLAYER_AMOUNT;i++)\n            plays[i] = new Player(i+1,begin,end);\n        \n        //设置特定的线程池，大小为5\n        ExecutorService exe = Executors.newFixedThreadPool(PLAYER_AMOUNT);\n        for(Player p:plays)\n            exe.execute(p);            //分配线程\n        System.out.println(\"Race begins!\");\n        begin.countDown();//比赛开始\n        try{\n            end.await();            //等待end状态变为0，即为比赛结束\n        }catch (InterruptedException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }finally{\n            System.out.println(\"Race ends!\");\n        }\n        exe.shutdown();\n    }\n}\n```\n```java\npublic class Player implements Runnable {\n\n    private int id;\n    private CountDownLatch begin;\n    private CountDownLatch end;\n    public Player(int i, CountDownLatch begin, CountDownLatch end) {\n        // TODO Auto-generated constructor stub\n        super();\n        this.id = i;\n        this.begin = begin;\n        this.end = end;\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        try{\n            begin.await();        //等待哨响，等待begin的状态为0\n            Thread.sleep((long)(Math.random()*100));    //随机分配时间，即运动员完成时间\n            System.out.println(\"Play\"+id+\" arrived.\");\n        }catch (InterruptedException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }finally{\n            end.countDown();    //跑到终点使end状态减1，最终减至0\n        }\n    }\n}\n```\n\n## 生产者消费者\n\n```java\npublic class BlockingQueueTest {\n    private static ArrayBlockingQueue<Integer> queue = new ArrayBlockingQueue<Integer>(5, true); //最大容量为5的数组堵塞队列\n    //private static LinkedBlockingQueue<Integer> queue = new LinkedBlockingQueue<Integer>(5);\n\n    private static CountDownLatch producerLatch; //倒计时计数器\n    private static CountDownLatch consumerLatch;\n\n    public static void main(String[] args) {\n        BlockingQueueTest queueTest = new BlockingQueueTest();\n        queueTest.test();\n    }\n\n    private void test(){\n        producerLatch = new CountDownLatch(10); //state值为10\n        consumerLatch = new CountDownLatch(10); //state值为10\n\n        Thread t1 = new Thread(new ProducerTask());\n        Thread t2 = new Thread(new ConsumerTask());\n\n        //启动线程\n        t1.start();\n        t2.start();\n\n        try {\n            System.out.println(\"producer zero...\");\n            producerLatch.await(); //main线程进入producerLatch倒计时等待状态，直到state值为0，再继续往下执行\n            System.out.println(\"producer end\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        try {\n            System.out.println(\"consumer waiting...\");\n            consumerLatch.await(); //main线程进入consumerLatch倒计时等待状态，直到state值为0，再继续往下执行\n            System.out.println(\"consumer end\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        //结束线程\n        t1.interrupt();\n        t2.interrupt();\n\n        System.out.println(\"end\");\n    }\n\n    //生产者\n    class ProducerTask implements Runnable{\n        private Random rnd = new Random();\n\n        @Override\n        public void run() {\n            try {\n                while(true){\n                    queue.put(rnd.nextInt(100)); //如果queue容量已满，则当前线程会堵塞，直到有空间再继续\n\n                    //offer方法为非堵塞的\n                    //queue.offer(rnd.nextInt(100), 1, TimeUnit.SECONDS); //等待1秒后还不能加入队列则返回失败，放弃加入\n                    //queue.offer(rnd.nextInt(100));\n\n                    producerLatch.countDown(); //state值减1\n                    //TimeUnit.SECONDS.sleep(2); //线程休眠2秒\n                }\n            } catch (InterruptedException e) {\n                //e.printStackTrace();\n            }  catch (Exception ex){\n                ex.printStackTrace();\n            }\n        }\n    }\n\n    //消费者\n    class ConsumerTask implements Runnable{\n        @Override\n        public void run() {\n            try {\n                while(true){\n                    Integer value = queue.take(); //如果queue为空，则当前线程会堵塞，直到有新数据加入\n\n                    //poll方法为非堵塞的\n                    //Integer value = queue.poll(1, TimeUnit.SECONDS); //等待1秒后还没有数据可取则返回失败，放弃获取\n                    //Integer value = queue.poll();\n\n                    System.out.println(\"value = \" + value);\n\n                    consumerLatch.countDown(); //state值减1\n                    TimeUnit.SECONDS.sleep(2); //线程休眠2秒\n                }\n            } catch (InterruptedException e) {\n                //e.printStackTrace();\n            } catch (Exception ex){\n                ex.printStackTrace();\n            }\n        }\n    }\n\n}\n```\n\nArrayBlockingQueue和LinkedBlockingQueue的区别：\n\n1. 队列中锁的实现不同\n\n    ArrayBlockingQueue实现的队列中的锁是没有分离的，即生产和消费用的是同一个锁；\n\n    LinkedBlockingQueue实现的队列中的锁是分离的，即生产用的是putLock，消费是takeLock\n\n2. 在生产或消费时操作不同\n\n    ArrayBlockingQueue实现的队列中在生产和消费的时候，是直接将枚举对象插入或移除的；\n\n    LinkedBlockingQueue实现的队列中在生产和消费的时候，需要把枚举对象转换为Node<E>进行插入或移除，会影响性能\n\n3. 队列大小初始化方式不同\n\n    ArrayBlockingQueue实现的队列中必须指定队列的大小；\n\n    LinkedBlockingQueue实现的队列中可以不指定队列的大小，但是默认是Integer.MAX_VALUE","slug":"CountDownLatch","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyh0010qr3lcfejfl3k"},{"title":"DTO与VO辨析","date":"2019-02-25T16:00:00.000Z","description":"为毛多写个VO呐","_content":"## VO 与 DTO概念\nVO: ViewObject表现层对象。通俗地说即UI层的View需要的对象。\nDTO：Data Transfer Object数据传输对象。通俗地说即用于展示层与服务层之间的数据传输对象。\n\n## 加入VO原因\n在学校的时候，开发中我一直使用的都是单DTO层。View展示的Model对象和接口返回的Model是同一个对象。\n进入公司后，发现这样的代码存在四个问题\n\n1. ViewModel绑定时，无休止的判空操作\n2. 接口返回的数据结构或字段改变啦\n3. 接口返回的数据结构不是我在View中显示想要的啊\n4. 姗姗来迟的接口文档\n\n迫于此情此景，VO应运而生啦。采用VO + Mapper转换接口。模拟场景在Retrofit请求访问网络数据下进行转换。\n\n## Demo\nMapper接口 + listHelper转换接口\n```java\npublic interface Transformable1<VO> {\n\n  VO dto2vo();\n}\n\npublic final class ListTransformHelper {\n\n  private ListTransformHelper() {\n\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  public static <T extends Transformable1, VO> List<VO>\n\n\n  dto2vo(List<T> dtoList) {\n\n    List<VO> voList = new ArrayList<>();\n\n    for (T dto : dtoList) {\n\n      voList.add((VO) dto.dto2vo());\n    }\n\n    return voList;\n  }\n}\n```\nModule层：DTO + VO\n```java\npublic class WorksGroupDTO implements Transformable1<WorksGroupVO> {\n\n  public String groupTitle;\n\n  public List<PostDTO> posts;\n\n  @Override public WorksGroupVO dto2vo() {\n\n    return new WorksGroupVO.Builder().setGroupTitle(groupTitle)\n        .setPostVOList(translatePosts())\n        .setExpand(false)\n        .build();\n  }\n\n  private List<PostVO> translatePosts() {\n\n    return ListTransformHelper.dto2vo(posts);\n  }\n}\n\n```\n\n```java\npublic class WorksGroupVO {\n\n  private String mGroupTitle;\n\n  private List<PostVO> mPostVOList;\n\n  private List<PostVO> mMorePostVOList;\n\n  private boolean mExpand;\n\n  private boolean mIsLoading; \n\n  public WorksGroupVO(Builder builder) {\n\n    mGroupTitle = builder.mGroupTitle;\n    mPostVOList = builder.mPostVOList;\n    mMorePostVOList = builder.mMorePostVOList;\n    mExpand = builder.mExpand;\n    mIsLoading = builder.mIsLoading;\n  }\n\n  public String getGroupTitle() {\n    return mGroupTitle;\n  }\n\n  public List<PostVO> getPostVOList() {\n    return mPostVOList;\n  }\n\n  public List<PostVO> getMorePostVOList() {\n    return mMorePostVOList;\n  }\n\n  public boolean isExpand() {\n    return mExpand;\n  }\n\n  public boolean isLoading() {\n    return mIsLoading;\n  }\n\n  public static final class Builder {\n\n    private String mGroupTitle;\n\n    private List<PostVO> mPostVOList;\n\n    private List<PostVO> mMorePostVOList; \n\n    private boolean mExpand;\n\n    private boolean mIsLoading; \n\n    public Builder() {\n\n    }\n\n    public Builder(WorksGroupVO worksGroupVO) {\n\n      mGroupTitle = worksGroupVO.mGroupTitle;\n      mPostVOList = worksGroupVO.mPostVOList;\n      mMorePostVOList = worksGroupVO.mMorePostVOList;\n      mExpand = worksGroupVO.mExpand;\n      mIsLoading = worksGroupVO.mIsLoading;\n    }\n\n    public Builder setGroupTitle(String groupTitle) {\n      mGroupTitle = groupTitle  == null ? \"\" : groupTitle;\n      return this;\n    }\n\n    public Builder setPostVOList(List<PostVO> postVOList) {\n      mPostVOList = postVOList == null ? new ArrayList<PostVo>()  : postVOList;\n      return this;\n    }\n\n    public Builder setMorePostVOList(List<PostVO> morePostVOList) {\n      mMorePostVOList = morePostVOList == null ? new ArrayList<PostVo>() : morePostVOList;;\n      return this;\n    }\n\n    public Builder setExpand(boolean expand) {\n      mExpand = expand;\n      return this;\n    }\n\n    public Builder setLoading(boolean loading) {\n      mIsLoading = loading;\n      return this;\n    }\n\n    public WorksGroupVO build() {\n\n      return new WorksGroupVO(this);\n    }\n  }\n}\n\n```\n\nViewModule层\n```java\n  public Observable<List<WorksGroupVO>> fetchWorksGroupList(String groupId, int pageNum) {\n\n    return RetrofitWrapperStore.getInstance()\n        .provideApi(Api.class)\n        .fetchWorksGroupList(groupId, pageNum)\n        .compose(RxServerResultTransformer.<List<WorksGroupDTO>>transform())\n        .map(new Func1<List<WorksGroupDTO>, List<WorksGroupVO>>() {\n\n          @Override public List<WorksGroupVO> call(List<WorksGroupDTO> worksGroupDTOs) {\n\n            return ListTransformHelper.dto2vo(worksGroupDTOs);\n          }\n        })\n        .subscribeOn(Schedulers.io());\n  }\n\n```\n## 解决痛点\n1. 后台返回数据为null，在dto2vo()中已经进行了处理。\n2. 接口返回的数据结构或字段突然变更，使用这种Mappe之后，大多数情况，只需要更改DTO里的dto2vo()的实现即可\n3. 接口返回的数据结构不是我想要的？把它转成我们想要的VO对象即可如int形的gender转换成boolean形的isMale.又比如在RecyclerView中显示的View不同，即属于不同的ItemType。\n```java\n @Override\n public int getItemViewType(int position) {\n    WorksGroupVO worksgroup = mDatas.get(position);\n    return worksgroup.isExpand() ? 0 : 1;\n }\n```\n这样增加了View层的逻辑判断。可在Bean中增加itemType\n```java\npublic class WorksGroupVO{\n   ...\n   public int itemType;\n}\n  @Override public WorksGroupVO dto2vo() {\n\n    return new WorksGroupVO.Builder().setGroupTitle(groupTitle)\n        .setPostVOList(translatePosts())\n        .setExpand(mExpand)\n\t\t.setItemType(mExpand ? 0 : 1)\n        .build();\n  }\n```\nV层应该专注V应该做的事，而不是数据的处理、业务逻辑！\n\n4 接口文档迟迟没有,在事先拿到设计稿时，可以在VO中先把数据结构搭好，利用VO模拟数据。后台好了后直接dto2vo()\n\n\n## 总结\n从实用角度出发：Mapper可以让开发过程更高效，更从容面对需求变更、接口变更等外在因素。\n\n从架构角度出发：Mapper的出现可以让M层可以承担更多的职责，来减轻中间层的压力，更利于构造一个V，M的分离的架构。\n\n","source":"_posts/DTO与VO辨析.md","raw":"title: DTO与VO辨析\ndate: 2019-2-26\ntags: [Android]\ncategories: Android\ndescription: 为毛多写个VO呐\n---\n## VO 与 DTO概念\nVO: ViewObject表现层对象。通俗地说即UI层的View需要的对象。\nDTO：Data Transfer Object数据传输对象。通俗地说即用于展示层与服务层之间的数据传输对象。\n\n## 加入VO原因\n在学校的时候，开发中我一直使用的都是单DTO层。View展示的Model对象和接口返回的Model是同一个对象。\n进入公司后，发现这样的代码存在四个问题\n\n1. ViewModel绑定时，无休止的判空操作\n2. 接口返回的数据结构或字段改变啦\n3. 接口返回的数据结构不是我在View中显示想要的啊\n4. 姗姗来迟的接口文档\n\n迫于此情此景，VO应运而生啦。采用VO + Mapper转换接口。模拟场景在Retrofit请求访问网络数据下进行转换。\n\n## Demo\nMapper接口 + listHelper转换接口\n```java\npublic interface Transformable1<VO> {\n\n  VO dto2vo();\n}\n\npublic final class ListTransformHelper {\n\n  private ListTransformHelper() {\n\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  public static <T extends Transformable1, VO> List<VO>\n\n\n  dto2vo(List<T> dtoList) {\n\n    List<VO> voList = new ArrayList<>();\n\n    for (T dto : dtoList) {\n\n      voList.add((VO) dto.dto2vo());\n    }\n\n    return voList;\n  }\n}\n```\nModule层：DTO + VO\n```java\npublic class WorksGroupDTO implements Transformable1<WorksGroupVO> {\n\n  public String groupTitle;\n\n  public List<PostDTO> posts;\n\n  @Override public WorksGroupVO dto2vo() {\n\n    return new WorksGroupVO.Builder().setGroupTitle(groupTitle)\n        .setPostVOList(translatePosts())\n        .setExpand(false)\n        .build();\n  }\n\n  private List<PostVO> translatePosts() {\n\n    return ListTransformHelper.dto2vo(posts);\n  }\n}\n\n```\n\n```java\npublic class WorksGroupVO {\n\n  private String mGroupTitle;\n\n  private List<PostVO> mPostVOList;\n\n  private List<PostVO> mMorePostVOList;\n\n  private boolean mExpand;\n\n  private boolean mIsLoading; \n\n  public WorksGroupVO(Builder builder) {\n\n    mGroupTitle = builder.mGroupTitle;\n    mPostVOList = builder.mPostVOList;\n    mMorePostVOList = builder.mMorePostVOList;\n    mExpand = builder.mExpand;\n    mIsLoading = builder.mIsLoading;\n  }\n\n  public String getGroupTitle() {\n    return mGroupTitle;\n  }\n\n  public List<PostVO> getPostVOList() {\n    return mPostVOList;\n  }\n\n  public List<PostVO> getMorePostVOList() {\n    return mMorePostVOList;\n  }\n\n  public boolean isExpand() {\n    return mExpand;\n  }\n\n  public boolean isLoading() {\n    return mIsLoading;\n  }\n\n  public static final class Builder {\n\n    private String mGroupTitle;\n\n    private List<PostVO> mPostVOList;\n\n    private List<PostVO> mMorePostVOList; \n\n    private boolean mExpand;\n\n    private boolean mIsLoading; \n\n    public Builder() {\n\n    }\n\n    public Builder(WorksGroupVO worksGroupVO) {\n\n      mGroupTitle = worksGroupVO.mGroupTitle;\n      mPostVOList = worksGroupVO.mPostVOList;\n      mMorePostVOList = worksGroupVO.mMorePostVOList;\n      mExpand = worksGroupVO.mExpand;\n      mIsLoading = worksGroupVO.mIsLoading;\n    }\n\n    public Builder setGroupTitle(String groupTitle) {\n      mGroupTitle = groupTitle  == null ? \"\" : groupTitle;\n      return this;\n    }\n\n    public Builder setPostVOList(List<PostVO> postVOList) {\n      mPostVOList = postVOList == null ? new ArrayList<PostVo>()  : postVOList;\n      return this;\n    }\n\n    public Builder setMorePostVOList(List<PostVO> morePostVOList) {\n      mMorePostVOList = morePostVOList == null ? new ArrayList<PostVo>() : morePostVOList;;\n      return this;\n    }\n\n    public Builder setExpand(boolean expand) {\n      mExpand = expand;\n      return this;\n    }\n\n    public Builder setLoading(boolean loading) {\n      mIsLoading = loading;\n      return this;\n    }\n\n    public WorksGroupVO build() {\n\n      return new WorksGroupVO(this);\n    }\n  }\n}\n\n```\n\nViewModule层\n```java\n  public Observable<List<WorksGroupVO>> fetchWorksGroupList(String groupId, int pageNum) {\n\n    return RetrofitWrapperStore.getInstance()\n        .provideApi(Api.class)\n        .fetchWorksGroupList(groupId, pageNum)\n        .compose(RxServerResultTransformer.<List<WorksGroupDTO>>transform())\n        .map(new Func1<List<WorksGroupDTO>, List<WorksGroupVO>>() {\n\n          @Override public List<WorksGroupVO> call(List<WorksGroupDTO> worksGroupDTOs) {\n\n            return ListTransformHelper.dto2vo(worksGroupDTOs);\n          }\n        })\n        .subscribeOn(Schedulers.io());\n  }\n\n```\n## 解决痛点\n1. 后台返回数据为null，在dto2vo()中已经进行了处理。\n2. 接口返回的数据结构或字段突然变更，使用这种Mappe之后，大多数情况，只需要更改DTO里的dto2vo()的实现即可\n3. 接口返回的数据结构不是我想要的？把它转成我们想要的VO对象即可如int形的gender转换成boolean形的isMale.又比如在RecyclerView中显示的View不同，即属于不同的ItemType。\n```java\n @Override\n public int getItemViewType(int position) {\n    WorksGroupVO worksgroup = mDatas.get(position);\n    return worksgroup.isExpand() ? 0 : 1;\n }\n```\n这样增加了View层的逻辑判断。可在Bean中增加itemType\n```java\npublic class WorksGroupVO{\n   ...\n   public int itemType;\n}\n  @Override public WorksGroupVO dto2vo() {\n\n    return new WorksGroupVO.Builder().setGroupTitle(groupTitle)\n        .setPostVOList(translatePosts())\n        .setExpand(mExpand)\n\t\t.setItemType(mExpand ? 0 : 1)\n        .build();\n  }\n```\nV层应该专注V应该做的事，而不是数据的处理、业务逻辑！\n\n4 接口文档迟迟没有,在事先拿到设计稿时，可以在VO中先把数据结构搭好，利用VO模拟数据。后台好了后直接dto2vo()\n\n\n## 总结\n从实用角度出发：Mapper可以让开发过程更高效，更从容面对需求变更、接口变更等外在因素。\n\n从架构角度出发：Mapper的出现可以让M层可以承担更多的职责，来减轻中间层的压力，更利于构造一个V，M的分离的架构。\n\n","slug":"DTO与VO辨析","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyj0015qr3lw582xt5f"},{"title":"Delete the duplicates in a sorted array","date":"2019-01-16T16:00:00.000Z","description":"O(1) extra memory","_content":"## Problem description\n  ### Given a sorted array nums, remove the duplicates in-place such that each element appear only once and return the new length.Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\n ## Examples\n``` java\nExample 1:\nGiven nums = [1,1,2],\n\nYour function should return length = 2, with the first two elements of nums being 1 and 2 respectively.\n\nIt doesn't matter what you leave beyond the returned length.\n```\n```java\nExample 2:\nGiven nums = [0,0,1,1,1,2,2,3,3,4],\n\nYour function should return length = 5, with the first five elements of nums being modified to 0, 1, 2, 3, and 4 respectively.\n\nIt doesn't matter what values are set beyond the returned length.\n```\n\n## Solution\n　　(。﹏。*)意识到要紧抓排序这个特征，但一味想着找到不同的两个，然后整个数组往前移然后循环套循环立即推懵B状态。参考了别人的思路。牛皮。竟然用到了快慢指针。是在下庸俗了，总以为是用在链表找中间节点或环形链表。用快慢指针找到最近两个不相等的元素，然后直接赋值。\n## Code\n\n```java\n class Solution {\n      public int removeDuplicates(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return 0;\n        }\n        int slow = 0, count = 1;\n        for (int fast = 0; fast < nums.length; fast++) {\n            if (nums[slow] != nums[fast]) {\n                slow++;\n                count++;\n                nums[slow] = nums[fast];\n            }\n        }\n        return count;\n    }\n\n}\n```","source":"_posts/Delete the duplicates in a sorted array.md","raw":"title: Delete the duplicates in a sorted array\ndate: 2019-1-17\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: O(1) extra memory\n---\n## Problem description\n  ### Given a sorted array nums, remove the duplicates in-place such that each element appear only once and return the new length.Do not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\n ## Examples\n``` java\nExample 1:\nGiven nums = [1,1,2],\n\nYour function should return length = 2, with the first two elements of nums being 1 and 2 respectively.\n\nIt doesn't matter what you leave beyond the returned length.\n```\n```java\nExample 2:\nGiven nums = [0,0,1,1,1,2,2,3,3,4],\n\nYour function should return length = 5, with the first five elements of nums being modified to 0, 1, 2, 3, and 4 respectively.\n\nIt doesn't matter what values are set beyond the returned length.\n```\n\n## Solution\n　　(。﹏。*)意识到要紧抓排序这个特征，但一味想着找到不同的两个，然后整个数组往前移然后循环套循环立即推懵B状态。参考了别人的思路。牛皮。竟然用到了快慢指针。是在下庸俗了，总以为是用在链表找中间节点或环形链表。用快慢指针找到最近两个不相等的元素，然后直接赋值。\n## Code\n\n```java\n class Solution {\n      public int removeDuplicates(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return 0;\n        }\n        int slow = 0, count = 1;\n        for (int fast = 0; fast < nums.length; fast++) {\n            if (nums[slow] != nums[fast]) {\n                slow++;\n                count++;\n                nums[slow] = nums[fast];\n            }\n        }\n        return count;\n    }\n\n}\n```","slug":"Delete the duplicates in a sorted array","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyk0018qr3l0d29ad50"},{"title":"ContentProvider源码解析","date":"2019-03-08T16:00:00.000Z","description":"　　","_content":"## 基础知识\n1. `当ContentProvider所在进程启动时，ContentProvider的onCreate会先于Application的onCreate()执行，并且发布到AMS中。`\n2. ContentProvider是个抽象类，必须继承ContentProvider重写方法方可使用\n3. 外界无法直接访问ContentProvider，必须通过ContentResolver来获取AMS中的CotentProvider的Binder接口IContentProvider\n4. ContentResolver是一个抽象类，Context.getContentResolver()获取的实际是实现了ContentResolver接口的ApplicationContentResolver对象\n5. 当ContentProvider没有启动，其他应用进程访问ContentProvider时，ContentProvider创建的同时ContentProvider所在进程会启动\n## ContentResolver调用\n以query为例，分析ContentProvider源码\n先从ContentResolver开始哈,毕竟它是发起访问的。\n```java    public final @Nullable Cursor query(final @RequiresPermission.Read @NonNull Uri uri,\n            @Nullable String[] projection, @Nullable Bundle queryArgs,\n            @Nullable CancellationSignal cancellationSignal) {\n        Preconditions.checkNotNull(uri, \"uri\");\n        IContentProvider unstableProvider = acquireUnstableProvider(uri);\n...\n    }\n```\n首先获取IContentProvider对象，acquireUnstableProvider最终调用acquireProvider（抽象方法），而ContentResolver的实现类是源码ContexImpl下的ApplicationContentResolver.（要从AndoridXref看）\n```java\n private static final class ApplicationContentResolver extends ContentResolver {\n       public ApplicationContentResolver(Context context, ActivityThread mainThread) {\n          super(context);\n          mMainThread = mainThread;\n      }\n\n      @Override\n      protected IContentProvider acquireProvider(Context context, String name) {\n          return mMainThread.acquireProvider(context, name);\n      }\n\n      @Override\n      protected IContentProvider acquireExistingProvider(Context context, String name) {\n           return mMainThread.acquireExistingProvider(context, name);\n       }\n\n       @Override\n       public boolean releaseProvider(IContentProvider provider) {\n           return mMainThread.releaseProvider(provider);\n       }\n\n       private final ActivityThread mMainThread;\n   }\n```\nApplicationContentResolver的acquireProvider调用了ActivityThread的acquireProvider（）\n```java\n    public final IContentProvider acquireProvider(\n            Context c, String auth, int userId, boolean stable) {\n        final IContentProvider provider = acquireExistingProvider(c, auth, userId, stable);//1\n        if (provider != null) {\n            return provider;\n        }\n\n        // There is a possible race here.  Another thread may try to acquire\n        // the same provider at the same time.  When this happens, we want to ensure\n        // that the first one wins.\n        // Note that we cannot hold the lock while acquiring and installing the\n        // provider since it might take a long time to run and it could also potentially\n        // be re-entrant in the case where the provider is in the same process.\n        ContentProviderHolder holder = null;//2\n        try {\n            synchronized (getGetProviderLock(auth, userId)) {\n                holder = ActivityManager.getService().getContentProvider(\n                        getApplicationThread(), auth, userId, stable);\n            }\n        } catch (RemoteException ex) {\n            throw ex.rethrowFromSystemServer();\n        }\n        if (holder == null) {\n            Slog.e(TAG, \"Failed to find provider info for \" + auth);\n            return null;\n        }\n\n        // Install provider will increment the reference count for us, and break\n        // any ties in the race.\n        holder = installProvider(c, holder, holder.info,\n                true /*noisy*/, holder.noReleaseNeeded, stable);\n        return holder.provider;\n    }\n\n```\n1处：先从ActivityThread中的 ArrayMap<ProviderKey, ProviderClientRecord> mProviderMap查找是否存在目标ContentProvider,如果存在就直接返回。\n\n2处：如果目前ContentProvider没有启动，就会开启RPC远程调用给AMS让其启动目标ContentProvider，最后通过installProvider修改引用计数。而ContentProvider的启动伴随着App进程的启动。\n\n启动流程为先启动ContentProvider所在进程，然后再启动ContentProvider。然后再启动ContentProvider.由于一个APP从启动到主页面显示经历了哪些过程？已经做过笔记，不再赘述。直接进入handleBindApplication中\n## ContentProvider创建\n在handleBindApplication中ContentProvider的创建分为四个步骤。\n\n### 创建ContextImpl 和 Instrumentation\n```java\n            final ContextImpl instrContext = ContextImpl.createAppContext(this, pi);\n\n            try {\n                final ClassLoader cl = instrContext.getClassLoader();\n                mInstrumentation = (Instrumentation)\n                    cl.loadClass(data.instrumentationName.getClassName()).newInstance();\n            } catch (Exception e) {\n                throw new RuntimeException(\n                    \"Unable to instantiate instrumentation \"\n                    + data.instrumentationName + \": \" + e.toString(), e);\n            }\n\n            final ComponentName component = new ComponentName(ii.packageName, ii.name);\n            mInstrumentation.init(this, instrContext, appContext, component,\n                    data.instrumentationWatcher, data.instrumentationUiAutomationConnection);\n\n```\n创建ContextImpl，再通过反射创建Instrumentation，并初始化Instrumentation\n\n### 创建Application对象（并未调用其OnCreate方法）\n```java\n app = data.info.makeApplication(data.restrictedBackupMode, null);\n\n            // Propagate autofill compat state\n            app.setAutofillCompatibilityEnabled(data.autofillCompatibilityEnabled);\n\n            mInitialApplication = app;\n\n```\n\n### 启动ContentProvider，并调用其onCreate方法\n```java\n            if (!data.restrictedBackupMode) {\n                if (!ArrayUtils.isEmpty(data.providers)) {\n                    installContentProviders(app, data.providers);\n                    // For process that contains content providers, we want to\n                    // ensure that the JIT is enabled \"at some point\".\n                    mH.sendEmptyMessageDelayed(H.ENABLE_JIT, 10*1000);\n                }\n            }\nprivate void installContentProviders(\n            Context context, List<ProviderInfo> providers) {\n        final ArrayList<ContentProviderHolder> results = new ArrayList<>();\n\n        for (ProviderInfo cpi : providers) {\n            if (DEBUG_PROVIDER) {\n                StringBuilder buf = new StringBuilder(128);\n                buf.append(\"Pub \");\n                buf.append(cpi.authority);\n                buf.append(\": \");\n                buf.append(cpi.name);\n                Log.i(TAG, buf.toString());\n            }\n            ContentProviderHolder cph = installProvider(context, null, cpi,\n                    false /*noisy*/, true /*noReleaseNeeded*/, true /*stable*/);\n            if (cph != null) {\n                cph.noReleaseNeeded = true;\n                results.add(cph);\n            }\n        }\n\n        try {\n            ActivityManager.getService().publishContentProviders(\n                getApplicationThread(), results);\n        } catch (RemoteException ex) {\n            throw ex.rethrowFromSystemServer();\n        }\n    }\n```\n调用installContentProviders会遍历ProviderInfo的list，一一调用installProvider()来启动它们。来启动ContentProvider.接着将已启动的ContentProvider发布到AMS中，AMS会把它们存储到ProvideMap中，供ContentResolver查询\n进入installProvider\n```java\n    private ContentProviderHolder installProvider(Context context,\n            ContentProviderHolder holder, ProviderInfo info,\n            boolean noisy, boolean noReleaseNeeded, boolean stable) {\n        ContentProvider localProvider = null;\n        IContentProvider provider;\n    .....\n                if (DEBUG_PROVIDER) Slog.v(\n                    TAG, \"Instantiating local provider \" + info.name);\n                // XXX Need to create the correct context for this provider.\n                localProvider.attachInfo(c, info);\n            } catch (java.lang.Exception e) {\n                if (!mInstrumentation.onException(null, e)) {\n                    throw new RuntimeException(\n                            \"Unable to get provider \" + info.name\n                            + \": \" + e.toString(), e);\n                }\n                return null;\n            }\n        }\n\t\t.....\n\t\t}\n\n```\n进入attachInfo\n```java\nprivate void attachInfo(Context context, ProviderInfo info, boolean testing) {\n        mNoPerms = testing;\n\n        /*\n         * Only allow it to be set once, so after the content service gives\n         * this to us clients can't change it.\n         */\n        if (mContext == null) {\n            mContext = context;\n            if (context != null) {\n                mTransport.mAppOpsManager = (AppOpsManager) context.getSystemService(\n                        Context.APP_OPS_SERVICE);\n            }\n            mMyUid = Process.myUid();\n            if (info != null) {\n                setReadPermission(info.readPermission);\n                setWritePermission(info.writePermission);\n                setPathPermissions(info.pathPermissions);\n                mExported = info.exported;\n                mSingleUser = (info.flags & ProviderInfo.FLAG_SINGLE_USER) != 0;\n                setAuthorities(info.authority);\n            }\n            ContentProvider.this.onCreate();\n        }\n    }\n```\n在attachInfo中调用了ContentProvider的onCreate方法\n\n### 调用Application的onCreate方法\n在handleBindApplication中启动完Binder后调用Application的onCreate方法\n```java\n                mInstrumentation.callApplicationOnCreate(app);\n```\n\n\n## 访问ContentProvider\n经过上述步骤，ContentProvider已经成功启动，且其所在进程的Application也已经启动起来，所以访问进程的ContentResolver就可以通过AMS访问这个ContentProvider.\n回到ContentResolver中的query方法\n```java\n    public final @Nullable Cursor query(final @RequiresPermission.Read @NonNull Uri uri,\n            @Nullable String[] projection, @Nullable Bundle queryArgs,\n            @Nullable CancellationSignal cancellationSignal) {\n        Preconditions.checkNotNull(uri, \"uri\");\n        IContentProvider unstableProvider = acquireUnstableProvider(uri);\n        if (unstableProvider == null) {\n            return null;\n        }\n        IContentProvider stableProvider = null;\n        Cursor qCursor = null;\n        try {\n            long startTime = SystemClock.uptimeMillis();\n\n            ICancellationSignal remoteCancellationSignal = null;\n            if (cancellationSignal != null) {\n                cancellationSignal.throwIfCanceled();\n                remoteCancellationSignal = unstableProvider.createCancellationSignal();\n                cancellationSignal.setRemote(remoteCancellationSignal);\n            }\n            try {\n                qCursor = unstableProvider.query(mPackageName, uri, projection,\n                        queryArgs, remoteCancellationSignal);\n            } catch (DeadObjectException e) {\n                // The remote process has died...  but we only hold an unstable\n                // reference though, so we might recover!!!  Let's try!!!!\n                // This is exciting!!1!!1!!!!1\n                unstableProviderDied(unstableProvider);\n                stableProvider = acquireProvider(uri);\n                if (stableProvider == null) {\n                    return null;\n                }\n                qCursor = stableProvider.query(\n                        mPackageName, uri, projection, queryArgs, remoteCancellationSignal);\n            }\n       ...\n    }\n\n```\n通过acquireUnstableProvider返回的是一个IContentProvider。以I开头的。没错，哼，又是你，Binder机制。IContentProvider就是Binder接口，那它调用query，岂不是代理在RPC咯，那找找服务端实现类和代理类。\n```java\nabstract public class ContentProviderNative extends Binder implements IContentProvider {\n    public ContentProviderNative()\n    {\n        attachInterface(this, descriptor);\n    }\n\n    /**\n     * Cast a Binder object into a content resolver interface, generating\n     * a proxy if needed.\n     */\n    static public IContentProvider asInterface(IBinder obj)\n    {\n        if (obj == null) {\n            return null;\n        }\n        IContentProvider in =\n            (IContentProvider)obj.queryLocalInterface(descriptor);\n        if (in != null) {\n            return in;\n        }\n\n        return new ContentProviderProxy(obj);\n    }\n\t.....\n\t}\n\t\n\t    class Transport extends ContentProviderNative {\n        AppOpsManager mAppOpsManager = null;\n        int mReadOp = AppOpsManager.OP_NONE;\n        int mWriteOp = AppOpsManager.OP_NONE;\n\n        ContentProvider getContentProvider() {\n            return ContentProvider.this;\n        }\n\n        @Override\n        public String getProviderName() {\n            return getContentProvider().getClass().getName();\n        }\n\n        @Override\n        public Cursor query(String callingPkg, Uri uri, @Nullable String[] projection,\n                @Nullable Bundle queryArgs, @Nullable ICancellationSignal cancellationSignal) {\n            validateIncomingUri(uri);\n            uri = maybeGetUriWithoutUserId(uri);\n            if (enforceReadPermission(callingPkg, uri, null) != AppOpsManager.MODE_ALLOWED) {\n                // The caller has no access to the data, so return an empty cursor with\n                // the columns in the requested order. The caller may ask for an invalid\n                // column and we would not catch that but this is not a problem in practice.\n                // We do not call ContentProvider#query with a modified where clause since\n                // the implementation is not guaranteed to be backed by a SQL database, hence\n                // it may not handle properly the tautology where clause we would have created.\n                if (projection != null) {\n                    return new MatrixCursor(projection, 0);\n                }\n\n                // Null projection means all columns but we have no idea which they are.\n                // However, the caller may be expecting to access them my index. Hence,\n                // we have to execute the query as if allowed to get a cursor with the\n                // columns. We then use the column names to return an empty cursor.\n                Cursor cursor = ContentProvider.this.query(\n                        uri, projection, queryArgs,\n                        CancellationSignal.fromTransport(cancellationSignal));\n                if (cursor == null) {\n                    return null;\n                }\n\n                // Return an empty cursor for all columns.\n                return new MatrixCursor(cursor.getColumnNames(), 0);\n            }\n            final String original = setCallingPackage(callingPkg);\n            try {\n                return ContentProvider.this.query(\n                        uri, projection, queryArgs,\n                        CancellationSignal.fromTransport(cancellationSignal));\n            } finally {\n                setCallingPackage(original);\n            }\n        }\n\n    ...\n    }\n\n```\nContentProviderNative继承Binder实现了ICotentProvider，而  ContentProvider.Transport 继承了ContentProviderNative。请注意哈，这里有一个神奇的地方，自己查了很久的书和网站得出结论。ContentProviderNative是一个android自己实现的contentProvider的代理类，然而ContentProvider.Transport继承了 ContentProviderNative 却是服务端实现接口。简言之，`当我们从ContentResolver中调用query时，通过 ContentProviderNative 作为代理 访问到了 其子类Transport中的query方法。`\n在transport中，重写了父类的CRUD等方法。在transport中会调用当前ContentProvider的query方法。然后返回给代理，代理又返回给客户端。这样客户端就拿到了数据。\nemmmmm，可以吃饭去了。","source":"_posts/ContentProvider源码解析.md","raw":"title: ContentProvider源码解析\ndate: 2019-3-9\ntags: [Android,源码解析]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n## 基础知识\n1. `当ContentProvider所在进程启动时，ContentProvider的onCreate会先于Application的onCreate()执行，并且发布到AMS中。`\n2. ContentProvider是个抽象类，必须继承ContentProvider重写方法方可使用\n3. 外界无法直接访问ContentProvider，必须通过ContentResolver来获取AMS中的CotentProvider的Binder接口IContentProvider\n4. ContentResolver是一个抽象类，Context.getContentResolver()获取的实际是实现了ContentResolver接口的ApplicationContentResolver对象\n5. 当ContentProvider没有启动，其他应用进程访问ContentProvider时，ContentProvider创建的同时ContentProvider所在进程会启动\n## ContentResolver调用\n以query为例，分析ContentProvider源码\n先从ContentResolver开始哈,毕竟它是发起访问的。\n```java    public final @Nullable Cursor query(final @RequiresPermission.Read @NonNull Uri uri,\n            @Nullable String[] projection, @Nullable Bundle queryArgs,\n            @Nullable CancellationSignal cancellationSignal) {\n        Preconditions.checkNotNull(uri, \"uri\");\n        IContentProvider unstableProvider = acquireUnstableProvider(uri);\n...\n    }\n```\n首先获取IContentProvider对象，acquireUnstableProvider最终调用acquireProvider（抽象方法），而ContentResolver的实现类是源码ContexImpl下的ApplicationContentResolver.（要从AndoridXref看）\n```java\n private static final class ApplicationContentResolver extends ContentResolver {\n       public ApplicationContentResolver(Context context, ActivityThread mainThread) {\n          super(context);\n          mMainThread = mainThread;\n      }\n\n      @Override\n      protected IContentProvider acquireProvider(Context context, String name) {\n          return mMainThread.acquireProvider(context, name);\n      }\n\n      @Override\n      protected IContentProvider acquireExistingProvider(Context context, String name) {\n           return mMainThread.acquireExistingProvider(context, name);\n       }\n\n       @Override\n       public boolean releaseProvider(IContentProvider provider) {\n           return mMainThread.releaseProvider(provider);\n       }\n\n       private final ActivityThread mMainThread;\n   }\n```\nApplicationContentResolver的acquireProvider调用了ActivityThread的acquireProvider（）\n```java\n    public final IContentProvider acquireProvider(\n            Context c, String auth, int userId, boolean stable) {\n        final IContentProvider provider = acquireExistingProvider(c, auth, userId, stable);//1\n        if (provider != null) {\n            return provider;\n        }\n\n        // There is a possible race here.  Another thread may try to acquire\n        // the same provider at the same time.  When this happens, we want to ensure\n        // that the first one wins.\n        // Note that we cannot hold the lock while acquiring and installing the\n        // provider since it might take a long time to run and it could also potentially\n        // be re-entrant in the case where the provider is in the same process.\n        ContentProviderHolder holder = null;//2\n        try {\n            synchronized (getGetProviderLock(auth, userId)) {\n                holder = ActivityManager.getService().getContentProvider(\n                        getApplicationThread(), auth, userId, stable);\n            }\n        } catch (RemoteException ex) {\n            throw ex.rethrowFromSystemServer();\n        }\n        if (holder == null) {\n            Slog.e(TAG, \"Failed to find provider info for \" + auth);\n            return null;\n        }\n\n        // Install provider will increment the reference count for us, and break\n        // any ties in the race.\n        holder = installProvider(c, holder, holder.info,\n                true /*noisy*/, holder.noReleaseNeeded, stable);\n        return holder.provider;\n    }\n\n```\n1处：先从ActivityThread中的 ArrayMap<ProviderKey, ProviderClientRecord> mProviderMap查找是否存在目标ContentProvider,如果存在就直接返回。\n\n2处：如果目前ContentProvider没有启动，就会开启RPC远程调用给AMS让其启动目标ContentProvider，最后通过installProvider修改引用计数。而ContentProvider的启动伴随着App进程的启动。\n\n启动流程为先启动ContentProvider所在进程，然后再启动ContentProvider。然后再启动ContentProvider.由于一个APP从启动到主页面显示经历了哪些过程？已经做过笔记，不再赘述。直接进入handleBindApplication中\n## ContentProvider创建\n在handleBindApplication中ContentProvider的创建分为四个步骤。\n\n### 创建ContextImpl 和 Instrumentation\n```java\n            final ContextImpl instrContext = ContextImpl.createAppContext(this, pi);\n\n            try {\n                final ClassLoader cl = instrContext.getClassLoader();\n                mInstrumentation = (Instrumentation)\n                    cl.loadClass(data.instrumentationName.getClassName()).newInstance();\n            } catch (Exception e) {\n                throw new RuntimeException(\n                    \"Unable to instantiate instrumentation \"\n                    + data.instrumentationName + \": \" + e.toString(), e);\n            }\n\n            final ComponentName component = new ComponentName(ii.packageName, ii.name);\n            mInstrumentation.init(this, instrContext, appContext, component,\n                    data.instrumentationWatcher, data.instrumentationUiAutomationConnection);\n\n```\n创建ContextImpl，再通过反射创建Instrumentation，并初始化Instrumentation\n\n### 创建Application对象（并未调用其OnCreate方法）\n```java\n app = data.info.makeApplication(data.restrictedBackupMode, null);\n\n            // Propagate autofill compat state\n            app.setAutofillCompatibilityEnabled(data.autofillCompatibilityEnabled);\n\n            mInitialApplication = app;\n\n```\n\n### 启动ContentProvider，并调用其onCreate方法\n```java\n            if (!data.restrictedBackupMode) {\n                if (!ArrayUtils.isEmpty(data.providers)) {\n                    installContentProviders(app, data.providers);\n                    // For process that contains content providers, we want to\n                    // ensure that the JIT is enabled \"at some point\".\n                    mH.sendEmptyMessageDelayed(H.ENABLE_JIT, 10*1000);\n                }\n            }\nprivate void installContentProviders(\n            Context context, List<ProviderInfo> providers) {\n        final ArrayList<ContentProviderHolder> results = new ArrayList<>();\n\n        for (ProviderInfo cpi : providers) {\n            if (DEBUG_PROVIDER) {\n                StringBuilder buf = new StringBuilder(128);\n                buf.append(\"Pub \");\n                buf.append(cpi.authority);\n                buf.append(\": \");\n                buf.append(cpi.name);\n                Log.i(TAG, buf.toString());\n            }\n            ContentProviderHolder cph = installProvider(context, null, cpi,\n                    false /*noisy*/, true /*noReleaseNeeded*/, true /*stable*/);\n            if (cph != null) {\n                cph.noReleaseNeeded = true;\n                results.add(cph);\n            }\n        }\n\n        try {\n            ActivityManager.getService().publishContentProviders(\n                getApplicationThread(), results);\n        } catch (RemoteException ex) {\n            throw ex.rethrowFromSystemServer();\n        }\n    }\n```\n调用installContentProviders会遍历ProviderInfo的list，一一调用installProvider()来启动它们。来启动ContentProvider.接着将已启动的ContentProvider发布到AMS中，AMS会把它们存储到ProvideMap中，供ContentResolver查询\n进入installProvider\n```java\n    private ContentProviderHolder installProvider(Context context,\n            ContentProviderHolder holder, ProviderInfo info,\n            boolean noisy, boolean noReleaseNeeded, boolean stable) {\n        ContentProvider localProvider = null;\n        IContentProvider provider;\n    .....\n                if (DEBUG_PROVIDER) Slog.v(\n                    TAG, \"Instantiating local provider \" + info.name);\n                // XXX Need to create the correct context for this provider.\n                localProvider.attachInfo(c, info);\n            } catch (java.lang.Exception e) {\n                if (!mInstrumentation.onException(null, e)) {\n                    throw new RuntimeException(\n                            \"Unable to get provider \" + info.name\n                            + \": \" + e.toString(), e);\n                }\n                return null;\n            }\n        }\n\t\t.....\n\t\t}\n\n```\n进入attachInfo\n```java\nprivate void attachInfo(Context context, ProviderInfo info, boolean testing) {\n        mNoPerms = testing;\n\n        /*\n         * Only allow it to be set once, so after the content service gives\n         * this to us clients can't change it.\n         */\n        if (mContext == null) {\n            mContext = context;\n            if (context != null) {\n                mTransport.mAppOpsManager = (AppOpsManager) context.getSystemService(\n                        Context.APP_OPS_SERVICE);\n            }\n            mMyUid = Process.myUid();\n            if (info != null) {\n                setReadPermission(info.readPermission);\n                setWritePermission(info.writePermission);\n                setPathPermissions(info.pathPermissions);\n                mExported = info.exported;\n                mSingleUser = (info.flags & ProviderInfo.FLAG_SINGLE_USER) != 0;\n                setAuthorities(info.authority);\n            }\n            ContentProvider.this.onCreate();\n        }\n    }\n```\n在attachInfo中调用了ContentProvider的onCreate方法\n\n### 调用Application的onCreate方法\n在handleBindApplication中启动完Binder后调用Application的onCreate方法\n```java\n                mInstrumentation.callApplicationOnCreate(app);\n```\n\n\n## 访问ContentProvider\n经过上述步骤，ContentProvider已经成功启动，且其所在进程的Application也已经启动起来，所以访问进程的ContentResolver就可以通过AMS访问这个ContentProvider.\n回到ContentResolver中的query方法\n```java\n    public final @Nullable Cursor query(final @RequiresPermission.Read @NonNull Uri uri,\n            @Nullable String[] projection, @Nullable Bundle queryArgs,\n            @Nullable CancellationSignal cancellationSignal) {\n        Preconditions.checkNotNull(uri, \"uri\");\n        IContentProvider unstableProvider = acquireUnstableProvider(uri);\n        if (unstableProvider == null) {\n            return null;\n        }\n        IContentProvider stableProvider = null;\n        Cursor qCursor = null;\n        try {\n            long startTime = SystemClock.uptimeMillis();\n\n            ICancellationSignal remoteCancellationSignal = null;\n            if (cancellationSignal != null) {\n                cancellationSignal.throwIfCanceled();\n                remoteCancellationSignal = unstableProvider.createCancellationSignal();\n                cancellationSignal.setRemote(remoteCancellationSignal);\n            }\n            try {\n                qCursor = unstableProvider.query(mPackageName, uri, projection,\n                        queryArgs, remoteCancellationSignal);\n            } catch (DeadObjectException e) {\n                // The remote process has died...  but we only hold an unstable\n                // reference though, so we might recover!!!  Let's try!!!!\n                // This is exciting!!1!!1!!!!1\n                unstableProviderDied(unstableProvider);\n                stableProvider = acquireProvider(uri);\n                if (stableProvider == null) {\n                    return null;\n                }\n                qCursor = stableProvider.query(\n                        mPackageName, uri, projection, queryArgs, remoteCancellationSignal);\n            }\n       ...\n    }\n\n```\n通过acquireUnstableProvider返回的是一个IContentProvider。以I开头的。没错，哼，又是你，Binder机制。IContentProvider就是Binder接口，那它调用query，岂不是代理在RPC咯，那找找服务端实现类和代理类。\n```java\nabstract public class ContentProviderNative extends Binder implements IContentProvider {\n    public ContentProviderNative()\n    {\n        attachInterface(this, descriptor);\n    }\n\n    /**\n     * Cast a Binder object into a content resolver interface, generating\n     * a proxy if needed.\n     */\n    static public IContentProvider asInterface(IBinder obj)\n    {\n        if (obj == null) {\n            return null;\n        }\n        IContentProvider in =\n            (IContentProvider)obj.queryLocalInterface(descriptor);\n        if (in != null) {\n            return in;\n        }\n\n        return new ContentProviderProxy(obj);\n    }\n\t.....\n\t}\n\t\n\t    class Transport extends ContentProviderNative {\n        AppOpsManager mAppOpsManager = null;\n        int mReadOp = AppOpsManager.OP_NONE;\n        int mWriteOp = AppOpsManager.OP_NONE;\n\n        ContentProvider getContentProvider() {\n            return ContentProvider.this;\n        }\n\n        @Override\n        public String getProviderName() {\n            return getContentProvider().getClass().getName();\n        }\n\n        @Override\n        public Cursor query(String callingPkg, Uri uri, @Nullable String[] projection,\n                @Nullable Bundle queryArgs, @Nullable ICancellationSignal cancellationSignal) {\n            validateIncomingUri(uri);\n            uri = maybeGetUriWithoutUserId(uri);\n            if (enforceReadPermission(callingPkg, uri, null) != AppOpsManager.MODE_ALLOWED) {\n                // The caller has no access to the data, so return an empty cursor with\n                // the columns in the requested order. The caller may ask for an invalid\n                // column and we would not catch that but this is not a problem in practice.\n                // We do not call ContentProvider#query with a modified where clause since\n                // the implementation is not guaranteed to be backed by a SQL database, hence\n                // it may not handle properly the tautology where clause we would have created.\n                if (projection != null) {\n                    return new MatrixCursor(projection, 0);\n                }\n\n                // Null projection means all columns but we have no idea which they are.\n                // However, the caller may be expecting to access them my index. Hence,\n                // we have to execute the query as if allowed to get a cursor with the\n                // columns. We then use the column names to return an empty cursor.\n                Cursor cursor = ContentProvider.this.query(\n                        uri, projection, queryArgs,\n                        CancellationSignal.fromTransport(cancellationSignal));\n                if (cursor == null) {\n                    return null;\n                }\n\n                // Return an empty cursor for all columns.\n                return new MatrixCursor(cursor.getColumnNames(), 0);\n            }\n            final String original = setCallingPackage(callingPkg);\n            try {\n                return ContentProvider.this.query(\n                        uri, projection, queryArgs,\n                        CancellationSignal.fromTransport(cancellationSignal));\n            } finally {\n                setCallingPackage(original);\n            }\n        }\n\n    ...\n    }\n\n```\nContentProviderNative继承Binder实现了ICotentProvider，而  ContentProvider.Transport 继承了ContentProviderNative。请注意哈，这里有一个神奇的地方，自己查了很久的书和网站得出结论。ContentProviderNative是一个android自己实现的contentProvider的代理类，然而ContentProvider.Transport继承了 ContentProviderNative 却是服务端实现接口。简言之，`当我们从ContentResolver中调用query时，通过 ContentProviderNative 作为代理 访问到了 其子类Transport中的query方法。`\n在transport中，重写了父类的CRUD等方法。在transport中会调用当前ContentProvider的query方法。然后返回给代理，代理又返回给客户端。这样客户端就拿到了数据。\nemmmmm，可以吃饭去了。","slug":"ContentProvider源码解析","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyl001dqr3l7t14gdhf"},{"title":"DualPivotSort","date":"2018-12-31T16:00:00.000Z","description":"Arrays.sort()背后排序原理剖析","_content":"## 简介\n  ### DualPivotSort是一种双轴快排，双轴快排是基于两个轴来进行比较；JDK中选取头尾为轴；\n  \n 该类实现了Dual-Pivot Quicksort算法Vladimir Yaroslavskiy，Jon Bentley和Josh Bloch。 该算法在许多导致普通快排在有序的数据集上提供O（n log（n））性能,而普通快排降级为O(n^2)，通常是比传统（单枢轴）Quicksort实现更快。\n  \n ![DualPivotSort](/images/dualpivotsort.PNG)\n \n \n## 双轴排序过程简析\n1.对于很小的数组（长度小于27），会使用插入排序。\n2.选择两个点P1,P2作为轴心，JDK中使用两端作为P1，P2.\n3.P1必须比P2要小，否则将这两个元素交换，现在将整个数组分为四部分：\n（1）第一部分：比P1小的元素。\n（2）第二部分：比P1大但是比P2小的元素。\n（3）第三部分：比P2大的元素。\n（4）第四部分：尚未比较的部分。\n在开始比较前，除了轴点，其余元素几乎都在第四部分，直到比较完之后第四部分没有元素。\n4.从第四部分选出一个元素a[K]，与两个轴比较，然后放到第一二三部分中的一个。\n5.移动L，K，G指向。\n6.重复 4 5 步，直到第四部分没有元素。\n7.将P1与第一部分的最后一个元素交换。将P2与第三部分的第一个元素交换。\n8.递归的将第一二三部分排序。\n\n ## 算法源码\n```java\n//对外公开的两个sort方法\npublic static void sort(int[] a) {\n\tsort(a, 0, a.length);\n}\npublic static void sort(int[] a, int fromIndex, int toIndex) {\n\trangeCheck(a.length, fromIndex, toIndex);\n\tdualPivotQuicksort(a, fromIndex, toIndex - 1, 3);\n}\n//边界检测\nprivate static void rangeCheck(int length, int fromIndex, int toIndex) {\n\tif (fromIndex > toIndex) {\n\t\tthrow new IllegalArgumentException(\"fromIndex > toIndex\");\n\t}\n\tif (fromIndex < 0) {\n\t\tthrow new ArrayIndexOutOfBoundsException(fromIndex);\n\t}\n\tif (toIndex > length) {\n\t\tthrow new ArrayIndexOutOfBoundsException(toIndex);\n\t}\n}\n\nprivate static void swap(int[] a, int i, int j) {\n\tint temp = a[i];\n\ta[i] = a[j];\n\ta[j] = temp;\n}\n/**\n * 双轴快排的具体实现\n * @param a     待排序数组\n * @param left  数组需排序上界\n * @param right 数组需排序下界\n * @param div   理解为从何位置取轴\n */\nprivate static void dualPivotQuicksort(int[] a, int left,int right, int div) {\n\tint len = right - left;\n\t//数组长度如果很小（27），则直接用插入排序对其排序\n\tif (len < 27) {\n\t\tfor (int i = left + 1; i <= right; i++) {\n\t\t\tfor (int j = i; j > left && a[j] < a[j - 1]; j--) {\n\t\t\t\tswap(a, j, j - 1);\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\t//取到位于1/div和div-1/div位置的点，并用他们来做轴\n\tint third = len / div;\n\tint m1 = left + third;\n\tint m2 = right - third;\n\tif (m1 <= left) {\n\t\tm1 = left + 1;\n\t}\n\tif (m2 >= right) {\n\t\tm2 = right - 1;\n\t}\n\t//确保left是小的，right是大的\n\tif (a[m1] < a[m2]) {\n\t\tswap(a, m1, left);\n\t\tswap(a, m2, right);\n\t}\n\telse {\n\t\tswap(a, m1, right);\n\t\tswap(a, m2, left);\n\t}\n\t// 两个轴\n\tint pivot1 = a[left];\n\tint pivot2 = a[right];\n\t// 代表比p1小和比p2大的两个指针\n\tint less = left + 1;\n\tint great = right - 1;\n\t// 开始取出less到great之间的未知大小数据，与两个轴比较\n\t// 并且将数据放入正确的区域后调整各个指针\n\tfor (int k = less; k <= great; k++) {\n\t\t//如果取出的数比p1小，那么直接到less左侧，并且less右移\n\t\tif (a[k] < pivot1) {\n\t\t\tswap(a, k, less++);\n\t\t} \n\t\t//如果取出的数比p2大，那么首先确定great左侧没有比p2大的数\n\t\t//然后与great位置的数字交换，great左移\n\t\t//此时，great交换的数字肯定是比p2小或者相等的（首先确定过）\n\t\t//那么此时再与p1相比，处理这个数的区间\n\t\telse if (a[k] > pivot2) {\n\t\t\twhile (k < great && a[great] > pivot2) {\n\t\t\t\tgreat--;\n\t\t\t}\n\t\t\tswap(a, k, great--);\n\t\t\tif (a[k] < pivot1) {\n\t\t\t\tswap(a, k, less++);\n\t\t\t}\n\t\t}\n\t\t//如果这个数比p1大但是比p2小，则不需要交换，只需将k指针右移\n\t}\n\t//将p1与less左侧的第一个数交换\n\tswap(a, less - 1, left);\n\t//将p2与great右侧的第一个数交换\n\tswap(a, great + 1, right);\n\t// 计算出在两轴大小之间的个数\n\tint dist = great - less;\n\t//如果这个数很小（13），那么取轴的点向两边偏\n\tif (dist < 13) {\n\t\tdiv++;\n\t}\n\t// 对三个子区间分别排序，因为less-1和great+1是轴，已经排好了序\n\t// 所以不需要比较\n\tdualPivotQuicksort(a, left, less - 2, div);\n\tdualPivotQuicksort(a, great + 2, right, div);\n\t// 如果在中间区间的数字很多，那么排除掉一些相等的元素再进行排序\n\tif (dist > len - 13 && pivot1 != pivot2) {\n\t\tfor (int k = less; k <= great; k++) {\n\t\t\tif (a[k] == pivot1) {\n\t\t\t\tswap(a, k, less++);\n\t\t\t}\n\t\t\telse if (a[k] == pivot2) {\n\t\t\t\tswap(a, k, great--);\n\t\t\t\tif (a[k] == pivot1) {\n\t\t\t\t\tswap(a, k, less++);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// 对中间的区间排序\n\tif (pivot1 < pivot2) {\n\t\tdualPivotQuicksort(a, less, great, div);\n\t}\n}\n\n```\n  \n  \n    \n ","source":"_posts/DualPivotSort.md","raw":"title: DualPivotSort\ndate: 2019-1-1\ntags: [Java]\ncategories: algorithm\ndescription:  Arrays.sort()背后排序原理剖析\n---\n## 简介\n  ### DualPivotSort是一种双轴快排，双轴快排是基于两个轴来进行比较；JDK中选取头尾为轴；\n  \n 该类实现了Dual-Pivot Quicksort算法Vladimir Yaroslavskiy，Jon Bentley和Josh Bloch。 该算法在许多导致普通快排在有序的数据集上提供O（n log（n））性能,而普通快排降级为O(n^2)，通常是比传统（单枢轴）Quicksort实现更快。\n  \n ![DualPivotSort](/images/dualpivotsort.PNG)\n \n \n## 双轴排序过程简析\n1.对于很小的数组（长度小于27），会使用插入排序。\n2.选择两个点P1,P2作为轴心，JDK中使用两端作为P1，P2.\n3.P1必须比P2要小，否则将这两个元素交换，现在将整个数组分为四部分：\n（1）第一部分：比P1小的元素。\n（2）第二部分：比P1大但是比P2小的元素。\n（3）第三部分：比P2大的元素。\n（4）第四部分：尚未比较的部分。\n在开始比较前，除了轴点，其余元素几乎都在第四部分，直到比较完之后第四部分没有元素。\n4.从第四部分选出一个元素a[K]，与两个轴比较，然后放到第一二三部分中的一个。\n5.移动L，K，G指向。\n6.重复 4 5 步，直到第四部分没有元素。\n7.将P1与第一部分的最后一个元素交换。将P2与第三部分的第一个元素交换。\n8.递归的将第一二三部分排序。\n\n ## 算法源码\n```java\n//对外公开的两个sort方法\npublic static void sort(int[] a) {\n\tsort(a, 0, a.length);\n}\npublic static void sort(int[] a, int fromIndex, int toIndex) {\n\trangeCheck(a.length, fromIndex, toIndex);\n\tdualPivotQuicksort(a, fromIndex, toIndex - 1, 3);\n}\n//边界检测\nprivate static void rangeCheck(int length, int fromIndex, int toIndex) {\n\tif (fromIndex > toIndex) {\n\t\tthrow new IllegalArgumentException(\"fromIndex > toIndex\");\n\t}\n\tif (fromIndex < 0) {\n\t\tthrow new ArrayIndexOutOfBoundsException(fromIndex);\n\t}\n\tif (toIndex > length) {\n\t\tthrow new ArrayIndexOutOfBoundsException(toIndex);\n\t}\n}\n\nprivate static void swap(int[] a, int i, int j) {\n\tint temp = a[i];\n\ta[i] = a[j];\n\ta[j] = temp;\n}\n/**\n * 双轴快排的具体实现\n * @param a     待排序数组\n * @param left  数组需排序上界\n * @param right 数组需排序下界\n * @param div   理解为从何位置取轴\n */\nprivate static void dualPivotQuicksort(int[] a, int left,int right, int div) {\n\tint len = right - left;\n\t//数组长度如果很小（27），则直接用插入排序对其排序\n\tif (len < 27) {\n\t\tfor (int i = left + 1; i <= right; i++) {\n\t\t\tfor (int j = i; j > left && a[j] < a[j - 1]; j--) {\n\t\t\t\tswap(a, j, j - 1);\n\t\t\t}\n\t\t}\n\t\treturn;\n\t}\n\t//取到位于1/div和div-1/div位置的点，并用他们来做轴\n\tint third = len / div;\n\tint m1 = left + third;\n\tint m2 = right - third;\n\tif (m1 <= left) {\n\t\tm1 = left + 1;\n\t}\n\tif (m2 >= right) {\n\t\tm2 = right - 1;\n\t}\n\t//确保left是小的，right是大的\n\tif (a[m1] < a[m2]) {\n\t\tswap(a, m1, left);\n\t\tswap(a, m2, right);\n\t}\n\telse {\n\t\tswap(a, m1, right);\n\t\tswap(a, m2, left);\n\t}\n\t// 两个轴\n\tint pivot1 = a[left];\n\tint pivot2 = a[right];\n\t// 代表比p1小和比p2大的两个指针\n\tint less = left + 1;\n\tint great = right - 1;\n\t// 开始取出less到great之间的未知大小数据，与两个轴比较\n\t// 并且将数据放入正确的区域后调整各个指针\n\tfor (int k = less; k <= great; k++) {\n\t\t//如果取出的数比p1小，那么直接到less左侧，并且less右移\n\t\tif (a[k] < pivot1) {\n\t\t\tswap(a, k, less++);\n\t\t} \n\t\t//如果取出的数比p2大，那么首先确定great左侧没有比p2大的数\n\t\t//然后与great位置的数字交换，great左移\n\t\t//此时，great交换的数字肯定是比p2小或者相等的（首先确定过）\n\t\t//那么此时再与p1相比，处理这个数的区间\n\t\telse if (a[k] > pivot2) {\n\t\t\twhile (k < great && a[great] > pivot2) {\n\t\t\t\tgreat--;\n\t\t\t}\n\t\t\tswap(a, k, great--);\n\t\t\tif (a[k] < pivot1) {\n\t\t\t\tswap(a, k, less++);\n\t\t\t}\n\t\t}\n\t\t//如果这个数比p1大但是比p2小，则不需要交换，只需将k指针右移\n\t}\n\t//将p1与less左侧的第一个数交换\n\tswap(a, less - 1, left);\n\t//将p2与great右侧的第一个数交换\n\tswap(a, great + 1, right);\n\t// 计算出在两轴大小之间的个数\n\tint dist = great - less;\n\t//如果这个数很小（13），那么取轴的点向两边偏\n\tif (dist < 13) {\n\t\tdiv++;\n\t}\n\t// 对三个子区间分别排序，因为less-1和great+1是轴，已经排好了序\n\t// 所以不需要比较\n\tdualPivotQuicksort(a, left, less - 2, div);\n\tdualPivotQuicksort(a, great + 2, right, div);\n\t// 如果在中间区间的数字很多，那么排除掉一些相等的元素再进行排序\n\tif (dist > len - 13 && pivot1 != pivot2) {\n\t\tfor (int k = less; k <= great; k++) {\n\t\t\tif (a[k] == pivot1) {\n\t\t\t\tswap(a, k, less++);\n\t\t\t}\n\t\t\telse if (a[k] == pivot2) {\n\t\t\t\tswap(a, k, great--);\n\t\t\t\tif (a[k] == pivot1) {\n\t\t\t\t\tswap(a, k, less++);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// 对中间的区间排序\n\tif (pivot1 < pivot2) {\n\t\tdualPivotQuicksort(a, less, great, div);\n\t}\n}\n\n```\n  \n  \n    \n ","slug":"DualPivotSort","published":1,"updated":"2020-02-13T07:16:09.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxym001gqr3le74cpkai"},{"title":"Determine if it is a power of two","date":"2019-01-22T16:00:00.000Z","description":"Given an integer, write a function to determine if it is a power of two.","_content":"## Problem description\n  ### Given an integer, write a function to determine if it is a power of two.\n ## Examples\n``` java\nExample 1:\nInput: 1\nOutput: true \nExplanation: 20 = 1\n```\n```java\nExample 2:\nInput: 16\nOutput: true\nExplanation: 24 = 16\n```\n```java\nExample 3:\nInput: 218\nOutput: false\n```\n\n## Solution\n　　这道题在剑指Offer上的“二进制中1的个数”的封装。首先可以确定的是2的幂的二进制中最左端只有1，其余为0。若如此，可将n = （n - 1）& n，这样会将n二进制中最右端的1赋值为0.。若n为2的幂的话，进行与运算后，n 会等于0。否则不等于 0.\n## Code\n\n```java\n class Solution {\n    public boolean isPowerOfTwo(int n) {\n        if (n <= 0) {\n            return false;\n        }\n        return ((n - 1) & n) == 0;\n    }\n}\n```","source":"_posts/Determine if it is a power of two.md","raw":"title:  Determine if it is a power of two\ndate: 2019-1-23\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Given an integer, write a function to determine if it is a power of two.\n---\n## Problem description\n  ### Given an integer, write a function to determine if it is a power of two.\n ## Examples\n``` java\nExample 1:\nInput: 1\nOutput: true \nExplanation: 20 = 1\n```\n```java\nExample 2:\nInput: 16\nOutput: true\nExplanation: 24 = 16\n```\n```java\nExample 3:\nInput: 218\nOutput: false\n```\n\n## Solution\n　　这道题在剑指Offer上的“二进制中1的个数”的封装。首先可以确定的是2的幂的二进制中最左端只有1，其余为0。若如此，可将n = （n - 1）& n，这样会将n二进制中最右端的1赋值为0.。若n为2的幂的话，进行与运算后，n 会等于0。否则不等于 0.\n## Code\n\n```java\n class Solution {\n    public boolean isPowerOfTwo(int n) {\n        if (n <= 0) {\n            return false;\n        }\n        return ((n - 1) & n) == 0;\n    }\n}\n```","slug":"Determine if it is a power of two","published":1,"updated":"2020-02-13T07:16:09.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyn001lqr3lr1zvoqur"},{"title":"Find all possible subsets","date":"2019-01-25T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a set of distinct integers, nums, return all possible subsets (the power set).Note: The solution set must not contain duplicate subsets.\n ## Examples\n``` java\nExample 1:\nInput: nums = [1,2,3]\nOutput:\n[\n  [3],\n  [1],\n  [2],\n  [1,2,3],\n  [1,3],\n  [2,3],\n  [1,2],\n  []\n]\n```\n\n\n## Solution\n　　和上一道 Find all possible permutations 类似，先将空集添入集合。\n  再遍历数组：\n  1. 将nums[i]添入list\n  2. 再以每个元素nums[i]为头深搜出 nums[i] 与 nums[i] 元素之后构成的子集\n  3. 再从list中删除nums[i]元素。\n## Code\n\n```java\n class Solution {\n   \n    public List<List<Integer>> subsets(int[] nums) {\n        List<List<Integer>> lists = new ArrayList<>();\n        List<Integer> list = new ArrayList<>();\n        Arrays.sort(nums);\n        DFS(nums, 0, lists, list);\n        return lists;\n    }\n\n    public void DFS(int[] nums, int start, List<List<Integer>> lists, List<Integer> list) {\n        List<Integer> integers = new ArrayList<>(list);\n        lists.add(integers);\n        for (int i = start; i < nums.length; i++) {\n            integers.add(nums[i]);\n            DFS(nums, i + 1, lists, integers);\n            integers.remove(integers.size() - 1);\n        }\n    }\n}\n```","source":"_posts/Find all possible subsets.md","raw":"title: Find all possible subsets\ndate: 2019-1-26\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a set of distinct integers, nums, return all possible subsets (the power set).Note: The solution set must not contain duplicate subsets.\n ## Examples\n``` java\nExample 1:\nInput: nums = [1,2,3]\nOutput:\n[\n  [3],\n  [1],\n  [2],\n  [1,2,3],\n  [1,3],\n  [2,3],\n  [1,2],\n  []\n]\n```\n\n\n## Solution\n　　和上一道 Find all possible permutations 类似，先将空集添入集合。\n  再遍历数组：\n  1. 将nums[i]添入list\n  2. 再以每个元素nums[i]为头深搜出 nums[i] 与 nums[i] 元素之后构成的子集\n  3. 再从list中删除nums[i]元素。\n## Code\n\n```java\n class Solution {\n   \n    public List<List<Integer>> subsets(int[] nums) {\n        List<List<Integer>> lists = new ArrayList<>();\n        List<Integer> list = new ArrayList<>();\n        Arrays.sort(nums);\n        DFS(nums, 0, lists, list);\n        return lists;\n    }\n\n    public void DFS(int[] nums, int start, List<List<Integer>> lists, List<Integer> list) {\n        List<Integer> integers = new ArrayList<>(list);\n        lists.add(integers);\n        for (int i = start; i < nums.length; i++) {\n            integers.add(nums[i]);\n            DFS(nums, i + 1, lists, integers);\n            integers.remove(integers.size() - 1);\n        }\n    }\n}\n```","slug":"Find all possible subsets","published":1,"updated":"2020-02-13T07:16:09.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyo001oqr3lfi5s0s1l"},{"title":"Find all possible permutations","date":"2019-01-25T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a collection of distinct integers, return all possible permutations.The order of list doesn't matter.\n ## Examples\n``` java\nExample 1:\nInput: [1,2,3]\nOutput:\n[\n  [1,2,3],\n  [1,3,2],\n  [2,1,3],\n  [2,3,1],\n  [3,1,2],\n  [3,2,1]\n]\n```\n## Solution\n　　一种解法两种出发角度：\n1. 第一次见到的交换+回溯。遍历数组，每遇到一个元素nums[i]，将其与nums[start]交换，再对 i 之后的元素递归执行深搜。找到长度为length - 1的集合后加入结果集。再将 nums[i] 与 nums[start] 交换回来，否则会出现重复集合。\n2. 分治思想将该字符串分为两部分：第一部分为它的第一个字符，第二部分为剩余所有字符。假设第二部分已找到全排列，加上第一部分。就得到以该字符为头的全排列。将剩余所有字符与首字符交换。即可得到所有字符的全排列.如下图所示，字符串划分为两部分：红色首字符和蓝色剩余字符。\n\n![enter description here](/images/all_permutations.png)\n\t遍历所有字符\n（1）将当前字符i与第一个字符交换\n（2）再求出i之后剩余字符的全排列(递归)\n（3）再将当前字符与首字符交换回来\n\n## Code\n\n```java\n class Solution {\n    public List<List<Integer>> permute(int[] nums) {\n        List<List<Integer>> lists = new ArrayList<>();\n        DFS(nums, 0, lists);\n        return lists;\n    }\n    private void swap(int[] nums, int m, int n) {\n        int temp = nums[m];\n        nums[m] = nums[n];\n        nums[n] = temp;\n    }\n    public void DFS(int[] nums, int start, List<List<Integer>> lists) {\n        if (start == nums.length) {\n            List<Integer> list = new ArrayList<>();\n            for (int num : nums) {\n                list.add(num);\n            }\n            lists.add(list);\n            return;\n        }\n        for (int i = start; i < nums.length; i++) {\n            swap(nums, start, i);\n            DFS(nums, start + 1, lists);\n            swap(nums, start, i);\n        }\n    }\n}\n```","source":"_posts/Find all possible permutations.md","raw":"title: Find all possible permutations\ndate: 2019-1-26\t\t\t\t\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a collection of distinct integers, return all possible permutations.The order of list doesn't matter.\n ## Examples\n``` java\nExample 1:\nInput: [1,2,3]\nOutput:\n[\n  [1,2,3],\n  [1,3,2],\n  [2,1,3],\n  [2,3,1],\n  [3,1,2],\n  [3,2,1]\n]\n```\n## Solution\n　　一种解法两种出发角度：\n1. 第一次见到的交换+回溯。遍历数组，每遇到一个元素nums[i]，将其与nums[start]交换，再对 i 之后的元素递归执行深搜。找到长度为length - 1的集合后加入结果集。再将 nums[i] 与 nums[start] 交换回来，否则会出现重复集合。\n2. 分治思想将该字符串分为两部分：第一部分为它的第一个字符，第二部分为剩余所有字符。假设第二部分已找到全排列，加上第一部分。就得到以该字符为头的全排列。将剩余所有字符与首字符交换。即可得到所有字符的全排列.如下图所示，字符串划分为两部分：红色首字符和蓝色剩余字符。\n\n![enter description here](/images/all_permutations.png)\n\t遍历所有字符\n（1）将当前字符i与第一个字符交换\n（2）再求出i之后剩余字符的全排列(递归)\n（3）再将当前字符与首字符交换回来\n\n## Code\n\n```java\n class Solution {\n    public List<List<Integer>> permute(int[] nums) {\n        List<List<Integer>> lists = new ArrayList<>();\n        DFS(nums, 0, lists);\n        return lists;\n    }\n    private void swap(int[] nums, int m, int n) {\n        int temp = nums[m];\n        nums[m] = nums[n];\n        nums[n] = temp;\n    }\n    public void DFS(int[] nums, int start, List<List<Integer>> lists) {\n        if (start == nums.length) {\n            List<Integer> list = new ArrayList<>();\n            for (int num : nums) {\n                list.add(num);\n            }\n            lists.add(list);\n            return;\n        }\n        for (int i = start; i < nums.length; i++) {\n            swap(nums, start, i);\n            DFS(nums, start + 1, lists);\n            swap(nums, start, i);\n        }\n    }\n}\n```","slug":"Find all possible permutations","published":1,"updated":"2020-02-13T07:16:09.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyq001sqr3lceyvz1ev"},{"title":"EventBus源码解析","date":"2019-03-02T16:00:00.000Z","description":"　　","_content":"转自[EventBus解析](https://www.bookstack.cn/read/android_interview/android-open-source-framework-EventBus.md)\n## 简析EventBus\nEventBus是一个Android端优化的publish/subscribe消息总线，简化了应用程序内各组件间、组件与后台线程间的通信。\n作为一个消息总线主要有三个组成部分：\n\n事件（Event）：可以是任意类型的对象。通过事件的发布者将事件进行传递。\n\n事件订阅者（Subscriber）：接收特定的事件。\n\n事件发布者（Publisher）：用于通知 Subscriber 有事件发生。可以在任意线程任意位置发送事件。\n![eventbus_resolve](/images/eventbus_simple_resolve.png)\n事件的发布者（Publisher）将事件（Event）通过post()方法发送。EventBus内部进行处理，找到订阅了该事件（Event）的事件订阅者（Subscriber）。然后该事件的订阅者（Subscriber）通过onEvent()方法接收事件进行相关处理（关于onEvent()在EventBus 3.0中有改动，下面详细说明）。\n\n## demo\n注册订阅\n``` java\nEventBus.getDefault().register(this);\n```\n事件处理\n``` java\n@Subscribe(threadMode = ThreadMode.MainThread)\n    public void  onNewsEvent(NewsEvent event){\n        String message = event.getMessage();\n        mTv_message.setText(message);\n    }\n```\n发布事件\n``` java\n EventBus.getDefault().post(new NewsEvent(\"我是来自SecondActivity的消息，你好！\"));\n```\n\n## Register\n进入getDefault()\n``` java\nstatic volatile EventBus defaultInstance;\npublic static EventBus getDefault() {\n        if (defaultInstance == null) {\n            synchronized (EventBus.class) {\n                if (defaultInstance == null) {\n                    defaultInstance = new EventBus();\n                }\n            }\n        }\n        return defaultInstance;\n    }\n```\n通过上述代码可以得知，getDefault()中通过双检查锁（DCL）机制实现了EventBus的单例机制，获得了一个默认配置的EventBus对象。\n在了解register()之前，先要了解一下EventBus中的几个关键的成员变量。方便对下面内容的理解。\n``` java\n/* Map<订阅事件, 订阅该事件的订阅者集合> */\nprivate final Map<Class<?>, CopyOnWriteArrayList<Subscription>> subscriptionsByEventType;\n/* Map<订阅者, 订阅事件集合> */\nprivate final Map<Object, List<Class<?>>> typesBySubscriber;\n/* Map<订阅事件类类型,订阅事件实例对象>. */\nprivate final Map<Class<?>, Object> stickyEvents;\n```\n下面看具体的register()中执行的代码。\n``` java\n    public void register(Object subscriber) {\n\t//订阅者类型\n        Class<?> subscriberClass = subscriber.getClass();\n\t\t //获取订阅者全部的响应函数信息（即上面的onNewsEvent()之类的方法）\n        List<SubscriberMethod> subscriberMethods = subscriberMethodFinder.findSubscriberMethods(subscriberClass);\n        synchronized (this) {\n\t\t //循环每一个事件响应函数，执行 subscribe()方法，更新订阅相关信息\n            for (SubscriberMethod subscriberMethod : subscriberMethods) {\n                subscribe(subscriber, subscriberMethod);\n            }\n        }\n    }\n```\nregister()\n1. 获取订阅者的类类型\n2. 通过SubscriberMethodFinder类来解析订阅者类,获取所有的响应函数集合\n3. 遍历订阅函数,执行 subscribe()方法，更新订阅相关信息\n\n继续看subscribe()方法。\nsubscribe 函数分三步\n第一步：\n``` java\n        //获取订阅的事件类型\n        Class<?> eventType = subscriberMethod.eventType;\n       //获取订阅该事件的订阅者集合\n        CopyOnWriteArrayList<Subscription> subscriptions = subscriptionsByEventType.get(eventType);\n      //把通过register()订阅的订阅者包装成Subscription 对象\n        Subscription newSubscription = new Subscription(subscriber, subscriberMethod);\n        //订阅者集合为空，创建新的集合，并把newSubscription 加入\n        if (subscriptions == null) {\n            subscriptions = new CopyOnWriteArrayList<Subscription>();\n            subscriptionsByEventType.put(eventType, subscriptions);\n        } else {\n            //集合中已经有该订阅者，抛出异常。不能重复订阅\n            if (subscriptions.contains(newSubscription)) {\n                throw new EventBusException(\"Subscriber \" + subscriber.getClass() + \" already registered to event \"\n                        + eventType);\n            }\n        }\n       //把新的订阅者按照优先级加入到订阅者集合中。\n        synchronized (subscriptions) {\n            int size = subscriptions.size();\n            for (int i = 0; i <= size; i++) {\n                if (i == size || subscriberMethod.priority > subscriptions.get(i).subscriberMethod.priority) {\n                    subscriptions.add(i, newSubscription);\n                    break;\n                }\n            }\n        }\n```\n第二步：\n``` java\n        //根据订阅者，获得该订阅者订阅的事件类型集合\n        List<Class<?>> subscribedEvents = typesBySubscriber.get(subscriber);\n       //如果事件类型集合为空，创建新的集合，并加入新订阅的事件类型。\n        if (subscribedEvents == null) {\n            subscribedEvents = new ArrayList<Class<?>>();\n            typesBySubscriber.put(subscriber, subscribedEvents);\n        }\n       //如果事件类型集合不为空，加入新订阅的事件类型\n        subscribedEvents.add(eventType);\n```\n第三步：\n``` java\n//该事件是stick=true。\nif (subscriberMethod.sticky) {\n            //响应订阅事件的父类事件\n            if (eventInheritance) {\n                Set<Map.Entry<Class<?>, Object>> entries = stickyEvents.entrySet();\n                //循环获得每个stickyEvent事件\n                for (Map.Entry<Class<?>, Object> entry : entries) {\n                    Class<?> candidateEventType = entry.getKey();\n                    //是该类的父类\n                    if (eventType.isAssignableFrom(candidateEventType)) {\n                         //该事件类型最新的事件发送给当前订阅者。\n                        Object stickyEvent = entry.getValue();\n                        checkPostStickyEventToSubscription(newSubscription, stickyEvent);\n                    }\n                }\n            } else {\n                Object stickyEvent = stickyEvents.get(eventType);\n                checkPostStickyEventToSubscription(newSubscription, stickyEvent);\n            }\n        }\n```\n1. 通过subscriptionsByEventType得到该事件类型所有订阅者信息队列，根据优先级将当前订阅者信息插入到订阅者队列subscriptionsByEventType中；\n2. 在typesBySubscriber中得到当前订阅者订阅的所有事件队列，将此事件保存到队列typesBySubscriber中，用于后续取消订阅；\n3. 检查这个事件是否是 Sticky 事件，如果是则从stickyEvents事件保存队列中取出该事件类型最后一个事件发送给当前订阅者。\n\n以下是订阅的具体流程图：\n![eventbus_register](/images/eventbus_register.png)\n\n## unRegister\n``` java\npublic synchronized void unregister(Object subscriber) {\n    // 获取该订阅者所有的订阅事件类类型集合.\n    List<Class<?>> subscribedTypes = typesBySubscriber.get(subscriber);\n    if (subscribedTypes != null) {\n        for (Class<?> eventType : subscribedTypes) {\n            unsubscribeByEventType(subscriber, eventType);\n        }\n        // 从typesBySubscriber删除该<订阅者对象,订阅事件类类型集合>\n        typesBySubscriber.remove(subscriber);\n    } else {\n        Log.e(\"EventBus\", \"Subscriber to unregister was not registered before: \"\n                + subscriber.getClass());\n    }\n}\nprivate void unsubscribeByEventType(Object subscriber, Class<?> eventType) {\n    // 获取订阅事件对应的订阅者信息集合.\n    List<Subscription> subscriptions = subscriptionsByEventType.get(eventType);\n    if (subscriptions != null) {\n        int size = subscriptions.size();\n        for (int i = 0; i < size; i ++) {\n            Subscription subscription = subscriptions.get(i);\n            // 从订阅者集合中删除特定的订阅者.\n            if (subscription.subscriber == subscriber) {\n                subscription.active = false;\n                subscriptions.remove(i);\n                i --;\n                size --;\n            }\n        }\n    }\n}\n```\nunregister()方法比较简单，主要完成了subscriptionsByEventType以及typesBySubscriber两个集合的同步。\n## Post\n``` java\npublic void post(Object event) {\n    // 获取当前线程的Posting状态.\n    PostingThreadState postingState = currentPostingThreadState.get();\n    // 获取当前线程的事件队列.\n    List<Object> eventQueue = postingState.eventQueue;\n    //将当前事件添加到其事件队列\n    eventQueue.add(event);\n    //判断新加入的事件是否在分发中\n    if (!postingState.isPosting) {\n        postingState.isMainThread = Looper.getMainLooper() == Looper.myLooper();\n        postingState.isPosting = true;\n        if (postingState.canceled) {\n            throw new EventBusException(\"Internal error. Abort state was not reset\");\n        }\n        try {\n            // 循环处理当前线程eventQueue中的每一个event对象.\n            while (!eventQueue.isEmpty()) {\n                postSingleEvent(eventQueue.remove(0), postingState);\n            }\n        } finally {\n            // 重置postingState一些标识信息.\n            postingState.isPosting = false;\n            postingState.isMainThread = false;\n        }\n    }\n}\n```\npost 函数会首先得到当前线程的 post 信息 PostingThreadState，其中包含事件队列，将当前事件添加到其事件队列中，然后循环调用 postSingleEvent 函数发布队列中的每个事件。\n``` java\nprivate void postSingleEvent(Object event, PostingThreadState postingState) {\n   //分发事件的类型\n    Class<?> eventClass = event.getClass();\n    boolean subscriptionFound = false;\n   //响应订阅事件的父类事件\n    if (eventInheritance) {\n        //找出当前订阅事件类类型eventClass的所有父类的类类型和其实现的接口的类类型\n        List<Class<?>> eventTypes = lookupAllEventTypes(eventClass);\n        int countTypes = eventTypes.size();\n        for (int h = 0; h < countTypes; h ++) {\n            Class<?> clazz = eventTypes.get(h);\n            //发布每个事件到每个订阅者\n            subscriptionFound |= postSingleEventForEventType(event, postingState, clazz);\n        }\n    } else {\n        subscriptionFound = postSingleEventForEventType(event, postingState, eventClass);\n    }\n........\n}\n```\n调用 postSingleEventForEventType 函数发布每个事件到每个订阅者。\n``` java\nprivate boolean postSingleEventForEventType(Object event, PostingThreadState postingState,\n                                            Class<?> eventClass) {\n    CopyOnWriteArrayList<Subscription> subscriptions;\n    synchronized (this) {\n        // 获取订阅事件类类型对应的订阅者信息集合.(register函数时构造的集合)\n        subscriptions = subscriptionsByEventType.get(eventClass);\n    }\n    if (subscriptions != null && !subscriptions.isEmpty()) {\n        for (Subscription subscription : subscriptions) {\n            postingState.event = event;\n            postingState.subscription = subscription;\n            boolean aborted = false;\n            try {\n                // 发布订阅事件给订阅函数\n                postToSubscription(subscription, event, postingState.isMainThread);\n                aborted = postingState.canceled;\n            } finally {\n                postingState.event = null;\n                postingState.subscription = null;\n                postingState.canceled = false;\n            }\n            if (aborted) {\n                break;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n```\n调用 postToSubscription 函数向每个订阅者发布事件。\npostToSubscription 函数中会判断订阅者的 ThreadMode，从而决定在什么 Mode 下执行事件响应函数。这里就不贴源码了。后续还牵着到反射以及线程调度问题，这里就不展开了。\n```java\n    private void postToSubscription(Subscription subscription, Object event, boolean isMainThread) {\n        switch (subscription.subscriberMethod.threadMode) {\n            case POSTING:\n                invokeSubscriber(subscription, event);\n                break;\n            case MAIN:\n                if (isMainThread) {\n                    invokeSubscriber(subscription, event);\n                } else {\n                    mainThreadPoster.enqueue(subscription, event);\n                }\n                break;\n            case MAIN_ORDERED:\n                if (mainThreadPoster != null) {\n                    mainThreadPoster.enqueue(subscription, event);\n                } else {\n                    // temporary: technically not correct as poster not decoupled from subscriber\n                    invokeSubscriber(subscription, event);\n                }\n                break;\n            case BACKGROUND:\n                if (isMainThread) {\n                    backgroundPoster.enqueue(subscription, event);\n                } else {\n                    invokeSubscriber(subscription, event);\n                }\n                break;\n            case ASYNC:\n                asyncPoster.enqueue(subscription, event);\n                break;\n            default:\n                throw new IllegalStateException(\"Unknown thread mode: \" + subscription.subscriberMethod.threadMode);\n        }\n    }\n\n```\n其中mainThreadPoster是一个Handler。\n下面是具体的post的流程图\n![eventbus_post](/images/eventbus_post.png)\n","source":"_posts/EventBus解析.md","raw":"title: EventBus源码解析\ndate: 2019-3-3\ntags: [Android,开源框架]\ncategories: 源码解析\ndescription: 　　\n---\n转自[EventBus解析](https://www.bookstack.cn/read/android_interview/android-open-source-framework-EventBus.md)\n## 简析EventBus\nEventBus是一个Android端优化的publish/subscribe消息总线，简化了应用程序内各组件间、组件与后台线程间的通信。\n作为一个消息总线主要有三个组成部分：\n\n事件（Event）：可以是任意类型的对象。通过事件的发布者将事件进行传递。\n\n事件订阅者（Subscriber）：接收特定的事件。\n\n事件发布者（Publisher）：用于通知 Subscriber 有事件发生。可以在任意线程任意位置发送事件。\n![eventbus_resolve](/images/eventbus_simple_resolve.png)\n事件的发布者（Publisher）将事件（Event）通过post()方法发送。EventBus内部进行处理，找到订阅了该事件（Event）的事件订阅者（Subscriber）。然后该事件的订阅者（Subscriber）通过onEvent()方法接收事件进行相关处理（关于onEvent()在EventBus 3.0中有改动，下面详细说明）。\n\n## demo\n注册订阅\n``` java\nEventBus.getDefault().register(this);\n```\n事件处理\n``` java\n@Subscribe(threadMode = ThreadMode.MainThread)\n    public void  onNewsEvent(NewsEvent event){\n        String message = event.getMessage();\n        mTv_message.setText(message);\n    }\n```\n发布事件\n``` java\n EventBus.getDefault().post(new NewsEvent(\"我是来自SecondActivity的消息，你好！\"));\n```\n\n## Register\n进入getDefault()\n``` java\nstatic volatile EventBus defaultInstance;\npublic static EventBus getDefault() {\n        if (defaultInstance == null) {\n            synchronized (EventBus.class) {\n                if (defaultInstance == null) {\n                    defaultInstance = new EventBus();\n                }\n            }\n        }\n        return defaultInstance;\n    }\n```\n通过上述代码可以得知，getDefault()中通过双检查锁（DCL）机制实现了EventBus的单例机制，获得了一个默认配置的EventBus对象。\n在了解register()之前，先要了解一下EventBus中的几个关键的成员变量。方便对下面内容的理解。\n``` java\n/* Map<订阅事件, 订阅该事件的订阅者集合> */\nprivate final Map<Class<?>, CopyOnWriteArrayList<Subscription>> subscriptionsByEventType;\n/* Map<订阅者, 订阅事件集合> */\nprivate final Map<Object, List<Class<?>>> typesBySubscriber;\n/* Map<订阅事件类类型,订阅事件实例对象>. */\nprivate final Map<Class<?>, Object> stickyEvents;\n```\n下面看具体的register()中执行的代码。\n``` java\n    public void register(Object subscriber) {\n\t//订阅者类型\n        Class<?> subscriberClass = subscriber.getClass();\n\t\t //获取订阅者全部的响应函数信息（即上面的onNewsEvent()之类的方法）\n        List<SubscriberMethod> subscriberMethods = subscriberMethodFinder.findSubscriberMethods(subscriberClass);\n        synchronized (this) {\n\t\t //循环每一个事件响应函数，执行 subscribe()方法，更新订阅相关信息\n            for (SubscriberMethod subscriberMethod : subscriberMethods) {\n                subscribe(subscriber, subscriberMethod);\n            }\n        }\n    }\n```\nregister()\n1. 获取订阅者的类类型\n2. 通过SubscriberMethodFinder类来解析订阅者类,获取所有的响应函数集合\n3. 遍历订阅函数,执行 subscribe()方法，更新订阅相关信息\n\n继续看subscribe()方法。\nsubscribe 函数分三步\n第一步：\n``` java\n        //获取订阅的事件类型\n        Class<?> eventType = subscriberMethod.eventType;\n       //获取订阅该事件的订阅者集合\n        CopyOnWriteArrayList<Subscription> subscriptions = subscriptionsByEventType.get(eventType);\n      //把通过register()订阅的订阅者包装成Subscription 对象\n        Subscription newSubscription = new Subscription(subscriber, subscriberMethod);\n        //订阅者集合为空，创建新的集合，并把newSubscription 加入\n        if (subscriptions == null) {\n            subscriptions = new CopyOnWriteArrayList<Subscription>();\n            subscriptionsByEventType.put(eventType, subscriptions);\n        } else {\n            //集合中已经有该订阅者，抛出异常。不能重复订阅\n            if (subscriptions.contains(newSubscription)) {\n                throw new EventBusException(\"Subscriber \" + subscriber.getClass() + \" already registered to event \"\n                        + eventType);\n            }\n        }\n       //把新的订阅者按照优先级加入到订阅者集合中。\n        synchronized (subscriptions) {\n            int size = subscriptions.size();\n            for (int i = 0; i <= size; i++) {\n                if (i == size || subscriberMethod.priority > subscriptions.get(i).subscriberMethod.priority) {\n                    subscriptions.add(i, newSubscription);\n                    break;\n                }\n            }\n        }\n```\n第二步：\n``` java\n        //根据订阅者，获得该订阅者订阅的事件类型集合\n        List<Class<?>> subscribedEvents = typesBySubscriber.get(subscriber);\n       //如果事件类型集合为空，创建新的集合，并加入新订阅的事件类型。\n        if (subscribedEvents == null) {\n            subscribedEvents = new ArrayList<Class<?>>();\n            typesBySubscriber.put(subscriber, subscribedEvents);\n        }\n       //如果事件类型集合不为空，加入新订阅的事件类型\n        subscribedEvents.add(eventType);\n```\n第三步：\n``` java\n//该事件是stick=true。\nif (subscriberMethod.sticky) {\n            //响应订阅事件的父类事件\n            if (eventInheritance) {\n                Set<Map.Entry<Class<?>, Object>> entries = stickyEvents.entrySet();\n                //循环获得每个stickyEvent事件\n                for (Map.Entry<Class<?>, Object> entry : entries) {\n                    Class<?> candidateEventType = entry.getKey();\n                    //是该类的父类\n                    if (eventType.isAssignableFrom(candidateEventType)) {\n                         //该事件类型最新的事件发送给当前订阅者。\n                        Object stickyEvent = entry.getValue();\n                        checkPostStickyEventToSubscription(newSubscription, stickyEvent);\n                    }\n                }\n            } else {\n                Object stickyEvent = stickyEvents.get(eventType);\n                checkPostStickyEventToSubscription(newSubscription, stickyEvent);\n            }\n        }\n```\n1. 通过subscriptionsByEventType得到该事件类型所有订阅者信息队列，根据优先级将当前订阅者信息插入到订阅者队列subscriptionsByEventType中；\n2. 在typesBySubscriber中得到当前订阅者订阅的所有事件队列，将此事件保存到队列typesBySubscriber中，用于后续取消订阅；\n3. 检查这个事件是否是 Sticky 事件，如果是则从stickyEvents事件保存队列中取出该事件类型最后一个事件发送给当前订阅者。\n\n以下是订阅的具体流程图：\n![eventbus_register](/images/eventbus_register.png)\n\n## unRegister\n``` java\npublic synchronized void unregister(Object subscriber) {\n    // 获取该订阅者所有的订阅事件类类型集合.\n    List<Class<?>> subscribedTypes = typesBySubscriber.get(subscriber);\n    if (subscribedTypes != null) {\n        for (Class<?> eventType : subscribedTypes) {\n            unsubscribeByEventType(subscriber, eventType);\n        }\n        // 从typesBySubscriber删除该<订阅者对象,订阅事件类类型集合>\n        typesBySubscriber.remove(subscriber);\n    } else {\n        Log.e(\"EventBus\", \"Subscriber to unregister was not registered before: \"\n                + subscriber.getClass());\n    }\n}\nprivate void unsubscribeByEventType(Object subscriber, Class<?> eventType) {\n    // 获取订阅事件对应的订阅者信息集合.\n    List<Subscription> subscriptions = subscriptionsByEventType.get(eventType);\n    if (subscriptions != null) {\n        int size = subscriptions.size();\n        for (int i = 0; i < size; i ++) {\n            Subscription subscription = subscriptions.get(i);\n            // 从订阅者集合中删除特定的订阅者.\n            if (subscription.subscriber == subscriber) {\n                subscription.active = false;\n                subscriptions.remove(i);\n                i --;\n                size --;\n            }\n        }\n    }\n}\n```\nunregister()方法比较简单，主要完成了subscriptionsByEventType以及typesBySubscriber两个集合的同步。\n## Post\n``` java\npublic void post(Object event) {\n    // 获取当前线程的Posting状态.\n    PostingThreadState postingState = currentPostingThreadState.get();\n    // 获取当前线程的事件队列.\n    List<Object> eventQueue = postingState.eventQueue;\n    //将当前事件添加到其事件队列\n    eventQueue.add(event);\n    //判断新加入的事件是否在分发中\n    if (!postingState.isPosting) {\n        postingState.isMainThread = Looper.getMainLooper() == Looper.myLooper();\n        postingState.isPosting = true;\n        if (postingState.canceled) {\n            throw new EventBusException(\"Internal error. Abort state was not reset\");\n        }\n        try {\n            // 循环处理当前线程eventQueue中的每一个event对象.\n            while (!eventQueue.isEmpty()) {\n                postSingleEvent(eventQueue.remove(0), postingState);\n            }\n        } finally {\n            // 重置postingState一些标识信息.\n            postingState.isPosting = false;\n            postingState.isMainThread = false;\n        }\n    }\n}\n```\npost 函数会首先得到当前线程的 post 信息 PostingThreadState，其中包含事件队列，将当前事件添加到其事件队列中，然后循环调用 postSingleEvent 函数发布队列中的每个事件。\n``` java\nprivate void postSingleEvent(Object event, PostingThreadState postingState) {\n   //分发事件的类型\n    Class<?> eventClass = event.getClass();\n    boolean subscriptionFound = false;\n   //响应订阅事件的父类事件\n    if (eventInheritance) {\n        //找出当前订阅事件类类型eventClass的所有父类的类类型和其实现的接口的类类型\n        List<Class<?>> eventTypes = lookupAllEventTypes(eventClass);\n        int countTypes = eventTypes.size();\n        for (int h = 0; h < countTypes; h ++) {\n            Class<?> clazz = eventTypes.get(h);\n            //发布每个事件到每个订阅者\n            subscriptionFound |= postSingleEventForEventType(event, postingState, clazz);\n        }\n    } else {\n        subscriptionFound = postSingleEventForEventType(event, postingState, eventClass);\n    }\n........\n}\n```\n调用 postSingleEventForEventType 函数发布每个事件到每个订阅者。\n``` java\nprivate boolean postSingleEventForEventType(Object event, PostingThreadState postingState,\n                                            Class<?> eventClass) {\n    CopyOnWriteArrayList<Subscription> subscriptions;\n    synchronized (this) {\n        // 获取订阅事件类类型对应的订阅者信息集合.(register函数时构造的集合)\n        subscriptions = subscriptionsByEventType.get(eventClass);\n    }\n    if (subscriptions != null && !subscriptions.isEmpty()) {\n        for (Subscription subscription : subscriptions) {\n            postingState.event = event;\n            postingState.subscription = subscription;\n            boolean aborted = false;\n            try {\n                // 发布订阅事件给订阅函数\n                postToSubscription(subscription, event, postingState.isMainThread);\n                aborted = postingState.canceled;\n            } finally {\n                postingState.event = null;\n                postingState.subscription = null;\n                postingState.canceled = false;\n            }\n            if (aborted) {\n                break;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n```\n调用 postToSubscription 函数向每个订阅者发布事件。\npostToSubscription 函数中会判断订阅者的 ThreadMode，从而决定在什么 Mode 下执行事件响应函数。这里就不贴源码了。后续还牵着到反射以及线程调度问题，这里就不展开了。\n```java\n    private void postToSubscription(Subscription subscription, Object event, boolean isMainThread) {\n        switch (subscription.subscriberMethod.threadMode) {\n            case POSTING:\n                invokeSubscriber(subscription, event);\n                break;\n            case MAIN:\n                if (isMainThread) {\n                    invokeSubscriber(subscription, event);\n                } else {\n                    mainThreadPoster.enqueue(subscription, event);\n                }\n                break;\n            case MAIN_ORDERED:\n                if (mainThreadPoster != null) {\n                    mainThreadPoster.enqueue(subscription, event);\n                } else {\n                    // temporary: technically not correct as poster not decoupled from subscriber\n                    invokeSubscriber(subscription, event);\n                }\n                break;\n            case BACKGROUND:\n                if (isMainThread) {\n                    backgroundPoster.enqueue(subscription, event);\n                } else {\n                    invokeSubscriber(subscription, event);\n                }\n                break;\n            case ASYNC:\n                asyncPoster.enqueue(subscription, event);\n                break;\n            default:\n                throw new IllegalStateException(\"Unknown thread mode: \" + subscription.subscriberMethod.threadMode);\n        }\n    }\n\n```\n其中mainThreadPoster是一个Handler。\n下面是具体的post的流程图\n![eventbus_post](/images/eventbus_post.png)\n","slug":"EventBus解析","published":1,"updated":"2020-02-13T07:16:09.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxys001wqr3l8u0or19c"},{"title":"Find longest palindromic substring","date":"2019-01-14T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.\n ## Examples\n``` java\nExample 1:\nInput: \"babad\"\nOutput: \"bab\"\nNote: \"aba\" is also a valid answer.\n```\n```java\nExample 2:\nInput: \"cbbd\"\nOutput: \"bb\"\n```\n## Solution\n　　参考至[https://blog.csdn.net/qq_32354501/article/details/80084325](https://blog.csdn.net/qq_32354501/article/details/80084325)\n  　　1. 采取从中心向外扩散方法，根据子串长度分为奇数和偶数情况\n  　　2. 遍历每个除最后一个位置的字符index(字符位置)，奇数：初始low = 初始high = index，low和high均不超过原字符串的下限和上限；判断low和high处的字符是否相等，相等则low--、high++（偶数：初始high = 初始low+1 = index + 1）；\n  　　3. 每次low与high处的字符相等时，都将当前最长的回文子串长度与high-low+1比较。后者大时，记录两端索引\n  　　4. 重复执行2）、3），直至high-low+1 等于原字符串长度或者遍历到最后一个字符，取当前截取到的回文子串，该子串即为最长的回文子串。\n\n## Code\n\n```java\n class Solution {\n       public static int sMaxLength, leftIndex, rightIndex;\n\n    public String longestPalindrome(String s) {\n        sMaxLength = 0;\n        leftIndex = 0;\n        rightIndex = 0;\n        if (s == null || s.length() <= 1) {\n            return s;\n        }\n        for (int i = 0; i < s.length(); i++) {\n            findLongestPalindromic(s, i, i);//odd\n            findLongestPalindromic(s, i, i + 1);//even\n        }\n        return s.substring(leftIndex, rightIndex);\n    }\n\n    public void findLongestPalindromic(String s, int low, int high) {\n        while (low >= 0 && high <= s.length() - 1) {\n            if (s.charAt(low) == s.charAt(high)) {\n                int len = high - low + 1;\n                if (len > sMaxLength) {\n                    sMaxLength = len;\n                    leftIndex = low;\n                    rightIndex = high + 1;\n                }\n                low--;//Bear in mind that changing index\n                high++;\n            } else {\n                break;\n            }\n        }\n    }\n\n\n}\n```","source":"_posts/Find longest palindromic substring.md","raw":"title: Find longest palindromic substring\ndate: 2019-1-15\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.\n ## Examples\n``` java\nExample 1:\nInput: \"babad\"\nOutput: \"bab\"\nNote: \"aba\" is also a valid answer.\n```\n```java\nExample 2:\nInput: \"cbbd\"\nOutput: \"bb\"\n```\n## Solution\n　　参考至[https://blog.csdn.net/qq_32354501/article/details/80084325](https://blog.csdn.net/qq_32354501/article/details/80084325)\n  　　1. 采取从中心向外扩散方法，根据子串长度分为奇数和偶数情况\n  　　2. 遍历每个除最后一个位置的字符index(字符位置)，奇数：初始low = 初始high = index，low和high均不超过原字符串的下限和上限；判断low和high处的字符是否相等，相等则low--、high++（偶数：初始high = 初始low+1 = index + 1）；\n  　　3. 每次low与high处的字符相等时，都将当前最长的回文子串长度与high-low+1比较。后者大时，记录两端索引\n  　　4. 重复执行2）、3），直至high-low+1 等于原字符串长度或者遍历到最后一个字符，取当前截取到的回文子串，该子串即为最长的回文子串。\n\n## Code\n\n```java\n class Solution {\n       public static int sMaxLength, leftIndex, rightIndex;\n\n    public String longestPalindrome(String s) {\n        sMaxLength = 0;\n        leftIndex = 0;\n        rightIndex = 0;\n        if (s == null || s.length() <= 1) {\n            return s;\n        }\n        for (int i = 0; i < s.length(); i++) {\n            findLongestPalindromic(s, i, i);//odd\n            findLongestPalindromic(s, i, i + 1);//even\n        }\n        return s.substring(leftIndex, rightIndex);\n    }\n\n    public void findLongestPalindromic(String s, int low, int high) {\n        while (low >= 0 && high <= s.length() - 1) {\n            if (s.charAt(low) == s.charAt(high)) {\n                int len = high - low + 1;\n                if (len > sMaxLength) {\n                    sMaxLength = len;\n                    leftIndex = low;\n                    rightIndex = high + 1;\n                }\n                low--;//Bear in mind that changing index\n                high++;\n            } else {\n                break;\n            }\n        }\n    }\n\n\n}\n```","slug":"Find longest palindromic substring","published":1,"updated":"2020-02-13T07:16:09.046Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyt0020qr3ln79o0duz"},{"title":"Find  the cycle begins node","date":"2019-01-03T16:00:00.000Z","description":"Given a linked list, return the node where the cycle begins","_content":"## Problem description\n  ### Given a linked list, return the node where the cycle begins. If there is no cycle, return null. To represent a cycle in the given linked list, we use an integer pos which represents the position (0-indexed) in the linked list where tail connects to. If pos is -1, then there is no cycle in the linked list.\n  ### Note: Do not modify the linked list.Solve it without using extra space?\n ## Examples\n``` java\nExample 1:\nInput: head = [3,2,0,-4], pos = 1\nOutput: tail connects to node index 1\nExplanation: There is a cycle in the linked list, where tail connects to the second n\n```\n```java\nExample 2:\nInput: head = [1,2], pos = 0\nOutput: tail connects to node index 0\nExplanation: There is a cycle in the linked list, where tail connects to the first node.\n```\n```java\nExample 3:\nInput: head = [1], pos = -1\nOutput: no cycle\nExplanation: There is no cycle in the linked list.\n```\n\n## Solution\n　　![cycle_list](/images/cycle_list.PNG)\n  Y为环的起点，Z为slow走一步与fast走两步的第一次相遇之点。当第一次相遇时slow走过的距离：a+b，fast走过的距离：a+b+c+b。因为fast的速度是slow的两倍，所以fast走的距离是slow的两倍，有 2(a+b) = a+b+c+b，可以得到a=c。所以先找到slow与fast相遇的Z点。在令slow从X开始走，fast从Z点同步走相遇即为Y点\n  一个小细节与上道题的差异：在第一次相遇之点的判断与上题不同。while (fastNode != null && fastNode.next != null) 与上题的while (fastNode.next != null && fastNode.next.next != null) 不同。而且都不能随意替换。这道题如果换成后者会结果出错。要具体问题具体分析条件，差异主要体现在链表结点数目为偶数时，前者会取到length / 2 + 1,后者会取到 length/2 - 1. \n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class Solution {\n      public ListNode detectCycle(ListNode head) {\n        if (head == null) {\n            return null;\n        }\n        ListNode fastNode = head, slowNode = head;\n        while (fastNode != null && fastNode.next != null) {\n            fastNode = fastNode.next.next;\n            slowNode = slowNode.next;\n            if (fastNode == slowNode) {\n                break;\n            }\n        }\n        if (fastNode == slowNode && fastNode.next != null) {\n            slowNode = head;\n            while (slowNode != fastNode) {\n                slowNode = slowNode.next;\n                fastNode = fastNode.next;\n            }\n            return fastNode;\n        }\n        return null;\n    }\n}\n```","source":"_posts/Find the cycle begins node.md","raw":"title: Find  the cycle begins node\ndate: 2019-1-4\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Given a linked list, return the node where the cycle begins\n---\n## Problem description\n  ### Given a linked list, return the node where the cycle begins. If there is no cycle, return null. To represent a cycle in the given linked list, we use an integer pos which represents the position (0-indexed) in the linked list where tail connects to. If pos is -1, then there is no cycle in the linked list.\n  ### Note: Do not modify the linked list.Solve it without using extra space?\n ## Examples\n``` java\nExample 1:\nInput: head = [3,2,0,-4], pos = 1\nOutput: tail connects to node index 1\nExplanation: There is a cycle in the linked list, where tail connects to the second n\n```\n```java\nExample 2:\nInput: head = [1,2], pos = 0\nOutput: tail connects to node index 0\nExplanation: There is a cycle in the linked list, where tail connects to the first node.\n```\n```java\nExample 3:\nInput: head = [1], pos = -1\nOutput: no cycle\nExplanation: There is no cycle in the linked list.\n```\n\n## Solution\n　　![cycle_list](/images/cycle_list.PNG)\n  Y为环的起点，Z为slow走一步与fast走两步的第一次相遇之点。当第一次相遇时slow走过的距离：a+b，fast走过的距离：a+b+c+b。因为fast的速度是slow的两倍，所以fast走的距离是slow的两倍，有 2(a+b) = a+b+c+b，可以得到a=c。所以先找到slow与fast相遇的Z点。在令slow从X开始走，fast从Z点同步走相遇即为Y点\n  一个小细节与上道题的差异：在第一次相遇之点的判断与上题不同。while (fastNode != null && fastNode.next != null) 与上题的while (fastNode.next != null && fastNode.next.next != null) 不同。而且都不能随意替换。这道题如果换成后者会结果出错。要具体问题具体分析条件，差异主要体现在链表结点数目为偶数时，前者会取到length / 2 + 1,后者会取到 length/2 - 1. \n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) {\n *         val = x;\n *         next = null;\n *     }\n * }\n */\npublic class Solution {\n      public ListNode detectCycle(ListNode head) {\n        if (head == null) {\n            return null;\n        }\n        ListNode fastNode = head, slowNode = head;\n        while (fastNode != null && fastNode.next != null) {\n            fastNode = fastNode.next.next;\n            slowNode = slowNode.next;\n            if (fastNode == slowNode) {\n                break;\n            }\n        }\n        if (fastNode == slowNode && fastNode.next != null) {\n            slowNode = head;\n            while (slowNode != fastNode) {\n                slowNode = slowNode.next;\n                fastNode = fastNode.next;\n            }\n            return fastNode;\n        }\n        return null;\n    }\n}\n```","slug":"Find the cycle begins node","published":1,"updated":"2020-02-13T07:16:09.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyu0024qr3l0byctuwr"},{"title":"Counting Bits","date":"2020-01-31T16:00:00.000Z","description":"位运算 + 递推式的运用　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/counting-bits/\n\n\n## Solution\n\n参考题解\n\nhttps://leetcode-cn.com/problems/counting-bits/comments/\n\nres[i] : 数字 i 含有多少个 1，令 n = i & (i - 1), 其中 i & i - 1会将 i 最右侧的 1 置为 0，那 res[i] = res[n] + 少了的一\n\n## Code\n\n```java\nclass Solution {\n     fun countBits(num: Int): IntArray {\n        val res = IntArray(num + 1)\n        for (i in 1..num) {\n            res[i] = res[i and (i - 1)] + 1\n        }\n        return res\n    }\n}\n```","source":"_posts/Counting_Bits.md","raw":"title:  Counting Bits\ndate: 2020-2-1\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 位运算 + 递推式的运用　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/counting-bits/\n\n\n## Solution\n\n参考题解\n\nhttps://leetcode-cn.com/problems/counting-bits/comments/\n\nres[i] : 数字 i 含有多少个 1，令 n = i & (i - 1), 其中 i & i - 1会将 i 最右侧的 1 置为 0，那 res[i] = res[n] + 少了的一\n\n## Code\n\n```java\nclass Solution {\n     fun countBits(num: Int): IntArray {\n        val res = IntArray(num + 1)\n        for (i in 1..num) {\n            res[i] = res[i and (i - 1)] + 1\n        }\n        return res\n    }\n}\n```","slug":"Counting_Bits","published":1,"updated":"2020-02-12T02:38:03.978Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyv0027qr3l5nhdzqrr"},{"title":"Find the largest square area","date":"2019-01-06T16:00:00.000Z","mathjax":true,"description":"Find the largest square containing only 1's and return its area.","_content":"## Problem description\n  ### Given a 2D binary matrix filled with 0's and 1's, find the largest square containing only 1's and return its area.\n ## Examples\n``` java\nExample 1:\nInput: \n\n1 0 1 0 0\n1 0 1 1 1\n1 1 1 1 1\n1 0 0 1 0\n\nOutput: 4\n```\n## Solution\n　　方向是确定的，DP，但总是想不出来状态方程出来。图是个好东西。\n  ![dp1](/images/Find the largest square area dp1.jpg )\n  dp[i][j]表示以matrix[i][j]为右下角的正方形最大边长（1.保证一定是正方形 2.保证边长为最大边长）。为什么可以做到保证为正方形呢？当matrix[2][2] = 1时，从图中观察可知当dp[1][1]、dp[1][2] 、dp[2][1]但凡只要有一个为0，必然构不成正方形。\n  所以状态方程为：\n  $$ dp[i][j] =\\left\\{\n\\begin{aligned}\nmin(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1 && \\ matrix[i][j] = 1 \\\\\n0 && \\ matrix[i][j] = 0 \\\\\n\\end{aligned}\n\\right.\n$$\n\n## Code\n\n```java\n class Solution {\n        public int maximalSquare(char[][] matrix) {\n        if (matrix.length == 0) {\n            return 0;\n        }\n        int max = Integer.MIN_VALUE;\n        int row = matrix.length;\n        int column = matrix[0].length;\n        int f[][] = new int[row][column ];\n        for (int i = 0; i < row; i++) {\n            if (matrix[i][0] == '1') {\n                f[i][0] = 1;\n                max = 1;\n            }\n        }\n        for (int i = 0; i < column; i++) {\n            if (matrix[0][i] == '1') {\n                f[0][i] = 1;\n                max = 1;\n            }\n        }\n        for (int i = 1; i < row; i++) {\n            for (int j = 1; j < column; j++) {\n                if (matrix[i][j] == '1') {\n                    f[i][j] = Math.min(f[i - 1][j - 1], Math.min(f[i][j - 1], f[i - 1][j])) + 1;\n                    max = Math.max(max, f[i][j]);\n                }\n            }\n        }\n        return max * max;\n    }\n\n}\n```","source":"_posts/Find the largest square area.md","raw":"title: Find the largest square area\ndate: 2019-1-7\nmathjax: true\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription:  Find the largest square containing only 1's and return its area.\n---\n## Problem description\n  ### Given a 2D binary matrix filled with 0's and 1's, find the largest square containing only 1's and return its area.\n ## Examples\n``` java\nExample 1:\nInput: \n\n1 0 1 0 0\n1 0 1 1 1\n1 1 1 1 1\n1 0 0 1 0\n\nOutput: 4\n```\n## Solution\n　　方向是确定的，DP，但总是想不出来状态方程出来。图是个好东西。\n  ![dp1](/images/Find the largest square area dp1.jpg )\n  dp[i][j]表示以matrix[i][j]为右下角的正方形最大边长（1.保证一定是正方形 2.保证边长为最大边长）。为什么可以做到保证为正方形呢？当matrix[2][2] = 1时，从图中观察可知当dp[1][1]、dp[1][2] 、dp[2][1]但凡只要有一个为0，必然构不成正方形。\n  所以状态方程为：\n  $$ dp[i][j] =\\left\\{\n\\begin{aligned}\nmin(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1 && \\ matrix[i][j] = 1 \\\\\n0 && \\ matrix[i][j] = 0 \\\\\n\\end{aligned}\n\\right.\n$$\n\n## Code\n\n```java\n class Solution {\n        public int maximalSquare(char[][] matrix) {\n        if (matrix.length == 0) {\n            return 0;\n        }\n        int max = Integer.MIN_VALUE;\n        int row = matrix.length;\n        int column = matrix[0].length;\n        int f[][] = new int[row][column ];\n        for (int i = 0; i < row; i++) {\n            if (matrix[i][0] == '1') {\n                f[i][0] = 1;\n                max = 1;\n            }\n        }\n        for (int i = 0; i < column; i++) {\n            if (matrix[0][i] == '1') {\n                f[0][i] = 1;\n                max = 1;\n            }\n        }\n        for (int i = 1; i < row; i++) {\n            for (int j = 1; j < column; j++) {\n                if (matrix[i][j] == '1') {\n                    f[i][j] = Math.min(f[i - 1][j - 1], Math.min(f[i][j - 1], f[i - 1][j])) + 1;\n                    max = Math.max(max, f[i][j]);\n                }\n            }\n        }\n        return max * max;\n    }\n\n}\n```","slug":"Find the largest square area","published":1,"updated":"2020-02-13T07:16:09.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyw002cqr3lfdehihwu"},{"title":"Find the length of the longest consecutive elements sequence.","date":"2018-12-31T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given an unsorted array of integers, find the length of the longest consecutive elements sequence.Your algorithm should run in O(n) complexity.\n ## Examples\n``` java\nExample 1:\nInput: [100, 4, 200, 1, 3, 2]\nOutput: 4\nExplanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.\n```\n## Solution\n　　一开始想通过计数排序，再统计最大连续长度。忽略题目未说是正数呀。遇到负数就炸了。用HashMap来存当前值处的连续区间长度。当插入一个数时，取出当前值前后的连续区间长度left，right。当前的区间长度 = left + right. + 1。.复杂问题优先考虑分治，拆成一个个小问题。假设左边已经是排好，右边已经排好。插入中间值，仅需将左侧长度+右侧长度+1即为整块区间长度。\n\n## Code\n\n```java\n class Solution {\n    \npublic int longestConsecutive(int[] nums) {\n        Map<Integer, Integer> map = new HashMap<>();\n        int low, high, sum;\n        int maxLength = 0;\n        for (int i = 0; i < nums.length; i++) {\n            if (map.containsKey(nums[i])) {\n                continue;\n            }\n            low = map.containsKey(nums[i] - 1) ? map.get(nums[i] - 1) : 0;\n            high = map.containsKey(nums[i] + 1) ? map.get(nums[i] + 1) : 0;//get both sides' consecutive information.\n            sum = low + high + 1;\n            maxLength = Math.max(maxLength, sum);\n            map.put(nums[i], sum);\n            map.put(nums[i] - low, sum);\n            map.put(nums[i] + high, sum);//merge\n        }\n        return maxLength;\n    }\n}\n```","source":"_posts/Find the length of the longest.md","raw":"title: Find the length of the longest consecutive elements sequence.\ndate: 2019-1-1\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given an unsorted array of integers, find the length of the longest consecutive elements sequence.Your algorithm should run in O(n) complexity.\n ## Examples\n``` java\nExample 1:\nInput: [100, 4, 200, 1, 3, 2]\nOutput: 4\nExplanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.\n```\n## Solution\n　　一开始想通过计数排序，再统计最大连续长度。忽略题目未说是正数呀。遇到负数就炸了。用HashMap来存当前值处的连续区间长度。当插入一个数时，取出当前值前后的连续区间长度left，right。当前的区间长度 = left + right. + 1。.复杂问题优先考虑分治，拆成一个个小问题。假设左边已经是排好，右边已经排好。插入中间值，仅需将左侧长度+右侧长度+1即为整块区间长度。\n\n## Code\n\n```java\n class Solution {\n    \npublic int longestConsecutive(int[] nums) {\n        Map<Integer, Integer> map = new HashMap<>();\n        int low, high, sum;\n        int maxLength = 0;\n        for (int i = 0; i < nums.length; i++) {\n            if (map.containsKey(nums[i])) {\n                continue;\n            }\n            low = map.containsKey(nums[i] - 1) ? map.get(nums[i] - 1) : 0;\n            high = map.containsKey(nums[i] + 1) ? map.get(nums[i] + 1) : 0;//get both sides' consecutive information.\n            sum = low + high + 1;\n            maxLength = Math.max(maxLength, sum);\n            map.put(nums[i], sum);\n            map.put(nums[i] - low, sum);\n            map.put(nums[i] + high, sum);//merge\n        }\n        return maxLength;\n    }\n}\n```","slug":"Find the length of the longest","published":1,"updated":"2020-02-13T07:16:09.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyx002fqr3le67ehjvf"},{"title":"Find the maximum path sum","date":"2019-01-23T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a non-empty binary tree, find the maximum path sum.For this problem, a path is defined as any sequence of nodes from some starting node to any node in the tree along the parent-child connections. The path must contain at least one node and does not need to go through the root.\n ## Examples\n``` java\nExample 1:\nInput: [1,2,3]\n\n       1\n      / \\\n     2   3\n\nOutput: 6\n```\n```java\nExample 2:\nInput: [-10,9,20,null,null,15,7]\n\n   -10\n   / \\\n  9  20\n    /  \\\n   15   7\n\nOutput: 42\n```\n## Solution\n　　每个节点的左右子树的最大路径和为左右子树的最大路径和的最大值加上当前节点值。取其中最大值即为二叉树的路径和。\n## Code\n```java\n class Solution {\n    int res = Integer.MIN_VALUE;\n\n    public int maxPathSum(TreeNode root) {\n        findMaxPath(root);\n        return res;\n    }\n\n    public int findMaxPath(TreeNode node) {\n        if (node == null) {\n            return 0;\n        }\n        int left = findMaxPath(node.left);\n        int right = findMaxPath(node.right);\n        res = Math.max(res, Math.max(0, left) + Math.max(0, right) + node.val);\n        return Math.max(0, Math.max(left, right)) + node.val;\n    }\n\n}\n```","source":"_posts/Find the maximum path sum.md","raw":"title: Find the maximum path sum\ndate: 2019-1-24\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a non-empty binary tree, find the maximum path sum.For this problem, a path is defined as any sequence of nodes from some starting node to any node in the tree along the parent-child connections. The path must contain at least one node and does not need to go through the root.\n ## Examples\n``` java\nExample 1:\nInput: [1,2,3]\n\n       1\n      / \\\n     2   3\n\nOutput: 6\n```\n```java\nExample 2:\nInput: [-10,9,20,null,null,15,7]\n\n   -10\n   / \\\n  9  20\n    /  \\\n   15   7\n\nOutput: 42\n```\n## Solution\n　　每个节点的左右子树的最大路径和为左右子树的最大路径和的最大值加上当前节点值。取其中最大值即为二叉树的路径和。\n## Code\n```java\n class Solution {\n    int res = Integer.MIN_VALUE;\n\n    public int maxPathSum(TreeNode root) {\n        findMaxPath(root);\n        return res;\n    }\n\n    public int findMaxPath(TreeNode node) {\n        if (node == null) {\n            return 0;\n        }\n        int left = findMaxPath(node.left);\n        int right = findMaxPath(node.right);\n        res = Math.max(res, Math.max(0, left) + Math.max(0, right) + node.val);\n        return Math.max(0, Math.max(left, right)) + node.val;\n    }\n\n}\n```","slug":"Find the maximum path sum","published":1,"updated":"2020-02-13T07:16:09.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyy002jqr3ls1sf804g"},{"title":"Find the single one number","date":"2019-01-12T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a non-empty array of integers, every element appears twice except for one. Find that single one.Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?\n ## Examples\n``` java\nExample 1:\nInput: [2,2,1]\nOutput: 1\n```\n```java\nExample 2:\nInput: [4,1,2,1,2]\nOutput: 4\n```\n\n\n## Solution\n　　异或概念：\n  　\n\n| &&      | 一假则假，短路 |\n| ------- | -------------- |\n| &          | 全判断                |\n| &#124;&#124;           | 一真则真，短路 |\n| &#124;      | 全判断         |\n| ^(异或) | 相异为真       |\n  \n　　剑指Offer的一道题，采用异或的方法。异或可以实现在不使用临时变量的情况下，交换两个值。\n```java\na = a ^ b\nb = a ^ b // a ^ b ^ b = a ^ 0 = a\na = a ^ b // a ^ b ^ a = b ^ 0 = b\n```\n## Code\n\n```java\n class Solution {\n    public int singleNumber(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return -1;\n        }\n        int result = 0;\n        for (int i = 0; i < nums.length; i++) {\n            result = result ^ nums[i];\n        }\n        return result;\n    }\n\n}\n```","source":"_posts/Find the single one number.md","raw":"title:  Find the single one number\ndate: 2019-1-13\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a non-empty array of integers, every element appears twice except for one. Find that single one.Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?\n ## Examples\n``` java\nExample 1:\nInput: [2,2,1]\nOutput: 1\n```\n```java\nExample 2:\nInput: [4,1,2,1,2]\nOutput: 4\n```\n\n\n## Solution\n　　异或概念：\n  　\n\n| &&      | 一假则假，短路 |\n| ------- | -------------- |\n| &          | 全判断                |\n| &#124;&#124;           | 一真则真，短路 |\n| &#124;      | 全判断         |\n| ^(异或) | 相异为真       |\n  \n　　剑指Offer的一道题，采用异或的方法。异或可以实现在不使用临时变量的情况下，交换两个值。\n```java\na = a ^ b\nb = a ^ b // a ^ b ^ b = a ^ 0 = a\na = a ^ b // a ^ b ^ a = b ^ 0 = b\n```\n## Code\n\n```java\n class Solution {\n    public int singleNumber(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return -1;\n        }\n        int result = 0;\n        for (int i = 0; i < nums.length; i++) {\n            result = result ^ nums[i];\n        }\n        return result;\n    }\n\n}\n```","slug":"Find the single one number","published":1,"updated":"2020-02-13T07:16:09.048Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxyz002mqr3ldngj93mh"},{"title":"Find the median of the two sorted arrays","date":"2019-01-13T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### There are two sorted arrays nums1 and nums2 of size m and n respectively.Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).You may assume nums1 and nums2 cannot be both empty.\n ## Examples\n``` java\nExample 1:\nnums1 = [1, 3]\nnums2 = [2]\nThe median is 2.0\n```\n```java\nExample 2:\nnums1 = [1, 2]\nnums2 = [3, 4]\nThe median is (2 + 3)/2 = 2.5\n```\n## Solution\n> 中位数是用来将一个集合划分为两个长度相等的子集，其中一个子集中的元素总是大于另一个子集中的元素。\n \n  1.两个长度相等的子集\n   2.一个子集中的元素总是大于另一个子集中的元素。\n\n在这道题目中始终注意两个数组均为__有序__数组。\n\n首先在任一位置 i 将A数组 划分成两个部分：\n![partitionA](/images/partitionA.PNG)\n\nlen(left_A)=i,len(right_A)=m−i.\n\n注意：当 i = 0 时，left_A 为空集， 而当 i =m 时, right_A 为空集。\n\n同理在任一位置 j 将B数组 划分成两个部分：\n![partitionB](/images/partitionB.PNG)\n\n将left_A 和left_B 放入一个集合，并将 right_A 和right_B 放入另一个集合。 再把这两个新的集合分别命名为left_part 和right_part：\n![partitionAB](/images/partitionAB.PNG)\n\n只要满足 \n1. len(left_part)=len(right_part)\n2. max(left_part) < min(right_part)\n\n要确保这两个条件，只需要保证：\n![](/images/par_condition.PNG)\n\n我们可以按照以下步骤来进行二叉树搜索保证B[j - 1] <= A[i] && A[i - 1] <=  B[j]：\n设 iMin = 0, iMax = m，在[iMin, iMax]中搜索\n令i = (iMax + iMin)  / 2, j = (m + n + 1) / 2 - i  （保证len(left_part) = len(right_part)  ）。接下来会遇到三种情况。\n1. B[j - 1 ] <= A[i] && A[i - 1] <=  B[j]时，找到对应i\n2.  B[j - 1] > A[i]时，i小了， iMin  =  i + 1\n3.  A[i - 1] > B[j], iMax = i - 1\n\n此外，难处理的就是边界问题，i = 0,m; j = 0,n.当 i, j 为临界值时，只需要判断B[j - 1] <= A[i] & A[i - 1] <=  B[j]：一半即可。即i = 0时，A[i - 1]不存在，只需判断B[j - 1] 即可\n\n## Code\n\n```java\nclass Solution {\n        public double findMedianSortedArrays(int[] nums1, int[] nums2) {\n        if (nums1.length > nums2.length) {\n            return findMedianSortedArrays(nums2, nums1);\n        }\n        int S1Len = nums1.length;\n        int S2Len = nums2.length;\n        int iMin = 0, iMax = S1Len, halfLen = (S1Len + S2Len + 1) / 2;\n        while (iMin <= iMax) {\n            int i = (iMin + iMax) / 2;\n            int j = halfLen - i;\n            if (i < iMax && nums1[i] < nums2[j - 1]) {\n                iMin = i + 1;\n            } else if (iMin < i && nums2[j] < nums1[i - 1]) {\n                iMax = i - 1;\n            } else {\n                int maxLeft = 0;\n                if (i == 0) {\n                    maxLeft = nums2[j - 1];\n                } else if (j == 0) {\n                    maxLeft = nums1[i - 1];\n                } else {\n                    maxLeft = Math.max(nums1[i - 1], nums2[j - 1]);\n                }\n                if (((S1Len + S2Len) & 1) == 1) {\n                    return maxLeft;\n                }\n                int minRight = 0;\n                if (i == S1Len) {\n                    minRight = nums2[j];\n                } else if (j == S2Len) {\n                    minRight = nums1[i];\n                } else {\n                    minRight = Math.min(nums1[i], nums2[j]);\n                }\n                return (maxLeft + minRight) / 2.0;\n            }\n        }\n        return 0.0;\n    }\n\n}\n```","source":"_posts/Find the median of the two sorted arrays.md","raw":"title: Find the median of the two sorted arrays\ndate: 2019-1-14\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription:   　　\n---\n## Problem description\n  ### There are two sorted arrays nums1 and nums2 of size m and n respectively.Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).You may assume nums1 and nums2 cannot be both empty.\n ## Examples\n``` java\nExample 1:\nnums1 = [1, 3]\nnums2 = [2]\nThe median is 2.0\n```\n```java\nExample 2:\nnums1 = [1, 2]\nnums2 = [3, 4]\nThe median is (2 + 3)/2 = 2.5\n```\n## Solution\n> 中位数是用来将一个集合划分为两个长度相等的子集，其中一个子集中的元素总是大于另一个子集中的元素。\n \n  1.两个长度相等的子集\n   2.一个子集中的元素总是大于另一个子集中的元素。\n\n在这道题目中始终注意两个数组均为__有序__数组。\n\n首先在任一位置 i 将A数组 划分成两个部分：\n![partitionA](/images/partitionA.PNG)\n\nlen(left_A)=i,len(right_A)=m−i.\n\n注意：当 i = 0 时，left_A 为空集， 而当 i =m 时, right_A 为空集。\n\n同理在任一位置 j 将B数组 划分成两个部分：\n![partitionB](/images/partitionB.PNG)\n\n将left_A 和left_B 放入一个集合，并将 right_A 和right_B 放入另一个集合。 再把这两个新的集合分别命名为left_part 和right_part：\n![partitionAB](/images/partitionAB.PNG)\n\n只要满足 \n1. len(left_part)=len(right_part)\n2. max(left_part) < min(right_part)\n\n要确保这两个条件，只需要保证：\n![](/images/par_condition.PNG)\n\n我们可以按照以下步骤来进行二叉树搜索保证B[j - 1] <= A[i] && A[i - 1] <=  B[j]：\n设 iMin = 0, iMax = m，在[iMin, iMax]中搜索\n令i = (iMax + iMin)  / 2, j = (m + n + 1) / 2 - i  （保证len(left_part) = len(right_part)  ）。接下来会遇到三种情况。\n1. B[j - 1 ] <= A[i] && A[i - 1] <=  B[j]时，找到对应i\n2.  B[j - 1] > A[i]时，i小了， iMin  =  i + 1\n3.  A[i - 1] > B[j], iMax = i - 1\n\n此外，难处理的就是边界问题，i = 0,m; j = 0,n.当 i, j 为临界值时，只需要判断B[j - 1] <= A[i] & A[i - 1] <=  B[j]：一半即可。即i = 0时，A[i - 1]不存在，只需判断B[j - 1] 即可\n\n## Code\n\n```java\nclass Solution {\n        public double findMedianSortedArrays(int[] nums1, int[] nums2) {\n        if (nums1.length > nums2.length) {\n            return findMedianSortedArrays(nums2, nums1);\n        }\n        int S1Len = nums1.length;\n        int S2Len = nums2.length;\n        int iMin = 0, iMax = S1Len, halfLen = (S1Len + S2Len + 1) / 2;\n        while (iMin <= iMax) {\n            int i = (iMin + iMax) / 2;\n            int j = halfLen - i;\n            if (i < iMax && nums1[i] < nums2[j - 1]) {\n                iMin = i + 1;\n            } else if (iMin < i && nums2[j] < nums1[i - 1]) {\n                iMax = i - 1;\n            } else {\n                int maxLeft = 0;\n                if (i == 0) {\n                    maxLeft = nums2[j - 1];\n                } else if (j == 0) {\n                    maxLeft = nums1[i - 1];\n                } else {\n                    maxLeft = Math.max(nums1[i - 1], nums2[j - 1]);\n                }\n                if (((S1Len + S2Len) & 1) == 1) {\n                    return maxLeft;\n                }\n                int minRight = 0;\n                if (i == S1Len) {\n                    minRight = nums2[j];\n                } else if (j == S2Len) {\n                    minRight = nums1[i];\n                } else {\n                    minRight = Math.min(nums1[i], nums2[j]);\n                }\n                return (maxLeft + minRight) / 2.0;\n            }\n        }\n        return 0.0;\n    }\n\n}\n```","slug":"Find the median of the two sorted arrays","published":1,"updated":"2020-02-13T07:16:09.047Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz0002qqr3l5fszgb0x"},{"title":"Foreach与迭代器","date":"2016-01-03T16:00:00.000Z","description":"神器的迭代器","_content":"## Foreach与迭代器\n\n  emmmmmm，孤陋寡闻的博主在看TIJ之前只以为Foreach语句只可以用在数组，结果没想到可以应用到任意Collection对象。/捂脸\n\n  瞅瞅Collection对象的Foreach肿么写哈......\n\n```java\npublic class IterableClass implements Iterable<String> {  \n  \n    String[] words = (\"Nice to meet you\").split(\" \");  \n  \n    public Iterator<String> iterator() {  \n        return new Iterator<String>(){  \n            private int index = 0;  \n            public boolean hasNext() {  \n                return index < words.length;  \n            }  \n  \n            public String next() {  \n                return words[index++];  \n            }  \n              \n        };  \n    }  \n  public static void main(String[] args) {  \n        for(String s : new IterableClass()){  \n            System.out.print(s + \" \");  \n        }  \n    }  \n}  \n\n```\n\n  输出请自行脑补，不做另行说明....刚才是谁说我菜的站出来，说的就是你，死肥宅！！！\n\n\n  从上述代码可以看出一个类要使用ForEach需要实现Iterable这个接口，实现iterator()方法，在方法中可以看到我返回了一个匿名内部类，操作的具体实现都在内部类里面了。它也就重写了hasNext()、next()方法在遍历时进行回调。\n\n\n  emmmmm还有一个ForEach的非常规操作，一般人我都不告诉，看在阁下看你的骨骼精奇，是万中无一的武学奇才，见与你有缘。就告诉你罢。\n\n\n  众所周知，ForEach都是顺序访问，那要逆序访问呢？show you the code......\n\n\n```java\nclass ReverseArrayList<T> extends ArrayList<T> {\n\n    public ReverseArrayList(@NotNull Collection<? extends T> c) {\n        super(c);\n    }\n\n    public Iterable<T> reversed() {\n        return new Iterable<T>() {\n                      public Iterator<T> iterator() {\n                return new Iterator<T>() {\n                    int current = size() - 1;\n\n                    public boolean hasNext () {\n                        return current > -1;\n                    }\n\n                    public T next () {\n                        return get(current--);\n                    }\n                };\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        for (String s : new ReverseArrayList<String>(Arrays.asList(\"Nice to meet you !\".split(\" \"))).reversed()) {\n            System.out.println(s+\"\");\n        }\n    }\n}\n```\n\n\n```java\noutput:\n!\nyou\nmeet\nto\nNice\n```\n\n\n  系不系很神奇呀，如果你细心的话，可以注意到我在reverse返回的是Iterable而不是Iterator,Iterable可以在默认迭代器的基础上，添加产生反向迭代器的能力，而Iterator只能实现现有的方法。在上述代码中，我自定义了一个reversed()逆序访问。那随机访问也类似......\n\n\n```java\nclass IterClass extends IterableClass {\n    public Iterable<String> randomize() {\n        return new Iterable<String>() {\n            @NotNull\n            @Override\n            public Iterator<String> iterator() {\n                List<String> shuffle = new ArrayList<String>(Arrays.asList(words));\n                Collections.shuffle(shuffle, new Random(47));\n                return shuffle.iterator();\n            }\n        };\n    }\n    public static void main(String[] args){\n        for (String s : new IterClass().randomize()) {\n            System.out.println(s + \"\");\n        }\n    }\n}\n```\n\n```java\noutput:\nNice\nto\nyou\nmeet\n```\n\n  值得注意的是Collections.shuffle()并没有影响到原数组，只是打乱了shuffle的引用，所以在上述代码中new ArrayList<String>(Arrays.asList(words));通过创建一个list用以保存新的引用，防止更改原先的数组引用。","source":"_posts/Foreach与迭代器.md","raw":"title: Foreach与迭代器\ndate: 2016-01-04 00:00:00\ntags: [Java]\ncategories: Thinking in Java\ndescription: 神器的迭代器\n---\n## Foreach与迭代器\n\n  emmmmmm，孤陋寡闻的博主在看TIJ之前只以为Foreach语句只可以用在数组，结果没想到可以应用到任意Collection对象。/捂脸\n\n  瞅瞅Collection对象的Foreach肿么写哈......\n\n```java\npublic class IterableClass implements Iterable<String> {  \n  \n    String[] words = (\"Nice to meet you\").split(\" \");  \n  \n    public Iterator<String> iterator() {  \n        return new Iterator<String>(){  \n            private int index = 0;  \n            public boolean hasNext() {  \n                return index < words.length;  \n            }  \n  \n            public String next() {  \n                return words[index++];  \n            }  \n              \n        };  \n    }  \n  public static void main(String[] args) {  \n        for(String s : new IterableClass()){  \n            System.out.print(s + \" \");  \n        }  \n    }  \n}  \n\n```\n\n  输出请自行脑补，不做另行说明....刚才是谁说我菜的站出来，说的就是你，死肥宅！！！\n\n\n  从上述代码可以看出一个类要使用ForEach需要实现Iterable这个接口，实现iterator()方法，在方法中可以看到我返回了一个匿名内部类，操作的具体实现都在内部类里面了。它也就重写了hasNext()、next()方法在遍历时进行回调。\n\n\n  emmmmm还有一个ForEach的非常规操作，一般人我都不告诉，看在阁下看你的骨骼精奇，是万中无一的武学奇才，见与你有缘。就告诉你罢。\n\n\n  众所周知，ForEach都是顺序访问，那要逆序访问呢？show you the code......\n\n\n```java\nclass ReverseArrayList<T> extends ArrayList<T> {\n\n    public ReverseArrayList(@NotNull Collection<? extends T> c) {\n        super(c);\n    }\n\n    public Iterable<T> reversed() {\n        return new Iterable<T>() {\n                      public Iterator<T> iterator() {\n                return new Iterator<T>() {\n                    int current = size() - 1;\n\n                    public boolean hasNext () {\n                        return current > -1;\n                    }\n\n                    public T next () {\n                        return get(current--);\n                    }\n                };\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        for (String s : new ReverseArrayList<String>(Arrays.asList(\"Nice to meet you !\".split(\" \"))).reversed()) {\n            System.out.println(s+\"\");\n        }\n    }\n}\n```\n\n\n```java\noutput:\n!\nyou\nmeet\nto\nNice\n```\n\n\n  系不系很神奇呀，如果你细心的话，可以注意到我在reverse返回的是Iterable而不是Iterator,Iterable可以在默认迭代器的基础上，添加产生反向迭代器的能力，而Iterator只能实现现有的方法。在上述代码中，我自定义了一个reversed()逆序访问。那随机访问也类似......\n\n\n```java\nclass IterClass extends IterableClass {\n    public Iterable<String> randomize() {\n        return new Iterable<String>() {\n            @NotNull\n            @Override\n            public Iterator<String> iterator() {\n                List<String> shuffle = new ArrayList<String>(Arrays.asList(words));\n                Collections.shuffle(shuffle, new Random(47));\n                return shuffle.iterator();\n            }\n        };\n    }\n    public static void main(String[] args){\n        for (String s : new IterClass().randomize()) {\n            System.out.println(s + \"\");\n        }\n    }\n}\n```\n\n```java\noutput:\nNice\nto\nyou\nmeet\n```\n\n  值得注意的是Collections.shuffle()并没有影响到原数组，只是打乱了shuffle的引用，所以在上述代码中new ArrayList<String>(Arrays.asList(words));通过创建一个list用以保存新的引用，防止更改原先的数组引用。","slug":"Foreach与迭代器","published":1,"updated":"2020-02-13T07:16:09.048Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz1002tqr3le6h4ruo7"},{"title":"Get water","date":"2019-01-02T16:00:00.000Z","description":"Compute how much water it is able to trap after raining.","_content":"## Problem description\n  ### Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.\n\n\n ## Examples\n``` java\nExample 1:\nInput: [0,1,0,2,1,0,1,3,2,1,2,1]\nOutput: 6\n```\n![enter description here](/images/trap_water_example.PNG)\n## Solution\n　　这难道就是一看就懂，一写就懵逼的题目吗？一看就知道是木桶效应，嗯问题来了，咋写呢？ 苦思良久，还是看解析吧！  发现博主和我想法不谋而合也是采取了木桶效应。取当前块的左右最大边界中的最低边界min.-当前块的高度。但这样做会超时。可以采用分治策略，先找到最高块高度和索引，分别计算左侧水面积和右侧水面积再相加。以计算左侧面积为例：判读当前块高度currentHeight是否大于maxHeight，为true的话，则累加（maxHeight - currentHeight ）;\n\n## Code\n\n```python\n class Solution://Shortest barrel\n    def trap(self, height):\n        \"\"\"\n        :type height: List[int]\n        :rtype: int\n        \"\"\"\n        res, hei_len = 0, len(height)\n        for i in range(1, hei_len-1):\n            max_left, max_right = 0, 0\n            for l in range(i+1):\n                max_left = max(max_left, height[l])\n            for r in range(i, hei_len):\n                max_right = max(max_right, height[r])\n                \n            res += min(max_left, max_right) - height[i]\n            \n        return res\n```\n\n```java\nclass Solution {\n     public int trap(int[] height) {\n        if (height.length == 0 || height.length == 1) {\n            return 0;\n        }\n        int maxHeight = Integer.MIN_VALUE;\n        int index = 0;\n        for (int i = 0; i < height.length; i++) {\n            if (height[i] > maxHeight) {\n                maxHeight = height[i];\n                index = i;\n            }\n        }\n\n        int result = 0, currentMax = Integer.MIN_VALUE;\n\n        for (int i = 0; i < index; i++) {\n            if (currentMax >= height[i]) {\n                result += currentMax - height[i];\n            } else {\n                currentMax = height[i];\n            }\n        }\n        currentMax = Integer.MIN_VALUE;\n        for (int i = height.length - 1; i > index; i--) {\n            if (currentMax >= height[i]) {\n                result += currentMax - height[i];\n            } else {\n                currentMax = height[i];\n            }\n        }\n        return result;\n    }\n\n}\n```","source":"_posts/Get water.md","raw":"title: Get water\ndate: 2019-1-3\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription:  Compute how much water it is able to trap after raining.\n---\n## Problem description\n  ### Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.\n\n\n ## Examples\n``` java\nExample 1:\nInput: [0,1,0,2,1,0,1,3,2,1,2,1]\nOutput: 6\n```\n![enter description here](/images/trap_water_example.PNG)\n## Solution\n　　这难道就是一看就懂，一写就懵逼的题目吗？一看就知道是木桶效应，嗯问题来了，咋写呢？ 苦思良久，还是看解析吧！  发现博主和我想法不谋而合也是采取了木桶效应。取当前块的左右最大边界中的最低边界min.-当前块的高度。但这样做会超时。可以采用分治策略，先找到最高块高度和索引，分别计算左侧水面积和右侧水面积再相加。以计算左侧面积为例：判读当前块高度currentHeight是否大于maxHeight，为true的话，则累加（maxHeight - currentHeight ）;\n\n## Code\n\n```python\n class Solution://Shortest barrel\n    def trap(self, height):\n        \"\"\"\n        :type height: List[int]\n        :rtype: int\n        \"\"\"\n        res, hei_len = 0, len(height)\n        for i in range(1, hei_len-1):\n            max_left, max_right = 0, 0\n            for l in range(i+1):\n                max_left = max(max_left, height[l])\n            for r in range(i, hei_len):\n                max_right = max(max_right, height[r])\n                \n            res += min(max_left, max_right) - height[i]\n            \n        return res\n```\n\n```java\nclass Solution {\n     public int trap(int[] height) {\n        if (height.length == 0 || height.length == 1) {\n            return 0;\n        }\n        int maxHeight = Integer.MIN_VALUE;\n        int index = 0;\n        for (int i = 0; i < height.length; i++) {\n            if (height[i] > maxHeight) {\n                maxHeight = height[i];\n                index = i;\n            }\n        }\n\n        int result = 0, currentMax = Integer.MIN_VALUE;\n\n        for (int i = 0; i < index; i++) {\n            if (currentMax >= height[i]) {\n                result += currentMax - height[i];\n            } else {\n                currentMax = height[i];\n            }\n        }\n        currentMax = Integer.MIN_VALUE;\n        for (int i = height.length - 1; i > index; i--) {\n            if (currentMax >= height[i]) {\n                result += currentMax - height[i];\n            } else {\n                currentMax = height[i];\n            }\n        }\n        return result;\n    }\n\n}\n```","slug":"Get water","published":1,"updated":"2020-02-13T07:16:09.049Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz3002xqr3lm9o9dwmq"},{"title":"Github Gist入坑","date":"2018-05-11T16:00:00.000Z","description":"github gist简介","_content":"\n## github gist简介\n\n### gist是基于版本控制的共享链接。再也不用打开qq收文件啦 ~ _ ~,而且最良心的还是竟然还支持私有，天，git仓库都还要付费的。。。\n\n\n## gist生成步骤\n \n #### 1. 创建一个git仓库\n #### 2. 在git仓库下的代码或输出日志，待处理任务等上右键Create_Gist\n ![android_gist](/images/1.png)\n \n #### 3. 配置gist属性即可\n \n #### 4. 登录github或输入Token\n ![enter description here](/images/2.png)\n \n ####  5. 共享友链给你的朋友","source":"_posts/Github Gist.md","raw":"title: Github Gist入坑\ndate: 2018-05-12\ntags: [Android]\ncategories: skills\ndescription: github gist简介\n---\n\n## github gist简介\n\n### gist是基于版本控制的共享链接。再也不用打开qq收文件啦 ~ _ ~,而且最良心的还是竟然还支持私有，天，git仓库都还要付费的。。。\n\n\n## gist生成步骤\n \n #### 1. 创建一个git仓库\n #### 2. 在git仓库下的代码或输出日志，待处理任务等上右键Create_Gist\n ![android_gist](/images/1.png)\n \n #### 3. 配置gist属性即可\n \n #### 4. 登录github或输入Token\n ![enter description here](/images/2.png)\n \n ####  5. 共享友链给你的朋友","slug":"Github Gist","published":1,"updated":"2020-02-13T07:16:09.049Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz40031qr3lb5o8m5xi"},{"title":"Find three integers in nums such that the sum is closest to target","date":"2019-01-15T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given an array nums of n integers and an integer target, find three integers in nums such that the sum is closest to target. Return the sum of the three integers. You may assume that each input would have exactly one solution.\n ## Examples\n``` java\nExample 1:\nGiven array nums = [-1, 2, 1, -4], and target = 1.\nThe sum that is closest to the target is 2. (-1 + 2 + 1 = 2).\n```\n\n## Solution\n　　知识迁移能力，一开始仅是在上道题[The sum of three elements is zero](https://nightxlt.github.io/%2F2018%2F12%2F30%2FThe%20sum%20of%20three%20elements%20is%20zero%2F)加了个判断，找到最小偏差。但是这样直接用是不对的.因为找到最小偏差时，不能同时移动j,k要判断才能移动索引。若sum > target,k--;sum < target,j++;sum == target ,return target;矛盾的特殊性啊~~~ 具体情况具体分析。不要死板。\n\n## Code\n\n```java\n public int threeSumClosest(int[] nums, int target) {\n        Arrays.sort(nums);\n        int j, k;\n        int closetSum = 0;\n        int minOffset = Integer.MAX_VALUE;\n        for (int i = 0; i < nums.length - 2; i++) {\n            if (i > 0 && nums[i] == nums[i - 1]) {\n                continue;\n            }\n            j = i + 1;\n            k = nums.length - 1;\n            while (j < k) {\n                int sum = nums[i] + nums[j] + nums[k];\n                int offset = Math.abs(sum - target);\n                if (sum > target) {\n                    if (offset < minOffset) {\n                        minOffset = offset;\n                        closetSum = sum;\n                        while (j < k && nums[k - 1] == nums[k]) {\n                            k--;\n                        }\n                    }\n                    k--;\n                } else if (sum < target) {\n                    if (offset < minOffset) {\n                        minOffset = offset;\n                        closetSum = sum;\n                        while (j < k && nums[j + 1] == nums[j]) {\n                            j++;\n                        }\n                    }\n                    j++;\n                } else {\n                    return target;\n                }\n            }\n        }\n        return closetSum;\n    }\n\n```","source":"_posts/Find three integers in nums such that the sum is closest to target.md","raw":"title:  Find three integers in nums such that the sum is closest to target\ndate: 2019-1-16\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given an array nums of n integers and an integer target, find three integers in nums such that the sum is closest to target. Return the sum of the three integers. You may assume that each input would have exactly one solution.\n ## Examples\n``` java\nExample 1:\nGiven array nums = [-1, 2, 1, -4], and target = 1.\nThe sum that is closest to the target is 2. (-1 + 2 + 1 = 2).\n```\n\n## Solution\n　　知识迁移能力，一开始仅是在上道题[The sum of three elements is zero](https://nightxlt.github.io/%2F2018%2F12%2F30%2FThe%20sum%20of%20three%20elements%20is%20zero%2F)加了个判断，找到最小偏差。但是这样直接用是不对的.因为找到最小偏差时，不能同时移动j,k要判断才能移动索引。若sum > target,k--;sum < target,j++;sum == target ,return target;矛盾的特殊性啊~~~ 具体情况具体分析。不要死板。\n\n## Code\n\n```java\n public int threeSumClosest(int[] nums, int target) {\n        Arrays.sort(nums);\n        int j, k;\n        int closetSum = 0;\n        int minOffset = Integer.MAX_VALUE;\n        for (int i = 0; i < nums.length - 2; i++) {\n            if (i > 0 && nums[i] == nums[i - 1]) {\n                continue;\n            }\n            j = i + 1;\n            k = nums.length - 1;\n            while (j < k) {\n                int sum = nums[i] + nums[j] + nums[k];\n                int offset = Math.abs(sum - target);\n                if (sum > target) {\n                    if (offset < minOffset) {\n                        minOffset = offset;\n                        closetSum = sum;\n                        while (j < k && nums[k - 1] == nums[k]) {\n                            k--;\n                        }\n                    }\n                    k--;\n                } else if (sum < target) {\n                    if (offset < minOffset) {\n                        minOffset = offset;\n                        closetSum = sum;\n                        while (j < k && nums[j + 1] == nums[j]) {\n                            j++;\n                        }\n                    }\n                    j++;\n                } else {\n                    return target;\n                }\n            }\n        }\n        return closetSum;\n    }\n\n```","slug":"Find three integers in nums such that the sum is closest to target","published":1,"updated":"2020-02-13T07:16:09.048Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz50035qr3ldgohccer"},{"title":"Glide源码解析","date":"2019-03-10T16:00:00.000Z","description":"加载中。。。","_content":"## 简介\n\n``` java\nGlide.with(this)\n    .load(url)\n    .into(imageView);\n```\n\nGlide加载执行流程\n1. 创建request\n2. 执行加载\n3. 回调刷新UI\n\n![glide_running](/images/glide_resolve.png)\n\n\n\n## 创建request\n### with()\n从Glide.with()开始\n\n``` java\npublic static RequestManager with(Activity activity) {\n  return getRetriever(activity).get(activity);\n}\npublic static RequestManager with(FragmentActivity activity) {\n  return getRetriever(activity).get(activity);\n}\npublic static RequestManager with(Fragment fragment) {\n  return getRetriever(fragment.getActivity()).get(fragment);\n}\npublic static RequestManager with(android.app.Fragment fragment) {\n  return getRetriever(fragment.getActivity()).get(fragment);\n}\n public static RequestManager with(Context context) {\n  return getRetriever(context).get(context);\n}\npublic static RequestManager with(View view) {\n  return getRetriever(view.getContext()).get(view);\n}\n```\n所有with()均返回了一个RequestManager,进入getRetriever（）\n```java\nprivate static RequestManagerRetriever getRetriever(@Nullable Context context) {\n ...\n    return Glide.get(context).getRequestManagerRetriever();\n  }\n  \n   /**\n   * Get the singleton.\n   *\n   * @return the singleton\n   */\n  public static Glide get(Context context) {\n    if (glide == null) {\n      synchronized (Glide.class) {\n        if (glide == null) {\n          checkAndInitializeGlide(context);\n        }\n      }\n    }\n    return glide;\n  }\n```\nGlide通过DCL创建单例，然后RequestManagerRetriever对象通过Glide单例获取。返回到上面 getRetriever().get()\n```java\n  @NonNull\n  public RequestManager get(@NonNull Context context) {\n    if (context == null) {\n      throw new IllegalArgumentException(\"You cannot start a load on a null Context\");\n    } else if (Util.isOnMainThread() && !(context instanceof Application)) {\n      if (context instanceof FragmentActivity) {\n        return get((FragmentActivity) context);\n      } else if (context instanceof Activity) {\n        return get((Activity) context);\n      } else if (context instanceof ContextWrapper) {\n        return get(((ContextWrapper) context).getBaseContext());\n      }\n    }\n    return getApplicationManager(context);\n  }\n  @NonNull\n  public RequestManager get(@NonNull FragmentActivity activity) {\n    if (Util.isOnBackgroundThread()) {\n      return get(activity.getApplicationContext());\n    } else {\n      assertNotDestroyed(activity);\n      FragmentManager fm = activity.getSupportFragmentManager();\n      return supportFragmentGet(\n          activity, fm, /*parentHint=*/ null, isActivityVisible(activity));\n    }\n  }\n\n  @NonNull\n  public RequestManager get(@NonNull Fragment fragment) {\n    Preconditions.checkNotNull(fragment.getActivity(),\n          \"You cannot start a load on a fragment before it is attached or after it is destroyed\");\n    if (Util.isOnBackgroundThread()) {\n      return get(fragment.getActivity().getApplicationContext());\n    } else {\n      FragmentManager fm = fragment.getChildFragmentManager();\n      return supportFragmentGet(fragment.getActivity(), fm, fragment, fragment.isVisible());\n    }\n  }\n\n  private RequestManager supportFragmentGet(Context context, FragmentManager fm,\n      Fragment parentHint) {\n      //1 获取managerFragment\n    SupportRequestManagerFragment current = getSupportRequestManagerFragment(fm, parentHint);\n    RequestManager requestManager = current.getRequestManager();\n    if (requestManager == null) {\n      // TODO(b/27524013): Factor out this Glide.get() call.\n      Glide glide = Glide.get(context);\n      //2 创建requestManager ，并传入了Lifecycle\n      requestManager = factory.build(glide, current.getGlideLifecycle(), current.getRequestManagerTreeNode());\n     //3 缓存requestManager,保证一个Activity对应一个requestManager\n      current.setRequestManager(requestManager);\n    }\n    return requestManager;\n  }\n  \n  //4 创建并添加一个SupportRequestManagerFragment\n  SupportRequestManagerFragment getSupportRequestManagerFragment(\n      final FragmentManager fm, Fragment parentHint) {\n    SupportRequestManagerFragment current =\n        (SupportRequestManagerFragment) fm.findFragmentByTag(FRAGMENT_TAG);\n    if (current == null) {\n      current = pendingSupportRequestManagerFragments.get(fm);\n      if (current == null) {\n        current = new SupportRequestManagerFragment();\n        current.setParentFragmentHint(parentHint);\n        pendingSupportRequestManagerFragments.put(fm, current);\n        //5 这里添加一个隐藏的Fragment\n        fm.beginTransaction().add(current, FRAGMENT_TAG).commitAllowingStateLoss();\n        handler.obtainMessage(ID_REMOVE_SUPPORT_FRAGMENT_MANAGER, fm).sendToTarget();\n      }\n    }\n    return current;\n  }\n}\n```\nget方法重载参数虽然很多，但最终就返回两种类型的requestManager。一种是ApplicationManager,它自动和应用的生命周期同步，应用退出，Glide也就停止加载；另外一种则是带有Fragment生命周期的requestManager。对应上述代码中注释，可以看出，Glide添加一个隐藏的Fragment，获取对应的生命周期回调事件，这样就可在Activity销毁时停止加载图片了。这种方式比较巧妙，不仅是Glide，RxPermission项目也是这样使用的。\n\n小结：Glide.with(）：它主要完成了Glide实例化，并返回requestManager对象。\n\n### load(url)\n\n``` java\n public RequestBuilder<Drawable> load(@Nullable Object model) {\n    return asDrawable().load(model);\n  }\n  //asDrawable().load(model);最终会调用至loadGeneric\n  private RequestBuilder<TranscodeType> loadGeneric(@Nullable Object model) {\n    this.model = model;\n    isModelSet = true;\n    return this;\n  }\n```\n返回一个request构造器，接着进入into.\n\n```java\n  private <Y extends Target<TranscodeType>> Y into(\n      @NonNull Y target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> options,\n      Executor callbackExecutor) {\n    Preconditions.checkNotNull(target);\n   \n\n    Request request = buildRequest(target, targetListener, options, callbackExecutor);//1. 构建request\n\n    Request previous = target.getRequest();\n    if (request.isEquivalentTo(previous)\n        && !isSkipMemoryCacheWithCompletePreviousRequest(options, previous)) {\n      request.recycle();\n    ...\n    requestManager.clear(target);\n    target.setRequest(request);\n\t//2. 执行request（位于下一小节，执行加载）\n    requestManager.track(target, request);\n\n    return target;\n  }\n\n```\n进入1处构建request\n```java\nprivate Request buildRequest(\n      Target<TranscodeType> target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n    return buildRequestRecursive(\n        target,\n        targetListener,\n        /*parentCoordinator=*/ null,\n        transitionOptions,\n        requestOptions.getPriority(),\n        requestOptions.getOverrideWidth(),\n        requestOptions.getOverrideHeight(),\n        requestOptions,\n        callbackExecutor);\n  }\n  \n  \n  private Request buildRequestRecursive(\n      Target<TranscodeType> target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      @Nullable RequestCoordinator parentCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n...\n    Request mainRequest =\n        buildThumbnailRequestRecursive(\n            target,\n            targetListener,\n            parentCoordinator,\n            transitionOptions,\n            priority,\n            overrideWidth,\n            overrideHeight,\n            requestOptions,\n            callbackExecutor);\n\n    if (errorRequestCoordinator == null) {\n      return mainRequest;\n    }\n  ...\n  }\n  \n  private Request buildThumbnailRequestRecursive(\n      Target<TranscodeType> target,\n      RequestListener<TranscodeType> targetListener,\n      @Nullable RequestCoordinator parentCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n ...//默认无缩略图情况下\n      // Base case: no thumbnail.\n      return obtainRequest(\n          target,\n          targetListener,\n          requestOptions,\n          parentCoordinator,\n          transitionOptions,\n          priority,\n          overrideWidth,\n          overrideHeight,\n          callbackExecutor);\n   \n  }\n```\n进入obtainRequest中\n\n```java\n  private Request obtainRequest(\n      Target<TranscodeType> target,\n      RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> requestOptions,\n      RequestCoordinator requestCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      Executor callbackExecutor) {\n    return SingleRequest.obtain(\n        context,\n        glideContext,\n        model,\n        transcodeClass,\n        requestOptions,\n        overrideWidth,\n        overrideHeight,\n        priority,\n        target,\n        targetListener,\n        requestListeners,\n        requestCoordinator,\n        glideContext.getEngine(),\n        transitionOptions.getTransitionFactory(),\n        callbackExecutor);\n  }\n\n```\n最终通过RequestBuilder生成了一个SingleRequest实例。这个SingleRequest类中有各种属性，大部分都是默认了，当然可以在使用时通过RequestOptions配置。\n### 执行加载\n```java\n  synchronized void track(@NonNull Target<?> target, @NonNull Request request) {\n    targetTracker.track(target);\n    requestTracker.runRequest(request);\n  }\n    public void runRequest(Request request) {\n    requests.add(request);\n    if (!isPaused) {\n      request.begin();\n    } else {\n      pendingRequests.add(request);\n    }\n  }\n  \n    //以下是SingleRequest类中begin方法实现。\n  @Override\n  public void begin() {\n  ...\n    // 1\n    if (status == Status.COMPLETE) {\n      onResourceReady(resource, DataSource.MEMORY_CACHE);\n      return;\n    }\n    // 2\n    status = Status.WAITING_FOR_SIZE;\n    if (Util.isValidDimensions(overrideWidth, overrideHeight)) {\n      onSizeReady(overrideWidth, overrideHeight);\n    } else {\n      target.getSize(this);\n    }\n    // 3\n    if ((status == Status.RUNNING || status == Status.WAITING_FOR_SIZE)\n        && canNotifyStatusChanged()) {\n      target.onLoadStarted(getPlaceholderDrawable());\n    }\n    if (Log.isLoggable(TAG, Log.VERBOSE)) {\n      logV(\"finished run method in \" + LogTime.getElapsedMillis(startTime));\n    }\n  }\n```\n1. 加载完成回调。这里是加载、缩放、转换之后的数据，可直接用于UI显示。后面再分析是怎么回调刷新UI的。\n2. 这里主要是判断overrideWidth, overrideHeight是否可用。分两种情况：1).如果设置了override(int width, int height) ,直接处理onSizeReady方法逻辑。2).没有设置override，Glide就会等到系统计算完组件宽高后再回调onSizeReady。所以两种情况最后都会调用onSizeReady方法。\n3. 开始前，回调设置placeholderDrawable\n\n长宽测量完毕进入onSizeReady()\n```java\n@Override\n  public void onSizeReady(int width, int height) {\n    ...省略\n    //Engine类的load方法，正式步入加载流程。\n    loadStatus = engine.load(\n        glideContext,\n        model,//对应myUrl,图片地址\n        requestOptions.getSignature(),\n        this.width,\n        this.height,\n        requestOptions.getResourceClass(),//默认是Object.class\n        transcodeClass, //默认Drawbale.class\n        priority,\n        requestOptions.getDiskCacheStrategy(),//磁盘缓存策略。默认是DiskCacheStrategy.AUTOMATIC\n        requestOptions.getTransformations(),\n        requestOptions.isTransformationRequired(),\n        requestOptions.isScaleOnlyOrNoTransform(),\n        requestOptions.getOptions(),\n        requestOptions.isMemoryCacheable(),\n        requestOptions.getUseUnlimitedSourceGeneratorsPool(),\n        requestOptions.getOnlyRetrieveFromCache(),\n        this);\n  }\n```\n姗姗来迟的load方法中包含了Glid的缓存策略思想\n```java\n  public synchronized <R> LoadStatus load(\n      GlideContext glideContext,\n      Object model,\n      Key signature,\n      int width,\n      int height,\n      Class<?> resourceClass,\n      Class<R> transcodeClass,\n      Priority priority,\n      DiskCacheStrategy diskCacheStrategy,\n      Map<Class<?>, Transformation<?>> transformations,\n      boolean isTransformationRequired,\n      boolean isScaleOnlyOrNoTransform,\n      Options options,\n      boolean isMemoryCacheable,\n      boolean useUnlimitedSourceExecutorPool,\n      boolean useAnimationPool,\n      boolean onlyRetrieveFromCache,\n      ResourceCallback cb,\n      Executor callbackExecutor) {\n    long startTime = VERBOSE_IS_LOGGABLE ? LogTime.getLogTime() : 0;\n// 生成缓存的key\n    EngineKey key = keyFactory.buildKey(model, signature, width, height, transformations,\n        resourceClass, transcodeClass, options);\n// 先从活动资源 (Active Resources) - 正在显示的资源去取\n    EngineResource<?> active = loadFromActiveResources(key, isMemoryCacheable);\n    if (active != null) {\n      cb.onResourceReady(active, DataSource.MEMORY_CACHE);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Loaded resource from active resources\", startTime, key);\n      }\n      return null;\n    }\n// 再从内存缓存 (Memory cache) - 显示过的资源去取\n    EngineResource<?> cached = loadFromCache(key, isMemoryCacheable);\n    if (cached != null) {\n      cb.onResourceReady(cached, DataSource.MEMORY_CACHE);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Loaded resource from cache\", startTime, key);\n      }\n      return null;\n    }\n\t////检查当前Request是否正在执行。\n    EngineJob<?> current = jobs.get(key, onlyRetrieveFromCache);\n    if (current != null) {\n      current.addCallback(cb, callbackExecutor);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Added to existing load\", startTime, key);\n      }\n      return new LoadStatus(cb, current);\n    }\n// 创建后台任务\n    EngineJob<R> engineJob =\n        engineJobFactory.build(\n            key,\n            isMemoryCacheable,\n            useUnlimitedSourceExecutorPool,\n            useAnimationPool,\n            onlyRetrieveFromCache);\n\n    DecodeJob<R> decodeJob =\n        decodeJobFactory.build(\n            glideContext,\n            model,\n            key,\n            signature,\n            width,\n            height,\n            resourceClass,\n            transcodeClass,\n            priority,\n            diskCacheStrategy,\n            transformations,\n            isTransformationRequired,\n            isScaleOnlyOrNoTransform,\n            onlyRetrieveFromCache,\n            options,\n            engineJob);\n\n    jobs.put(key, engineJob);\n\n    engineJob.addCallback(cb, callbackExecutor);\n\t//开启任务\n    engineJob.start(decodeJob);\n\n    if (VERBOSE_IS_LOGGABLE) {\n      logWithTimeAndKey(\"Started new load\", startTime, key);\n    }\n    return new LoadStatus(cb, engineJob);\n  }\n\n```\n- 内存：\n活动资源 (Active Resources) - 正在显示的资源,保护显示的图片不会被LruCache算法回收掉。\n内存缓存 (Memory cache) - 显示过的资源，采取LRU算法置换\n- 磁盘：\n资源类型（Resource） - 被解码、转换后的资源\n数据来源 (Data) - 源文件（未处理过）\n\n进入磁盘缓存的start()\n```java\n//start方法就是根据diskCacheStrategy策略获取一个executor来执行DecodeJob\npublic void start(DecodeJob<R> decodeJob) {\n    this.decodeJob = decodeJob;\n    //这里根据缓存策略，决定使用哪个Executor。默认情况返回diskCacheExecutor。\n    //共三种执行器：diskCacheExecutor、sourceExecutor、sourceUnlimitedExecutor对应文章前面给出的流程图。\n    GlideExecutor executor = decodeJob.willDecodeFromCache()\n        ? diskCacheExecutor\n        : getActiveSourceExecutor();\n    executor.execute(decodeJob);\n  }\n//DecodeJob实现了Runnable接口。直接来看它的run方法。\n @Override\n  public void run() {\n    TraceCompat.beginSection(\"DecodeJob#run\");\n    try {\n      if (isCancelled) {\n        notifyFailed();\n        return;\n      }\n      runWrapped();//看这里！\n    } catch (RuntimeException e) {\n      if (Log.isLoggable(TAG, Log.DEBUG)) {\n        Log.d(TAG, \"DecodeJob threw unexpectedly\"\n            + \", isCancelled: \" + isCancelled\n            + \", stage: \" + stage, e);\n      }\n     ....\n  }\n//接着看runWrapped方法。\n//RunReason是一个枚举，默认值为INITIALIZE。区分任务目的。\nprivate void runWrapped() {\n     switch (runReason) {\n      case INITIALIZE:\n        stage = getNextStage(Stage.INITIALIZE);\n        currentGenerator = getNextGenerator();\n        runGenerators();\n        break;\n      case SWITCH_TO_SOURCE_SERVICE:\n        runGenerators();\n        break;\n      case DECODE_DATA:\n        decodeFromRetrievedData();\n        break;\n      default:\n        throw new IllegalStateException(\"Unrecognized run reason: \" + runReason);\n    }\n  }\n  \n  //获取任务执行阶段：初始化、读取转换后的缓存、读取原文件缓存、原文件加载、结束状态。\n  private Stage getNextStage(Stage current) {\n    switch (current) {\n      case INITIALIZE:\n        return diskCacheStrategy.decodeCachedResource()\n            ? Stage.RESOURCE_CACHE : getNextStage(Stage.RESOURCE_CACHE);\n      case RESOURCE_CACHE:\n        return diskCacheStrategy.decodeCachedData()\n            ? Stage.DATA_CACHE : getNextStage(Stage.DATA_CACHE);\n      case DATA_CACHE:\n        // Skip loading from source if the user opted to only retrieve the resource from cache.\n        return onlyRetrieveFromCache ? Stage.FINISHED : Stage.SOURCE;\n      case SOURCE:\n      case FINISHED:\n        return Stage.FINISHED;\n      default:\n        throw new IllegalArgumentException(\"Unrecognized stage: \" + current);\n    }\n  }\n//根据上一个方法确定的stage，创建对应的Generator(可把它简单理解成资源加载器）\n  private DataFetcherGenerator getNextGenerator() {\n    switch (stage) {\n      case RESOURCE_CACHE:\n        //从转换后的缓存中读取文件\n        return new ResourceCacheGenerator(decodeHelper, this);\n      case DATA_CACHE:\n       //从原文件缓存中读取文件\n        return new DataCacheGenerator(decodeHelper, this);\n      case SOURCE:\n       //没有缓存，重新加载资源（比如：网络图片、本地文件）\n        return new SourceGenerator(decodeHelper, this);\n      case FINISHED:\n        return null;\n      default:\n        throw new IllegalStateException(\"Unrecognized stage: \" + stage);\n    }\n  }\n //这里开始加载执行\n  private void runGenerators() {\n    currentThread = Thread.currentThread();\n    startFetchTime = LogTime.getLogTime();\n    boolean isStarted = false;\n    //这里Generator.startNext()方法中就是加载过程，如果成功加载则返回true并跳出循环，否则切换Generator继续执行。\n    while (!isCancelled && currentGenerator != null\n        && !(isStarted = currentGenerator.startNext())) {\n      stage = getNextStage(stage);\n      currentGenerator = getNextGenerator();\n     //如果任务执行到去加载资源（也就是没有命中磁盘缓存），且切换任务执行环境\n      if (stage == Stage.SOURCE) {\n        reschedule();\n        return;\n      }\n    }\n    // We've run out of stages and generators, give up.\n    if ((stage == Stage.FINISHED || isCancelled) && !isStarted) {\n      notifyFailed();\n    }\n    // Otherwise a generator started a new load and we expect to be called back in\n    // onDataFetcherReady.\n  }\n \n  @Override\n  public void reschedule() {\n    //更改执行目标为：SOURCE服务。当然也只有在stage == Stage.SOURCE的情况下会被调用。\n    runReason = RunReason.SWITCH_TO_SOURCE_SERVICE;\n    callback.reschedule(this);//这里callback正是EngineJob。\n  } \n  \n  //代码跟进EngineJob类中，可以看到实现方法。\n  @Override\n  public void reschedule(DecodeJob<?> job) {\n    // 可以看到，这里获取的SourceExecutor来执行decodeJob。\n    //也就巧妙地将此decodeJob任务从cacheExecutor切换到了SourceExecutor，这样分工协作更加高效。\n    getActiveSourceExecutor().execute(job);\n  }\n```\n从最开始没有命中内存缓存开始，然后执行Engine的start方法\n1. 默认情况会获取到cacheExecutor执行器来执行decodeJob任务；\n2. 继续decodeJob的run方法，因为RunReason==INITIALIZE，接着获取stage，默认会返回Stage.RESOURCE_CACHE,这时通过getNextGenerator就返回了ResourceCacheGenerator加载\n3. 紧接着就是调用 ResourceCacheGenerator的startNext方法 ，从转换后的缓存中读取已缓存的资源，如果命中则结束任务并回调结果，反之，任务切换到DataCacheGenerator加载器继续执行\n4. 若还是未命中，则切换到SourceGenerator加载器（第一次加载，由于没有任何缓存，就会走到这里），这时会通过任务调度，将线程运行环境切换到 SourceExecutor执行器来执行，最后，待SourceGenerator加载完成后结束任务，回调结果，流程结束。\n\n网络加载过程\nGlide底层是采用HttpUrlConnection进行网络请求，也可更换为OkHttp请求连接。\n### 回调刷新UI\n回到DecodeJob类中\n```java\n@Override\n  public void onDataFetcherReady(Key sourceKey, Object data, DataFetcher<?> fetcher,\n      DataSource dataSource, Key attemptedKey) {\n      ...\n      //资源加载完成后回调，执行\n      decodeFromRetrievedData();\n      ...\n  }\n  //处理源数据\n  private void decodeFromRetrievedData() {\n    if (Log.isLoggable(TAG, Log.VERBOSE)) {\n      logWithTimeAndKey(\"Retrieved data\", startFetchTime,\n          \"data: \" + currentData\n          + \", cache key: \" + currentSourceKey\n          + \", fetcher: \" + currentFetcher);\n    }\n    Resource<R> resource = null;\n    try {\n      //比如缩放，转换等。会判断currentDataSource类型。\n      resource = decodeFromData(currentFetcher, currentData, currentDataSource);\n    } catch (GlideException e) {\n      e.setLoggingDetails(currentAttemptingKey, currentDataSource);\n      exceptions.add(e);\n    }\n    if (resource != null) {\n      notifyEncodeAndRelease(resource, currentDataSource);\n    } else {\n      runGenerators();\n    }\n  }\n  private void notifyEncodeAndRelease(Resource<R> resource, DataSource dataSource) {\n    if (resource instanceof Initializable) {\n      ((Initializable) resource).initialize();\n    }\n    Resource<R> result = resource;\n    LockedResource<R> lockedResource = null;\n    if (deferredEncodeManager.hasResourceToEncode()) {\n      lockedResource = LockedResource.obtain(resource);\n      result = lockedResource;\n    }\n    //通知完成，并回调。\n    notifyComplete(result, dataSource);\n    stage = Stage.ENCODE;\n    try {\n      //磁盘缓存\n      if (deferredEncodeManager.hasResourceToEncode()) {\n        deferredEncodeManager.encode(diskCacheProvider, options);\n      }\n    } finally {\n      if (lockedResource != null) {\n        lockedResource.unlock();\n      }\n      onEncodeComplete();\n    }\n  }\n  \n  private void notifyComplete(Resource<R> resource, DataSource dataSource) {\n    setNotifiedOrThrow();\n    //这里的callback就是EngineJob\n    callback.onResourceReady(resource, dataSource);\n  }\n```\nDecodeJob加载完数据后，会做转换、磁盘缓存等操作。进入到EngineJob的onResourceReady\n```java\n@Override\n  public void onResourceReady(Resource<R> resource, DataSource dataSource) {\n    this.resource = resource;\n    this.dataSource = dataSource;\n    //将回调过程通过Handler切换到主线程\n    MAIN_THREAD_HANDLER.obtainMessage(MSG_COMPLETE, this).sendToTarget();\n  }\n  \n   @Override\n    public boolean handleMessage(Message message) {\n      EngineJob<?> job = (EngineJob<?>) message.obj;\n      switch (message.what) {\n        case MSG_COMPLETE:\n          job.handleResultOnMainThread();\n          break;\n        case MSG_EXCEPTION:\n          job.handleExceptionOnMainThread();\n          break;\n        case MSG_CANCELLED:\n          job.handleCancelledOnMainThread();\n          break;\n        default:\n          throw new IllegalStateException(\"Unrecognized message: \" + message.what);\n      }\n      return true;\n    }\n  @Synthetic\n  void handleResultOnMainThread() {\n    stateVerifier.throwIfRecycled();\n    if (isCancelled) {\n      resource.recycle();\n      release(false /*isRemovedFromQueue*/);\n      return;\n    } else if (cbs.isEmpty()) {\n      throw new IllegalStateException(\"Received a resource without any callbacks to notify\");\n    } else if (hasResource) {\n      throw new IllegalStateException(\"Already have resource\");\n    }\n    engineResource = engineResourceFactory.build(resource, isCacheable);\n    hasResource = true;\n    // Hold on to resource for duration of request so we don't recycle it in the middle of\n    // notifying if it synchronously released by one of the callbacks.\n    engineResource.acquire();\n    //通知并缓存到activeResources（内存缓存中的一种）中。\n    listener.onEngineJobComplete(key, engineResource);\n    for (ResourceCallback cb : cbs) {\n      if (!isInIgnoredCallbacks(cb)) {\n        engineResource.acquire();\n        //这里将回调到SingleRequest的onResourceReady中。\n        cb.onResourceReady(engineResource, dataSource);\n      }\n    }\n    // Our request is complete, so we can release the resource.\n    engineResource.release();\n    release(false /*isRemovedFromQueue*/);\n  }\n  \n  //继续跟进SingleRequest类\n  @Override\n  public void onResourceReady(Resource<?> resource, DataSource dataSource) {\n    ...\n    onResourceReady((Resource<R>) resource, (R) received, dataSource);\n  }\n  private void onResourceReady(Resource<R> resource, R result, DataSource dataSource) {\n    // We must call isFirstReadyResource before setting status.\n    boolean isFirstResource = isFirstReadyResource();\n    status = Status.COMPLETE;\n    this.resource = resource;\n   \n    if (requestListener == null\n        || !requestListener.onResourceReady(result, model, target, dataSource, isFirstResource)) {\n      Transition<? super R> animation =\n          animationFactory.build(dataSource, isFirstResource);\n    //如果没有设置requestListener或者未消耗事件，就会回调target的onResourceReady方法。\n    //默认的target是DrawableImageViewTarget     \n      target.onResourceReady(result, animation);\n    }\n    notifyLoadSuccess();\n  }\n```\n回调从Decodejob出来，在EngineJob中切换到主线程并一路回调到DrawableImageViewTarget中，至于为什么默认是DrawableImageViewTarget，请查看RequestBuilder中into方法。下面我们再看下DrawableImageViewTarget相关代码，也是设置显示图片的地方。\n```java\nublic class DrawableImageViewTarget extends ImageViewTarget<Drawable> {\n  public DrawableImageViewTarget(ImageView view) {\n    super(view);\n  }\n  @Override\n  protected void setResource(@Nullable Drawable resource) {\n    //实现了该方法。简单将drawable设置给imageview。\n    view.setImageDrawable(resource);\n  }\n}\npublic abstract class ImageViewTarget<Z> extends ViewTarget<ImageView, Z>\n    implements Transition.ViewAdapter {\n  public ImageViewTarget(ImageView view) {\n    super(view);\n  }\n  @Override\n  public void onResourceReady(Z resource, @Nullable Transition<? super Z> transition) {\n    if (transition == null || !transition.transition(resource, this)) {\n      setResourceInternal(resource);\n    } else {\n      maybeUpdateAnimatable(resource);\n    }\n  }\n  private void setResourceInternal(@Nullable Z resource) {\n    maybeUpdateAnimatable(resource);\n    setResource(resource);\n  }\n  private void maybeUpdateAnimatable(@Nullable Z resource) {\n    if (resource instanceof Animatable) {\n      animatable = (Animatable) resource;\n      animatable.start();\n    } else {\n      animatable = null;\n    }\n  }\n  protected abstract void setResource(@Nullable Z resource);\n}\n```\nonResourceReady在父类ImageViewTarget中回调，然后调用setResource将图片设置并显示出来。代码执行到这里，回调过程也就结束了。","source":"_posts/Glide源码解析.md","raw":"title: Glide源码解析\ndate: 2019-3-11\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 加载中。。。\n---\n## 简介\n\n``` java\nGlide.with(this)\n    .load(url)\n    .into(imageView);\n```\n\nGlide加载执行流程\n1. 创建request\n2. 执行加载\n3. 回调刷新UI\n\n![glide_running](/images/glide_resolve.png)\n\n\n\n## 创建request\n### with()\n从Glide.with()开始\n\n``` java\npublic static RequestManager with(Activity activity) {\n  return getRetriever(activity).get(activity);\n}\npublic static RequestManager with(FragmentActivity activity) {\n  return getRetriever(activity).get(activity);\n}\npublic static RequestManager with(Fragment fragment) {\n  return getRetriever(fragment.getActivity()).get(fragment);\n}\npublic static RequestManager with(android.app.Fragment fragment) {\n  return getRetriever(fragment.getActivity()).get(fragment);\n}\n public static RequestManager with(Context context) {\n  return getRetriever(context).get(context);\n}\npublic static RequestManager with(View view) {\n  return getRetriever(view.getContext()).get(view);\n}\n```\n所有with()均返回了一个RequestManager,进入getRetriever（）\n```java\nprivate static RequestManagerRetriever getRetriever(@Nullable Context context) {\n ...\n    return Glide.get(context).getRequestManagerRetriever();\n  }\n  \n   /**\n   * Get the singleton.\n   *\n   * @return the singleton\n   */\n  public static Glide get(Context context) {\n    if (glide == null) {\n      synchronized (Glide.class) {\n        if (glide == null) {\n          checkAndInitializeGlide(context);\n        }\n      }\n    }\n    return glide;\n  }\n```\nGlide通过DCL创建单例，然后RequestManagerRetriever对象通过Glide单例获取。返回到上面 getRetriever().get()\n```java\n  @NonNull\n  public RequestManager get(@NonNull Context context) {\n    if (context == null) {\n      throw new IllegalArgumentException(\"You cannot start a load on a null Context\");\n    } else if (Util.isOnMainThread() && !(context instanceof Application)) {\n      if (context instanceof FragmentActivity) {\n        return get((FragmentActivity) context);\n      } else if (context instanceof Activity) {\n        return get((Activity) context);\n      } else if (context instanceof ContextWrapper) {\n        return get(((ContextWrapper) context).getBaseContext());\n      }\n    }\n    return getApplicationManager(context);\n  }\n  @NonNull\n  public RequestManager get(@NonNull FragmentActivity activity) {\n    if (Util.isOnBackgroundThread()) {\n      return get(activity.getApplicationContext());\n    } else {\n      assertNotDestroyed(activity);\n      FragmentManager fm = activity.getSupportFragmentManager();\n      return supportFragmentGet(\n          activity, fm, /*parentHint=*/ null, isActivityVisible(activity));\n    }\n  }\n\n  @NonNull\n  public RequestManager get(@NonNull Fragment fragment) {\n    Preconditions.checkNotNull(fragment.getActivity(),\n          \"You cannot start a load on a fragment before it is attached or after it is destroyed\");\n    if (Util.isOnBackgroundThread()) {\n      return get(fragment.getActivity().getApplicationContext());\n    } else {\n      FragmentManager fm = fragment.getChildFragmentManager();\n      return supportFragmentGet(fragment.getActivity(), fm, fragment, fragment.isVisible());\n    }\n  }\n\n  private RequestManager supportFragmentGet(Context context, FragmentManager fm,\n      Fragment parentHint) {\n      //1 获取managerFragment\n    SupportRequestManagerFragment current = getSupportRequestManagerFragment(fm, parentHint);\n    RequestManager requestManager = current.getRequestManager();\n    if (requestManager == null) {\n      // TODO(b/27524013): Factor out this Glide.get() call.\n      Glide glide = Glide.get(context);\n      //2 创建requestManager ，并传入了Lifecycle\n      requestManager = factory.build(glide, current.getGlideLifecycle(), current.getRequestManagerTreeNode());\n     //3 缓存requestManager,保证一个Activity对应一个requestManager\n      current.setRequestManager(requestManager);\n    }\n    return requestManager;\n  }\n  \n  //4 创建并添加一个SupportRequestManagerFragment\n  SupportRequestManagerFragment getSupportRequestManagerFragment(\n      final FragmentManager fm, Fragment parentHint) {\n    SupportRequestManagerFragment current =\n        (SupportRequestManagerFragment) fm.findFragmentByTag(FRAGMENT_TAG);\n    if (current == null) {\n      current = pendingSupportRequestManagerFragments.get(fm);\n      if (current == null) {\n        current = new SupportRequestManagerFragment();\n        current.setParentFragmentHint(parentHint);\n        pendingSupportRequestManagerFragments.put(fm, current);\n        //5 这里添加一个隐藏的Fragment\n        fm.beginTransaction().add(current, FRAGMENT_TAG).commitAllowingStateLoss();\n        handler.obtainMessage(ID_REMOVE_SUPPORT_FRAGMENT_MANAGER, fm).sendToTarget();\n      }\n    }\n    return current;\n  }\n}\n```\nget方法重载参数虽然很多，但最终就返回两种类型的requestManager。一种是ApplicationManager,它自动和应用的生命周期同步，应用退出，Glide也就停止加载；另外一种则是带有Fragment生命周期的requestManager。对应上述代码中注释，可以看出，Glide添加一个隐藏的Fragment，获取对应的生命周期回调事件，这样就可在Activity销毁时停止加载图片了。这种方式比较巧妙，不仅是Glide，RxPermission项目也是这样使用的。\n\n小结：Glide.with(）：它主要完成了Glide实例化，并返回requestManager对象。\n\n### load(url)\n\n``` java\n public RequestBuilder<Drawable> load(@Nullable Object model) {\n    return asDrawable().load(model);\n  }\n  //asDrawable().load(model);最终会调用至loadGeneric\n  private RequestBuilder<TranscodeType> loadGeneric(@Nullable Object model) {\n    this.model = model;\n    isModelSet = true;\n    return this;\n  }\n```\n返回一个request构造器，接着进入into.\n\n```java\n  private <Y extends Target<TranscodeType>> Y into(\n      @NonNull Y target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> options,\n      Executor callbackExecutor) {\n    Preconditions.checkNotNull(target);\n   \n\n    Request request = buildRequest(target, targetListener, options, callbackExecutor);//1. 构建request\n\n    Request previous = target.getRequest();\n    if (request.isEquivalentTo(previous)\n        && !isSkipMemoryCacheWithCompletePreviousRequest(options, previous)) {\n      request.recycle();\n    ...\n    requestManager.clear(target);\n    target.setRequest(request);\n\t//2. 执行request（位于下一小节，执行加载）\n    requestManager.track(target, request);\n\n    return target;\n  }\n\n```\n进入1处构建request\n```java\nprivate Request buildRequest(\n      Target<TranscodeType> target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n    return buildRequestRecursive(\n        target,\n        targetListener,\n        /*parentCoordinator=*/ null,\n        transitionOptions,\n        requestOptions.getPriority(),\n        requestOptions.getOverrideWidth(),\n        requestOptions.getOverrideHeight(),\n        requestOptions,\n        callbackExecutor);\n  }\n  \n  \n  private Request buildRequestRecursive(\n      Target<TranscodeType> target,\n      @Nullable RequestListener<TranscodeType> targetListener,\n      @Nullable RequestCoordinator parentCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n...\n    Request mainRequest =\n        buildThumbnailRequestRecursive(\n            target,\n            targetListener,\n            parentCoordinator,\n            transitionOptions,\n            priority,\n            overrideWidth,\n            overrideHeight,\n            requestOptions,\n            callbackExecutor);\n\n    if (errorRequestCoordinator == null) {\n      return mainRequest;\n    }\n  ...\n  }\n  \n  private Request buildThumbnailRequestRecursive(\n      Target<TranscodeType> target,\n      RequestListener<TranscodeType> targetListener,\n      @Nullable RequestCoordinator parentCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      BaseRequestOptions<?> requestOptions,\n      Executor callbackExecutor) {\n ...//默认无缩略图情况下\n      // Base case: no thumbnail.\n      return obtainRequest(\n          target,\n          targetListener,\n          requestOptions,\n          parentCoordinator,\n          transitionOptions,\n          priority,\n          overrideWidth,\n          overrideHeight,\n          callbackExecutor);\n   \n  }\n```\n进入obtainRequest中\n\n```java\n  private Request obtainRequest(\n      Target<TranscodeType> target,\n      RequestListener<TranscodeType> targetListener,\n      BaseRequestOptions<?> requestOptions,\n      RequestCoordinator requestCoordinator,\n      TransitionOptions<?, ? super TranscodeType> transitionOptions,\n      Priority priority,\n      int overrideWidth,\n      int overrideHeight,\n      Executor callbackExecutor) {\n    return SingleRequest.obtain(\n        context,\n        glideContext,\n        model,\n        transcodeClass,\n        requestOptions,\n        overrideWidth,\n        overrideHeight,\n        priority,\n        target,\n        targetListener,\n        requestListeners,\n        requestCoordinator,\n        glideContext.getEngine(),\n        transitionOptions.getTransitionFactory(),\n        callbackExecutor);\n  }\n\n```\n最终通过RequestBuilder生成了一个SingleRequest实例。这个SingleRequest类中有各种属性，大部分都是默认了，当然可以在使用时通过RequestOptions配置。\n### 执行加载\n```java\n  synchronized void track(@NonNull Target<?> target, @NonNull Request request) {\n    targetTracker.track(target);\n    requestTracker.runRequest(request);\n  }\n    public void runRequest(Request request) {\n    requests.add(request);\n    if (!isPaused) {\n      request.begin();\n    } else {\n      pendingRequests.add(request);\n    }\n  }\n  \n    //以下是SingleRequest类中begin方法实现。\n  @Override\n  public void begin() {\n  ...\n    // 1\n    if (status == Status.COMPLETE) {\n      onResourceReady(resource, DataSource.MEMORY_CACHE);\n      return;\n    }\n    // 2\n    status = Status.WAITING_FOR_SIZE;\n    if (Util.isValidDimensions(overrideWidth, overrideHeight)) {\n      onSizeReady(overrideWidth, overrideHeight);\n    } else {\n      target.getSize(this);\n    }\n    // 3\n    if ((status == Status.RUNNING || status == Status.WAITING_FOR_SIZE)\n        && canNotifyStatusChanged()) {\n      target.onLoadStarted(getPlaceholderDrawable());\n    }\n    if (Log.isLoggable(TAG, Log.VERBOSE)) {\n      logV(\"finished run method in \" + LogTime.getElapsedMillis(startTime));\n    }\n  }\n```\n1. 加载完成回调。这里是加载、缩放、转换之后的数据，可直接用于UI显示。后面再分析是怎么回调刷新UI的。\n2. 这里主要是判断overrideWidth, overrideHeight是否可用。分两种情况：1).如果设置了override(int width, int height) ,直接处理onSizeReady方法逻辑。2).没有设置override，Glide就会等到系统计算完组件宽高后再回调onSizeReady。所以两种情况最后都会调用onSizeReady方法。\n3. 开始前，回调设置placeholderDrawable\n\n长宽测量完毕进入onSizeReady()\n```java\n@Override\n  public void onSizeReady(int width, int height) {\n    ...省略\n    //Engine类的load方法，正式步入加载流程。\n    loadStatus = engine.load(\n        glideContext,\n        model,//对应myUrl,图片地址\n        requestOptions.getSignature(),\n        this.width,\n        this.height,\n        requestOptions.getResourceClass(),//默认是Object.class\n        transcodeClass, //默认Drawbale.class\n        priority,\n        requestOptions.getDiskCacheStrategy(),//磁盘缓存策略。默认是DiskCacheStrategy.AUTOMATIC\n        requestOptions.getTransformations(),\n        requestOptions.isTransformationRequired(),\n        requestOptions.isScaleOnlyOrNoTransform(),\n        requestOptions.getOptions(),\n        requestOptions.isMemoryCacheable(),\n        requestOptions.getUseUnlimitedSourceGeneratorsPool(),\n        requestOptions.getOnlyRetrieveFromCache(),\n        this);\n  }\n```\n姗姗来迟的load方法中包含了Glid的缓存策略思想\n```java\n  public synchronized <R> LoadStatus load(\n      GlideContext glideContext,\n      Object model,\n      Key signature,\n      int width,\n      int height,\n      Class<?> resourceClass,\n      Class<R> transcodeClass,\n      Priority priority,\n      DiskCacheStrategy diskCacheStrategy,\n      Map<Class<?>, Transformation<?>> transformations,\n      boolean isTransformationRequired,\n      boolean isScaleOnlyOrNoTransform,\n      Options options,\n      boolean isMemoryCacheable,\n      boolean useUnlimitedSourceExecutorPool,\n      boolean useAnimationPool,\n      boolean onlyRetrieveFromCache,\n      ResourceCallback cb,\n      Executor callbackExecutor) {\n    long startTime = VERBOSE_IS_LOGGABLE ? LogTime.getLogTime() : 0;\n// 生成缓存的key\n    EngineKey key = keyFactory.buildKey(model, signature, width, height, transformations,\n        resourceClass, transcodeClass, options);\n// 先从活动资源 (Active Resources) - 正在显示的资源去取\n    EngineResource<?> active = loadFromActiveResources(key, isMemoryCacheable);\n    if (active != null) {\n      cb.onResourceReady(active, DataSource.MEMORY_CACHE);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Loaded resource from active resources\", startTime, key);\n      }\n      return null;\n    }\n// 再从内存缓存 (Memory cache) - 显示过的资源去取\n    EngineResource<?> cached = loadFromCache(key, isMemoryCacheable);\n    if (cached != null) {\n      cb.onResourceReady(cached, DataSource.MEMORY_CACHE);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Loaded resource from cache\", startTime, key);\n      }\n      return null;\n    }\n\t////检查当前Request是否正在执行。\n    EngineJob<?> current = jobs.get(key, onlyRetrieveFromCache);\n    if (current != null) {\n      current.addCallback(cb, callbackExecutor);\n      if (VERBOSE_IS_LOGGABLE) {\n        logWithTimeAndKey(\"Added to existing load\", startTime, key);\n      }\n      return new LoadStatus(cb, current);\n    }\n// 创建后台任务\n    EngineJob<R> engineJob =\n        engineJobFactory.build(\n            key,\n            isMemoryCacheable,\n            useUnlimitedSourceExecutorPool,\n            useAnimationPool,\n            onlyRetrieveFromCache);\n\n    DecodeJob<R> decodeJob =\n        decodeJobFactory.build(\n            glideContext,\n            model,\n            key,\n            signature,\n            width,\n            height,\n            resourceClass,\n            transcodeClass,\n            priority,\n            diskCacheStrategy,\n            transformations,\n            isTransformationRequired,\n            isScaleOnlyOrNoTransform,\n            onlyRetrieveFromCache,\n            options,\n            engineJob);\n\n    jobs.put(key, engineJob);\n\n    engineJob.addCallback(cb, callbackExecutor);\n\t//开启任务\n    engineJob.start(decodeJob);\n\n    if (VERBOSE_IS_LOGGABLE) {\n      logWithTimeAndKey(\"Started new load\", startTime, key);\n    }\n    return new LoadStatus(cb, engineJob);\n  }\n\n```\n- 内存：\n活动资源 (Active Resources) - 正在显示的资源,保护显示的图片不会被LruCache算法回收掉。\n内存缓存 (Memory cache) - 显示过的资源，采取LRU算法置换\n- 磁盘：\n资源类型（Resource） - 被解码、转换后的资源\n数据来源 (Data) - 源文件（未处理过）\n\n进入磁盘缓存的start()\n```java\n//start方法就是根据diskCacheStrategy策略获取一个executor来执行DecodeJob\npublic void start(DecodeJob<R> decodeJob) {\n    this.decodeJob = decodeJob;\n    //这里根据缓存策略，决定使用哪个Executor。默认情况返回diskCacheExecutor。\n    //共三种执行器：diskCacheExecutor、sourceExecutor、sourceUnlimitedExecutor对应文章前面给出的流程图。\n    GlideExecutor executor = decodeJob.willDecodeFromCache()\n        ? diskCacheExecutor\n        : getActiveSourceExecutor();\n    executor.execute(decodeJob);\n  }\n//DecodeJob实现了Runnable接口。直接来看它的run方法。\n @Override\n  public void run() {\n    TraceCompat.beginSection(\"DecodeJob#run\");\n    try {\n      if (isCancelled) {\n        notifyFailed();\n        return;\n      }\n      runWrapped();//看这里！\n    } catch (RuntimeException e) {\n      if (Log.isLoggable(TAG, Log.DEBUG)) {\n        Log.d(TAG, \"DecodeJob threw unexpectedly\"\n            + \", isCancelled: \" + isCancelled\n            + \", stage: \" + stage, e);\n      }\n     ....\n  }\n//接着看runWrapped方法。\n//RunReason是一个枚举，默认值为INITIALIZE。区分任务目的。\nprivate void runWrapped() {\n     switch (runReason) {\n      case INITIALIZE:\n        stage = getNextStage(Stage.INITIALIZE);\n        currentGenerator = getNextGenerator();\n        runGenerators();\n        break;\n      case SWITCH_TO_SOURCE_SERVICE:\n        runGenerators();\n        break;\n      case DECODE_DATA:\n        decodeFromRetrievedData();\n        break;\n      default:\n        throw new IllegalStateException(\"Unrecognized run reason: \" + runReason);\n    }\n  }\n  \n  //获取任务执行阶段：初始化、读取转换后的缓存、读取原文件缓存、原文件加载、结束状态。\n  private Stage getNextStage(Stage current) {\n    switch (current) {\n      case INITIALIZE:\n        return diskCacheStrategy.decodeCachedResource()\n            ? Stage.RESOURCE_CACHE : getNextStage(Stage.RESOURCE_CACHE);\n      case RESOURCE_CACHE:\n        return diskCacheStrategy.decodeCachedData()\n            ? Stage.DATA_CACHE : getNextStage(Stage.DATA_CACHE);\n      case DATA_CACHE:\n        // Skip loading from source if the user opted to only retrieve the resource from cache.\n        return onlyRetrieveFromCache ? Stage.FINISHED : Stage.SOURCE;\n      case SOURCE:\n      case FINISHED:\n        return Stage.FINISHED;\n      default:\n        throw new IllegalArgumentException(\"Unrecognized stage: \" + current);\n    }\n  }\n//根据上一个方法确定的stage，创建对应的Generator(可把它简单理解成资源加载器）\n  private DataFetcherGenerator getNextGenerator() {\n    switch (stage) {\n      case RESOURCE_CACHE:\n        //从转换后的缓存中读取文件\n        return new ResourceCacheGenerator(decodeHelper, this);\n      case DATA_CACHE:\n       //从原文件缓存中读取文件\n        return new DataCacheGenerator(decodeHelper, this);\n      case SOURCE:\n       //没有缓存，重新加载资源（比如：网络图片、本地文件）\n        return new SourceGenerator(decodeHelper, this);\n      case FINISHED:\n        return null;\n      default:\n        throw new IllegalStateException(\"Unrecognized stage: \" + stage);\n    }\n  }\n //这里开始加载执行\n  private void runGenerators() {\n    currentThread = Thread.currentThread();\n    startFetchTime = LogTime.getLogTime();\n    boolean isStarted = false;\n    //这里Generator.startNext()方法中就是加载过程，如果成功加载则返回true并跳出循环，否则切换Generator继续执行。\n    while (!isCancelled && currentGenerator != null\n        && !(isStarted = currentGenerator.startNext())) {\n      stage = getNextStage(stage);\n      currentGenerator = getNextGenerator();\n     //如果任务执行到去加载资源（也就是没有命中磁盘缓存），且切换任务执行环境\n      if (stage == Stage.SOURCE) {\n        reschedule();\n        return;\n      }\n    }\n    // We've run out of stages and generators, give up.\n    if ((stage == Stage.FINISHED || isCancelled) && !isStarted) {\n      notifyFailed();\n    }\n    // Otherwise a generator started a new load and we expect to be called back in\n    // onDataFetcherReady.\n  }\n \n  @Override\n  public void reschedule() {\n    //更改执行目标为：SOURCE服务。当然也只有在stage == Stage.SOURCE的情况下会被调用。\n    runReason = RunReason.SWITCH_TO_SOURCE_SERVICE;\n    callback.reschedule(this);//这里callback正是EngineJob。\n  } \n  \n  //代码跟进EngineJob类中，可以看到实现方法。\n  @Override\n  public void reschedule(DecodeJob<?> job) {\n    // 可以看到，这里获取的SourceExecutor来执行decodeJob。\n    //也就巧妙地将此decodeJob任务从cacheExecutor切换到了SourceExecutor，这样分工协作更加高效。\n    getActiveSourceExecutor().execute(job);\n  }\n```\n从最开始没有命中内存缓存开始，然后执行Engine的start方法\n1. 默认情况会获取到cacheExecutor执行器来执行decodeJob任务；\n2. 继续decodeJob的run方法，因为RunReason==INITIALIZE，接着获取stage，默认会返回Stage.RESOURCE_CACHE,这时通过getNextGenerator就返回了ResourceCacheGenerator加载\n3. 紧接着就是调用 ResourceCacheGenerator的startNext方法 ，从转换后的缓存中读取已缓存的资源，如果命中则结束任务并回调结果，反之，任务切换到DataCacheGenerator加载器继续执行\n4. 若还是未命中，则切换到SourceGenerator加载器（第一次加载，由于没有任何缓存，就会走到这里），这时会通过任务调度，将线程运行环境切换到 SourceExecutor执行器来执行，最后，待SourceGenerator加载完成后结束任务，回调结果，流程结束。\n\n网络加载过程\nGlide底层是采用HttpUrlConnection进行网络请求，也可更换为OkHttp请求连接。\n### 回调刷新UI\n回到DecodeJob类中\n```java\n@Override\n  public void onDataFetcherReady(Key sourceKey, Object data, DataFetcher<?> fetcher,\n      DataSource dataSource, Key attemptedKey) {\n      ...\n      //资源加载完成后回调，执行\n      decodeFromRetrievedData();\n      ...\n  }\n  //处理源数据\n  private void decodeFromRetrievedData() {\n    if (Log.isLoggable(TAG, Log.VERBOSE)) {\n      logWithTimeAndKey(\"Retrieved data\", startFetchTime,\n          \"data: \" + currentData\n          + \", cache key: \" + currentSourceKey\n          + \", fetcher: \" + currentFetcher);\n    }\n    Resource<R> resource = null;\n    try {\n      //比如缩放，转换等。会判断currentDataSource类型。\n      resource = decodeFromData(currentFetcher, currentData, currentDataSource);\n    } catch (GlideException e) {\n      e.setLoggingDetails(currentAttemptingKey, currentDataSource);\n      exceptions.add(e);\n    }\n    if (resource != null) {\n      notifyEncodeAndRelease(resource, currentDataSource);\n    } else {\n      runGenerators();\n    }\n  }\n  private void notifyEncodeAndRelease(Resource<R> resource, DataSource dataSource) {\n    if (resource instanceof Initializable) {\n      ((Initializable) resource).initialize();\n    }\n    Resource<R> result = resource;\n    LockedResource<R> lockedResource = null;\n    if (deferredEncodeManager.hasResourceToEncode()) {\n      lockedResource = LockedResource.obtain(resource);\n      result = lockedResource;\n    }\n    //通知完成，并回调。\n    notifyComplete(result, dataSource);\n    stage = Stage.ENCODE;\n    try {\n      //磁盘缓存\n      if (deferredEncodeManager.hasResourceToEncode()) {\n        deferredEncodeManager.encode(diskCacheProvider, options);\n      }\n    } finally {\n      if (lockedResource != null) {\n        lockedResource.unlock();\n      }\n      onEncodeComplete();\n    }\n  }\n  \n  private void notifyComplete(Resource<R> resource, DataSource dataSource) {\n    setNotifiedOrThrow();\n    //这里的callback就是EngineJob\n    callback.onResourceReady(resource, dataSource);\n  }\n```\nDecodeJob加载完数据后，会做转换、磁盘缓存等操作。进入到EngineJob的onResourceReady\n```java\n@Override\n  public void onResourceReady(Resource<R> resource, DataSource dataSource) {\n    this.resource = resource;\n    this.dataSource = dataSource;\n    //将回调过程通过Handler切换到主线程\n    MAIN_THREAD_HANDLER.obtainMessage(MSG_COMPLETE, this).sendToTarget();\n  }\n  \n   @Override\n    public boolean handleMessage(Message message) {\n      EngineJob<?> job = (EngineJob<?>) message.obj;\n      switch (message.what) {\n        case MSG_COMPLETE:\n          job.handleResultOnMainThread();\n          break;\n        case MSG_EXCEPTION:\n          job.handleExceptionOnMainThread();\n          break;\n        case MSG_CANCELLED:\n          job.handleCancelledOnMainThread();\n          break;\n        default:\n          throw new IllegalStateException(\"Unrecognized message: \" + message.what);\n      }\n      return true;\n    }\n  @Synthetic\n  void handleResultOnMainThread() {\n    stateVerifier.throwIfRecycled();\n    if (isCancelled) {\n      resource.recycle();\n      release(false /*isRemovedFromQueue*/);\n      return;\n    } else if (cbs.isEmpty()) {\n      throw new IllegalStateException(\"Received a resource without any callbacks to notify\");\n    } else if (hasResource) {\n      throw new IllegalStateException(\"Already have resource\");\n    }\n    engineResource = engineResourceFactory.build(resource, isCacheable);\n    hasResource = true;\n    // Hold on to resource for duration of request so we don't recycle it in the middle of\n    // notifying if it synchronously released by one of the callbacks.\n    engineResource.acquire();\n    //通知并缓存到activeResources（内存缓存中的一种）中。\n    listener.onEngineJobComplete(key, engineResource);\n    for (ResourceCallback cb : cbs) {\n      if (!isInIgnoredCallbacks(cb)) {\n        engineResource.acquire();\n        //这里将回调到SingleRequest的onResourceReady中。\n        cb.onResourceReady(engineResource, dataSource);\n      }\n    }\n    // Our request is complete, so we can release the resource.\n    engineResource.release();\n    release(false /*isRemovedFromQueue*/);\n  }\n  \n  //继续跟进SingleRequest类\n  @Override\n  public void onResourceReady(Resource<?> resource, DataSource dataSource) {\n    ...\n    onResourceReady((Resource<R>) resource, (R) received, dataSource);\n  }\n  private void onResourceReady(Resource<R> resource, R result, DataSource dataSource) {\n    // We must call isFirstReadyResource before setting status.\n    boolean isFirstResource = isFirstReadyResource();\n    status = Status.COMPLETE;\n    this.resource = resource;\n   \n    if (requestListener == null\n        || !requestListener.onResourceReady(result, model, target, dataSource, isFirstResource)) {\n      Transition<? super R> animation =\n          animationFactory.build(dataSource, isFirstResource);\n    //如果没有设置requestListener或者未消耗事件，就会回调target的onResourceReady方法。\n    //默认的target是DrawableImageViewTarget     \n      target.onResourceReady(result, animation);\n    }\n    notifyLoadSuccess();\n  }\n```\n回调从Decodejob出来，在EngineJob中切换到主线程并一路回调到DrawableImageViewTarget中，至于为什么默认是DrawableImageViewTarget，请查看RequestBuilder中into方法。下面我们再看下DrawableImageViewTarget相关代码，也是设置显示图片的地方。\n```java\nublic class DrawableImageViewTarget extends ImageViewTarget<Drawable> {\n  public DrawableImageViewTarget(ImageView view) {\n    super(view);\n  }\n  @Override\n  protected void setResource(@Nullable Drawable resource) {\n    //实现了该方法。简单将drawable设置给imageview。\n    view.setImageDrawable(resource);\n  }\n}\npublic abstract class ImageViewTarget<Z> extends ViewTarget<ImageView, Z>\n    implements Transition.ViewAdapter {\n  public ImageViewTarget(ImageView view) {\n    super(view);\n  }\n  @Override\n  public void onResourceReady(Z resource, @Nullable Transition<? super Z> transition) {\n    if (transition == null || !transition.transition(resource, this)) {\n      setResourceInternal(resource);\n    } else {\n      maybeUpdateAnimatable(resource);\n    }\n  }\n  private void setResourceInternal(@Nullable Z resource) {\n    maybeUpdateAnimatable(resource);\n    setResource(resource);\n  }\n  private void maybeUpdateAnimatable(@Nullable Z resource) {\n    if (resource instanceof Animatable) {\n      animatable = (Animatable) resource;\n      animatable.start();\n    } else {\n      animatable = null;\n    }\n  }\n  protected abstract void setResource(@Nullable Z resource);\n}\n```\nonResourceReady在父类ImageViewTarget中回调，然后调用setResource将图片设置并显示出来。代码执行到这里，回调过程也就结束了。","slug":"Glide源码解析","published":1,"updated":"2020-02-13T07:16:09.049Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz60038qr3lgpvk1yey"},{"title":"HandlerThread和IntentService源码解析","date":"2019-02-23T16:00:00.000Z","description":"关于IntentService,我想记得的","_content":"## HandlerThread\n类如其名 类 = Handler + Thread.HandlerThread继承自Thread,且HandlerThread包含Handler成员变量。进入run（）\n```java\n@Override\n    public void run() {\n        mTid = Process.myTid();\n        Looper.prepare();\n        synchronized (this) {\n            mLooper = Looper.myLooper();\n            notifyAll();\n        }\n        Process.setThreadPriority(mPriority);\n        onLooperPrepared();\n        Looper.loop();\n        mTid = -1;\n    }\n```\n在run()内创建了一个Looper，并开启了轮询，这注定了HandlerThread继承自Thread，毕竟主线程已经由了MainLooper,一个线程只能有一个Looper,否则就会抛出异常。此外run()是无限循环的，当明确不再使用HandlerThread时需要调用quit()或quitSafely()\n\n## IntentService\nIntentService是继承于Service并处理异步请求的一个类。IntentService继承了Service且是一个抽象类，故必须创建其子类进行使用。\nIntentService用于后台执行任务，执行完毕它就会自动停止.封装了HandlerThread和Handler的特殊Service。进入IntentService的onCreate()\n```java\n@Override\n    public void onCreate() {\n        // TODO: It would be nice to have an option to hold a partial wakelock\n        // during processing, and to have a static startService(Context, Intent)\n        // method that would launch the service & hand off a wakelock.\n\n        super.onCreate();\n        HandlerThread thread = new HandlerThread(\"IntentService[\" + mName + \"]\");\n        thread.start();\n\n        mServiceLooper = thread.getLooper();\n        mServiceHandler = new ServiceHandler(mServiceLooper);\n    }\n```\n初始化HandlerThread.并用HandlerThread的Looper构造了mServiceHandler.mServiceHandler发送的消息最终会在HandlerThread中执行。故mServiceHandler始终运行在子线程。IntentService每启动一次，它就会调用onStartCommand()处理Intent.而onStartCommand（）又会调用.onStart()。\n其实mServiceHandler可直接当成HandlerThread中的Handler。\n\n```java\n@Override\n    public void onStart(@Nullable Intent intent, int startId) {\n        Message msg = mServiceHandler.obtainMessage();\n        msg.arg1 = startId;\n        msg.obj = intent;\n        mServiceHandler.sendMessage(msg);\n    }\n```\n进入mServiceHandler的handleMessage()\n```java\nprivate final class ServiceHandler extends Handler {\n        public ServiceHandler(Looper looper) {\n            super(looper);\n        }\n\n        @Override\n        public void handleMessage(Message msg) {\n            onHandleIntent((Intent)msg.obj);\n            stopSelf(msg.arg1);\n        }\n    }\n```\nonHandleIntent（）是一个抽象方法，需要我们自己在其中定义耗时操作。stopSelf（）会停止服务；如果存在多个后台任务。onHandlerIntent（）执行完最后一个才会调用stopSelf().每执行一个后台任务就需要启动一次IntentService。而IntentService则通过向HandlerThread发送消息执行任务。而HandlerThread中的Looper按顺序排队执行任务。\n```java\npublic class LocalIntentService extends IntentService {\n\n  public LocalIntentService() {\n    super(\"sdd\");\n  }\n\n  /**\n   * Creates an IntentService.  Invoked by your subclass's constructor.\n   *\n   * @param name Used to name the worker thread, important only for debugging.\n   */\n\n  public LocalIntentService(String name) {\n    super(name);\n  }\n\n  @Override protected void onHandleIntent(@Nullable Intent intent) {\n    String action = intent.getAction();\n    Log.i(\"TAG\", \"onHandleIntent: \" + action);\n    SystemClock.sleep(3000);\n    if (\"night\".equals(action)) {\n      Log.i(\"TAG\", \"handle \" + action);\n    }\n  }\n\n  @Override public void onDestroy() {\n    Log.i(\"TAG\", \"onDestroy: \");\n    super.onDestroy();\n  }\n}\n @Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_personal_view);\n    Intent service = new Intent(this, LocalIntentService.class);\n    service.setAction(\"night\");\n    startService(service);\n    service.setAction(\"sdf\");\n    startService(service);\n    service.setAction(\",poop\");\n    startService(service);\n  }\n```","source":"_posts/HandlerThread和IntentService源码解析.md","raw":"title: HandlerThread和IntentService源码解析\ndate: 2019-2-24\ntags: [Android,线程]\ncategories: Android开发艺术探索\ndescription: 关于IntentService,我想记得的\n---\n## HandlerThread\n类如其名 类 = Handler + Thread.HandlerThread继承自Thread,且HandlerThread包含Handler成员变量。进入run（）\n```java\n@Override\n    public void run() {\n        mTid = Process.myTid();\n        Looper.prepare();\n        synchronized (this) {\n            mLooper = Looper.myLooper();\n            notifyAll();\n        }\n        Process.setThreadPriority(mPriority);\n        onLooperPrepared();\n        Looper.loop();\n        mTid = -1;\n    }\n```\n在run()内创建了一个Looper，并开启了轮询，这注定了HandlerThread继承自Thread，毕竟主线程已经由了MainLooper,一个线程只能有一个Looper,否则就会抛出异常。此外run()是无限循环的，当明确不再使用HandlerThread时需要调用quit()或quitSafely()\n\n## IntentService\nIntentService是继承于Service并处理异步请求的一个类。IntentService继承了Service且是一个抽象类，故必须创建其子类进行使用。\nIntentService用于后台执行任务，执行完毕它就会自动停止.封装了HandlerThread和Handler的特殊Service。进入IntentService的onCreate()\n```java\n@Override\n    public void onCreate() {\n        // TODO: It would be nice to have an option to hold a partial wakelock\n        // during processing, and to have a static startService(Context, Intent)\n        // method that would launch the service & hand off a wakelock.\n\n        super.onCreate();\n        HandlerThread thread = new HandlerThread(\"IntentService[\" + mName + \"]\");\n        thread.start();\n\n        mServiceLooper = thread.getLooper();\n        mServiceHandler = new ServiceHandler(mServiceLooper);\n    }\n```\n初始化HandlerThread.并用HandlerThread的Looper构造了mServiceHandler.mServiceHandler发送的消息最终会在HandlerThread中执行。故mServiceHandler始终运行在子线程。IntentService每启动一次，它就会调用onStartCommand()处理Intent.而onStartCommand（）又会调用.onStart()。\n其实mServiceHandler可直接当成HandlerThread中的Handler。\n\n```java\n@Override\n    public void onStart(@Nullable Intent intent, int startId) {\n        Message msg = mServiceHandler.obtainMessage();\n        msg.arg1 = startId;\n        msg.obj = intent;\n        mServiceHandler.sendMessage(msg);\n    }\n```\n进入mServiceHandler的handleMessage()\n```java\nprivate final class ServiceHandler extends Handler {\n        public ServiceHandler(Looper looper) {\n            super(looper);\n        }\n\n        @Override\n        public void handleMessage(Message msg) {\n            onHandleIntent((Intent)msg.obj);\n            stopSelf(msg.arg1);\n        }\n    }\n```\nonHandleIntent（）是一个抽象方法，需要我们自己在其中定义耗时操作。stopSelf（）会停止服务；如果存在多个后台任务。onHandlerIntent（）执行完最后一个才会调用stopSelf().每执行一个后台任务就需要启动一次IntentService。而IntentService则通过向HandlerThread发送消息执行任务。而HandlerThread中的Looper按顺序排队执行任务。\n```java\npublic class LocalIntentService extends IntentService {\n\n  public LocalIntentService() {\n    super(\"sdd\");\n  }\n\n  /**\n   * Creates an IntentService.  Invoked by your subclass's constructor.\n   *\n   * @param name Used to name the worker thread, important only for debugging.\n   */\n\n  public LocalIntentService(String name) {\n    super(name);\n  }\n\n  @Override protected void onHandleIntent(@Nullable Intent intent) {\n    String action = intent.getAction();\n    Log.i(\"TAG\", \"onHandleIntent: \" + action);\n    SystemClock.sleep(3000);\n    if (\"night\".equals(action)) {\n      Log.i(\"TAG\", \"handle \" + action);\n    }\n  }\n\n  @Override public void onDestroy() {\n    Log.i(\"TAG\", \"onDestroy: \");\n    super.onDestroy();\n  }\n}\n @Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_personal_view);\n    Intent service = new Intent(this, LocalIntentService.class);\n    service.setAction(\"night\");\n    startService(service);\n    service.setAction(\"sdf\");\n    startService(service);\n    service.setAction(\",poop\");\n    startService(service);\n  }\n```","slug":"HandlerThread和IntentService源码解析","published":1,"updated":"2020-02-13T07:16:09.050Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz7003dqr3lk7k61jga"},{"title":"Http缓存","date":"2018-03-22T16:00:00.000Z","description":"304重定向","_content":"转自[reference_link](https://www.cnblogs.com/chenqf/p/6386163.html)\n## 基础知识\nQ:Http的所有请求都会到服务器吗？\nA:不会，当缓存策略采取了强制缓存时，会直接从本地内存中读取\n\nHTTP报文就是浏览器和服务器间通信时发送及响应的数据块。\n浏览器向服务器请求数据，发送请求(request)报文；服务器向浏览器返回数据，返回响应(response)报文。\n报文信息主要分为两部分\n1.包含属性的首部(header)--------------------------附加信息（cookie，缓存信息等）与缓存相关的规则信息，均包含在header中\n2.包含数据的主体部分(body)-----------------------HTTP请求真正想要传输的部分\n\n## 缓存规则\n为方便理解，假设浏览器存在一个缓存数据库,用于存储缓存信息。（实则并不存在，以本地缓存形式存在）\n在客户端第一次请求数据时，此时缓存数据库中没有对应的缓存数据，需要请求服务器，服务器返回后，将数据存储至缓存数据库中。\n![first_request](/images/first_request.png)\n\nHTTP缓存有多种规则，根据是否需要重新向服务器发起请求来分类，将其分为两大类—`强制缓存，对比缓存`\n\n### 强制缓存\n已存在缓存数据时，仅基于强制缓存，请求数据的流程如下\n![force_cache](/images/force_cache.PNG)\n强制缓存，在缓存数据未失效的情况下，可以直接使用缓存数据，那么浏览器是如何判断缓存数据是否失效呢？\n我们知道，在没有缓存数据的时候，浏览器向服务器请求数据时，服务器会将数据和缓存规则一并返回，缓存规则信息包含在response的header中。\n对于强制缓存来说，响应header中会有两个字段来标明失效规则（Expires/Cache-Control）\nExpires 一般会放在响应头中，表示过期时间\nExpires: Thu, 12 Jan 2017 11:01:33 GMT\nCache-Control 表示缓存的时间 max-age = 60 表示可以缓存 60s\n\n　Expires的值为服务端返回的到期时间，即下一次请求时，请求时间小于服务端返回的到期时间，直接使用缓存数据。\n不过Expires 是HTTP 1.0的东西，现在默认浏览器均默认使用HTTP 1.1，所以它的作用基本忽略。因为到期时间是由服务端生成的，但是客户端时间可能跟服务端时间有误差，这就会导致缓存命中的误差。\n所以HTTP 1.1 的版本，使用Cache-Control替代。\n\n### 对比缓存\n对比缓存，顾名思义，需要进行比较判断是否可以使用缓存。\n![compare_cache](/images/compare_cache.PNG)\n浏览器第一次请求数据时，服务器会将缓存标识与数据一起返回给客户端，客户端将二者备份至缓存数据库中。\n再次请求数据时，客户端将备份的缓存标识发送给服务器，服务器根据缓存标识进行判断，缓存未失效的情况下，返回304状态码，通知客户端比较成功，可以使用缓存数据。缓存失效，则返回最新数据和缓存规则。那服务器是如何判断缓存失效呢？\n对于对比缓存来说，缓存标识的传递是我们着重需要理解的，它在请求header和响应header间进行传递，\n一共分为两种标识传递，接下来，我们分开介绍。\n#### E-Tag / If-None-Match （优先级高于Last-Modified  /  If-Modified-Since）\n E-Tag 表示服务器返回的一个资源标识，下次客户端请求时将该值作为 key 为 If-None-Match 的值传给服务器判断，如果ETag没改变，则返回状态304；否则返回最新的数据与缓存规则。\n #### Last-Modified / if-Modified-since\nLast-Modified  在浏览器第一次请求某一个URL时，服务器端的返回状态会是200，内容是你请求的资源，同时有一个Last-Modified的属性标记此文件在服务期端最后被修改的时间，格式类似这样：Last-Modified:Tue, 24 Feb 2009 08:01:04 GMT，第二次请求浏览器会向服务器传送If-Modified-Since，询问该时间之后文件是否有被修改过，如果资源没有变化，则自动返回HTTP304状态码，内容为空，这样就节省了传输数据量；否则返回最新的数据与缓存规则。\n\n## 总结\n强制缓存如果生效，不需要再和服务器发生交互，而对比缓存不管是否生效，都需要与服务端发生交互。\n两类缓存规则可以同时存在，强制缓存优先级高于对比缓存，也就是说，当执行强制缓存的规则时，如果缓存生效，直接使用缓存，不再执行对比缓存规则。\n对于强制缓存，服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。\n对于比较缓存，将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存。\n流程如下：\n![browser_request_again](/images/browser_request_again.png)\n\n","source":"_posts/Http缓存.md","raw":"title: Http缓存\ndate: 2018-3-23\ntags: [缓存]\ncategories: 计算机网络\ndescription: 304重定向\n---\n转自[reference_link](https://www.cnblogs.com/chenqf/p/6386163.html)\n## 基础知识\nQ:Http的所有请求都会到服务器吗？\nA:不会，当缓存策略采取了强制缓存时，会直接从本地内存中读取\n\nHTTP报文就是浏览器和服务器间通信时发送及响应的数据块。\n浏览器向服务器请求数据，发送请求(request)报文；服务器向浏览器返回数据，返回响应(response)报文。\n报文信息主要分为两部分\n1.包含属性的首部(header)--------------------------附加信息（cookie，缓存信息等）与缓存相关的规则信息，均包含在header中\n2.包含数据的主体部分(body)-----------------------HTTP请求真正想要传输的部分\n\n## 缓存规则\n为方便理解，假设浏览器存在一个缓存数据库,用于存储缓存信息。（实则并不存在，以本地缓存形式存在）\n在客户端第一次请求数据时，此时缓存数据库中没有对应的缓存数据，需要请求服务器，服务器返回后，将数据存储至缓存数据库中。\n![first_request](/images/first_request.png)\n\nHTTP缓存有多种规则，根据是否需要重新向服务器发起请求来分类，将其分为两大类—`强制缓存，对比缓存`\n\n### 强制缓存\n已存在缓存数据时，仅基于强制缓存，请求数据的流程如下\n![force_cache](/images/force_cache.PNG)\n强制缓存，在缓存数据未失效的情况下，可以直接使用缓存数据，那么浏览器是如何判断缓存数据是否失效呢？\n我们知道，在没有缓存数据的时候，浏览器向服务器请求数据时，服务器会将数据和缓存规则一并返回，缓存规则信息包含在response的header中。\n对于强制缓存来说，响应header中会有两个字段来标明失效规则（Expires/Cache-Control）\nExpires 一般会放在响应头中，表示过期时间\nExpires: Thu, 12 Jan 2017 11:01:33 GMT\nCache-Control 表示缓存的时间 max-age = 60 表示可以缓存 60s\n\n　Expires的值为服务端返回的到期时间，即下一次请求时，请求时间小于服务端返回的到期时间，直接使用缓存数据。\n不过Expires 是HTTP 1.0的东西，现在默认浏览器均默认使用HTTP 1.1，所以它的作用基本忽略。因为到期时间是由服务端生成的，但是客户端时间可能跟服务端时间有误差，这就会导致缓存命中的误差。\n所以HTTP 1.1 的版本，使用Cache-Control替代。\n\n### 对比缓存\n对比缓存，顾名思义，需要进行比较判断是否可以使用缓存。\n![compare_cache](/images/compare_cache.PNG)\n浏览器第一次请求数据时，服务器会将缓存标识与数据一起返回给客户端，客户端将二者备份至缓存数据库中。\n再次请求数据时，客户端将备份的缓存标识发送给服务器，服务器根据缓存标识进行判断，缓存未失效的情况下，返回304状态码，通知客户端比较成功，可以使用缓存数据。缓存失效，则返回最新数据和缓存规则。那服务器是如何判断缓存失效呢？\n对于对比缓存来说，缓存标识的传递是我们着重需要理解的，它在请求header和响应header间进行传递，\n一共分为两种标识传递，接下来，我们分开介绍。\n#### E-Tag / If-None-Match （优先级高于Last-Modified  /  If-Modified-Since）\n E-Tag 表示服务器返回的一个资源标识，下次客户端请求时将该值作为 key 为 If-None-Match 的值传给服务器判断，如果ETag没改变，则返回状态304；否则返回最新的数据与缓存规则。\n #### Last-Modified / if-Modified-since\nLast-Modified  在浏览器第一次请求某一个URL时，服务器端的返回状态会是200，内容是你请求的资源，同时有一个Last-Modified的属性标记此文件在服务期端最后被修改的时间，格式类似这样：Last-Modified:Tue, 24 Feb 2009 08:01:04 GMT，第二次请求浏览器会向服务器传送If-Modified-Since，询问该时间之后文件是否有被修改过，如果资源没有变化，则自动返回HTTP304状态码，内容为空，这样就节省了传输数据量；否则返回最新的数据与缓存规则。\n\n## 总结\n强制缓存如果生效，不需要再和服务器发生交互，而对比缓存不管是否生效，都需要与服务端发生交互。\n两类缓存规则可以同时存在，强制缓存优先级高于对比缓存，也就是说，当执行强制缓存的规则时，如果缓存生效，直接使用缓存，不再执行对比缓存规则。\n对于强制缓存，服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。\n对于比较缓存，将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存。\n流程如下：\n![browser_request_again](/images/browser_request_again.png)\n\n","slug":"Http缓存","published":1,"updated":"2020-02-13T07:16:09.050Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz8003gqr3l7oy476hc"},{"title":"Gray code","date":"2019-01-26T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### The gray code is a binary numeral system where two successive values differ in only one bit.Given a non-negative integer n representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.\n ## Examples\n``` java\nExample 1:\nInput: 2\nOutput: [0,1,3,2]\nExplanation:\n00 - 0\n01 - 1\n11 - 3\n10 - 2\n```\n```java\nExample 2:\nInput: 0\nOutput: [0]\nExplanation: We define the gray code sequence to begin with 0.\n             A gray code sequence of n has size = 2n, which for n = 0 the size is 20 = 1.\n             Therefore, for n = 0 the gray code sequence is [0].\n```\n## Solution\n　　两种做法，一种是回溯，另一种是找规律（对于编程技术提高然并卵）。 \n　　找规律格雷编码与二进制的关系： 从最右边一位起，依次将每一位与左边一位异或(XOR)，作为对应格雷码该位的值，最左边一位不变(相当于左边是0)。如 6(0110) 与3( 0011) 异或得到格雷编码0101.\n　　回溯法：也有点找规律的意思，长度为n的格雷编码 = 长度为 n - 1的格雷编码每个编码前加0,再逆序对每个编码前加1.如长度为1的编码为0 ，1.而长度为2的编码为00，01，11，10.\n\n## Code\n```java\nclass Solution {\n    public List<Integer> grayCode(int n) {\n        n = 1 << n;\n        List<Integer> list = new ArrayList<>();\n        for (int i = 0; i < n; i++) {\n            list.add(i ^ (i >> 1));\n        }\n        return list;\n    }\n}\n```\n```java\n class Solution {\n    public List<Integer> grayCode(int n) {\n        List<Integer> list = new ArrayList<>();\n        dfs(list, 1, n);\n        return list;\n    }\n\n    void dfs(List<Integer> list, int cur, int n) {\n        if (n == 0) {\n            list.add(0);\n            return;\n        }\n        if (cur > n) {\n            return;\n        }\n        if (cur == 1) {\n            list.add(0);\n            list.add(1);\n        } else {\n            int len = list.size();\n            for (int i = 0; i < len; i++) {\n                list.add((int) (list.get(len - i - 1) + Math.pow(2, cur - 1)));\n            }\n        }\n        dfs(list, cur + 1, n);\n    }\n}\n```","source":"_posts/Gray code.md","raw":"title:  Gray code\ndate: 2019-1-27\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### The gray code is a binary numeral system where two successive values differ in only one bit.Given a non-negative integer n representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.\n ## Examples\n``` java\nExample 1:\nInput: 2\nOutput: [0,1,3,2]\nExplanation:\n00 - 0\n01 - 1\n11 - 3\n10 - 2\n```\n```java\nExample 2:\nInput: 0\nOutput: [0]\nExplanation: We define the gray code sequence to begin with 0.\n             A gray code sequence of n has size = 2n, which for n = 0 the size is 20 = 1.\n             Therefore, for n = 0 the gray code sequence is [0].\n```\n## Solution\n　　两种做法，一种是回溯，另一种是找规律（对于编程技术提高然并卵）。 \n　　找规律格雷编码与二进制的关系： 从最右边一位起，依次将每一位与左边一位异或(XOR)，作为对应格雷码该位的值，最左边一位不变(相当于左边是0)。如 6(0110) 与3( 0011) 异或得到格雷编码0101.\n　　回溯法：也有点找规律的意思，长度为n的格雷编码 = 长度为 n - 1的格雷编码每个编码前加0,再逆序对每个编码前加1.如长度为1的编码为0 ，1.而长度为2的编码为00，01，11，10.\n\n## Code\n```java\nclass Solution {\n    public List<Integer> grayCode(int n) {\n        n = 1 << n;\n        List<Integer> list = new ArrayList<>();\n        for (int i = 0; i < n; i++) {\n            list.add(i ^ (i >> 1));\n        }\n        return list;\n    }\n}\n```\n```java\n class Solution {\n    public List<Integer> grayCode(int n) {\n        List<Integer> list = new ArrayList<>();\n        dfs(list, 1, n);\n        return list;\n    }\n\n    void dfs(List<Integer> list, int cur, int n) {\n        if (n == 0) {\n            list.add(0);\n            return;\n        }\n        if (cur > n) {\n            return;\n        }\n        if (cur == 1) {\n            list.add(0);\n            list.add(1);\n        } else {\n            int len = list.size();\n            for (int i = 0; i < len; i++) {\n                list.add((int) (list.get(len - i - 1) + Math.pow(2, cur - 1)));\n            }\n        }\n        dfs(list, cur + 1, n);\n    }\n}\n```","slug":"Gray code","published":1,"updated":"2020-02-13T07:16:09.050Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxz9003kqr3lblvwzond"},{"title":"Jupyter配置","date":"2019-01-04T16:00:00.000Z","description":"　　","_content":"　　看了网上很多配置工作路径的，全坑人的呀，每一个配上了，最后还是靠自己丰衣足食。一步步看cmd命令解释生生一次次试错试出来啦。\n ```python\n Jupyter-notebook --generate-config\n```\n再将生成文件的目录的工作路径改了即可。以及右击Jupyter快捷方式中的属性（起始位置%HOMEPATH%后的东西全删掉）","source":"_posts/Jupyter配置.md","raw":"title: Jupyter配置\ndate: 2019-1-5\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n　　看了网上很多配置工作路径的，全坑人的呀，每一个配上了，最后还是靠自己丰衣足食。一步步看cmd命令解释生生一次次试错试出来啦。\n ```python\n Jupyter-notebook --generate-config\n```\n再将生成文件的目录的工作路径改了即可。以及右击Jupyter快捷方式中的属性（起始位置%HOMEPATH%后的东西全删掉）","slug":"Jupyter配置","published":1,"updated":"2020-02-13T07:16:09.051Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzb003oqr3lssaltnav"},{"title":"关于IM上拉加载RecylerView闪烁至错误位置","date":"2017-06-05T16:00:00.000Z","description":"IM上拉加载RecylerView闪烁至错误位置","_content":"\n  在上拉刷新时采取 mChatAdapter.notifyItemRangeInserted(0, size)，而不是mChatAdapter.notifyDataSetChanged();","source":"_posts/IM上拉加载RecylerView.md","raw":"title: 关于IM上拉加载RecylerView闪烁至错误位置\ndate: 2017-06-06 00:00:00\ntags: [Android]\ncategories: bug\ndescription: IM上拉加载RecylerView闪烁至错误位置\n---\n\n  在上拉刷新时采取 mChatAdapter.notifyItemRangeInserted(0, size)，而不是mChatAdapter.notifyDataSetChanged();","slug":"IM上拉加载RecylerView","published":1,"updated":"2020-02-13T07:16:09.051Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzc003sqr3lc5req59p"},{"title":"Convert a Number to Hexadecimal","date":"2020-01-31T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/\n\n\n## Solution\n\n转换十六进制有个技巧，四位一转，每次取出后四位abcd出来与 0xf 与下，得到的结果必然是abcd 代表的十进制数 i，再根据 i 从16 进制索引表中取出对应的 16 进制字符。小细节是，`每次需要将上次的结果放到后面去`。\n\n## Code\n\n```java\nclass Solution {\n    fun toHex(num: Int): String {\n        var n = num\n        var res = \"\"\n        val string = \"0123456789abcdef\"\n        while (n != 0 && res.length < 8) {\n            res = string[n and 0xf] + res\n            n = n shr 4\n        }\n        return res\n    }\n}\n```","source":"_posts/Hexadecimal.md","raw":"title:  Convert a Number to Hexadecimal\ndate: 2020-2-1\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/\n\n\n## Solution\n\n转换十六进制有个技巧，四位一转，每次取出后四位abcd出来与 0xf 与下，得到的结果必然是abcd 代表的十进制数 i，再根据 i 从16 进制索引表中取出对应的 16 进制字符。小细节是，`每次需要将上次的结果放到后面去`。\n\n## Code\n\n```java\nclass Solution {\n    fun toHex(num: Int): String {\n        var n = num\n        var res = \"\"\n        val string = \"0123456789abcdef\"\n        while (n != 0 && res.length < 8) {\n            res = string[n and 0xf] + res\n            n = n shr 4\n        }\n        return res\n    }\n}\n```","slug":"Hexadecimal","published":1,"updated":"2020-02-12T02:56:28.209Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzd003vqr3lit9j6l6y"},{"title":"LRU","date":"2019-01-06T16:00:00.000Z","description":"Design and implement a data structure for Least Recently Used (LRU) cache.","_content":"## Problem description\n  ### Design and implement a data structure for Least Recently Used (LRU) cache. It should support the following operations: get and put.get(key) - Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.put(key, value) - Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.Could you do both operations in O(1) time complexity?\n ## Examples\n``` java\nExample 1:\nLRUCache cache = new LRUCache( 2 /* capacity */ );\n\ncache.put(1, 1);\ncache.put(2, 2);\ncache.get(1);       // returns 1\ncache.put(3, 3);    // evicts key 2\ncache.get(2);       // returns -1 (not found)\ncache.put(4, 4);    // evicts key 1\ncache.get(1);       // returns -1 (not found)\ncache.get(3);       // returns 3\ncache.get(4);       // returns 4\n```\n\n## Solution\n　　一开始选取HashMap，但因为HashMap无序只能放弃。最终选取了LinkedHashMap,但在使用过程中，无法remove指定index元素。差点手写。幸而搜到了LInkedHashMap的一个构造函数可以实现LRU。还需要重写removeEldestEntry方法，LInkedHashMap在添加元素后会调用removeEldestEntry方法检查是否需要移出最久未使用元素。\n ```java\n public LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder) {//accessOrder：true采取LRU淘汰算法\n        super(initialCapacity, loadFactor);\n        this.accessOrder = accessOrder;\n    }\n ```\n\n## Code\n\n```javaclass LRUCache {\n\n     LinkedHashMap mCacheMap;\n    int mCapacity;\n    public LRUCache(int capacity) {\n        mCapacity = capacity;\n        mCacheMap = new LinkedHashMap(capacity, 0.75F, true){\n            @Override\n            protected boolean removeEldestEntry(Map.Entry eldest) {\n                if (mCapacity + 1 == mCacheMap.size()) {\n                    return true;\n                }\n                return false;\n            }\n        };\n    }\n\n    public int get(int key) {\n        if (mCacheMap.containsKey(key)) {\n            return (int) mCacheMap.get(key);\n        }\n        return -1;\n    }\n\n    public void put(int key, int value) {\n        mCacheMap.put(key, value);\n    }\n}\n```","source":"_posts/LRU.md","raw":"title: LRU\ndate: 2019-1-7\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Design and implement a data structure for Least Recently Used (LRU) cache.\n---\n## Problem description\n  ### Design and implement a data structure for Least Recently Used (LRU) cache. It should support the following operations: get and put.get(key) - Get the value (will always be positive) of the key if the key exists in the cache, otherwise return -1.put(key, value) - Set or insert the value if the key is not already present. When the cache reached its capacity, it should invalidate the least recently used item before inserting a new item.Could you do both operations in O(1) time complexity?\n ## Examples\n``` java\nExample 1:\nLRUCache cache = new LRUCache( 2 /* capacity */ );\n\ncache.put(1, 1);\ncache.put(2, 2);\ncache.get(1);       // returns 1\ncache.put(3, 3);    // evicts key 2\ncache.get(2);       // returns -1 (not found)\ncache.put(4, 4);    // evicts key 1\ncache.get(1);       // returns -1 (not found)\ncache.get(3);       // returns 3\ncache.get(4);       // returns 4\n```\n\n## Solution\n　　一开始选取HashMap，但因为HashMap无序只能放弃。最终选取了LinkedHashMap,但在使用过程中，无法remove指定index元素。差点手写。幸而搜到了LInkedHashMap的一个构造函数可以实现LRU。还需要重写removeEldestEntry方法，LInkedHashMap在添加元素后会调用removeEldestEntry方法检查是否需要移出最久未使用元素。\n ```java\n public LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder) {//accessOrder：true采取LRU淘汰算法\n        super(initialCapacity, loadFactor);\n        this.accessOrder = accessOrder;\n    }\n ```\n\n## Code\n\n```javaclass LRUCache {\n\n     LinkedHashMap mCacheMap;\n    int mCapacity;\n    public LRUCache(int capacity) {\n        mCapacity = capacity;\n        mCacheMap = new LinkedHashMap(capacity, 0.75F, true){\n            @Override\n            protected boolean removeEldestEntry(Map.Entry eldest) {\n                if (mCapacity + 1 == mCacheMap.size()) {\n                    return true;\n                }\n                return false;\n            }\n        };\n    }\n\n    public int get(int key) {\n        if (mCacheMap.containsKey(key)) {\n            return (int) mCacheMap.get(key);\n        }\n        return -1;\n    }\n\n    public void put(int key, int value) {\n        mCacheMap.put(key, value);\n    }\n}\n```","slug":"LRU","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxze003zqr3lb1ptsy8o"},{"title":"Kotlin修仙之逍遥篇","date":"2015-12-03T16:00:00.000Z","description":"挣断枷锁，超脱万物，无所依赖，绝对自由","_content":"## 类\n\n### 构造方法\n\n1. kt中构造方法分为主构造方法和次构造方法。\n2. 主构造方法可看作是必定会执行的构造方法，且是唯一；次构造方法是重写了的构造方法，且不唯一，第二构造方法必须在方法声明后调用主构造方法。\n3. kt中，主构造方法的参数允许使用var和val关键字，var表示该参数可修改，val不可修改；次构造方法里不能使用var和val关键字，即次构造方法都是只读的，不能在构造方法内部改变参数的值。\n\n```kotlin\nclass Person  constructor(firstName: String=\"Night\") {//声明主构造器\n        //如果constructor前没有修饰符则constructor可省略不写。\n        init {//主构造方法\n\n        }\n\n    constructor(a: Int) : this(\"\"){//必须先调用主构造器\n        println(\"\")\n    }\n\n\n    fun main(args: Array<String>) {\n        Person()\n    }\n\n}\n}\n```\n\n### 方法中的默认参数\n\nemmmm，我们造Java中是不可以设置默认参数的，毕竟底层的JVM就不支持。那可以转化为java字节码的kt却意外地支持。\\(≧▽≦)/，那它是怎么做到的呢？从上述代码的字节码出发\n\n在intellj/AndroidStudio中查看kotlin的字节码选项是在 Menu > Tools > Kotlin > Show Kotlin Bytecode。点击Decompile即可得到字节码，字节码还是太鬼畜啦，我们还是看下java代码压下惊吧。\n\n```java\nimport kotlin.Metadata;\nimport kotlin.jvm.internal.DefaultConstructorMarker;\nimport kotlin.jvm.internal.Intrinsics;\nimport org.jetbrains.annotations.NotNull;\n\n@Metadata(\n   mv = {1, 1, 7},\n   bv = {1, 0, 2},\n   k = 1,\n   d1 = {\"\\u0000(\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0010\\b\\n\\u0002\\b\\u0002\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0002\\n\\u0002\\u0010\\u0002\\n\\u0000\\n\\u0002\\u0010\\u0011\\n\\u0002\\b\\u0002\\u0018\\u00002\\u00020\\u0001B\\u000f\\b\\u0016\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\u0002\\u0010\\u0004B\\u000f\\u0012\\b\\b\\u0002\\u0010\\u0005\\u001a\\u00020\\u0006¢\\u0006\\u0002\\u0010\\u0007J\\u0019\\u0010\\b\\u001a\\u00020\\t2\\f\\u0010\\n\\u001a\\b\\u0012\\u0004\\u0012\\u00020\\u00060\\u000b¢\\u0006\\u0002\\u0010\\f¨\\u0006\\r\"},\n   d2 = {\"Lcom/example/shopsystem/Person;\", \"\", \"a\", \"\", \"(I)V\", \"firstName\", \"\", \"(Ljava/lang/String;)V\", \"main\", \"\", \"args\", \"\", \"([Ljava/lang/String;)V\", \"production sources for module ShopSystem\"}\n)\npublic final class Person {\n   public final void main(@NotNull String[] args) {\n      Intrinsics.checkParameterIsNotNull(args, \"args\");\n      new Person((String)null, 1, (DefaultConstructorMarker)null);\n   }\n\n   public Person(@NotNull String firstName) {\n      Intrinsics.checkParameterIsNotNull(firstName, \"firstName\");\n      super();\n   }\n\n   //自动生成的处理默认参数的构造方法\n   //DefaultConstructorMarker是kotlin的一个内部类，负责处理构造方法的默认参数值。\n   public Person(String var1, int var2, DefaultConstructorMarker var3) {\n      if ((var2 & 1) != 0) {\n         var1 = \"Night\";\n      }\n\n      this(var1);\n   }\n//自动生成的没有参数的构造方法\n   public Person() {\n      this((String)null, 1, (DefaultConstructorMarker)null);\n   }\n\n   public Person(int a) {\n      this(\"\");\n      String var2 = \"\";\n      System.out.println(var2);\n   }\n}\n```\n\n   从上面代码可以看出，源码并没有直接调用主构造方法，而是调用了另一个自动生成的处理默认参数的构造方法。指定参数的默认值，再调用主构造方法。所以其实kt中的参数默认值是通过在中间构造方法硬编码到字节码中的，然后在中间构造方法又调用包含默认参数值的构造方法。\n\n   kt中方法默认值的设置和C++类似，设置默认值是从后往前的，也就是说如果某个参数带默认值，那么该参数后面的所有参数必须都有默认值。\n\n```kotlin\nclass Person constructor(a :String ,b:Int=3,c:Int=4){}\n```\n   \n   那如果有这么一种情况，一个方法里指定了很多默认值，你只想修改一个默认值的输入，其余采取原默认值。kt中可以命名参数来传递参数值。\n\n```kotlin\nPerson(\"\",c=5)\n```\n\n   kt中创建类和调用方法语法上是没有区别的，都是类名、方法名（）；因此kt中，`调用方法和创建类的实例是通过语义和上下文来进行区分`\n\n### 方法中空参数\n\n  kt默认在方法中的参数是不允许为空，当传入的参数为空，编译器会直接编译报错；如果想指定方法中的参数可为空，在参数后面加入？即可\n  \n```kotlin\n\tfun b(s:String?){\n        \n\t}\n```\n\n### 属性语法\n\n   属性语法：类似JavaBean中属性的getter,setter方法；\n   看一段代码\n\n\n```kotlin\n\tvar p = Person()\n    p.a=5\n```\n\t\n   代码很简单是吧，但p.a=5其实并不是直接赋值，而是调用了属性a的get属性方法。你可能想我并没有写a的get和set方法；其实类的成员变量有默认的get、set方法。\n\n   当然你可能想重写get、set方法，这就需要属性语法啦~\n   完整的属性语法如下：\n\n\tvar/val <propertyName>[: <PropertyType>] [= <property_initializer>]\n\t[<getter>]\n\t[<setter>]\n\n   操作如下：\n\n```kotlin\n\t var a: Int=0\n        get() = field\n        set(value) {\n            field = value\n        }\n```     \n   \n   和Java类似如果变量声明为private，还想在类外访问必须手写get、set方法。不造intellij idea为什么没有自动生成功能⊙︿⊙.\n\n```kolin\n\tfun geta(): Int {\n        return a\n    }\n```\n\n   方法中的可变参数：\n\n```kotlin\n  fun add(vararg persons: Person) {//persons为可变参数，可传入任意多个Person对象\n        \n    }\n```\n\n   当函数体只有一行代码时，可直接在函数体声明后直接加=号，后面直接加代码。返回值类型可省略\n\n```kotlin\n\tfun get():String = a\n\t//fun get()= a  两种表达方式等价，\n```\n\n### 本地函数\n   \n   就是函数中套函数，在java中函数中函数是不允许的。\n\n```kolin\n\tfun add(vararg person: Person) {\n        fun a() {}\n    }\n```\n\n### 修饰符\n\n   和Java有差异的就只有kt并没有default修饰符，kt默认是public。kt多了一个internel修饰符。\n\n   internal：任何在Module内部类都可以访问。\n\n### 类的继承\n\n#### 重写方法\n   如果一个类是可继承的则需要显示的使用open关键字表明该类是可继承的。如果父类中的方法需要被重写则也需要加上open关键字。子类对应的方法也需要加上override关键字。如下所示：\n```kotlin\n\topen class Person constructor(a :String ,b:Int=3,c:Int=3){\n    //声明主构造器\n    private var b: Int = 3\n    private var a: Int=0\n\n   \n\n    open fun geta(): Int {\n        return a\n      }\n\n   \n\t}\n\tclass student : Person(\"\") {\n\n    override fun geta():Int{\n        return super.geta()\n      }\n\t}\n```\n\n\n#### 重写属性\n\n属性也可以重写，是的，你没有听错，只要998，只要998，你就能......咳咳，要注意哈，val属性可被重写为var属性，反之则不行。\n\n```kotlin\nopen class Person constructor(a :String ,b:Int=3,c:Int=3){\n    //声明主构造器\n    private var b: Int = 3\n    open  val a: Int=0\n\n\n\n    open fun geta(): Int {\n        return a\n    }\n\n\n}\nclass student : Person(\"\") {\n    override var a:Int=3\n    override fun geta():Int{\n        return super.geta()\n    }\n}\n\n```\n\n## 接口\n\n与Java的差异：kt中的接口可以有默认方法实现，有默认方法实现的方法可以不重写该方法\n\n```kotlin\nclass Person constructor(a :String ,b:Int=3,c:Int=3):Talk{\n    override fun a(): String {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n\n}\ninterface Talk{//接口所有属性、方法都是open的\n\n    fun say(): String{\n        return \"bb\"\n    }\n    fun a():String\n}\n\n```","source":"_posts/Kotlin逍遥篇.md","raw":"title: Kotlin修仙之逍遥篇\ndate: 2015-12-04 00:00:00\ntags: [Android,Kotlin]\ncategories: Kotlin学习笔记\ndescription: \"挣断枷锁，超脱万物，无所依赖，绝对自由\"\n---\n## 类\n\n### 构造方法\n\n1. kt中构造方法分为主构造方法和次构造方法。\n2. 主构造方法可看作是必定会执行的构造方法，且是唯一；次构造方法是重写了的构造方法，且不唯一，第二构造方法必须在方法声明后调用主构造方法。\n3. kt中，主构造方法的参数允许使用var和val关键字，var表示该参数可修改，val不可修改；次构造方法里不能使用var和val关键字，即次构造方法都是只读的，不能在构造方法内部改变参数的值。\n\n```kotlin\nclass Person  constructor(firstName: String=\"Night\") {//声明主构造器\n        //如果constructor前没有修饰符则constructor可省略不写。\n        init {//主构造方法\n\n        }\n\n    constructor(a: Int) : this(\"\"){//必须先调用主构造器\n        println(\"\")\n    }\n\n\n    fun main(args: Array<String>) {\n        Person()\n    }\n\n}\n}\n```\n\n### 方法中的默认参数\n\nemmmm，我们造Java中是不可以设置默认参数的，毕竟底层的JVM就不支持。那可以转化为java字节码的kt却意外地支持。\\(≧▽≦)/，那它是怎么做到的呢？从上述代码的字节码出发\n\n在intellj/AndroidStudio中查看kotlin的字节码选项是在 Menu > Tools > Kotlin > Show Kotlin Bytecode。点击Decompile即可得到字节码，字节码还是太鬼畜啦，我们还是看下java代码压下惊吧。\n\n```java\nimport kotlin.Metadata;\nimport kotlin.jvm.internal.DefaultConstructorMarker;\nimport kotlin.jvm.internal.Intrinsics;\nimport org.jetbrains.annotations.NotNull;\n\n@Metadata(\n   mv = {1, 1, 7},\n   bv = {1, 0, 2},\n   k = 1,\n   d1 = {\"\\u0000(\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0000\\n\\u0002\\u0010\\b\\n\\u0002\\b\\u0002\\n\\u0002\\u0010\\u000e\\n\\u0002\\b\\u0002\\n\\u0002\\u0010\\u0002\\n\\u0000\\n\\u0002\\u0010\\u0011\\n\\u0002\\b\\u0002\\u0018\\u00002\\u00020\\u0001B\\u000f\\b\\u0016\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003¢\\u0006\\u0002\\u0010\\u0004B\\u000f\\u0012\\b\\b\\u0002\\u0010\\u0005\\u001a\\u00020\\u0006¢\\u0006\\u0002\\u0010\\u0007J\\u0019\\u0010\\b\\u001a\\u00020\\t2\\f\\u0010\\n\\u001a\\b\\u0012\\u0004\\u0012\\u00020\\u00060\\u000b¢\\u0006\\u0002\\u0010\\f¨\\u0006\\r\"},\n   d2 = {\"Lcom/example/shopsystem/Person;\", \"\", \"a\", \"\", \"(I)V\", \"firstName\", \"\", \"(Ljava/lang/String;)V\", \"main\", \"\", \"args\", \"\", \"([Ljava/lang/String;)V\", \"production sources for module ShopSystem\"}\n)\npublic final class Person {\n   public final void main(@NotNull String[] args) {\n      Intrinsics.checkParameterIsNotNull(args, \"args\");\n      new Person((String)null, 1, (DefaultConstructorMarker)null);\n   }\n\n   public Person(@NotNull String firstName) {\n      Intrinsics.checkParameterIsNotNull(firstName, \"firstName\");\n      super();\n   }\n\n   //自动生成的处理默认参数的构造方法\n   //DefaultConstructorMarker是kotlin的一个内部类，负责处理构造方法的默认参数值。\n   public Person(String var1, int var2, DefaultConstructorMarker var3) {\n      if ((var2 & 1) != 0) {\n         var1 = \"Night\";\n      }\n\n      this(var1);\n   }\n//自动生成的没有参数的构造方法\n   public Person() {\n      this((String)null, 1, (DefaultConstructorMarker)null);\n   }\n\n   public Person(int a) {\n      this(\"\");\n      String var2 = \"\";\n      System.out.println(var2);\n   }\n}\n```\n\n   从上面代码可以看出，源码并没有直接调用主构造方法，而是调用了另一个自动生成的处理默认参数的构造方法。指定参数的默认值，再调用主构造方法。所以其实kt中的参数默认值是通过在中间构造方法硬编码到字节码中的，然后在中间构造方法又调用包含默认参数值的构造方法。\n\n   kt中方法默认值的设置和C++类似，设置默认值是从后往前的，也就是说如果某个参数带默认值，那么该参数后面的所有参数必须都有默认值。\n\n```kotlin\nclass Person constructor(a :String ,b:Int=3,c:Int=4){}\n```\n   \n   那如果有这么一种情况，一个方法里指定了很多默认值，你只想修改一个默认值的输入，其余采取原默认值。kt中可以命名参数来传递参数值。\n\n```kotlin\nPerson(\"\",c=5)\n```\n\n   kt中创建类和调用方法语法上是没有区别的，都是类名、方法名（）；因此kt中，`调用方法和创建类的实例是通过语义和上下文来进行区分`\n\n### 方法中空参数\n\n  kt默认在方法中的参数是不允许为空，当传入的参数为空，编译器会直接编译报错；如果想指定方法中的参数可为空，在参数后面加入？即可\n  \n```kotlin\n\tfun b(s:String?){\n        \n\t}\n```\n\n### 属性语法\n\n   属性语法：类似JavaBean中属性的getter,setter方法；\n   看一段代码\n\n\n```kotlin\n\tvar p = Person()\n    p.a=5\n```\n\t\n   代码很简单是吧，但p.a=5其实并不是直接赋值，而是调用了属性a的get属性方法。你可能想我并没有写a的get和set方法；其实类的成员变量有默认的get、set方法。\n\n   当然你可能想重写get、set方法，这就需要属性语法啦~\n   完整的属性语法如下：\n\n\tvar/val <propertyName>[: <PropertyType>] [= <property_initializer>]\n\t[<getter>]\n\t[<setter>]\n\n   操作如下：\n\n```kotlin\n\t var a: Int=0\n        get() = field\n        set(value) {\n            field = value\n        }\n```     \n   \n   和Java类似如果变量声明为private，还想在类外访问必须手写get、set方法。不造intellij idea为什么没有自动生成功能⊙︿⊙.\n\n```kolin\n\tfun geta(): Int {\n        return a\n    }\n```\n\n   方法中的可变参数：\n\n```kotlin\n  fun add(vararg persons: Person) {//persons为可变参数，可传入任意多个Person对象\n        \n    }\n```\n\n   当函数体只有一行代码时，可直接在函数体声明后直接加=号，后面直接加代码。返回值类型可省略\n\n```kotlin\n\tfun get():String = a\n\t//fun get()= a  两种表达方式等价，\n```\n\n### 本地函数\n   \n   就是函数中套函数，在java中函数中函数是不允许的。\n\n```kolin\n\tfun add(vararg person: Person) {\n        fun a() {}\n    }\n```\n\n### 修饰符\n\n   和Java有差异的就只有kt并没有default修饰符，kt默认是public。kt多了一个internel修饰符。\n\n   internal：任何在Module内部类都可以访问。\n\n### 类的继承\n\n#### 重写方法\n   如果一个类是可继承的则需要显示的使用open关键字表明该类是可继承的。如果父类中的方法需要被重写则也需要加上open关键字。子类对应的方法也需要加上override关键字。如下所示：\n```kotlin\n\topen class Person constructor(a :String ,b:Int=3,c:Int=3){\n    //声明主构造器\n    private var b: Int = 3\n    private var a: Int=0\n\n   \n\n    open fun geta(): Int {\n        return a\n      }\n\n   \n\t}\n\tclass student : Person(\"\") {\n\n    override fun geta():Int{\n        return super.geta()\n      }\n\t}\n```\n\n\n#### 重写属性\n\n属性也可以重写，是的，你没有听错，只要998，只要998，你就能......咳咳，要注意哈，val属性可被重写为var属性，反之则不行。\n\n```kotlin\nopen class Person constructor(a :String ,b:Int=3,c:Int=3){\n    //声明主构造器\n    private var b: Int = 3\n    open  val a: Int=0\n\n\n\n    open fun geta(): Int {\n        return a\n    }\n\n\n}\nclass student : Person(\"\") {\n    override var a:Int=3\n    override fun geta():Int{\n        return super.geta()\n    }\n}\n\n```\n\n## 接口\n\n与Java的差异：kt中的接口可以有默认方法实现，有默认方法实现的方法可以不重写该方法\n\n```kotlin\nclass Person constructor(a :String ,b:Int=3,c:Int=3):Talk{\n    override fun a(): String {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n\n}\ninterface Talk{//接口所有属性、方法都是open的\n\n    fun say(): String{\n        return \"bb\"\n    }\n    fun a():String\n}\n\n```","slug":"Kotlin逍遥篇","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzf0042qr3lto0b6jd9"},{"title":"Kotlin修仙之觉醒篇","date":"2015-12-02T16:00:00.000Z","description":"初步觉醒者唤醒体内沉睡的神秘因子，开启特殊能力","_content":"## Kotlin基本语法\n\n### 变量与常量\n\n1. 语句末尾没有分号\n2. 变量以var开头，常量以val开头\n3. 数据类型放在变量的后面，且用：隔开\n4. 数据类型首字母大写\n5. 变量未初始化，必须指定数据类型，如果初始化了，就可以不指定数据类型。kotlin会自动推导数据类型\n```kotlin\n\tvar a: Int = 3\n\tval b: Int = 20\n\tvar c =3\n```\n敲黑板:`和 Java类似的是常量的值是不能修改的.`\n\n![更改常量编译出错](/images/常量修改编译错误.png)\n\n###  函数\n\n函数头除了函数名还有fun关键字，返回值在末尾指定与函数定义部分用：隔开。返回值为void可以不写\n\n举个栗子：\n```kotlin\n\toverride fun onCreate(savedInstanceState: Bundle?) {\n    \tsuper.onCreate(savedInstanceState)\n    \tsetContentView(R.layout.activity_main)\n    }\n\n    fun add(a:Int,b:Int):Int{\n    \treturn a+b\n    }\n```\n## Kotlin数据类型\n\n### 数值\n\nkotlin内置数据类型将Java中基本数据类型首字母大写，诸如Double、Int、Byte.\n值得注意的是：`kotlin不像Java一样会自动将数据类型向上转型。`\n```kotlin\n\tvar m=20\n\tvar n:Byte=10\n\tm=n//会报Type mismatch error\n```\n那如果傲娇的想要转换总归还是有办法的：\n* toByte()//转换到Byte\n* toShort()//转换到Short\n* 、、、\n\nLong与Float表示：\nLong:123L\nFloat:12.F\n\nkotlin支持_进行占位,可以不用马上确定值的大小。\n\n\tval oneMillion=1_000_000\t\n\n![](/images/happy.png)\n\nkotlin并不支持8进制\n![](/images/helpness.png)\n\n### 字符\n\n`kotlin中字符不能当作数字进行食用。`\n\nso，this is wrong.\n\t\n\tvar a:Char='a'\n\tif(a==95)//编译出错\n\n难道就没有姿势食用吗？\n![](/images/noexist.jpg)\n\n前面不是被我提过那啥to什么的，对就是toInt().\n\n### 数组\n\n  * kotlin中，数组使用Array类。如IntArray、ShortArray\n  * arrayOf()函数定义存储`任何值`的数组。\n  * arrayOfNulls:定义指定长度的空数组\n\n```kotlin\n        val arr= arrayOf(1,2,3,'a')\n        arr[2]='b'\n        var arr1 = arrayOfNulls<Int>(10)\n        //使用Array类的构造器进行定义数组，第一个参数：size,第二个参数：初始化每一个数组元素的值\n        //每个数组元素的就是当前数组索引i的乘积的String。\n        var arr2=Array(10,{i->(i*i).toString()})\n        var arr3=intArrayOf(1,1,2,3)\n```\n### 字符串\n\nkotlin也是使用String作为字符串。除了普通使用的字符串\n\n\tvar s=\"hello world\\n\"\n\n#### 神奇的保留原格式的字符串：\n```kotlin\n\tvar s=\"\"\"\n\n\t\thello \n\t\t\tworld\n\t\t\t\t\"\"\"\n```\n输出格式就是:\n```kotlin\n\t\t\n\t\thello \n\t\t\tworld\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.```\n\nAmazing!\n\n#### 字符串模版\n\n   字符串添加占位符，内容可在后期指定。模版用$指定，$后跟的是变量如下所示\n```kotlin\n\t\tval i=10\n\t\tval s=\"i=$i\"\n\t\tprintln(s1)\n```\n输出：i=3\n\n## 包\n\nkotlin中的包与目录没关系，`kt中的包仅仅是为了引用文件资源（函数和类等）。`kt为什么会想单单import个方法，java也有import一个static方法的做法，但是key point Java中方法是定义在类中的，而kt中方法是可以写在类外面的，经测试，kt中类外的方法是static方法，在同包下可以直接访问，不同包下需要import.\n\n   kotlin会默认导入一些常用包，如java.lang.*、kotlin.jvm.*、kotlin.*等。\n\n## 控制流\n\n### if语句本身就是表达式.\n\nkt中的三表达式只能用if，else完成\n\n\tval max=if(a>b) a else b\n\n### 多分支选择之when\n\n   kt中when取代了switch的位置，就这么上位了，小不习惯的\n```kotlin\n\tvar x=1\n\twhen(x){\n\t\t1->{\n\t\t\t//多于一条语句用{}\n\t\t}\n\t\t2->{\n\t\t\t//满足条件的分支执行后，会自动终止when语句的执行\n\t\t}\n\t\t3,4->{\n\t\t\t//多分支执行相同代码\n\t\t}\n\t\telse->{\n\t\t\t//...\n\t\t}\n\t}\n```\n   当执行同代码的条件比较多时，可食用in关键字。代码：\n```kotlin\n\twhen(n){\n\t\tin 1..10->{}\n\t\t! in 30..60->{}//!in表示不在\n\t}\n```\n   when分支条件不仅可以是常量，还可以是任意表达式。如函数。\n```kotlin\n\t fun main(args: Array<String>) {\n        var n=4\n        when (n) {\n            get(2)->{}\n            get(4)->{}\n        }\n    }\n    private fun get(i: Int): Int {\n        \n        return i*i\n    }\n```\n### for循环\n\n   for-iterator:\n```kotlin\n    var arr =intArrayOf(2,4,6,5)\n    for(item:Int in arr){\n    \tprintln(item)\n    }\n    for(i in arr.indices){//i：是索引\n    \tprintln(\"arr[$i]=\"+arr[i])\n    }\n    for((index,value) in array.withIndex()){//键值对\n    \tprintln(\"arr[$index]=\"+value)\n    }\n```\n","source":"_posts/Kotlin觉醒篇.md","raw":"title: Kotlin修仙之觉醒篇\ndate: 2015-12-03 00:00:00\ntags: [Android,Kotlin]\ncategories: Kotlin学习笔记\ndescription: \"初步觉醒者唤醒体内沉睡的神秘因子，开启特殊能力\"\n---\n## Kotlin基本语法\n\n### 变量与常量\n\n1. 语句末尾没有分号\n2. 变量以var开头，常量以val开头\n3. 数据类型放在变量的后面，且用：隔开\n4. 数据类型首字母大写\n5. 变量未初始化，必须指定数据类型，如果初始化了，就可以不指定数据类型。kotlin会自动推导数据类型\n```kotlin\n\tvar a: Int = 3\n\tval b: Int = 20\n\tvar c =3\n```\n敲黑板:`和 Java类似的是常量的值是不能修改的.`\n\n![更改常量编译出错](/images/常量修改编译错误.png)\n\n###  函数\n\n函数头除了函数名还有fun关键字，返回值在末尾指定与函数定义部分用：隔开。返回值为void可以不写\n\n举个栗子：\n```kotlin\n\toverride fun onCreate(savedInstanceState: Bundle?) {\n    \tsuper.onCreate(savedInstanceState)\n    \tsetContentView(R.layout.activity_main)\n    }\n\n    fun add(a:Int,b:Int):Int{\n    \treturn a+b\n    }\n```\n## Kotlin数据类型\n\n### 数值\n\nkotlin内置数据类型将Java中基本数据类型首字母大写，诸如Double、Int、Byte.\n值得注意的是：`kotlin不像Java一样会自动将数据类型向上转型。`\n```kotlin\n\tvar m=20\n\tvar n:Byte=10\n\tm=n//会报Type mismatch error\n```\n那如果傲娇的想要转换总归还是有办法的：\n* toByte()//转换到Byte\n* toShort()//转换到Short\n* 、、、\n\nLong与Float表示：\nLong:123L\nFloat:12.F\n\nkotlin支持_进行占位,可以不用马上确定值的大小。\n\n\tval oneMillion=1_000_000\t\n\n![](/images/happy.png)\n\nkotlin并不支持8进制\n![](/images/helpness.png)\n\n### 字符\n\n`kotlin中字符不能当作数字进行食用。`\n\nso，this is wrong.\n\t\n\tvar a:Char='a'\n\tif(a==95)//编译出错\n\n难道就没有姿势食用吗？\n![](/images/noexist.jpg)\n\n前面不是被我提过那啥to什么的，对就是toInt().\n\n### 数组\n\n  * kotlin中，数组使用Array类。如IntArray、ShortArray\n  * arrayOf()函数定义存储`任何值`的数组。\n  * arrayOfNulls:定义指定长度的空数组\n\n```kotlin\n        val arr= arrayOf(1,2,3,'a')\n        arr[2]='b'\n        var arr1 = arrayOfNulls<Int>(10)\n        //使用Array类的构造器进行定义数组，第一个参数：size,第二个参数：初始化每一个数组元素的值\n        //每个数组元素的就是当前数组索引i的乘积的String。\n        var arr2=Array(10,{i->(i*i).toString()})\n        var arr3=intArrayOf(1,1,2,3)\n```\n### 字符串\n\nkotlin也是使用String作为字符串。除了普通使用的字符串\n\n\tvar s=\"hello world\\n\"\n\n#### 神奇的保留原格式的字符串：\n```kotlin\n\tvar s=\"\"\"\n\n\t\thello \n\t\t\tworld\n\t\t\t\t\"\"\"\n```\n输出格式就是:\n```kotlin\n\t\t\n\t\thello \n\t\t\tworld\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.```\n\nAmazing!\n\n#### 字符串模版\n\n   字符串添加占位符，内容可在后期指定。模版用$指定，$后跟的是变量如下所示\n```kotlin\n\t\tval i=10\n\t\tval s=\"i=$i\"\n\t\tprintln(s1)\n```\n输出：i=3\n\n## 包\n\nkotlin中的包与目录没关系，`kt中的包仅仅是为了引用文件资源（函数和类等）。`kt为什么会想单单import个方法，java也有import一个static方法的做法，但是key point Java中方法是定义在类中的，而kt中方法是可以写在类外面的，经测试，kt中类外的方法是static方法，在同包下可以直接访问，不同包下需要import.\n\n   kotlin会默认导入一些常用包，如java.lang.*、kotlin.jvm.*、kotlin.*等。\n\n## 控制流\n\n### if语句本身就是表达式.\n\nkt中的三表达式只能用if，else完成\n\n\tval max=if(a>b) a else b\n\n### 多分支选择之when\n\n   kt中when取代了switch的位置，就这么上位了，小不习惯的\n```kotlin\n\tvar x=1\n\twhen(x){\n\t\t1->{\n\t\t\t//多于一条语句用{}\n\t\t}\n\t\t2->{\n\t\t\t//满足条件的分支执行后，会自动终止when语句的执行\n\t\t}\n\t\t3,4->{\n\t\t\t//多分支执行相同代码\n\t\t}\n\t\telse->{\n\t\t\t//...\n\t\t}\n\t}\n```\n   当执行同代码的条件比较多时，可食用in关键字。代码：\n```kotlin\n\twhen(n){\n\t\tin 1..10->{}\n\t\t! in 30..60->{}//!in表示不在\n\t}\n```\n   when分支条件不仅可以是常量，还可以是任意表达式。如函数。\n```kotlin\n\t fun main(args: Array<String>) {\n        var n=4\n        when (n) {\n            get(2)->{}\n            get(4)->{}\n        }\n    }\n    private fun get(i: Int): Int {\n        \n        return i*i\n    }\n```\n### for循环\n\n   for-iterator:\n```kotlin\n    var arr =intArrayOf(2,4,6,5)\n    for(item:Int in arr){\n    \tprintln(item)\n    }\n    for(i in arr.indices){//i：是索引\n    \tprintln(\"arr[$i]=\"+arr[i])\n    }\n    for((index,value) in array.withIndex()){//键值对\n    \tprintln(\"arr[$index]=\"+value)\n    }\n```\n","slug":"Kotlin觉醒篇","published":1,"updated":"2020-02-13T07:16:09.051Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzg0045qr3lcbqz9ka7"},{"title":"Find the lowest common ancestor (LCA)","date":"2019-01-04T16:00:00.000Z","description":"Find the lowest common ancestor (LCA) of two given nodes in the tree.","_content":"## Problem description\n  ### Given a binary tree, find the lowest common ancestor (LCA) of two given nodes in the tree.According to the definition of LCA on Wikipedia: “The lowest common ancestor is defined between two nodes p and q as the lowest node in T that has both p and q as descendants (where we allow a node to be a descendant of itself).” All of the nodes' values will be unique.p and q are different and both values will exist in the binary tree.\n ## Examples\n``` java\nExample 1:\nInput: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1\nOutput: 3\nExplanation: The LCA of nodes 5 and 1 is 3.\n```\n```java\nExample 2:\nInput: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4\nOutput: 5\nExplanation: The LCA of nodes 5 and 4 is 5, since a node can be a descendant of itself according to the LCA definition.\n```\n\n## Solution\n　　思路是先找到根节点到两个节点的路径，转换为求两个链表的公共节点。代码量不少啊...\n  　　看了解析，有一个时间复杂度和该方法一致，但更为简介的算法。自底向上遍历结点，一旦遇到结点等于p或者q，则将其向上传递给它的父结点。父结点会判断它的左右子树是否都包含其中一个结点，如果是，则父结点一定是这两个节点p和q的LCA（前提是p,q唯一），传递父结点到root。如果不是，我们向上传递其中的包含结点p或者q的子结点，或者NULL(如果子结点不包含任何一个)。该方法时间复杂度为O(N)。\n\n```java\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    boolean getPath(TreeNode root, TreeNode target, List<TreeNode> path) {\n        path.add(root);\n        if (root.val == target.val) {\n            return true;\n        }\n        boolean found = false;\n        if (root.left != null)\n            found = getPath(root.left, target, path);\n        if (!found && root.right != null)\n            found = getPath(root.right, target, path);\n        if (!found)\n            path.remove(root);\n        return found;\n    }\n\n    public TreeNode getLastAncestor(List<TreeNode> listP, List<TreeNode> listQ) {\n        int pLength = listP.size();\n        int qLength = listQ.size();\n        TreeNode pNode = null;\n        TreeNode qNode = null;\n        for (int i = Math.min(pLength,qLength) - 1; i >= 0; i--) {\n            pNode = listP.get(i);\n            qNode = listQ.get(i);\n            if (pNode == qNode) {\n                return pNode;\n            }\n        }\n        return qNode;\n    }\n\n    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {\n        List<TreeNode> listP = new ArrayList<>();\n        List<TreeNode> listQ = new ArrayList<>();\n        getPath(root, p, listP);\n        getPath(root, q, listQ);\n        return getLastAncestor(listP, listQ);\n    }\n}\n```\n```java\n /**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {\n        if(root == null || root == p || root == q) return root;\n        \n        TreeNode l = lowestCommonAncestor(root.left, p, q);\n        TreeNode r = lowestCommonAncestor(root.right, p, q);\n        \n        if(l == null && r == null) return null;\n        if(l != null && r != null) return root;\n        else return l = (l != null)? l:r; \n    }\n}\n```","source":"_posts/LCA.md","raw":"title: Find the lowest common ancestor (LCA) \ndate: 2019-1-5\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Find the lowest common ancestor (LCA) of two given nodes in the tree.\n---\n## Problem description\n  ### Given a binary tree, find the lowest common ancestor (LCA) of two given nodes in the tree.According to the definition of LCA on Wikipedia: “The lowest common ancestor is defined between two nodes p and q as the lowest node in T that has both p and q as descendants (where we allow a node to be a descendant of itself).” All of the nodes' values will be unique.p and q are different and both values will exist in the binary tree.\n ## Examples\n``` java\nExample 1:\nInput: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1\nOutput: 3\nExplanation: The LCA of nodes 5 and 1 is 3.\n```\n```java\nExample 2:\nInput: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4\nOutput: 5\nExplanation: The LCA of nodes 5 and 4 is 5, since a node can be a descendant of itself according to the LCA definition.\n```\n\n## Solution\n　　思路是先找到根节点到两个节点的路径，转换为求两个链表的公共节点。代码量不少啊...\n  　　看了解析，有一个时间复杂度和该方法一致，但更为简介的算法。自底向上遍历结点，一旦遇到结点等于p或者q，则将其向上传递给它的父结点。父结点会判断它的左右子树是否都包含其中一个结点，如果是，则父结点一定是这两个节点p和q的LCA（前提是p,q唯一），传递父结点到root。如果不是，我们向上传递其中的包含结点p或者q的子结点，或者NULL(如果子结点不包含任何一个)。该方法时间复杂度为O(N)。\n\n```java\n/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    boolean getPath(TreeNode root, TreeNode target, List<TreeNode> path) {\n        path.add(root);\n        if (root.val == target.val) {\n            return true;\n        }\n        boolean found = false;\n        if (root.left != null)\n            found = getPath(root.left, target, path);\n        if (!found && root.right != null)\n            found = getPath(root.right, target, path);\n        if (!found)\n            path.remove(root);\n        return found;\n    }\n\n    public TreeNode getLastAncestor(List<TreeNode> listP, List<TreeNode> listQ) {\n        int pLength = listP.size();\n        int qLength = listQ.size();\n        TreeNode pNode = null;\n        TreeNode qNode = null;\n        for (int i = Math.min(pLength,qLength) - 1; i >= 0; i--) {\n            pNode = listP.get(i);\n            qNode = listQ.get(i);\n            if (pNode == qNode) {\n                return pNode;\n            }\n        }\n        return qNode;\n    }\n\n    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {\n        List<TreeNode> listP = new ArrayList<>();\n        List<TreeNode> listQ = new ArrayList<>();\n        getPath(root, p, listP);\n        getPath(root, q, listQ);\n        return getLastAncestor(listP, listQ);\n    }\n}\n```\n```java\n /**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {\n        if(root == null || root == p || root == q) return root;\n        \n        TreeNode l = lowestCommonAncestor(root.left, p, q);\n        TreeNode r = lowestCommonAncestor(root.right, p, q);\n        \n        if(l == null && r == null) return null;\n        if(l != null && r != null) return root;\n        else return l = (l != null)? l:r; \n    }\n}\n```","slug":"LCA","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzh004aqr3lz4xvk00k"},{"title":"The longest common prefix string","date":"2018-12-26T16:00:00.000Z","description":"Write a function to find the longest common prefix string amongst an array of strings","_content":"## 题目描述\n  ### Write a function to find the longest common prefix string amongst an array of strings.If there is no common prefix, return an empty string \"\".\n ## Examples\n``` java\nExample 1:\nInput: [\"flower\",\"flow\",\"flight\"]\nOutput: \"fl\"\n```\n```java\nExample 2:\nInput: [\"dog\",\"racecar\",\"car\"]\nOutput: \"\"\nExplanation: There is no common prefix among the input strings.\n```\n```java\nExample 3:\nInput: [\"aa\",\"a\"]\nOutput: \"a\"\n\n```\n\n## Solution\n 个人思路是先比较出头两个字符串的最长公共前缀longestCommonPrefix，如果为零，则直接返回 “”，否则将longestCommonPrefix与剩余字符串比较直至longestCommonPrefix为空或与其余字符串比较完毕。想法是不错，写到一半就一百行代码啦！！！  \n 嗨呀，感觉方法有问题。横向比较行不通转成纵向比较。因为strs可看为一个二维数组。以第一行为参照，逐行比较同列元素直至一列中出现不相等情况退出循环。<front color=\"#00923\">**值得注意的Example3的情况，若第一行元素并非strs最短字符串时需要防止访问字符串越界**</front>\n## Code\n\n```java\n   public  String longestCommonPrefix(String[] strs) {\n\n        if (strs.length == 0) {\n            return \"\";\n        }\n        char c;\n        int rowLength;\n        int length = strs[0].length();\n        for (int i = 0; i < length; i++) {\n            c = strs[0].charAt(i);//c:第0行i列字符\n            for (int j = 1; j < strs.length; j++) {\n                rowLength = strs[j].length();\n                if (i == rowLength || c != strs[j].charAt(i)) {//i == rowLength: secure  IndexInOfBounds\n                    return strs[0].substring(0, i);\n                }\n            }\n        }\n        return strs[0];\n    }\n```","source":"_posts/LongestCommonPrefix.md","raw":"title:  The longest common prefix string \ndate: 2018-12-27\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Write a function to find the longest common prefix string amongst an array of strings\n---\n## 题目描述\n  ### Write a function to find the longest common prefix string amongst an array of strings.If there is no common prefix, return an empty string \"\".\n ## Examples\n``` java\nExample 1:\nInput: [\"flower\",\"flow\",\"flight\"]\nOutput: \"fl\"\n```\n```java\nExample 2:\nInput: [\"dog\",\"racecar\",\"car\"]\nOutput: \"\"\nExplanation: There is no common prefix among the input strings.\n```\n```java\nExample 3:\nInput: [\"aa\",\"a\"]\nOutput: \"a\"\n\n```\n\n## Solution\n 个人思路是先比较出头两个字符串的最长公共前缀longestCommonPrefix，如果为零，则直接返回 “”，否则将longestCommonPrefix与剩余字符串比较直至longestCommonPrefix为空或与其余字符串比较完毕。想法是不错，写到一半就一百行代码啦！！！  \n 嗨呀，感觉方法有问题。横向比较行不通转成纵向比较。因为strs可看为一个二维数组。以第一行为参照，逐行比较同列元素直至一列中出现不相等情况退出循环。<front color=\"#00923\">**值得注意的Example3的情况，若第一行元素并非strs最短字符串时需要防止访问字符串越界**</front>\n## Code\n\n```java\n   public  String longestCommonPrefix(String[] strs) {\n\n        if (strs.length == 0) {\n            return \"\";\n        }\n        char c;\n        int rowLength;\n        int length = strs[0].length();\n        for (int i = 0; i < length; i++) {\n            c = strs[0].charAt(i);//c:第0行i列字符\n            for (int j = 1; j < strs.length; j++) {\n                rowLength = strs[j].length();\n                if (i == rowLength || c != strs[j].charAt(i)) {//i == rowLength: secure  IndexInOfBounds\n                    return strs[0].substring(0, i);\n                }\n            }\n        }\n        return strs[0];\n    }\n```","slug":"LongestCommonPrefix","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzi004dqr3leuecmbce"},{"title":"The longest substring without repeating characters.","date":"2018-12-23T16:00:00.000Z","description":"Given a string, find the length of the longest substring without repeating characters.","_content":"\n\n## 题目描述\n  ### Given a string, find the length of the longest substring without repeating characters.\n ## Examples\n``` java\nExample 1:\n\nInput: \"abcabcbb\" \nOutput: 3\nExplanation: The answer is \"abc\", with the length of 3. \n```\n```java\nExample 2:\n\nInput: \"bbbbb\"\nOutput: 1\nExplanation: The answer is \"b\", with the length of 1. \n```\n```java\nExample 3:\n\nInput: \"pwwkew\"\nOutput: 3 Explanation: \nThe answer is \"wke\", with the length of 3. Note that the answer must\n\n```\n\n## Solution\n\n首先自己意识到了用HashSet进行添加非重复元素，但出现元素重复时应该删除哪一个却不确定。当出现重复元素时画图分析可知，当前记录String的leftIndex至rightIndex区间内子序列可能并非最长，这时应删除l当前leftIndex所指向元素。让leftIndex++,重新开始计算。\n\n\n## Code\n\n```java\n  public int lengthOfLongestSubstring(String s) {\n        int lIndex = 0, rIndex = 0;\n        int n = s.length();\n        Set<Character> characterSet = new HashSet<>();\n        int maxSubStringLength = 0;\n        while (rIndex < n && lIndex < n) {\n            char c = s.charAt(rIndex);\n            if (!characterSet.contains(c)) {\n                characterSet.add(c);\n                rIndex++;\n                maxSubStringLength = Math.max(maxSubStringLength, rIndex - lIndex);\n            } else {\n                characterSet.remove(s.charAt(lIndex++));\n            }\n        }\n        return maxSubStringLength;\n    }\n```","source":"_posts/LongestSubString.md","raw":"title: The longest substring without repeating characters.\ndate: 2018-12-24 00:00:00\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Given a string, find the length of the longest substring without repeating characters.\n---\n\n\n## 题目描述\n  ### Given a string, find the length of the longest substring without repeating characters.\n ## Examples\n``` java\nExample 1:\n\nInput: \"abcabcbb\" \nOutput: 3\nExplanation: The answer is \"abc\", with the length of 3. \n```\n```java\nExample 2:\n\nInput: \"bbbbb\"\nOutput: 1\nExplanation: The answer is \"b\", with the length of 1. \n```\n```java\nExample 3:\n\nInput: \"pwwkew\"\nOutput: 3 Explanation: \nThe answer is \"wke\", with the length of 3. Note that the answer must\n\n```\n\n## Solution\n\n首先自己意识到了用HashSet进行添加非重复元素，但出现元素重复时应该删除哪一个却不确定。当出现重复元素时画图分析可知，当前记录String的leftIndex至rightIndex区间内子序列可能并非最长，这时应删除l当前leftIndex所指向元素。让leftIndex++,重新开始计算。\n\n\n## Code\n\n```java\n  public int lengthOfLongestSubstring(String s) {\n        int lIndex = 0, rIndex = 0;\n        int n = s.length();\n        Set<Character> characterSet = new HashSet<>();\n        int maxSubStringLength = 0;\n        while (rIndex < n && lIndex < n) {\n            char c = s.charAt(rIndex);\n            if (!characterSet.contains(c)) {\n                characterSet.add(c);\n                rIndex++;\n                maxSubStringLength = Math.max(maxSubStringLength, rIndex - lIndex);\n            } else {\n                characterSet.remove(s.charAt(lIndex++));\n            }\n        }\n        return maxSubStringLength;\n    }\n```","slug":"LongestSubString","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzj004hqr3lloplibzy"},{"title":"Merge K linked list","date":"2019-01-04T16:00:00.000Z","description":"Merge k sorted linked lists","_content":"## Problem description\n  ###  Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.\n ## Examples\n``` java\nExample 1:\nInput:\n[\n  1->4->5,\n  1->3->4,\n  2->6\n]\nOutput: 1->1->2->3->4->4->5->6\n```\n\n## Solution\n　　暴力解决，先比较出两个，再比剩下的。虽然过了。但时间惨不忍睹。这样时间复杂度为O(n^2)\n　　![merge_sort](/images/mergesort.png)\n  　　这张图是不是很像哈希表的链地址解决冲突呀～，每个索引对应一个链表，果然画图还是解决算法最高效的方法。接下来一趟归并操作猛如虎，注意的是归并排序中的一个小细节，排序中只剩两个元素时，归并（这两个元素所指的链表）。一个元素时，直接返回。\n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    \n    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\n        if (l1 == null) {\n            return l2;\n        } else if (l2 == null) {\n            return l1;\n        }\n        ListNode mergeNode = null;\n        if (l1.val <= l2.val) {\n            mergeNode = l1;\n            mergeNode.next = mergeTwoLists(l1.next, l2);\n        } else {\n            mergeNode = l2;\n            mergeNode.next = mergeTwoLists(l1, l2.next);\n        }\n        return mergeNode;\n    }\n\n    public ListNode mergeSort(ListNode[] lists, int left, int right) {\n        if (left < right) {\n            int mid = (left + right) / 2;\n            ListNode leftNode = mergeSort(lists, left, mid);\n            ListNode rightNode = mergeSort(lists, mid + 1, right);\n            return mergeTwoLists(leftNode, rightNode);\n        }\n        return lists[left];\n    }\n\n    public ListNode mergeKLists(ListNode[] lists) {\n        if (lists.length == 0) {\n            return null;\n        }\n        return mergeSort(lists, 0, lists.length - 1);\n    }\n\n}\n```","source":"_posts/Merge K linked list.md","raw":"title: Merge K linked list\ndate: 2019-1-5\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Merge k sorted linked lists \n---\n## Problem description\n  ###  Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.\n ## Examples\n``` java\nExample 1:\nInput:\n[\n  1->4->5,\n  1->3->4,\n  2->6\n]\nOutput: 1->1->2->3->4->4->5->6\n```\n\n## Solution\n　　暴力解决，先比较出两个，再比剩下的。虽然过了。但时间惨不忍睹。这样时间复杂度为O(n^2)\n　　![merge_sort](/images/mergesort.png)\n  　　这张图是不是很像哈希表的链地址解决冲突呀～，每个索引对应一个链表，果然画图还是解决算法最高效的方法。接下来一趟归并操作猛如虎，注意的是归并排序中的一个小细节，排序中只剩两个元素时，归并（这两个元素所指的链表）。一个元素时，直接返回。\n\n## Code\n\n```java\n /**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    \n    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\n        if (l1 == null) {\n            return l2;\n        } else if (l2 == null) {\n            return l1;\n        }\n        ListNode mergeNode = null;\n        if (l1.val <= l2.val) {\n            mergeNode = l1;\n            mergeNode.next = mergeTwoLists(l1.next, l2);\n        } else {\n            mergeNode = l2;\n            mergeNode.next = mergeTwoLists(l1, l2.next);\n        }\n        return mergeNode;\n    }\n\n    public ListNode mergeSort(ListNode[] lists, int left, int right) {\n        if (left < right) {\n            int mid = (left + right) / 2;\n            ListNode leftNode = mergeSort(lists, left, mid);\n            ListNode rightNode = mergeSort(lists, mid + 1, right);\n            return mergeTwoLists(leftNode, rightNode);\n        }\n        return lists[left];\n    }\n\n    public ListNode mergeKLists(ListNode[] lists) {\n        if (lists.length == 0) {\n            return null;\n        }\n        return mergeSort(lists, 0, lists.length - 1);\n    }\n\n}\n```","slug":"Merge K linked list","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzk004lqr3lxzgaqtmq"},{"title":"Merge overlapping intervals","date":"2019-01-01T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a collection of intervals, merge all overlapping intervals.\n ## Examples\n``` java\nExample 1:\nInput: [[1,3],[2,6],[8,10],[15,18]]\nOutput: [[1,6],[8,10],[15,18]]\nExplanation: Since intervals [1,3] and [2,6] overlaps, merge them into [1,6].\n```\n```java\nExample 2:\nInput: [[1,4],[4,5]]\nOutput: [[1,5]]\nExplanation: Intervals [1,4] and [4,5] are considered overlapping.\n```\n\n## Solution\n　　这道题和OJ上的看电视时间排序一题类似，以start递增排序，判断前一段区间的end是否大于后一段区间的start来进行合并。尽管AC了，但对象排序颇为耗时。看了解析，将start,end拆开放在两个数组。用一个索引记录区间。当 i <length - 1且 start[i+1] <= end[i].\n\n## Code\n\n```java\n class Solution {\n    static class Interval {\n        int start;\n        int end;\n\n        Interval() {\n            start = 0;\n            end = 0;\n        }\n\n        Interval(int s, int e) {\n            start = s;\n            end = e;\n        }\n    }\n\n    public List<Interval> merge(List<Interval> intervals) {\n        int lenth = intervals.size();\n        if (lenth == 0 || lenth == 1) {\n            return intervals;\n        }\n        int starts[] = new int[lenth];\n        int ends[] = new int[lenth];\n        for (int i = 0; i < lenth; i++) {\n            Interval interval = intervals.get(i);\n            starts[i] = interval.start;\n            ends[i] = interval.end;\n        }\n        Arrays.sort(starts);\n        Arrays.sort(ends);\n        List<Interval> results = new ArrayList<>();\n        results.add(intervals.get(0));\n        Interval currentInterval, nextInterval;\n        int cur = 0;\n        for (int i = 1; i < lenth; i++) {\n            currentInterval = results.get(cur);\n            nextInterval = intervals.get(i);\n            if (currentInterval.end >= nextInterval.start) {\n                currentInterval.end = Math.max(currentInterval.end, nextInterval.end);\n                results.set(cur, currentInterval);\n            } else {\n                results.add(nextInterval);\n                cur++;\n            }\n        }\n        return results;\n    }\n\n    public static void main(String[] args) {\n        List<Interval> list = new ArrayList<>();\n        list.add(new Interval(1, 3));\n        list.add(new Interval(2, 6));\n        list.add(new Interval(8, 10));\n        list.add(new Interval(15, 18));\n        new Solution().merge(list);\n    }\n}\n\n```","source":"_posts/Merge overlapping intervals.md","raw":"title:  Merge overlapping intervals\ndate: 2019-1-2\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a collection of intervals, merge all overlapping intervals.\n ## Examples\n``` java\nExample 1:\nInput: [[1,3],[2,6],[8,10],[15,18]]\nOutput: [[1,6],[8,10],[15,18]]\nExplanation: Since intervals [1,3] and [2,6] overlaps, merge them into [1,6].\n```\n```java\nExample 2:\nInput: [[1,4],[4,5]]\nOutput: [[1,5]]\nExplanation: Intervals [1,4] and [4,5] are considered overlapping.\n```\n\n## Solution\n　　这道题和OJ上的看电视时间排序一题类似，以start递增排序，判断前一段区间的end是否大于后一段区间的start来进行合并。尽管AC了，但对象排序颇为耗时。看了解析，将start,end拆开放在两个数组。用一个索引记录区间。当 i <length - 1且 start[i+1] <= end[i].\n\n## Code\n\n```java\n class Solution {\n    static class Interval {\n        int start;\n        int end;\n\n        Interval() {\n            start = 0;\n            end = 0;\n        }\n\n        Interval(int s, int e) {\n            start = s;\n            end = e;\n        }\n    }\n\n    public List<Interval> merge(List<Interval> intervals) {\n        int lenth = intervals.size();\n        if (lenth == 0 || lenth == 1) {\n            return intervals;\n        }\n        int starts[] = new int[lenth];\n        int ends[] = new int[lenth];\n        for (int i = 0; i < lenth; i++) {\n            Interval interval = intervals.get(i);\n            starts[i] = interval.start;\n            ends[i] = interval.end;\n        }\n        Arrays.sort(starts);\n        Arrays.sort(ends);\n        List<Interval> results = new ArrayList<>();\n        results.add(intervals.get(0));\n        Interval currentInterval, nextInterval;\n        int cur = 0;\n        for (int i = 1; i < lenth; i++) {\n            currentInterval = results.get(cur);\n            nextInterval = intervals.get(i);\n            if (currentInterval.end >= nextInterval.start) {\n                currentInterval.end = Math.max(currentInterval.end, nextInterval.end);\n                results.set(cur, currentInterval);\n            } else {\n                results.add(nextInterval);\n                cur++;\n            }\n        }\n        return results;\n    }\n\n    public static void main(String[] args) {\n        List<Interval> list = new ArrayList<>();\n        list.add(new Interval(1, 3));\n        list.add(new Interval(2, 6));\n        list.add(new Interval(8, 10));\n        list.add(new Interval(15, 18));\n        new Solution().merge(list);\n    }\n}\n\n```","slug":"Merge overlapping intervals","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzl004pqr3lk3hdpvhr"},{"title":"Message Mechanism","date":"2019-01-29T16:00:00.000Z","description":"　　","_content":"## Message Queue\n　　MessageQueue主要包含两个操作。1. 插入enqueueMessage(Message message);  2. 读取 消息next()\n  MessageQueue虽然名字中含有Queue，但实际上并没有用队列实现。而是使用Message自带的单链表。\n  ### enqueueMessage\n  ```java\n      boolean enqueueMessage(Message msg, long when) {//单链表插入\n     \t ...\n        synchronized (this) {\n            if (mQuitting) {\n                IllegalStateException e = new IllegalStateException(\n                        msg.target + \" sending message to a Handler on a dead thread\");\n                Log.w(TAG, e.getMessage(), e);\n                msg.recycle();\n                return false;\n            }\n\n            msg.markInUse();\n            msg.when = when;\n            Message p = mMessages;\n            boolean needWake;\n            if (p == null || when == 0 || when < p.when) {\n                // New head, wake up the event queue if blocked.\n                msg.next = p;\n                mMessages = msg;\n                needWake = mBlocked;\n            } else {\n                // Inserted within the middle of the queue.  Usually we don't have to wake\n                // up the event queue unless there is a barrier at the head of the queue\n                // and the message is the earliest asynchronous message in the queue.\n                needWake = mBlocked && p.target == null && msg.isAsynchronous();\n                Message prev;\n                for (;;) {\n                    prev = p;\n                    p = p.next;\n                    if (p == null || when < p.when) {\n                        break;\n                    }\n                    if (needWake && p.isAsynchronous()) {\n                        needWake = false;\n                    }\n                }\n                msg.next = p; // invariant: p == prev.next\n                prev.next = msg;\n            }\n\n            // We can assume mPtr != 0 because mQuitting is false.\n            if (needWake) {\n                nativeWake(mPtr);\n            }\n        }\n        return true;\n    }\n\n  ```\n  ### next（）\n  ```java\n      Message next() {//获取下一条msg，MessageQueue中没有msg则阻塞轮询Poll。\n        // Return here if the message loop has already quit and been disposed.\n        // This can happen if the application tries to restart a looper after quit\n        // which is not supported.\n        final long ptr = mPtr;\n        if (ptr == 0) {\n            return null;\n        }\n\n        int pendingIdleHandlerCount = -1; // -1 only during first iteration\n        int nextPollTimeoutMillis = 0;\n        for (;;) {\n            if (nextPollTimeoutMillis != 0) {\n                Binder.flushPendingCommands();\n            }\n\n            nativePollOnce(ptr, nextPollTimeoutMillis);\n\n            synchronized (this) {\n                // Try to retrieve the next message.  Return if found.\n                final long now = SystemClock.uptimeMillis();\n                Message prevMsg = null;\n                Message msg = mMessages;\n                if (msg != null && msg.target == null) {\n                    // Stalled by a barrier.  Find the next asynchronous message in the queue.\n                    do {\n                        prevMsg = msg;\n                        msg = msg.next;\n                    } while (msg != null && !msg.isAsynchronous());\n                }\n                if (msg != null) {\n                    if (now < msg.when) {\n                        // Next message is not ready.  Set a timeout to wake up when it is ready.\n                        nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.MAX_VALUE);\n                    } else {\n                        // Got a message.\n                        mBlocked = false;\n                        if (prevMsg != null) {\n                            prevMsg.next = msg.next;\n                        } else {\n                            mMessages = msg.next;\n                        }\n                        msg.next = null;\n                        if (DEBUG) Log.v(TAG, \"Returning message: \" + msg);\n                        msg.markInUse();\n                        return msg;\n                    }\n                } else {\n                    // No more messages.\n                    nextPollTimeoutMillis = -1;\n                }\n\n                // Process the quit message now that all pending messages have been handled.\n                if (mQuitting) {\n                    dispose();\n                    return null;\n                }\n\n                // If first time idle, then get the number of idlers to run.\n                // Idle handles only run if the queue is empty or if the first message\n                // in the queue (possibly a barrier) is due to be handled in the future.\n                if (pendingIdleHandlerCount < 0\n                        && (mMessages == null || now < mMessages.when)) {\n                    pendingIdleHandlerCount = mIdleHandlers.size();\n                }\n                if (pendingIdleHandlerCount <= 0) {\n                    // No idle handlers to run.  Loop and wait some more.\n                    mBlocked = true;\n                    continue;\n                }\n\n                if (mPendingIdleHandlers == null) {\n                    mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCount, 4)];\n                }\n                mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);\n            }\n\n            // Run the idle handlers.\n            // We only ever reach this code block during the first iteration.\n            for (int i = 0; i < pendingIdleHandlerCount; i++) {\n                final IdleHandler idler = mPendingIdleHandlers[i];\n                mPendingIdleHandlers[i] = null; // release the reference to the handler\n\n                boolean keep = false;\n                try {\n                    keep = idler.queueIdle();\n                } catch (Throwable t) {\n                    Log.wtf(TAG, \"IdleHandler threw exception\", t);\n                }\n\n                if (!keep) {\n                    synchronized (this) {\n                        mIdleHandlers.remove(idler);\n                    }\n                }\n            }\n\n            // Reset the idle handler count to 0 so we do not run them again.\n            pendingIdleHandlerCount = 0;\n\n            // While calling an idle handler, a new message could have been delivered\n            // so go back and look again for a pending message without waiting.\n            nextPollTimeoutMillis = 0;\n        }\n    }\n\n  ```\n  \n  ## Looper\n  　　Looper:轮询器，它会不停从MessageQueue中查看是否有新消息，如果有则立即处理，否则就一直阻塞。Handler必须配合Looper使用，之所以平常使用没用创建Looper，是因为在UI线程ActivityThread创建时就会初始化Looper。在Looper初始化的同时也会初始化MessageQueue.\n\t\n```java\n    private Looper(boolean quitAllowed) {\n        mQueue = new MessageQueue(quitAllowed);\n        mThread = Thread.currentThread();\n    }\n```\n```java\n    /**\n     * Run the message queue in this thread. Be sure to call\n     * {@link #quit()} to end the loop.\n     */\n    public static void loop() {\n        final Looper me = myLooper();\n        if (me == null) {\n            throw new RuntimeException(\"No Looper; Looper.prepare() wasn't called on this thread.\");\n        }\n        final MessageQueue queue = me.mQueue;\n\n        // Make sure the identity of this thread is that of the local process,\n        // and keep track of what that identity token actually is.\n        Binder.clearCallingIdentity();\n        final long ident = Binder.clearCallingIdentity();\n\n        for (;;) {\n            Message msg = queue.next(); // might block\n            if (msg == null) {\n                // No message indicates that the message queue is quitting.\n                return;\n            }\n\n            // This must be in a local variable, in case a UI event sets the logger\n            final Printer logging = me.mLogging;\n            if (logging != null) {\n                logging.println(\">>>>> Dispatching to \" + msg.target + \" \" +\n                        msg.callback + \": \" + msg.what);\n            }\n\n            final long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\n\n            final long traceTag = me.mTraceTag;\n            if (traceTag != 0 && Trace.isTagEnabled(traceTag)) {\n                Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n            }\n            final long start = (slowDispatchThresholdMs == 0) ? 0 : SystemClock.uptimeMillis();\n            final long end;\n            try {\n                msg.target.dispatchMessage(msg);\n                end = (slowDispatchThresholdMs == 0) ? 0 : SystemClock.uptimeMillis();\n            } finally {\n                if (traceTag != 0) {\n                    Trace.traceEnd(traceTag);\n                }\n            }\n            if (slowDispatchThresholdMs > 0) {\n                final long time = end - start;\n                if (time > slowDispatchThresholdMs) {\n                    Slog.w(TAG, \"Dispatch took \" + time + \"ms on \"\n                            + Thread.currentThread().getName() + \", h=\" +\n                            msg.target + \" cb=\" + msg.callback + \" msg=\" + msg.what);\n                }\n            }\n\n            if (logging != null) {\n                logging.println(\"<<<<< Finished to \" + msg.target + \" \" + msg.callback);\n            }\n\n            // Make sure that during the course of dispatching the\n            // identity of the thread wasn't corrupted.\n            final long newIdent = Binder.clearCallingIdentity();\n            if (ident != newIdent) {\n                Log.wtf(TAG, \"Thread identity changed from 0x\"\n                        + Long.toHexString(ident) + \" to 0x\"\n                        + Long.toHexString(newIdent) + \" while dispatching to \"\n                        + msg.target.getClass().getName() + \" \"\n                        + msg.callback + \" what=\" + msg.what);\n            }\n\n            msg.recycleUnchecked();\n        }\n    }\n```\nloop方法是一个死循环，唯一可以跳出循环的方式是MessageQueue的next()返回了null，而只有当Looper被设置为退出时，MessageQueue的next()才会返回null。若MessageQueue的next()返回一条新消息，Looper就会调用msg.target.dispatchMessage(msg);处理。msg.target是Handler。故Handler发送的消息被Looper原封不动的交由Handler的dispatchMessager（）处理。原封不动指的是dispatchMessage（）会在创建Handler的线程下运行回调handleMessage().\n\n## Handler\n\n![send_message](/images/message_mechanism.PNG)\n1. 在A线程中创建Looper（创建MessageQueue）， Handler\n2. Handler在B线程中发送消息，消息会插入到A线程中的MessageQueue中\n3. Looper从MessageQueue中取出消息回调Handler的dispatchMessage处理消息\n4. dispatchMessage中会调用Handler的handleMessage方法\n\n\n### sendMessage()\n```java\n/*\nHandler将消息传到MessageQueue中，Looper通过MessageQueue。next()获取消息，Looper再将消息交由Handler的dispatchMessage()处理\n*/\n    public final boolean sendMessage(Message msg)\n    {\n        return sendMessageDelayed(msg, 0);\n    }\n\t\npublic final boolean sendMessageDelayed(Message msg, long delayMillis)\n    {\n        if (delayMillis < 0) {\n            delayMillis = 0;\n        }\n        return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);\n    }\n\t    public boolean sendMessageAtTime(Message msg, long uptimeMillis) {\n        MessageQueue queue = mQueue;\n        if (queue == null) {\n            RuntimeException e = new RuntimeException(\n                    this + \" sendMessageAtTime() called with no mQueue\");\n            Log.w(\"Looper\", e.getMessage(), e);\n            return false;\n        }\n        return enqueueMessage(queue, msg, uptimeMillis);\n    }\n    private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {\n        msg.target = this;\n        if (mAsynchronous) {\n            msg.setAsynchronous(true);\n        }\n        return queue.enqueueMessage(msg, uptimeMillis);\n    }\n\n```\n### dispatchMessage()\n\n```java\n    /**\n     * Handle system messages here.\n     */\n    public void dispatchMessage(Message msg) {\n        if (msg.callback != null) {//msg.callback  is a runnable\n            handleCallback(msg);//Run callback(Handler.post(Runnable r))\n        } else {\n            if (mCallback != null) {//mCallback is a interface that has handdleMessage method.(We can init Handler by invoking Handler handler = new Handler(Callback call))\n                if (mCallback.handleMessage(msg)) {\n                    return;\n                }\n            }\n            handleMessage(msg);\n        }\n    }\n\n```\n  \n## 关于Handler.postdelayed()一个消息阻塞中，又来个消息\n首先在next()方法中消息A处于阻塞状态（没有消息了或者只有Delay的消息），会把mBlocked这个变量标记为true\n```java\nMessage next() {\n    for (;;) {\n        ...\n        if (msg != null) {\n            ...\n        } else {\n            // Got a message.\n            mBlocked = false;\n            ...\n        }\n        ...\n    }\n    ...\n    if (pendingIdleHandlerCount <= 0) {\n        // No idle handlers to run.  Loop and wait some more.\n        mBlocked = true;\n        continue;\n    }\n｝    ...\n```\n当新消息B到来时，进入enqueueMessage（）\n```java\n    boolean enqueueMessage(Message msg, long when) {\n...\nmsg.markInUse();\nmsg.when = when;\nMessage p = mMessages;\nboolean needWake;\nif (p == null || when == 0 || when < p.when) {\n    // New head, wake up the event queue if blocked.\n    msg.next = p;\n    mMessages = msg;\n    needWake = mBlocked;\n} else {\n    ...\n}\n...\n// We can assume mPtr != 0 because mQuitting is false.\n    if (needWake) {\n          nativeWake(mPtr);\n    }\n...\n}\n```\n新到消息B的延迟时间 < 阻塞消息A的延迟时间。则会将B放在队列头部，A放在B的后面执行。needWake置为true。调用nativeWake()方法唤醒线程\n\n整个调用流程：\n1. postDelay()一个10秒钟的Runnable A、消息进队，MessageQueue调用nativePollOnce()阻塞，Looper阻塞；\n2. 紧接着post()一个Runnable B、消息进队，判断现在A时间还没到、正在阻塞，把B插入消息队列的头部（A的前面），然后调用nativeWake()方法唤醒线程；\n3. MessageQueue.next()方法被唤醒后，重新开始读取消息链表，第一个消息B无延时，直接返回给Looper；\n4. Looper处理完这个消息再次调用next()方法，MessageQueue继续读取消息链表，第二个消息A还没到时间，计算一下剩余时间（假如还剩9秒）继续调用nativePollOnce()阻塞；\n5. 直到阻塞时间到或者下一次有Message进队；\n\n题外话：MessageQueue会根据post delay的时间排序放入到链表中，链表头的时间小，尾部时间最大。因此能保证时间Delay最长的不会block住时间短的。当每次post message的时候会进入到MessageQueue的next()方法，会根据其delay时间和链表头的比较，如果更短则，放入链表头，并且看时间是否有delay，如果有，则block，等待时间到来唤醒执行，否则将唤醒立即执行。","source":"_posts/Message Mechanism.md","raw":"title: Message Mechanism\ndate: 2019-1-30\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n## Message Queue\n　　MessageQueue主要包含两个操作。1. 插入enqueueMessage(Message message);  2. 读取 消息next()\n  MessageQueue虽然名字中含有Queue，但实际上并没有用队列实现。而是使用Message自带的单链表。\n  ### enqueueMessage\n  ```java\n      boolean enqueueMessage(Message msg, long when) {//单链表插入\n     \t ...\n        synchronized (this) {\n            if (mQuitting) {\n                IllegalStateException e = new IllegalStateException(\n                        msg.target + \" sending message to a Handler on a dead thread\");\n                Log.w(TAG, e.getMessage(), e);\n                msg.recycle();\n                return false;\n            }\n\n            msg.markInUse();\n            msg.when = when;\n            Message p = mMessages;\n            boolean needWake;\n            if (p == null || when == 0 || when < p.when) {\n                // New head, wake up the event queue if blocked.\n                msg.next = p;\n                mMessages = msg;\n                needWake = mBlocked;\n            } else {\n                // Inserted within the middle of the queue.  Usually we don't have to wake\n                // up the event queue unless there is a barrier at the head of the queue\n                // and the message is the earliest asynchronous message in the queue.\n                needWake = mBlocked && p.target == null && msg.isAsynchronous();\n                Message prev;\n                for (;;) {\n                    prev = p;\n                    p = p.next;\n                    if (p == null || when < p.when) {\n                        break;\n                    }\n                    if (needWake && p.isAsynchronous()) {\n                        needWake = false;\n                    }\n                }\n                msg.next = p; // invariant: p == prev.next\n                prev.next = msg;\n            }\n\n            // We can assume mPtr != 0 because mQuitting is false.\n            if (needWake) {\n                nativeWake(mPtr);\n            }\n        }\n        return true;\n    }\n\n  ```\n  ### next（）\n  ```java\n      Message next() {//获取下一条msg，MessageQueue中没有msg则阻塞轮询Poll。\n        // Return here if the message loop has already quit and been disposed.\n        // This can happen if the application tries to restart a looper after quit\n        // which is not supported.\n        final long ptr = mPtr;\n        if (ptr == 0) {\n            return null;\n        }\n\n        int pendingIdleHandlerCount = -1; // -1 only during first iteration\n        int nextPollTimeoutMillis = 0;\n        for (;;) {\n            if (nextPollTimeoutMillis != 0) {\n                Binder.flushPendingCommands();\n            }\n\n            nativePollOnce(ptr, nextPollTimeoutMillis);\n\n            synchronized (this) {\n                // Try to retrieve the next message.  Return if found.\n                final long now = SystemClock.uptimeMillis();\n                Message prevMsg = null;\n                Message msg = mMessages;\n                if (msg != null && msg.target == null) {\n                    // Stalled by a barrier.  Find the next asynchronous message in the queue.\n                    do {\n                        prevMsg = msg;\n                        msg = msg.next;\n                    } while (msg != null && !msg.isAsynchronous());\n                }\n                if (msg != null) {\n                    if (now < msg.when) {\n                        // Next message is not ready.  Set a timeout to wake up when it is ready.\n                        nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.MAX_VALUE);\n                    } else {\n                        // Got a message.\n                        mBlocked = false;\n                        if (prevMsg != null) {\n                            prevMsg.next = msg.next;\n                        } else {\n                            mMessages = msg.next;\n                        }\n                        msg.next = null;\n                        if (DEBUG) Log.v(TAG, \"Returning message: \" + msg);\n                        msg.markInUse();\n                        return msg;\n                    }\n                } else {\n                    // No more messages.\n                    nextPollTimeoutMillis = -1;\n                }\n\n                // Process the quit message now that all pending messages have been handled.\n                if (mQuitting) {\n                    dispose();\n                    return null;\n                }\n\n                // If first time idle, then get the number of idlers to run.\n                // Idle handles only run if the queue is empty or if the first message\n                // in the queue (possibly a barrier) is due to be handled in the future.\n                if (pendingIdleHandlerCount < 0\n                        && (mMessages == null || now < mMessages.when)) {\n                    pendingIdleHandlerCount = mIdleHandlers.size();\n                }\n                if (pendingIdleHandlerCount <= 0) {\n                    // No idle handlers to run.  Loop and wait some more.\n                    mBlocked = true;\n                    continue;\n                }\n\n                if (mPendingIdleHandlers == null) {\n                    mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCount, 4)];\n                }\n                mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);\n            }\n\n            // Run the idle handlers.\n            // We only ever reach this code block during the first iteration.\n            for (int i = 0; i < pendingIdleHandlerCount; i++) {\n                final IdleHandler idler = mPendingIdleHandlers[i];\n                mPendingIdleHandlers[i] = null; // release the reference to the handler\n\n                boolean keep = false;\n                try {\n                    keep = idler.queueIdle();\n                } catch (Throwable t) {\n                    Log.wtf(TAG, \"IdleHandler threw exception\", t);\n                }\n\n                if (!keep) {\n                    synchronized (this) {\n                        mIdleHandlers.remove(idler);\n                    }\n                }\n            }\n\n            // Reset the idle handler count to 0 so we do not run them again.\n            pendingIdleHandlerCount = 0;\n\n            // While calling an idle handler, a new message could have been delivered\n            // so go back and look again for a pending message without waiting.\n            nextPollTimeoutMillis = 0;\n        }\n    }\n\n  ```\n  \n  ## Looper\n  　　Looper:轮询器，它会不停从MessageQueue中查看是否有新消息，如果有则立即处理，否则就一直阻塞。Handler必须配合Looper使用，之所以平常使用没用创建Looper，是因为在UI线程ActivityThread创建时就会初始化Looper。在Looper初始化的同时也会初始化MessageQueue.\n\t\n```java\n    private Looper(boolean quitAllowed) {\n        mQueue = new MessageQueue(quitAllowed);\n        mThread = Thread.currentThread();\n    }\n```\n```java\n    /**\n     * Run the message queue in this thread. Be sure to call\n     * {@link #quit()} to end the loop.\n     */\n    public static void loop() {\n        final Looper me = myLooper();\n        if (me == null) {\n            throw new RuntimeException(\"No Looper; Looper.prepare() wasn't called on this thread.\");\n        }\n        final MessageQueue queue = me.mQueue;\n\n        // Make sure the identity of this thread is that of the local process,\n        // and keep track of what that identity token actually is.\n        Binder.clearCallingIdentity();\n        final long ident = Binder.clearCallingIdentity();\n\n        for (;;) {\n            Message msg = queue.next(); // might block\n            if (msg == null) {\n                // No message indicates that the message queue is quitting.\n                return;\n            }\n\n            // This must be in a local variable, in case a UI event sets the logger\n            final Printer logging = me.mLogging;\n            if (logging != null) {\n                logging.println(\">>>>> Dispatching to \" + msg.target + \" \" +\n                        msg.callback + \": \" + msg.what);\n            }\n\n            final long slowDispatchThresholdMs = me.mSlowDispatchThresholdMs;\n\n            final long traceTag = me.mTraceTag;\n            if (traceTag != 0 && Trace.isTagEnabled(traceTag)) {\n                Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n            }\n            final long start = (slowDispatchThresholdMs == 0) ? 0 : SystemClock.uptimeMillis();\n            final long end;\n            try {\n                msg.target.dispatchMessage(msg);\n                end = (slowDispatchThresholdMs == 0) ? 0 : SystemClock.uptimeMillis();\n            } finally {\n                if (traceTag != 0) {\n                    Trace.traceEnd(traceTag);\n                }\n            }\n            if (slowDispatchThresholdMs > 0) {\n                final long time = end - start;\n                if (time > slowDispatchThresholdMs) {\n                    Slog.w(TAG, \"Dispatch took \" + time + \"ms on \"\n                            + Thread.currentThread().getName() + \", h=\" +\n                            msg.target + \" cb=\" + msg.callback + \" msg=\" + msg.what);\n                }\n            }\n\n            if (logging != null) {\n                logging.println(\"<<<<< Finished to \" + msg.target + \" \" + msg.callback);\n            }\n\n            // Make sure that during the course of dispatching the\n            // identity of the thread wasn't corrupted.\n            final long newIdent = Binder.clearCallingIdentity();\n            if (ident != newIdent) {\n                Log.wtf(TAG, \"Thread identity changed from 0x\"\n                        + Long.toHexString(ident) + \" to 0x\"\n                        + Long.toHexString(newIdent) + \" while dispatching to \"\n                        + msg.target.getClass().getName() + \" \"\n                        + msg.callback + \" what=\" + msg.what);\n            }\n\n            msg.recycleUnchecked();\n        }\n    }\n```\nloop方法是一个死循环，唯一可以跳出循环的方式是MessageQueue的next()返回了null，而只有当Looper被设置为退出时，MessageQueue的next()才会返回null。若MessageQueue的next()返回一条新消息，Looper就会调用msg.target.dispatchMessage(msg);处理。msg.target是Handler。故Handler发送的消息被Looper原封不动的交由Handler的dispatchMessager（）处理。原封不动指的是dispatchMessage（）会在创建Handler的线程下运行回调handleMessage().\n\n## Handler\n\n![send_message](/images/message_mechanism.PNG)\n1. 在A线程中创建Looper（创建MessageQueue）， Handler\n2. Handler在B线程中发送消息，消息会插入到A线程中的MessageQueue中\n3. Looper从MessageQueue中取出消息回调Handler的dispatchMessage处理消息\n4. dispatchMessage中会调用Handler的handleMessage方法\n\n\n### sendMessage()\n```java\n/*\nHandler将消息传到MessageQueue中，Looper通过MessageQueue。next()获取消息，Looper再将消息交由Handler的dispatchMessage()处理\n*/\n    public final boolean sendMessage(Message msg)\n    {\n        return sendMessageDelayed(msg, 0);\n    }\n\t\npublic final boolean sendMessageDelayed(Message msg, long delayMillis)\n    {\n        if (delayMillis < 0) {\n            delayMillis = 0;\n        }\n        return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);\n    }\n\t    public boolean sendMessageAtTime(Message msg, long uptimeMillis) {\n        MessageQueue queue = mQueue;\n        if (queue == null) {\n            RuntimeException e = new RuntimeException(\n                    this + \" sendMessageAtTime() called with no mQueue\");\n            Log.w(\"Looper\", e.getMessage(), e);\n            return false;\n        }\n        return enqueueMessage(queue, msg, uptimeMillis);\n    }\n    private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {\n        msg.target = this;\n        if (mAsynchronous) {\n            msg.setAsynchronous(true);\n        }\n        return queue.enqueueMessage(msg, uptimeMillis);\n    }\n\n```\n### dispatchMessage()\n\n```java\n    /**\n     * Handle system messages here.\n     */\n    public void dispatchMessage(Message msg) {\n        if (msg.callback != null) {//msg.callback  is a runnable\n            handleCallback(msg);//Run callback(Handler.post(Runnable r))\n        } else {\n            if (mCallback != null) {//mCallback is a interface that has handdleMessage method.(We can init Handler by invoking Handler handler = new Handler(Callback call))\n                if (mCallback.handleMessage(msg)) {\n                    return;\n                }\n            }\n            handleMessage(msg);\n        }\n    }\n\n```\n  \n## 关于Handler.postdelayed()一个消息阻塞中，又来个消息\n首先在next()方法中消息A处于阻塞状态（没有消息了或者只有Delay的消息），会把mBlocked这个变量标记为true\n```java\nMessage next() {\n    for (;;) {\n        ...\n        if (msg != null) {\n            ...\n        } else {\n            // Got a message.\n            mBlocked = false;\n            ...\n        }\n        ...\n    }\n    ...\n    if (pendingIdleHandlerCount <= 0) {\n        // No idle handlers to run.  Loop and wait some more.\n        mBlocked = true;\n        continue;\n    }\n｝    ...\n```\n当新消息B到来时，进入enqueueMessage（）\n```java\n    boolean enqueueMessage(Message msg, long when) {\n...\nmsg.markInUse();\nmsg.when = when;\nMessage p = mMessages;\nboolean needWake;\nif (p == null || when == 0 || when < p.when) {\n    // New head, wake up the event queue if blocked.\n    msg.next = p;\n    mMessages = msg;\n    needWake = mBlocked;\n} else {\n    ...\n}\n...\n// We can assume mPtr != 0 because mQuitting is false.\n    if (needWake) {\n          nativeWake(mPtr);\n    }\n...\n}\n```\n新到消息B的延迟时间 < 阻塞消息A的延迟时间。则会将B放在队列头部，A放在B的后面执行。needWake置为true。调用nativeWake()方法唤醒线程\n\n整个调用流程：\n1. postDelay()一个10秒钟的Runnable A、消息进队，MessageQueue调用nativePollOnce()阻塞，Looper阻塞；\n2. 紧接着post()一个Runnable B、消息进队，判断现在A时间还没到、正在阻塞，把B插入消息队列的头部（A的前面），然后调用nativeWake()方法唤醒线程；\n3. MessageQueue.next()方法被唤醒后，重新开始读取消息链表，第一个消息B无延时，直接返回给Looper；\n4. Looper处理完这个消息再次调用next()方法，MessageQueue继续读取消息链表，第二个消息A还没到时间，计算一下剩余时间（假如还剩9秒）继续调用nativePollOnce()阻塞；\n5. 直到阻塞时间到或者下一次有Message进队；\n\n题外话：MessageQueue会根据post delay的时间排序放入到链表中，链表头的时间小，尾部时间最大。因此能保证时间Delay最长的不会block住时间短的。当每次post message的时候会进入到MessageQueue的next()方法，会根据其delay时间和链表头的比较，如果更短则，放入链表头，并且看时间是否有delay，如果有，则block，等待时间到来唤醒执行，否则将唤醒立即执行。","slug":"Message Mechanism","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzm004sqr3lpgrhqjum"},{"title":"Move 0","date":"2019-02-01T16:00:00.000Z","description":"奇偶数组排序类似问题","_content":"## Problem description\n  ### Given an array nums, write a function to move all 0's to the end of it while maintaining the relative order of the non-zero elements.You must do this in-place without making a copy of the array.Minimize the total number of operations.\n ## Examples\n``` java\nExample 1:\nInput: [0,1,0,3,12]\nOutput: [1,3,12,0,0]\n```\n## Solution\n　　总觉得在哪见过这道题的解法思想。但自己解出来的却不尽人意。起初是求出每个非元素i前有count个为0的元素。交换nums[i] 与 nums[i - count]两个元素。可以维护两个索引，一个是新数组维护非零元素索引，一个是旧元素中非零元素索引。遍历旧数组，遇到非零元素就添加到新数组中。最后令新数组的末尾全为0.其实剑指Offer中的奇偶数组排序有异曲同工之妙。不过那道题是从两端逼近。一个索引是奇数，另一个是偶数索引。\n\n## Code\n```java\n class Solution {\npublic void moveZeroes(int[] nums) {\n        if (nums == null || nums.length < 2) {\n            return;\n        }\n        int nonzeroIndex = 0;\n        for (int i = 0; i < nums.length; i++) {\n            if (nums[i] != 0) {\n                nums[nonzeroIndex++] = nums[i];\n            }\n        }\n        int zeroIndex = nonzeroIndex;\n        for (; zeroIndex < nums.length; zeroIndex++) {\n            nums[zeroIndex] = 0;\n        }\n    }\n}\n```\n```java\nclass Solution {\n    public int[] sortArrayByParity(int[] A) {\n        int oddIndex = 0, evenIndex = A.length - 1;\n        while (oddIndex < evenIndex) {\n            while (oddIndex < A.length - 1 && (A[oddIndex] & 0x1) == 0) {\n                oddIndex++;\n            }\n            while (evenIndex > 0 && (A[evenIndex] & 0x1) != 0) {\n                evenIndex--;\n            }\n            if (oddIndex < evenIndex) {\n                swap(A, oddIndex, evenIndex);\n            }\n        }\n        return A;\n    }\n    private void swap(int[] data, int index, int end) {\n        int t = data[index];\n        data[index] = data[end];\n        data[end] = t;\n    }\n}\n```","source":"_posts/Move 0.md","raw":"title: Move 0 \ndate: 2019-2-2\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 奇偶数组排序类似问题\n---\n## Problem description\n  ### Given an array nums, write a function to move all 0's to the end of it while maintaining the relative order of the non-zero elements.You must do this in-place without making a copy of the array.Minimize the total number of operations.\n ## Examples\n``` java\nExample 1:\nInput: [0,1,0,3,12]\nOutput: [1,3,12,0,0]\n```\n## Solution\n　　总觉得在哪见过这道题的解法思想。但自己解出来的却不尽人意。起初是求出每个非元素i前有count个为0的元素。交换nums[i] 与 nums[i - count]两个元素。可以维护两个索引，一个是新数组维护非零元素索引，一个是旧元素中非零元素索引。遍历旧数组，遇到非零元素就添加到新数组中。最后令新数组的末尾全为0.其实剑指Offer中的奇偶数组排序有异曲同工之妙。不过那道题是从两端逼近。一个索引是奇数，另一个是偶数索引。\n\n## Code\n```java\n class Solution {\npublic void moveZeroes(int[] nums) {\n        if (nums == null || nums.length < 2) {\n            return;\n        }\n        int nonzeroIndex = 0;\n        for (int i = 0; i < nums.length; i++) {\n            if (nums[i] != 0) {\n                nums[nonzeroIndex++] = nums[i];\n            }\n        }\n        int zeroIndex = nonzeroIndex;\n        for (; zeroIndex < nums.length; zeroIndex++) {\n            nums[zeroIndex] = 0;\n        }\n    }\n}\n```\n```java\nclass Solution {\n    public int[] sortArrayByParity(int[] A) {\n        int oddIndex = 0, evenIndex = A.length - 1;\n        while (oddIndex < evenIndex) {\n            while (oddIndex < A.length - 1 && (A[oddIndex] & 0x1) == 0) {\n                oddIndex++;\n            }\n            while (evenIndex > 0 && (A[evenIndex] & 0x1) != 0) {\n                evenIndex--;\n            }\n            if (oddIndex < evenIndex) {\n                swap(A, oddIndex, evenIndex);\n            }\n        }\n        return A;\n    }\n    private void swap(int[] data, int index, int end) {\n        int t = data[index];\n        data[index] = data[end];\n        data[end] = t;\n    }\n}\n```","slug":"Move 0","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzo004wqr3l5tcimf42"},{"title":"Linux epoll模型","date":"2019-03-02T16:00:00.000Z","description":"MainActivity怎会如此流畅丝滑？","_content":"## 引言\n举一个自己熟悉的栗子，读者，写者问题。当缓冲区满时，写者怎么办？缓冲区空的时候咋办尼？嗯~阻塞呀！没那么简单哦\n\n## Linux下的I/O\n在Linux下对引言中提出的问题，给出的解决办法是：\n1. 阻塞：卡顿在那里，等待唤醒，与OS中一致\n2. 轮询：不停询问，PV操作实现机制\n\n流的概念，一个流可以是文件，socket，pipe等等可以进行I/O操作的内核对象。不管是文件，还是套接字，还是管道，我们都可以把他们看作流。\n阻塞I/O的缺点。在阻塞I/O模式下，一个线程只能处理一个流的I/O事件。如果想要同时处理多个流，要么多进程(fork)，要么多线程(pthread_create)，很不幸这两种方法效率都不高。\n那么讨论轮询，\n```java\nwhile true {\nfor i in stream[]; {\nif i has data\nread until unavailable\n}\n}\n```\n我们只要不停的把所有流从头到尾问一遍，又从头开始。这样就可以处理多个流了，但这样的做法显然不好，因为如果所有的流都没有数据，那么只会白白浪费CPU。这里要补充一点，阻塞模式下，内核对于I/O事件的处理是阻塞或者唤醒，而非阻塞模式下则把I/O事件交给其他对象（后文介绍的select以及epoll）处理甚至直接忽略。\n为了避免CPU空转，可以引进了一个代理（select/poll代理）。这个代理比较厉害，可以同时观察许多流的I/O事件，在空闲的时候，会把当前线程阻塞掉，当有一个或多个流有I/O事件时，就从阻塞态中醒来，于是我们的程序就会轮询一遍所有的流（于是我们可以把“忙”字去掉了）。\n```java\nwhile true {\nselect(streams[])\nfor i in streams[] {\nif i has data\nread until unavailable\n}\n}\n```\n如果没有I/O事件产生，我们的程序就会阻塞在select处。但是依然有个问题，我们从select那里仅仅知道了，有I/O事件发生了，但却并不知道是那几个流（可能有一个，多个，甚至全部），我们只能无差别轮询所有流，找出能读出数据，或者写入数据的流，对他们进行操作。但是使用select，我们有O(n)的无差别轮询复杂度，同时处理的流越多，每一次无差别轮询时间就越长。\n\n## epoll模型\n`epoll 是一个可扩展的 Linux I/O 事件通知机制。`即一种IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作，本质同步I/O，即读写是阻塞的\n\nepoll可以理解为event poll，不同于忙轮询和无差别轮询，epoll之会把哪个流发生了怎样的I/O事件通知我们。此时我们对这些流的操作都是有意义的。（复杂度降低到了O(k)）\n\n使用epoll的时候，内核会维护一个就绪的链表，这个链表里面的东西就是\"那些发生了I/O事件的流\"。而这些文件描述符是如何被添加到就绪链表里面的呢？是通过注册的那些epoll在操作系统内核给IO事件注册回调函数回调函数实现的。epoll这个函数返回的只是那些发生了事件的文件描述符。\n## Looper\n终极问题：为什么Looper不卡咩？众所周知（我也不知道），app程序入口中为主线程准备好了消息队列，并开启了Looper轮询，而Looper.loop是一个死循环。那MainActivity不就卡了吗~\n\n```java\n    public static void main(String[] args) {\n        Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, \"ActivityThreadMain\");\n        SamplingProfilerIntegration.start();\n\n        // CloseGuard defaults to true and can be quite spammy.  We\n        // disable it here, but selectively enable it later (via\n        // StrictMode) on debug builds, but using DropBox, not logs.\n        CloseGuard.setEnabled(false);\n\n        Environment.initForCurrentUser();\n\n        // Set the reporter for event logging in libcore\n        EventLogger.setReporter(new EventLoggingReporter());\n\n        // Make sure TrustedCertificateStore looks in the right place for CA certificates\n        final File configDir = Environment.getUserConfigDirectory(UserHandle.myUserId());\n        TrustedCertificateStore.setDefaultUserDirectory(configDir);\n\n        Process.setArgV0(\"<pre-initialized>\");\n\n        Looper.prepareMainLooper();\n\n        ActivityThread thread = new ActivityThread();\n        thread.attach(false);\n\n        if (sMainThreadHandler == null) {\n            sMainThreadHandler = thread.getHandler();\n        }\n\n        if (false) {\n            Looper.myLooper().setMessageLogging(new\n                    LogPrinter(Log.DEBUG, \"ActivityThread\"));\n        }\n\n        // End of event ActivityThreadMain.\n        Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);\n        Looper.loop();\n\n        throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n    }\n\n```\n先介绍一些基础知识：\n进程：每个app运行时前首先创建一个进程，该进程是由Zygote fork出来的，用于承载App上运行的各种Activity/Service等组件。进程对于上层应用来说是完全透明的，这也是google有意为之，让App程序都是运行在Android Runtime。大多数情况一个App就运行在一个进程中，除非在AndroidManifest.xml中配置Android:process属性，或通过native代码fork进程。\n线程：线程对应用来说非常常见，比如每次new Thread().start都会创建一个新的线程。该线程与App所在进程之间资源共享，从Linux角度来说进程与线程除了是否共享资源外，并没有本质的区别，都是一个task_struct结构体，`在CPU看来进程或线程无非就是一段可执行的代码`，CPU采用CFS调度算法，保证每个task都尽可能公平的享有CPU时间片。\n### Android中为什么主线程不会因为Looper.loop()里的死循环卡死？\n答： 主线程因为循环才得以存活，否则执行完一系列初始化语句后，就会径直退出\n\n线程既然是一段可执行的代码，当可执行代码执行完成后，线程生命周期便该终止了，线程退出。而对于主线程，我们是绝不希望会被运行一段时间，自己就退出，那么如何保证能一直存活呢？`简单做法就是可执行代码是能一直执行下去的，死循环便能保证不会被退出，`例如，binder线程也是采用死循环的方法，通过循环方式不同与Binder驱动进行读写操作，当然并非简单地死循环，无消息时会休眠。但这里可能又引发了另一个问题，`既然是死循环又如何去处理其他事务呢？通过创建新线程的方式。`\n真正会卡死主线程的操作是在回调方法onCreate/onStart/onResume等操作时间过长，会导致掉帧，甚至发生ANR，looper.loop本身不会导致应用卡死。\n### 哪里有相关代码为这个死循环准备了一个新线程去运转？\n会在进入死循环之前便创建了新binder线程，在代码ActivityThread.main()中：\n```java\npublic static void main(String[] args) {\n        ....\n\n        //创建Looper和MessageQueue对象，用于处理主线程的消息\n        Looper.prepareMainLooper();\n\n        //创建ActivityThread对象\n        ActivityThread thread = new ActivityThread(); \n\n        //建立Binder通道 (创建新线程)\n        thread.attach(false);\n\n        Looper.loop(); //消息循环运行\n        throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n    }\n```\n\n__thread.attach(false)；便会创建一个Binder线程（具体是指ApplicationThread，Binder的服务端，用于接收系统服务AMS发送来的事件），该Binder线程通过Handler将Message发送给主线程\t。__\n\nActivityThread实际上并非线程，不像HandlerThread类，ActivityThread并没有真正继承Thread类，只是往往运行在主线程，该人以线程的感觉，其实承载ActivityThread的主线程就是由Zygote fork而创建的进程。\n\n`主线程的死循环一直运行是不是特别消耗CPU资源呢？ `其实不然，这里就涉及到`Linux pipe/epoll机制`，简单说就是在主线程的MessageQueue没有消息时，便阻塞在loop的queue.next()中的nativePollOnce()方法里，此时主线程会释放CPU资源进入休眠状态，直到下个消息到达或者有事务发生，通过往pipe管道写端写入数据来唤醒主线程工作。这里的唤醒机制用的epoll机制，`是一种IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作，本质同步I/O，即读写是阻塞的。` 所以说，主线程大多数时候都是处于休眠状态，并不会消耗大量CPU资源。\n###  Activity的生命周期是怎么实现在死循环体外能够执行起来的\n\nActivityThread的内部类H继承于Handler，通过handler消息机制，简单说Handler机制用于同一个进程的线程间通信。\n\n`Activity的生命周期都是依靠主线程的Looper.loop，当收到不同Message时则采用相应措施：`在H.handleMessage(msg)方法中，根据接收到不同的msg，执行相应的生命周期。 \n\n比如收到`msg=H.LAUNCH_ACTIVITY`，则调用`ActivityThread.handleLaunchActivity()`方法，最终会通过反射机制，创建Activity实例，然后再执行`Activity.onCreate()`等方法；    再比如收到`msg=H.PAUSE_ACTIVITY`，则调用`ActivityThread.handlePauseActivity()`方法，最终会执行`Activity.onPause()`等方法。 上述过程，我只挑核心逻辑讲，真正该过程远比这复杂。\n\n __主线程的消息又是哪来的呢__ 当然是App进程中的其他线程通过Handler发送给主线程.看下图\n从进程与线程间通信的角度，通过一张图加深自己对App运行过程的理解：\n![App_run](/images/app_run_time.jpg)\n\n__system_server进程是系统进程__ ，java framework框架的核心载体，里面运行了大量的系统服务，比如这里提供ApplicationThreadProxy（简称ATP），ActivityManagerService（简称AMS），这个两个服务都运行在system_server进程的不同线程中，由于ATP和AMS都是基于IBinder接口，都是binder线程，binder线程的创建与销毁都是由binder驱动来决定的。\n\n__App进程则是我们常说的应用程序__ ，主线程主要负责Activity/Service等组件的生命周期以及UI相关操作都运行在这个线程； 另外，每个App进程中至少会有两个binder线程 ApplicationThread(简称AT)和ActivityManagerProxy（简称AMP），除了图中画的线程，其中还有很多线程，比如signal catcher线程等，这里就不一一列举。\n\nBinder用于不同进程之间通信，由一个进程的Binder客户端向另一个进程的服务端发送事务，比如图中线程2向线程4发送事务；而handler用于同一个进程中不同线程的通信，比如图中线程4向主线程发送消息。\n\n__结合图说说Activity生命周期，比如暂停Activity，流程如下：__ \n\n1. 线程1的AMS中调用线程2的ATP；（由于同一个进程的线程间资源共享，可以相互直接调用，但需要注意多线程并发问题）\n2. 线程2通过binder传输到App进程的线程4\n3. 线程4通过handler消息机制，将暂停Activity的消息发送给主线程；\n4. 主线程在looper.loop()中循环遍历消息，当收到暂停Activity的消息时，便将消息分发给ActivityThread.H.handleMessage()方法，再经过方法的调用，最后便会调用到Activity.onPause()，当onPause()处理完后，继续循环loop下去。\n\n## 参考链接\nhttps://www.zhihu.com/question/34652589\nhttps://www.zhihu.com/search?type=content&q=linux%20epoll\n","source":"_posts/Linux epoll模型.md","raw":"title: Linux epoll模型\ndate: 2019-3-3\ntags: [Android，消息机制]\ncategories: Android开发艺术探索\ndescription: MainActivity怎会如此流畅丝滑？\n---\n## 引言\n举一个自己熟悉的栗子，读者，写者问题。当缓冲区满时，写者怎么办？缓冲区空的时候咋办尼？嗯~阻塞呀！没那么简单哦\n\n## Linux下的I/O\n在Linux下对引言中提出的问题，给出的解决办法是：\n1. 阻塞：卡顿在那里，等待唤醒，与OS中一致\n2. 轮询：不停询问，PV操作实现机制\n\n流的概念，一个流可以是文件，socket，pipe等等可以进行I/O操作的内核对象。不管是文件，还是套接字，还是管道，我们都可以把他们看作流。\n阻塞I/O的缺点。在阻塞I/O模式下，一个线程只能处理一个流的I/O事件。如果想要同时处理多个流，要么多进程(fork)，要么多线程(pthread_create)，很不幸这两种方法效率都不高。\n那么讨论轮询，\n```java\nwhile true {\nfor i in stream[]; {\nif i has data\nread until unavailable\n}\n}\n```\n我们只要不停的把所有流从头到尾问一遍，又从头开始。这样就可以处理多个流了，但这样的做法显然不好，因为如果所有的流都没有数据，那么只会白白浪费CPU。这里要补充一点，阻塞模式下，内核对于I/O事件的处理是阻塞或者唤醒，而非阻塞模式下则把I/O事件交给其他对象（后文介绍的select以及epoll）处理甚至直接忽略。\n为了避免CPU空转，可以引进了一个代理（select/poll代理）。这个代理比较厉害，可以同时观察许多流的I/O事件，在空闲的时候，会把当前线程阻塞掉，当有一个或多个流有I/O事件时，就从阻塞态中醒来，于是我们的程序就会轮询一遍所有的流（于是我们可以把“忙”字去掉了）。\n```java\nwhile true {\nselect(streams[])\nfor i in streams[] {\nif i has data\nread until unavailable\n}\n}\n```\n如果没有I/O事件产生，我们的程序就会阻塞在select处。但是依然有个问题，我们从select那里仅仅知道了，有I/O事件发生了，但却并不知道是那几个流（可能有一个，多个，甚至全部），我们只能无差别轮询所有流，找出能读出数据，或者写入数据的流，对他们进行操作。但是使用select，我们有O(n)的无差别轮询复杂度，同时处理的流越多，每一次无差别轮询时间就越长。\n\n## epoll模型\n`epoll 是一个可扩展的 Linux I/O 事件通知机制。`即一种IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作，本质同步I/O，即读写是阻塞的\n\nepoll可以理解为event poll，不同于忙轮询和无差别轮询，epoll之会把哪个流发生了怎样的I/O事件通知我们。此时我们对这些流的操作都是有意义的。（复杂度降低到了O(k)）\n\n使用epoll的时候，内核会维护一个就绪的链表，这个链表里面的东西就是\"那些发生了I/O事件的流\"。而这些文件描述符是如何被添加到就绪链表里面的呢？是通过注册的那些epoll在操作系统内核给IO事件注册回调函数回调函数实现的。epoll这个函数返回的只是那些发生了事件的文件描述符。\n## Looper\n终极问题：为什么Looper不卡咩？众所周知（我也不知道），app程序入口中为主线程准备好了消息队列，并开启了Looper轮询，而Looper.loop是一个死循环。那MainActivity不就卡了吗~\n\n```java\n    public static void main(String[] args) {\n        Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, \"ActivityThreadMain\");\n        SamplingProfilerIntegration.start();\n\n        // CloseGuard defaults to true and can be quite spammy.  We\n        // disable it here, but selectively enable it later (via\n        // StrictMode) on debug builds, but using DropBox, not logs.\n        CloseGuard.setEnabled(false);\n\n        Environment.initForCurrentUser();\n\n        // Set the reporter for event logging in libcore\n        EventLogger.setReporter(new EventLoggingReporter());\n\n        // Make sure TrustedCertificateStore looks in the right place for CA certificates\n        final File configDir = Environment.getUserConfigDirectory(UserHandle.myUserId());\n        TrustedCertificateStore.setDefaultUserDirectory(configDir);\n\n        Process.setArgV0(\"<pre-initialized>\");\n\n        Looper.prepareMainLooper();\n\n        ActivityThread thread = new ActivityThread();\n        thread.attach(false);\n\n        if (sMainThreadHandler == null) {\n            sMainThreadHandler = thread.getHandler();\n        }\n\n        if (false) {\n            Looper.myLooper().setMessageLogging(new\n                    LogPrinter(Log.DEBUG, \"ActivityThread\"));\n        }\n\n        // End of event ActivityThreadMain.\n        Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);\n        Looper.loop();\n\n        throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n    }\n\n```\n先介绍一些基础知识：\n进程：每个app运行时前首先创建一个进程，该进程是由Zygote fork出来的，用于承载App上运行的各种Activity/Service等组件。进程对于上层应用来说是完全透明的，这也是google有意为之，让App程序都是运行在Android Runtime。大多数情况一个App就运行在一个进程中，除非在AndroidManifest.xml中配置Android:process属性，或通过native代码fork进程。\n线程：线程对应用来说非常常见，比如每次new Thread().start都会创建一个新的线程。该线程与App所在进程之间资源共享，从Linux角度来说进程与线程除了是否共享资源外，并没有本质的区别，都是一个task_struct结构体，`在CPU看来进程或线程无非就是一段可执行的代码`，CPU采用CFS调度算法，保证每个task都尽可能公平的享有CPU时间片。\n### Android中为什么主线程不会因为Looper.loop()里的死循环卡死？\n答： 主线程因为循环才得以存活，否则执行完一系列初始化语句后，就会径直退出\n\n线程既然是一段可执行的代码，当可执行代码执行完成后，线程生命周期便该终止了，线程退出。而对于主线程，我们是绝不希望会被运行一段时间，自己就退出，那么如何保证能一直存活呢？`简单做法就是可执行代码是能一直执行下去的，死循环便能保证不会被退出，`例如，binder线程也是采用死循环的方法，通过循环方式不同与Binder驱动进行读写操作，当然并非简单地死循环，无消息时会休眠。但这里可能又引发了另一个问题，`既然是死循环又如何去处理其他事务呢？通过创建新线程的方式。`\n真正会卡死主线程的操作是在回调方法onCreate/onStart/onResume等操作时间过长，会导致掉帧，甚至发生ANR，looper.loop本身不会导致应用卡死。\n### 哪里有相关代码为这个死循环准备了一个新线程去运转？\n会在进入死循环之前便创建了新binder线程，在代码ActivityThread.main()中：\n```java\npublic static void main(String[] args) {\n        ....\n\n        //创建Looper和MessageQueue对象，用于处理主线程的消息\n        Looper.prepareMainLooper();\n\n        //创建ActivityThread对象\n        ActivityThread thread = new ActivityThread(); \n\n        //建立Binder通道 (创建新线程)\n        thread.attach(false);\n\n        Looper.loop(); //消息循环运行\n        throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n    }\n```\n\n__thread.attach(false)；便会创建一个Binder线程（具体是指ApplicationThread，Binder的服务端，用于接收系统服务AMS发送来的事件），该Binder线程通过Handler将Message发送给主线程\t。__\n\nActivityThread实际上并非线程，不像HandlerThread类，ActivityThread并没有真正继承Thread类，只是往往运行在主线程，该人以线程的感觉，其实承载ActivityThread的主线程就是由Zygote fork而创建的进程。\n\n`主线程的死循环一直运行是不是特别消耗CPU资源呢？ `其实不然，这里就涉及到`Linux pipe/epoll机制`，简单说就是在主线程的MessageQueue没有消息时，便阻塞在loop的queue.next()中的nativePollOnce()方法里，此时主线程会释放CPU资源进入休眠状态，直到下个消息到达或者有事务发生，通过往pipe管道写端写入数据来唤醒主线程工作。这里的唤醒机制用的epoll机制，`是一种IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作，本质同步I/O，即读写是阻塞的。` 所以说，主线程大多数时候都是处于休眠状态，并不会消耗大量CPU资源。\n###  Activity的生命周期是怎么实现在死循环体外能够执行起来的\n\nActivityThread的内部类H继承于Handler，通过handler消息机制，简单说Handler机制用于同一个进程的线程间通信。\n\n`Activity的生命周期都是依靠主线程的Looper.loop，当收到不同Message时则采用相应措施：`在H.handleMessage(msg)方法中，根据接收到不同的msg，执行相应的生命周期。 \n\n比如收到`msg=H.LAUNCH_ACTIVITY`，则调用`ActivityThread.handleLaunchActivity()`方法，最终会通过反射机制，创建Activity实例，然后再执行`Activity.onCreate()`等方法；    再比如收到`msg=H.PAUSE_ACTIVITY`，则调用`ActivityThread.handlePauseActivity()`方法，最终会执行`Activity.onPause()`等方法。 上述过程，我只挑核心逻辑讲，真正该过程远比这复杂。\n\n __主线程的消息又是哪来的呢__ 当然是App进程中的其他线程通过Handler发送给主线程.看下图\n从进程与线程间通信的角度，通过一张图加深自己对App运行过程的理解：\n![App_run](/images/app_run_time.jpg)\n\n__system_server进程是系统进程__ ，java framework框架的核心载体，里面运行了大量的系统服务，比如这里提供ApplicationThreadProxy（简称ATP），ActivityManagerService（简称AMS），这个两个服务都运行在system_server进程的不同线程中，由于ATP和AMS都是基于IBinder接口，都是binder线程，binder线程的创建与销毁都是由binder驱动来决定的。\n\n__App进程则是我们常说的应用程序__ ，主线程主要负责Activity/Service等组件的生命周期以及UI相关操作都运行在这个线程； 另外，每个App进程中至少会有两个binder线程 ApplicationThread(简称AT)和ActivityManagerProxy（简称AMP），除了图中画的线程，其中还有很多线程，比如signal catcher线程等，这里就不一一列举。\n\nBinder用于不同进程之间通信，由一个进程的Binder客户端向另一个进程的服务端发送事务，比如图中线程2向线程4发送事务；而handler用于同一个进程中不同线程的通信，比如图中线程4向主线程发送消息。\n\n__结合图说说Activity生命周期，比如暂停Activity，流程如下：__ \n\n1. 线程1的AMS中调用线程2的ATP；（由于同一个进程的线程间资源共享，可以相互直接调用，但需要注意多线程并发问题）\n2. 线程2通过binder传输到App进程的线程4\n3. 线程4通过handler消息机制，将暂停Activity的消息发送给主线程；\n4. 主线程在looper.loop()中循环遍历消息，当收到暂停Activity的消息时，便将消息分发给ActivityThread.H.handleMessage()方法，再经过方法的调用，最后便会调用到Activity.onPause()，当onPause()处理完后，继续循环loop下去。\n\n## 参考链接\nhttps://www.zhihu.com/question/34652589\nhttps://www.zhihu.com/search?type=content&q=linux%20epoll\n","slug":"Linux epoll模型","published":1,"updated":"2020-02-13T07:16:09.052Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzp004zqr3l489wyd1t"},{"title":"Messenger Again","date":"2019-01-19T16:00:00.000Z","description":"Messenger对aidl做了些什么？","_content":"## Messenger 与 AIDL的前世今生\n　　Messenger这个信使呀，每天东奔西走的传递各个Message对象。咦，是不是好熟悉。传递Message的信使，哎呀不还有个Handler老哥吗？关于消息机制会在下一章消息机制进行解析。说了也巧，Messenger中Handler也插足了。但不是负责传递消息。而是负责接受处理。简单的说就是受了。而Messenger负责传。Messenger的底层实现是aidl。但又不同于aidl。Messenger只能串行传递消息，即一次一个消息。而aidl可以并发执行。\n  \n  ## 传递原理\n  ![Messenger](/images/Messenger.png)\n  盗自Hyman大佬。\n  前提：C/S都维护着一个Messenger和Handler。\n  1. 客户端连接建立时获取到服务器Messenger发送客户端消息请求时，并将自己的Messenger 作为回复Messenger（msg.replyTo）传入。\n  2. 服务端的Handler收到消息后会取出客户端的Messenger.发送服务端消息回复。并将自己的Messenger 作为回复Messenger（msg.replyTo）传入。\n  3. 客户端的Handler收到消息处理。\n\n局部代码：\n```java\n//Client\n  private Messenger mReplyMessenger = new Messenger(new MessengerHandler());\n  private static class MessengerHandler extends Handler{\n    @Override public void handleMessage(Message msg) {\n      switch (msg.what) {\n        case MessengerService.MSG_FROM_SERVICE:\n          Log.i(\"NightXLT\", \"Receive: \" + msg.getData().getString(\"reply\"));\n          break;\n        default:\n          super.handleMessage(msg);\n          break;\n      }\n    }\n  }\n private ServiceConnection mServiceConnection = new ServiceConnection() {\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\n      mService = new Messenger(service);\n      Message msg = Message.obtain(null, MessengerService.MSG_FROM_CLIENT);\n      Bundle data = new Bundle();\n      data.putString(\"msg\", \"sdfsdfsdf\");\n      /*Book boo = new Book(0, \"the spirit of Chinese\");\n      data.putParcelable(\"Book\", boo);*/\n      msg.setData(data);\n      msg.replyTo = mReplyMessenger;\n      try {\n        mService.send(msg);\n      } catch (RemoteException e) {\n        Log.i(\"NightXLT\", \"happen e\");\n        e.printStackTrace();\n      }\n    }\n```\n```java\n//Service\npublic Messenger messenger = new Messenger(new MyHandler());\npublic class MyHandler extends Handler{\n@Override\npublic void handleMessage(Message msg) {\nLog.i(\"Ser---TAG\", \"msg::\"+msg.arg1+\"want :\"+msg.getData().getString(\"msg\"));\nMessenger messenger = msg.replyTo;\nMessage message = Message.obtain(null, MSG_FROM_SERVICE);\nBundle bundle = new Bundle();\nbundle.putString(\"reply\", \"嗯,你的消息我已经收到,稍后回复你!\");\nmessage.setData(bundle);\ntry {\nmessenger.send(message);\n} catch (RemoteException e) {\ne.printStackTrace();\n}\nsuper.handleMessage(msg);\n}\n}\n```","source":"_posts/Messenger Again.md","raw":"title: Messenger Again\ndate: 2019-1-20\ntags: [Android,IPC]\ncategories: Android开发艺术探索\ndescription: Messenger对aidl做了些什么？\n---\n## Messenger 与 AIDL的前世今生\n　　Messenger这个信使呀，每天东奔西走的传递各个Message对象。咦，是不是好熟悉。传递Message的信使，哎呀不还有个Handler老哥吗？关于消息机制会在下一章消息机制进行解析。说了也巧，Messenger中Handler也插足了。但不是负责传递消息。而是负责接受处理。简单的说就是受了。而Messenger负责传。Messenger的底层实现是aidl。但又不同于aidl。Messenger只能串行传递消息，即一次一个消息。而aidl可以并发执行。\n  \n  ## 传递原理\n  ![Messenger](/images/Messenger.png)\n  盗自Hyman大佬。\n  前提：C/S都维护着一个Messenger和Handler。\n  1. 客户端连接建立时获取到服务器Messenger发送客户端消息请求时，并将自己的Messenger 作为回复Messenger（msg.replyTo）传入。\n  2. 服务端的Handler收到消息后会取出客户端的Messenger.发送服务端消息回复。并将自己的Messenger 作为回复Messenger（msg.replyTo）传入。\n  3. 客户端的Handler收到消息处理。\n\n局部代码：\n```java\n//Client\n  private Messenger mReplyMessenger = new Messenger(new MessengerHandler());\n  private static class MessengerHandler extends Handler{\n    @Override public void handleMessage(Message msg) {\n      switch (msg.what) {\n        case MessengerService.MSG_FROM_SERVICE:\n          Log.i(\"NightXLT\", \"Receive: \" + msg.getData().getString(\"reply\"));\n          break;\n        default:\n          super.handleMessage(msg);\n          break;\n      }\n    }\n  }\n private ServiceConnection mServiceConnection = new ServiceConnection() {\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\n      mService = new Messenger(service);\n      Message msg = Message.obtain(null, MessengerService.MSG_FROM_CLIENT);\n      Bundle data = new Bundle();\n      data.putString(\"msg\", \"sdfsdfsdf\");\n      /*Book boo = new Book(0, \"the spirit of Chinese\");\n      data.putParcelable(\"Book\", boo);*/\n      msg.setData(data);\n      msg.replyTo = mReplyMessenger;\n      try {\n        mService.send(msg);\n      } catch (RemoteException e) {\n        Log.i(\"NightXLT\", \"happen e\");\n        e.printStackTrace();\n      }\n    }\n```\n```java\n//Service\npublic Messenger messenger = new Messenger(new MyHandler());\npublic class MyHandler extends Handler{\n@Override\npublic void handleMessage(Message msg) {\nLog.i(\"Ser---TAG\", \"msg::\"+msg.arg1+\"want :\"+msg.getData().getString(\"msg\"));\nMessenger messenger = msg.replyTo;\nMessage message = Message.obtain(null, MSG_FROM_SERVICE);\nBundle bundle = new Bundle();\nbundle.putString(\"reply\", \"嗯,你的消息我已经收到,稍后回复你!\");\nmessage.setData(bundle);\ntry {\nmessenger.send(message);\n} catch (RemoteException e) {\ne.printStackTrace();\n}\nsuper.handleMessage(msg);\n}\n}\n```","slug":"Messenger Again","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzq0053qr3l0llqxpan"},{"title":"OKHttp源码","date":"2018-03-22T16:00:00.000Z","description":"啊，好长的一坨代码呐","_content":"参考自：[okhttp解析](https://blog.piasy.com/2016/07/11/Understand-OkHttp/index.html)\n\n## OkHttp源码分析\n![enter description here](/images/okhttp_full_process.png)\n首先放一张完整流程图与样例\n```java\n//demo\n//sync\nOkHttpClient client = new OkHttpClient();\n\nString run(String url) throws IOException {\n  Request request = new Request.Builder()\n      .url(url)\n      .build();\n\n  try (Response response = client.newCall(request).execute()) {\n    return response.body().string();\n  }\n}\n//async\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(Call call, IOException e) {\n    }\n    @Override\n    public void onResponse(Call call, Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n```\n### 创建OkHttpClient对象\n```java\nOkHttpClient client = new OkHttpClient();\n```\n进入构造方法\n```java\npublic OkHttpClient() {\n  this(new Builder());\n}\npublic Builder() {\n  dispatcher = new Dispatcher();\n  protocols = DEFAULT_PROTOCOLS;\n  connectionSpecs = DEFAULT_CONNECTION_SPECS;\n  proxySelector = ProxySelector.getDefault();\n  cookieJar = CookieJar.NO_COOKIES;\n  socketFactory = SocketFactory.getDefault();\n  hostnameVerifier = OkHostnameVerifier.INSTANCE;\n  certificatePinner = CertificatePinner.DEFAULT;\n  proxyAuthenticator = Authenticator.NONE;\n  authenticator = Authenticator.NONE;\n  connectionPool = new ConnectionPool();\n  dns = Dns.SYSTEM;\n  followSslRedirects = true;\n  followRedirects = true;\n  retryOnConnectionFailure = true;\n  connectTimeout = 10_000;\n  readTimeout = 10_000;\n  writeTimeout = 10_000;\n}\n```\n这里采用了建造者模式，动态添加对象属性，提高代码可读性。 \n\n### 发起Http请求\n```java\nString run(String url) throws IOException {\n  Request request = new Request.Builder()\n      .url(url)\n      .build();\n  Response response = client.newCall(request).execute();\n  return response.body().string();\n}\n```\nOkHttpClient实现了Call.Factory，负责根据请求创建新的Call。进入newCall\n```java\n/**\n  * Prepares the {@code request} to be executed at some point in the future.\n  */\n@Override public Call newCall(Request request) {\n  return new RealCall(this, request);\n}\n```\n进入RealCall\n\n### 同步网络请求\nRealCall`execute()`\n```java\n@Override public Response execute() throws IOException {\n  synchronized (this) {\n    if (executed) throw new IllegalStateException(\"Already Executed\");  // (1)\n    executed = true;\n  }\n  try {\n    client.dispatcher().executed(this);                                 // (2)\n    Response result = getResponseWithInterceptorChain();                // (3)\n    if (result == null) throw new IOException(\"Canceled\");\n    return result;\n  } finally {\n    client.dispatcher().finished(this);                                 // (4)\n  }\n}\n```\n1. 检查这个 call 是否已经被执行了，每个 call 只能被执行一次，如果想要一个完全一样的 call，可以利用call#clone方法进行克隆。\n2. 利用client.dispatcher().executed(this)来进行实际执行dispatcher是刚才看到的OkHttpClient.Builder的成员之一，文档说自己是异步 HTTP 请求的执行策略，现在看来，同步请求它也有掺和。\n3. 调用getResponseWithInterceptorChain()函数获取 HTTP 返回结果，从函数名可以看出，这一步还会进行一系列“拦截”操作。\n4. 最后还要通知dispatcher自己已经执行完毕。\n\ndispatcher 这里我们不过度关注，在同步执行的流程中，涉及到 dispatcher 的内容只不过是告知它我们的执行状态，比如开始执行了（调用executed），比如执行完毕了（调用finished），在异步执行流程中它会有更多的参与。\n\n真正发出网络请求，解析返回结果的，还是getResponseWithInterceptorChain：\n```java\nprivate Response getResponseWithInterceptorChain() throws IOException {\n  // Build a full stack of interceptors.\n  List<Interceptor> interceptors = new ArrayList<>();\n  interceptors.addAll(client.interceptors());\n  interceptors.add(retryAndFollowUpInterceptor);\n  interceptors.add(new BridgeInterceptor(client.cookieJar()));\n  interceptors.add(new CacheInterceptor(client.internalCache()));\n  interceptors.add(new ConnectInterceptor(client));\n  if (!retryAndFollowUpInterceptor.isForWebSocket()) {\n    interceptors.addAll(client.networkInterceptors());\n  }\n  interceptors.add(new CallServerInterceptor(\n      retryAndFollowUpInterceptor.isForWebSocket()));\n  Interceptor.Chain chain = new RealInterceptorChain(\n      interceptors, null, null, null, 0, originalRequest);\n  return chain.proceed(originalRequest);\n}\n```\n\n> the whole thing is just a stack of built-in interceptors.\n\n`Interceptor`是 OkHttp 最核心的一个东西，不要误以为它只负责拦截请求进行一些额外的处理（例如 cookie），__实际上它把实际的网络请求、缓存、透明压缩等功能都统一了起来__，`每一个功能都只是一个Interceptor`，它们再连接成一个`Interceptor.Chain`，如链条一般,环环相扣，最终圆满完成一次网络请求。关于责任链模式在下一篇博文有详细阐述。\n\n从`getResponseWithInterceptorChain`函数我们可以看到`Interceptor.Chain`的分布依次是：\n![okhttp_interceptors](/images/okhttp_interceptors.png)\n1. 配置`OkHttpClient`时设置的`interceptors`；\n2. 负责失败重试以及重定向的`RetryAndFollowUpInterceptor`；\n3. 负责把用户构造的请求转换为发送到服务器的请求、把服务器返回的响应转换为用户友好的响应的`BridgeInterceptor`；\n4. 负责读取缓存直接返回、更新缓存的`CacheInterceptor`；\n5. 负责和服务器建立连接的`ConnectInterceptor`；\n6. 配置`OkHttpClient`时设置的`networkInterceptors`, interceptors that observe a single network request and response.\n7. 负责向服务器发送请求数据、从服务器读取响应数据`CallServerInterceptor`\n\n位置决定了功能，最后一个 Interceptor 一定是负责和服务器实际通讯的，重定向、缓存等一定是在实际通讯之前的。\n\n对于把`Request`变成`Response`这件事来说，每个`Interceptor`都可能完成这件事，所以我们循着链条让每个`Interceptor`自行决定能否完成任务以及怎么完成任务（自力更生或者交给下一个`Interceptor`）。这样一来，完成网络请求这件事就彻底从`RealCall`类中剥离了出来，简化了各自的责任和逻辑。\n\n进入`ConnectInterceptor和CallServerInterceptor`，看看 OkHttp 是怎么进行和服务器的实际通信的。\n### 建立连接：ConnectInterceptor\n```java\n@Override public Response intercept(Chain chain) throws IOException {\n  RealInterceptorChain realChain = (RealInterceptorChain) chain;\n  Request request = realChain.request();\n  StreamAllocation streamAllocation = realChain.streamAllocation();\n  // We need the network to satisfy this request. Possibly for validating a conditional GET.\n  boolean doExtensiveHealthChecks = !request.method().equals(\"GET\");\n  HttpCodec httpCodec = streamAllocation.newStream(client, doExtensiveHealthChecks);\n  RealConnection connection = streamAllocation.connection();\n  return realChain.proceed(request, streamAllocation, httpCodec, connection);\n}\n```\n建立连接就是创建了一个`HttpCodec`对象，它将在后面的步骤中被使用，那它又是何方神圣呢？它是对 HTTP 协议操作的抽象，有两个实现：`Http1Codec和Http2Codec`，顾名思义，它们分别对应 HTTP/1.1 和 HTTP/2 版本的实现。\n\n在Http1Codec中，它利用Okio对Socket的读写操作进行封装，Okio 以后有机会再进行分析，现在让我们对它们保持一个简单地认识：它对java.io和java.nio进行了封装，让我们更便捷高效的进行 IO 操作。\n\n而创建`HttpCodec`对象的过程涉及到`StreamAllocation、RealConnection`，代码较长，这里就不展开，这个过程概括来说，就是找到一个`可用的RealConnection`，再利用RealConnection的输入输出（BufferedSource和BufferedSink）创建HttpCodec对象，供后续步骤使用。\n\n### 发送和接收数据：CallServerInterceptor\n```java\n@Override public Response intercept(Chain chain) throws IOException {\n  HttpCodec httpCodec = ((RealInterceptorChain) chain).httpStream();\n  StreamAllocation streamAllocation = ((RealInterceptorChain) chain).streamAllocation();\n  Request request = chain.request();\n  long sentRequestMillis = System.currentTimeMillis();\n  httpCodec.writeRequestHeaders(request);\n  if (HttpMethod.permitsRequestBody(request.method()) && request.body() != null) {\n    Sink requestBodyOut = httpCodec.createRequestBody(request, request.body().contentLength());\n    BufferedSink bufferedRequestBody = Okio.buffer(requestBodyOut);\n    request.body().writeTo(bufferedRequestBody);\n    bufferedRequestBody.close();\n  }\n  httpCodec.finishRequest();\n  Response response = httpCodec.readResponseHeaders()\n      .request(request)\n      .handshake(streamAllocation.connection().handshake())\n      .sentRequestAtMillis(sentRequestMillis)\n      .receivedResponseAtMillis(System.currentTimeMillis())\n      .build();\n  if (!forWebSocket || response.code() != 101) {\n    response = response.newBuilder()\n        .body(httpCodec.openResponseBody(response))\n        .build();\n  }\n  if (\"close\".equalsIgnoreCase(response.request().header(\"Connection\"))\n      || \"close\".equalsIgnoreCase(response.header(\"Connection\"))) {\n    streamAllocation.noNewStreams();\n  }\n  // 省略部分检查代码\n  return response;\n}\n```\n1. 向服务器发送 request header；\n2. 如果有 request body，就向服务器发送；\n3. 读取 response header，先构造一个Response对象；\n4. 如果有 response body，就在 3 的基础上加上 body 构造一个新的Response对象；\n\n核心工作都由HttpCodec对象完成，而HttpCodec实际上利用的是 Okio，而 Okio 实际上还是用的Socket，所以没什么神秘的，只不过一层套一层，层数有点多。\n\n其实Interceptor的设计也是一种分层的思想，每个Interceptor就是一层。为什么要套这么多层呢？分层的思想在 TCP/IP 协议中就体现得淋漓尽致，分层简化了每一层的逻辑，每层只需要关注自己的责任（单一原则思想也在此体现），而各层之间通过约定的接口/协议进行合作（面向接口编程思想），共同完成复杂的任务。\n\n### 异步网络请求\n```java\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(Call call, IOException e) {\n    }\n    @Override\n    public void onResponse(Call call, Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n// RealCall的enqueue\n@Override public void enqueue(Callback responseCallback) {\n  synchronized (this) {\n    if (executed) throw new IllegalStateException(\"Already Executed\");\n    executed = true;\n  }\n  client.dispatcher().enqueue(new AsyncCall(responseCallback));\n}\n// Dispatcher的enqueue\nsynchronized void enqueue(AsyncCall call) {\n  if (runningAsyncCalls.size() < maxRequests && runningCallsForHost(call) < maxRequestsPerHost) {\n    runningAsyncCalls.add(call);\n    executorService().execute(call);\n  } else {\n    readyAsyncCalls.add(call);\n  }\n}\n```\n在dispatcher的enqueue（）中，如果当前队列大小 小于64，且队列内当前请求的同一host不超过5个，则直接加入队列开始执行，否则只加入队列。\n这里的AsyncCall是RealCall的一个内部类，它实现了Runnable，所以可以被提交到ExecutorService（线程池）上执行，而它在执行时会调用getResponseWithInterceptorChain()函数，并把结果通过responseCallback传递给上层使用者。\n\n这样看来，同步请求和异步请求的原理是一样的，都是在getResponseWithInterceptorChain()函数中通过Interceptor链条来实现的网络请求逻辑，而异步则是通过ExecutorService实现。\n\n### 返回数据的获取\n上述同步（Call#execute()执行之后）或者异步（Callback#onResponse()回调中）请求完成之后，我们就可以从Response对象中获取到响应数据了，包括 HTTP status code，status message，response header，response body 等。这里 body 部分最为特殊，因为服务器返回的数据可能非常大，所以必须通过数据流的方式来进行访问（当然也提供了诸如string()和bytes()这样的方法将流内的数据一次性读取完毕），而响应中其他部分则可以随意获取。\n\n响应 body 被封装到ResponseBody类中，该类主要有两点需要注意：\n\n1. 每个 body 只能被消费一次，多次消费会抛出异常；\n2. body 必须被关闭，否则会发生资源泄漏；\n在发送和接收数据：CallServerInterceptor小节中，我们就看过了 body 相关的代码。\n```java\nif (!forWebSocket || response.code() != 101) {\n  response = response.newBuilder()\n      .body(httpCodec.openResponseBody(response))\n      .build();\n}\n```\n由`HttpCodec#openResponseBody`提供具体 HTTP 协议版本的响应 body，而`HttpCodec`则是利用 Okio 实现具体的数据 IO 操作。\n\n### Http缓存（参见下一篇博文）\n我们已经看到了`Interceptor`的布局，在建立连接、和服务器通讯之前，就是`CacheInterceptor`，在建立连接之前，我们检查响应是否已经被缓存、缓存是否可用，如果是则直接返回缓存的数据，否则就进行后面的流程，并在返回之前，把网络的数据写入缓存。\n\n这块代码比较多，但也很直观，主要涉及 HTTP 协议缓存细节的实现，而具体的缓存逻辑 OkHttp 内置封装了一个`Cache`类，它利用`DiskLruCache`，用磁盘上的有限大小空间进行缓存，按照 LRU 算法进行缓存淘汰。\n### 连接复用\n若有大量连接，每次都要建立连接，释放连接，这会导致性能低下，在Http中有keepalive connections机制，它可以在传输数据后保持连接，当客户端再次获取数据时，直接使用刚刚空闲下来的连接而无须再次握手。\n![okhttp_reuse](/images/connect_reuse.png)\n\n1. 建立连接并保存至连接池connections（Deque < RealConnection >）中\n2. 写请求数据\n3. 读相应数据\n4. 计算延时timeout5分钟，延时内若有数据请求访问，遍历连接池如果连接池请求具有相同Address（相同的Host与端口）可以共用相同的连接RealConnection。\n5. 回到2.，否则进入5\n6. OkHttp根据StreamAllocation引用计数是否为0来实现自动回收连接\n\n\n## 总结\n![enter description here](/images/okhttp_full_process.png)\nOkHttp执行流程如下：\n1. OkHttpClient实现Call.Factory，负责为Request创建Call；\n2. RealCall为具体的Call实现，其enqueue()异步接口通过Dispatcher利用ExecutorService实现，而最终进行网络请求时和同步execute()接口一致，都是通过getResponseWithInterceptorChain()函数实现；\n3. getResponseWithInterceptorChain()中利用Interceptor链条，分层实现缓存、透明压缩、网络 IO 等功能；","source":"_posts/OKHttp源码.md","raw":"title: OKHttp源码\ndate: 2018-3-23\ntags: [Android]\ncategories: 源码解析\ndescription: 啊，好长的一坨代码呐\n---\n参考自：[okhttp解析](https://blog.piasy.com/2016/07/11/Understand-OkHttp/index.html)\n\n## OkHttp源码分析\n![enter description here](/images/okhttp_full_process.png)\n首先放一张完整流程图与样例\n```java\n//demo\n//sync\nOkHttpClient client = new OkHttpClient();\n\nString run(String url) throws IOException {\n  Request request = new Request.Builder()\n      .url(url)\n      .build();\n\n  try (Response response = client.newCall(request).execute()) {\n    return response.body().string();\n  }\n}\n//async\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(Call call, IOException e) {\n    }\n    @Override\n    public void onResponse(Call call, Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n```\n### 创建OkHttpClient对象\n```java\nOkHttpClient client = new OkHttpClient();\n```\n进入构造方法\n```java\npublic OkHttpClient() {\n  this(new Builder());\n}\npublic Builder() {\n  dispatcher = new Dispatcher();\n  protocols = DEFAULT_PROTOCOLS;\n  connectionSpecs = DEFAULT_CONNECTION_SPECS;\n  proxySelector = ProxySelector.getDefault();\n  cookieJar = CookieJar.NO_COOKIES;\n  socketFactory = SocketFactory.getDefault();\n  hostnameVerifier = OkHostnameVerifier.INSTANCE;\n  certificatePinner = CertificatePinner.DEFAULT;\n  proxyAuthenticator = Authenticator.NONE;\n  authenticator = Authenticator.NONE;\n  connectionPool = new ConnectionPool();\n  dns = Dns.SYSTEM;\n  followSslRedirects = true;\n  followRedirects = true;\n  retryOnConnectionFailure = true;\n  connectTimeout = 10_000;\n  readTimeout = 10_000;\n  writeTimeout = 10_000;\n}\n```\n这里采用了建造者模式，动态添加对象属性，提高代码可读性。 \n\n### 发起Http请求\n```java\nString run(String url) throws IOException {\n  Request request = new Request.Builder()\n      .url(url)\n      .build();\n  Response response = client.newCall(request).execute();\n  return response.body().string();\n}\n```\nOkHttpClient实现了Call.Factory，负责根据请求创建新的Call。进入newCall\n```java\n/**\n  * Prepares the {@code request} to be executed at some point in the future.\n  */\n@Override public Call newCall(Request request) {\n  return new RealCall(this, request);\n}\n```\n进入RealCall\n\n### 同步网络请求\nRealCall`execute()`\n```java\n@Override public Response execute() throws IOException {\n  synchronized (this) {\n    if (executed) throw new IllegalStateException(\"Already Executed\");  // (1)\n    executed = true;\n  }\n  try {\n    client.dispatcher().executed(this);                                 // (2)\n    Response result = getResponseWithInterceptorChain();                // (3)\n    if (result == null) throw new IOException(\"Canceled\");\n    return result;\n  } finally {\n    client.dispatcher().finished(this);                                 // (4)\n  }\n}\n```\n1. 检查这个 call 是否已经被执行了，每个 call 只能被执行一次，如果想要一个完全一样的 call，可以利用call#clone方法进行克隆。\n2. 利用client.dispatcher().executed(this)来进行实际执行dispatcher是刚才看到的OkHttpClient.Builder的成员之一，文档说自己是异步 HTTP 请求的执行策略，现在看来，同步请求它也有掺和。\n3. 调用getResponseWithInterceptorChain()函数获取 HTTP 返回结果，从函数名可以看出，这一步还会进行一系列“拦截”操作。\n4. 最后还要通知dispatcher自己已经执行完毕。\n\ndispatcher 这里我们不过度关注，在同步执行的流程中，涉及到 dispatcher 的内容只不过是告知它我们的执行状态，比如开始执行了（调用executed），比如执行完毕了（调用finished），在异步执行流程中它会有更多的参与。\n\n真正发出网络请求，解析返回结果的，还是getResponseWithInterceptorChain：\n```java\nprivate Response getResponseWithInterceptorChain() throws IOException {\n  // Build a full stack of interceptors.\n  List<Interceptor> interceptors = new ArrayList<>();\n  interceptors.addAll(client.interceptors());\n  interceptors.add(retryAndFollowUpInterceptor);\n  interceptors.add(new BridgeInterceptor(client.cookieJar()));\n  interceptors.add(new CacheInterceptor(client.internalCache()));\n  interceptors.add(new ConnectInterceptor(client));\n  if (!retryAndFollowUpInterceptor.isForWebSocket()) {\n    interceptors.addAll(client.networkInterceptors());\n  }\n  interceptors.add(new CallServerInterceptor(\n      retryAndFollowUpInterceptor.isForWebSocket()));\n  Interceptor.Chain chain = new RealInterceptorChain(\n      interceptors, null, null, null, 0, originalRequest);\n  return chain.proceed(originalRequest);\n}\n```\n\n> the whole thing is just a stack of built-in interceptors.\n\n`Interceptor`是 OkHttp 最核心的一个东西，不要误以为它只负责拦截请求进行一些额外的处理（例如 cookie），__实际上它把实际的网络请求、缓存、透明压缩等功能都统一了起来__，`每一个功能都只是一个Interceptor`，它们再连接成一个`Interceptor.Chain`，如链条一般,环环相扣，最终圆满完成一次网络请求。关于责任链模式在下一篇博文有详细阐述。\n\n从`getResponseWithInterceptorChain`函数我们可以看到`Interceptor.Chain`的分布依次是：\n![okhttp_interceptors](/images/okhttp_interceptors.png)\n1. 配置`OkHttpClient`时设置的`interceptors`；\n2. 负责失败重试以及重定向的`RetryAndFollowUpInterceptor`；\n3. 负责把用户构造的请求转换为发送到服务器的请求、把服务器返回的响应转换为用户友好的响应的`BridgeInterceptor`；\n4. 负责读取缓存直接返回、更新缓存的`CacheInterceptor`；\n5. 负责和服务器建立连接的`ConnectInterceptor`；\n6. 配置`OkHttpClient`时设置的`networkInterceptors`, interceptors that observe a single network request and response.\n7. 负责向服务器发送请求数据、从服务器读取响应数据`CallServerInterceptor`\n\n位置决定了功能，最后一个 Interceptor 一定是负责和服务器实际通讯的，重定向、缓存等一定是在实际通讯之前的。\n\n对于把`Request`变成`Response`这件事来说，每个`Interceptor`都可能完成这件事，所以我们循着链条让每个`Interceptor`自行决定能否完成任务以及怎么完成任务（自力更生或者交给下一个`Interceptor`）。这样一来，完成网络请求这件事就彻底从`RealCall`类中剥离了出来，简化了各自的责任和逻辑。\n\n进入`ConnectInterceptor和CallServerInterceptor`，看看 OkHttp 是怎么进行和服务器的实际通信的。\n### 建立连接：ConnectInterceptor\n```java\n@Override public Response intercept(Chain chain) throws IOException {\n  RealInterceptorChain realChain = (RealInterceptorChain) chain;\n  Request request = realChain.request();\n  StreamAllocation streamAllocation = realChain.streamAllocation();\n  // We need the network to satisfy this request. Possibly for validating a conditional GET.\n  boolean doExtensiveHealthChecks = !request.method().equals(\"GET\");\n  HttpCodec httpCodec = streamAllocation.newStream(client, doExtensiveHealthChecks);\n  RealConnection connection = streamAllocation.connection();\n  return realChain.proceed(request, streamAllocation, httpCodec, connection);\n}\n```\n建立连接就是创建了一个`HttpCodec`对象，它将在后面的步骤中被使用，那它又是何方神圣呢？它是对 HTTP 协议操作的抽象，有两个实现：`Http1Codec和Http2Codec`，顾名思义，它们分别对应 HTTP/1.1 和 HTTP/2 版本的实现。\n\n在Http1Codec中，它利用Okio对Socket的读写操作进行封装，Okio 以后有机会再进行分析，现在让我们对它们保持一个简单地认识：它对java.io和java.nio进行了封装，让我们更便捷高效的进行 IO 操作。\n\n而创建`HttpCodec`对象的过程涉及到`StreamAllocation、RealConnection`，代码较长，这里就不展开，这个过程概括来说，就是找到一个`可用的RealConnection`，再利用RealConnection的输入输出（BufferedSource和BufferedSink）创建HttpCodec对象，供后续步骤使用。\n\n### 发送和接收数据：CallServerInterceptor\n```java\n@Override public Response intercept(Chain chain) throws IOException {\n  HttpCodec httpCodec = ((RealInterceptorChain) chain).httpStream();\n  StreamAllocation streamAllocation = ((RealInterceptorChain) chain).streamAllocation();\n  Request request = chain.request();\n  long sentRequestMillis = System.currentTimeMillis();\n  httpCodec.writeRequestHeaders(request);\n  if (HttpMethod.permitsRequestBody(request.method()) && request.body() != null) {\n    Sink requestBodyOut = httpCodec.createRequestBody(request, request.body().contentLength());\n    BufferedSink bufferedRequestBody = Okio.buffer(requestBodyOut);\n    request.body().writeTo(bufferedRequestBody);\n    bufferedRequestBody.close();\n  }\n  httpCodec.finishRequest();\n  Response response = httpCodec.readResponseHeaders()\n      .request(request)\n      .handshake(streamAllocation.connection().handshake())\n      .sentRequestAtMillis(sentRequestMillis)\n      .receivedResponseAtMillis(System.currentTimeMillis())\n      .build();\n  if (!forWebSocket || response.code() != 101) {\n    response = response.newBuilder()\n        .body(httpCodec.openResponseBody(response))\n        .build();\n  }\n  if (\"close\".equalsIgnoreCase(response.request().header(\"Connection\"))\n      || \"close\".equalsIgnoreCase(response.header(\"Connection\"))) {\n    streamAllocation.noNewStreams();\n  }\n  // 省略部分检查代码\n  return response;\n}\n```\n1. 向服务器发送 request header；\n2. 如果有 request body，就向服务器发送；\n3. 读取 response header，先构造一个Response对象；\n4. 如果有 response body，就在 3 的基础上加上 body 构造一个新的Response对象；\n\n核心工作都由HttpCodec对象完成，而HttpCodec实际上利用的是 Okio，而 Okio 实际上还是用的Socket，所以没什么神秘的，只不过一层套一层，层数有点多。\n\n其实Interceptor的设计也是一种分层的思想，每个Interceptor就是一层。为什么要套这么多层呢？分层的思想在 TCP/IP 协议中就体现得淋漓尽致，分层简化了每一层的逻辑，每层只需要关注自己的责任（单一原则思想也在此体现），而各层之间通过约定的接口/协议进行合作（面向接口编程思想），共同完成复杂的任务。\n\n### 异步网络请求\n```java\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(Call call, IOException e) {\n    }\n    @Override\n    public void onResponse(Call call, Response response) throws IOException {\n        System.out.println(response.body().string());\n    }\n});\n// RealCall的enqueue\n@Override public void enqueue(Callback responseCallback) {\n  synchronized (this) {\n    if (executed) throw new IllegalStateException(\"Already Executed\");\n    executed = true;\n  }\n  client.dispatcher().enqueue(new AsyncCall(responseCallback));\n}\n// Dispatcher的enqueue\nsynchronized void enqueue(AsyncCall call) {\n  if (runningAsyncCalls.size() < maxRequests && runningCallsForHost(call) < maxRequestsPerHost) {\n    runningAsyncCalls.add(call);\n    executorService().execute(call);\n  } else {\n    readyAsyncCalls.add(call);\n  }\n}\n```\n在dispatcher的enqueue（）中，如果当前队列大小 小于64，且队列内当前请求的同一host不超过5个，则直接加入队列开始执行，否则只加入队列。\n这里的AsyncCall是RealCall的一个内部类，它实现了Runnable，所以可以被提交到ExecutorService（线程池）上执行，而它在执行时会调用getResponseWithInterceptorChain()函数，并把结果通过responseCallback传递给上层使用者。\n\n这样看来，同步请求和异步请求的原理是一样的，都是在getResponseWithInterceptorChain()函数中通过Interceptor链条来实现的网络请求逻辑，而异步则是通过ExecutorService实现。\n\n### 返回数据的获取\n上述同步（Call#execute()执行之后）或者异步（Callback#onResponse()回调中）请求完成之后，我们就可以从Response对象中获取到响应数据了，包括 HTTP status code，status message，response header，response body 等。这里 body 部分最为特殊，因为服务器返回的数据可能非常大，所以必须通过数据流的方式来进行访问（当然也提供了诸如string()和bytes()这样的方法将流内的数据一次性读取完毕），而响应中其他部分则可以随意获取。\n\n响应 body 被封装到ResponseBody类中，该类主要有两点需要注意：\n\n1. 每个 body 只能被消费一次，多次消费会抛出异常；\n2. body 必须被关闭，否则会发生资源泄漏；\n在发送和接收数据：CallServerInterceptor小节中，我们就看过了 body 相关的代码。\n```java\nif (!forWebSocket || response.code() != 101) {\n  response = response.newBuilder()\n      .body(httpCodec.openResponseBody(response))\n      .build();\n}\n```\n由`HttpCodec#openResponseBody`提供具体 HTTP 协议版本的响应 body，而`HttpCodec`则是利用 Okio 实现具体的数据 IO 操作。\n\n### Http缓存（参见下一篇博文）\n我们已经看到了`Interceptor`的布局，在建立连接、和服务器通讯之前，就是`CacheInterceptor`，在建立连接之前，我们检查响应是否已经被缓存、缓存是否可用，如果是则直接返回缓存的数据，否则就进行后面的流程，并在返回之前，把网络的数据写入缓存。\n\n这块代码比较多，但也很直观，主要涉及 HTTP 协议缓存细节的实现，而具体的缓存逻辑 OkHttp 内置封装了一个`Cache`类，它利用`DiskLruCache`，用磁盘上的有限大小空间进行缓存，按照 LRU 算法进行缓存淘汰。\n### 连接复用\n若有大量连接，每次都要建立连接，释放连接，这会导致性能低下，在Http中有keepalive connections机制，它可以在传输数据后保持连接，当客户端再次获取数据时，直接使用刚刚空闲下来的连接而无须再次握手。\n![okhttp_reuse](/images/connect_reuse.png)\n\n1. 建立连接并保存至连接池connections（Deque < RealConnection >）中\n2. 写请求数据\n3. 读相应数据\n4. 计算延时timeout5分钟，延时内若有数据请求访问，遍历连接池如果连接池请求具有相同Address（相同的Host与端口）可以共用相同的连接RealConnection。\n5. 回到2.，否则进入5\n6. OkHttp根据StreamAllocation引用计数是否为0来实现自动回收连接\n\n\n## 总结\n![enter description here](/images/okhttp_full_process.png)\nOkHttp执行流程如下：\n1. OkHttpClient实现Call.Factory，负责为Request创建Call；\n2. RealCall为具体的Call实现，其enqueue()异步接口通过Dispatcher利用ExecutorService实现，而最终进行网络请求时和同步execute()接口一致，都是通过getResponseWithInterceptorChain()函数实现；\n3. getResponseWithInterceptorChain()中利用Interceptor链条，分层实现缓存、透明压缩、网络 IO 等功能；","slug":"OKHttp源码","published":1,"updated":"2020-02-13T07:16:09.053Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzr0056qr3ll3sge09y"},{"title":"Regular Expression Matching","date":"2020-04-03T16:00:00.000Z","description":".和*的正则匹配","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/regular-expression-matching/\n\n## Solution\n\n### 回溯法\n\n首先判断首字母是否相等为 firstMatch, 遇到.时默认为匹配\n\n如果有 \\* 号 ，而模式串 p 只有两个的话，那么 \\*号应该是在 p[1].\n\n对于*号的处理要么是不将前面的包含其中，要么是继续重复匹配。\n\n回溯法思路中，自己犯了一个思维惯性，因为 \\* 在正则中是贪婪匹配的，所以自己进行 dfs 时，直接按最长的来，导致了超时。在做题中，匹配串长度是固定的，我的目标是尽可能块地确认 模式串的与匹配串匹配。遇到 \\* 时应该先匹配不包含前面元素，再进行包含的遍历。\n\n题解在遍历时是从头至尾进行一一比较进行遍历。遍历过程不断去掉二者已匹配的部分，比较剩余部分直至二者刚好比较结束。则为匹配。我自己在做回溯时，采取的是传统的回溯策略，记录 start 值，通过回溯遍历出 模式串 p 的所有可能字符串与 s 比较，匹配成功则立刻返回。这样的问题是遍历 p 的可能性太耗时，比如遇到.必须遍历 26种可能，这样无疑很耗时。\n\n回溯法时间复杂度很长就对了。。。官方题解的数字也不知道怎么算出来的\n\n### 动态规划\n\n自己看了官方题解了解到这道题可以使用 dp 缩短时间复杂度为 $O(TP)$( *T* 和 *P* 分别表示匹配串和模式串的长度)。\n\n自己看的是自底向上的解法。\n\n这个方法就很骚了，我跟着画了图一步步才弄明白。\n\n![构造图](/images/rematch_1.png)\n\n盗张大佬的图分析下。\n\ndp 是一个 (s.length + 1) * (p.length + 1)二维数组，最后会解释这里length为啥要加一。dp[i]\\[j] = true 表示 s[i..s.length]与 p[j..p.length]相匹配。\n\n遇到 \\* 时， dp[i]\\[j] = dp[i]\\[j + 2] || firstMatch && dp[i + 1]\\[j] 前面优先看不包含的情况， || 后面表示 是重复当前字母的情况。 如果首字母相等，再判断 s[i + 1..s.length] == p[ j..p.length]，这里尤为烧脑 。\n\n不是 * 则直接 dp[i]\\[j] = firstMatch && dp[i + 1]\\[j + 1]. (s[i] = p[j] && s[i + 1..s.length] == p[j + 1..p.length])\n\n最后来解释下为啥dp 的 size 中需要 length + 1，首先我们需要一个初始化位dp[s.length]\\[p.length]默认表示为匹配。 此外初始遍历第 s.length行 是为了 \\* 中的 dp[i + 1]\\[j]  符号位传递。不从 s.length 行开始遍历结果是有误的。\n\n时间复杂度：$O(TP)$ （ *T* 和 *P* 分别表示匹配串和模式串的长度）\n\n空间复杂度：$O(TP)$\n\n## Code\n\n```kotl\n回溯\nclass Solution {\n  \t fun isMatch(s: String, p: String): Boolean {\n        if (p.isEmpty()) return s.isEmpty()\n        val firstMatch = s.isNotEmpty() && (s[0] == p[0] || p[0] == '.')\n        if (p.length >= 2 && p[1] == '*') {\n            return isMatch(s, p.substring(2)) || (firstMatch && isMatch(s.substring(1), p))\n        }\n        return firstMatch && isMatch(s.substring(1), p.substring(1))\n    }\n}\n```\n\n\n\n```java\ndp\nclass Solution {\n    fun isMatch(s: String, p: String): Boolean {\n        val dp = Array(s.length + 1) { Array(p.length + 1) { false } }\n        dp[s.length][p.length] = true\n        for (i in s.length downTo 0) {\n            for (j in p.length - 1 downTo 0) {\n                val firstMatch = i < s.length && (s[i] == p[j] || p[j] == '.')\n                dp[i][j] = if (j + 1 < p.length && p[j + 1] == '*') {\n                    dp[i][j + 2] || (firstMatch && dp[i + 1][j])\n                } else {\n                    firstMatch && dp[i + 1][j + 1]\n                }\n            }\n        }\n        return dp[0][0]\n    }\n}\n```","source":"_posts/REMatch.md","raw":"title:  Regular Expression Matching\ndate: 2020-4-4\ntags: [Leetcode,动态规划,回溯]\ncategories: algorithm\n\ndescription: .和*的正则匹配\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/regular-expression-matching/\n\n## Solution\n\n### 回溯法\n\n首先判断首字母是否相等为 firstMatch, 遇到.时默认为匹配\n\n如果有 \\* 号 ，而模式串 p 只有两个的话，那么 \\*号应该是在 p[1].\n\n对于*号的处理要么是不将前面的包含其中，要么是继续重复匹配。\n\n回溯法思路中，自己犯了一个思维惯性，因为 \\* 在正则中是贪婪匹配的，所以自己进行 dfs 时，直接按最长的来，导致了超时。在做题中，匹配串长度是固定的，我的目标是尽可能块地确认 模式串的与匹配串匹配。遇到 \\* 时应该先匹配不包含前面元素，再进行包含的遍历。\n\n题解在遍历时是从头至尾进行一一比较进行遍历。遍历过程不断去掉二者已匹配的部分，比较剩余部分直至二者刚好比较结束。则为匹配。我自己在做回溯时，采取的是传统的回溯策略，记录 start 值，通过回溯遍历出 模式串 p 的所有可能字符串与 s 比较，匹配成功则立刻返回。这样的问题是遍历 p 的可能性太耗时，比如遇到.必须遍历 26种可能，这样无疑很耗时。\n\n回溯法时间复杂度很长就对了。。。官方题解的数字也不知道怎么算出来的\n\n### 动态规划\n\n自己看了官方题解了解到这道题可以使用 dp 缩短时间复杂度为 $O(TP)$( *T* 和 *P* 分别表示匹配串和模式串的长度)。\n\n自己看的是自底向上的解法。\n\n这个方法就很骚了，我跟着画了图一步步才弄明白。\n\n![构造图](/images/rematch_1.png)\n\n盗张大佬的图分析下。\n\ndp 是一个 (s.length + 1) * (p.length + 1)二维数组，最后会解释这里length为啥要加一。dp[i]\\[j] = true 表示 s[i..s.length]与 p[j..p.length]相匹配。\n\n遇到 \\* 时， dp[i]\\[j] = dp[i]\\[j + 2] || firstMatch && dp[i + 1]\\[j] 前面优先看不包含的情况， || 后面表示 是重复当前字母的情况。 如果首字母相等，再判断 s[i + 1..s.length] == p[ j..p.length]，这里尤为烧脑 。\n\n不是 * 则直接 dp[i]\\[j] = firstMatch && dp[i + 1]\\[j + 1]. (s[i] = p[j] && s[i + 1..s.length] == p[j + 1..p.length])\n\n最后来解释下为啥dp 的 size 中需要 length + 1，首先我们需要一个初始化位dp[s.length]\\[p.length]默认表示为匹配。 此外初始遍历第 s.length行 是为了 \\* 中的 dp[i + 1]\\[j]  符号位传递。不从 s.length 行开始遍历结果是有误的。\n\n时间复杂度：$O(TP)$ （ *T* 和 *P* 分别表示匹配串和模式串的长度）\n\n空间复杂度：$O(TP)$\n\n## Code\n\n```kotl\n回溯\nclass Solution {\n  \t fun isMatch(s: String, p: String): Boolean {\n        if (p.isEmpty()) return s.isEmpty()\n        val firstMatch = s.isNotEmpty() && (s[0] == p[0] || p[0] == '.')\n        if (p.length >= 2 && p[1] == '*') {\n            return isMatch(s, p.substring(2)) || (firstMatch && isMatch(s.substring(1), p))\n        }\n        return firstMatch && isMatch(s.substring(1), p.substring(1))\n    }\n}\n```\n\n\n\n```java\ndp\nclass Solution {\n    fun isMatch(s: String, p: String): Boolean {\n        val dp = Array(s.length + 1) { Array(p.length + 1) { false } }\n        dp[s.length][p.length] = true\n        for (i in s.length downTo 0) {\n            for (j in p.length - 1 downTo 0) {\n                val firstMatch = i < s.length && (s[i] == p[j] || p[j] == '.')\n                dp[i][j] = if (j + 1 < p.length && p[j + 1] == '*') {\n                    dp[i][j + 2] || (firstMatch && dp[i + 1][j])\n                } else {\n                    firstMatch && dp[i + 1][j + 1]\n                }\n            }\n        }\n        return dp[0][0]\n    }\n}\n```","slug":"REMatch","published":1,"updated":"2020-04-04T08:35:53.233Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzs005aqr3l7yv3saax"},{"title":"OKHttp责任链分析","date":"2018-03-22T16:00:00.000Z","description":"我有一个加工资的梦想","_content":"参考自[okHttp责任链解析](https://www.jianshu.com/p/fd4255be60d7)\n## 责任链概述\n> 责任链模式：由多个处理请求的对象，其中每一个对象都引用了其下家的对象，从而形成一条处理请求的链。当客户端的请求到达时，并不\n知道责任链上的哪一个对象处理了请求。这样的好处是：可以对客户端过来的请求做动态的处理。\n>- 1.纯责任链模式：当请求到达一个类时要么处理完，要么扔给下一个对象。Sample：事件分发\n>- 2.不纯的责任链模式：当请求到达时，该类处理一部分（可以配置一些参数，适配一下请求），然后扔给下一个。Sample：okhttp\n\n## OKHttp责任链\nOKHttp的责任链模式是一种不纯的责任链，即每一个拦截器都组装Reponse的一部分。\n\n1.Interceptor接口中的intercept方法是实际处理请求的方法，每一个实现该接口的对象负责配置Request的一部分。并返回Response。\n2.Chain接口负责执行intercept方法。并最终拿到intercept处理后的请求，绝大部分传递给intercept方法的Chain对象是RealInterceptorChain\n\n```java\npublic interface Interceptor {\n  Response intercept(Chain chain) throws IOException;\n\n  interface Chain {\n    Request request();\n\n    Response proceed(Request request) throws IOException;\n\n    Connection connection();\n  }\n}\n\n```\n1. proceed相当于责任链中的dispose方法，不过真正做实际工作的是它内部持有的interceptor对象的intercept方法。\n2. Chain的proceed方法持有intercept对象，通过interceptors.get(index),并且将索引+1生成下一个chain传递给intercept方法。而当intercept生成一部分响应后又会调用proceed(实际调用intercept方法)。从而形成责任链。\n从 getResponseWithInterceptorChain 开始分析\n### getResponseWithInterceptorChain\n```java\n  Response getResponseWithInterceptorChain() throws IOException {\n    // Build a full stack of interceptors.\n    List<Interceptor> interceptors = new ArrayList<>();\n    interceptors.addAll(client.interceptors());\n    interceptors.add(retryAndFollowUpInterceptor);\n    interceptors.add(new BridgeInterceptor(client.cookieJar()));\n    interceptors.add(new CacheInterceptor(client.internalCache()));\n    interceptors.add(new ConnectInterceptor(client));\n    if (!forWebSocket) {\n      interceptors.addAll(client.networkInterceptors());\n    }\n    interceptors.add(new CallServerInterceptor(forWebSocket));\n\n    Interceptor.Chain chain = new RealInterceptorChain(\n        interceptors, null, null, null, 0, originalRequest);//1\n    return chain.proceed(originalRequest);//2\n  }\n\n```\n1. 在OkHttp的RealCall类中的getReponseWithInterceptorChain方法，配置了多个拦截器，组装成一个任务链对象(将配置好的拦截器数组，索引第一次是0，和请求)生成一个RealIntecceptorChain\n2. 调用RealIntecceptorChain的proceed方法\n### proceed\n```java\n//RealIntecceptorChain\n  public Response proceed(Request request, StreamAllocation streamAllocation, HttpCodec httpCodec,\n      Connection connection) throws IOException {\n   \n    // Call the next interceptor in the chain.\n    RealInterceptorChain next = new RealInterceptorChain(\n        interceptors, streamAllocation, httpCodec, connection, index + 1, request);// 1\n    Interceptor interceptor = interceptors.get(index);// 2\n    Response response = interceptor.intercept(next);// 3\n ....\n    return response;\n  }\n\n```\n1.根据传进来的拦截器数组interceptors对象，和索引index构建一个新的拦截链---next对象。即每一个interceptor都会持有一个索引+1的任务链 RealInterceptorChain\n2.从拦截器数组interceptors对象中根据索引获取拦截对象。并传入下一个任务链\n3.调用拦截方法\n\n开始拦截时，传入的索引是0，如果没有传入任何的interceptor类，那么将执行 RetryAndFollowUpInterceptor，调用的就是该类的intercept方法。查看代码。该类内部有两处也调用了chain.proceed方法。这个chain对象的持有的索引是(当前是0)index+1。调用它的proceed方法会执行集合中index=1的interceptor对象。\n\n### RetryAndFollowUpInterceptor\n```java\n// RetryAndFollowUpInterceptor\n  @Override public Response intercept(Chain chain) throws IOException {\n    Request request = chain.request();\n\n    streamAllocation = new StreamAllocation(\n        client.connectionPool(), createAddress(request.url()), callStackTrace);// 1\n\n    int followUpCount = 0;\n    Response priorResponse = null;\n    while (true) {\n\n      Response response = null;\n      boolean releaseConnection = true;\n      try {\n        response = ((RealInterceptorChain) chain).proceed(request, streamAllocation, null, null); // 2\n        releaseConnection = false;\n      } \n\t  ...\n        return response;// 3\n      }\n```\n1. 配置request的失败重试以及重定向功能\n2. 调用剩下的拦截链\n3. 返回response\n进入 BridgeInterceptor\n### BridgeInterceptor\n```java\n//BridgeInterceptor\n  @Override public Response intercept(Chain chain) throws IOException {\n    Request userRequest = chain.request();\n    Request.Builder requestBuilder = userRequest.newBuilder();\n\n    RequestBody body = userRequest.body();\n    if (body != null) {\n      MediaType contentType = body.contentType();\n      if (contentType != null) {\n        requestBuilder.header(\"Content-Type\", contentType.toString());\n      }\n\n      long contentLength = body.contentLength();\n      if (contentLength != -1) {\n        requestBuilder.header(\"Content-Length\", Long.toString(contentLength));\n        requestBuilder.removeHeader(\"Transfer-Encoding\");\n      } else {\n        requestBuilder.header(\"Transfer-Encoding\", \"chunked\");\n        requestBuilder.removeHeader(\"Content-Length\");\n      }\n    }\n\n    if (userRequest.header(\"Host\") == null) {\n      requestBuilder.header(\"Host\", hostHeader(userRequest.url(), false));\n    }\n\n    if (userRequest.header(\"Connection\") == null) {\n      requestBuilder.header(\"Connection\", \"Keep-Alive\");\n    }\n\n    // If we add an \"Accept-Encoding: gzip\" header field we're responsible for also decompressing\n    // the transfer stream.\n    boolean transparentGzip = false;\n    if (userRequest.header(\"Accept-Encoding\") == null && userRequest.header(\"Range\") == null) {\n      transparentGzip = true;\n      requestBuilder.header(\"Accept-Encoding\", \"gzip\");\n    }\n\n    List<Cookie> cookies = cookieJar.loadForRequest(userRequest.url());\n    if (!cookies.isEmpty()) {\n      requestBuilder.header(\"Cookie\", cookieHeader(cookies));\n    }\n\n    if (userRequest.header(\"User-Agent\") == null) {\n      requestBuilder.header(\"User-Agent\", Version.userAgent());\n    }\n// 1\n    Response networkResponse = chain.proceed(requestBuilder.build());//2\n\n    HttpHeaders.receiveHeaders(cookieJar, userRequest.url(), networkResponse.headers());\n\n    Response.Builder responseBuilder = networkResponse.newBuilder()\n        .request(userRequest);\n\n    if (transparentGzip\n        && \"gzip\".equalsIgnoreCase(networkResponse.header(\"Content-Encoding\"))\n        && HttpHeaders.hasBody(networkResponse)) {\n      GzipSource responseBody = new GzipSource(networkResponse.body().source());\n      Headers strippedHeaders = networkResponse.headers().newBuilder()\n          .removeAll(\"Content-Encoding\")\n          .removeAll(\"Content-Length\")\n          .build();\n      responseBuilder.headers(strippedHeaders);\n      responseBuilder.body(new RealResponseBody(strippedHeaders, Okio.buffer(responseBody)));\n    }\n\n    return responseBuilder.build();// 3\n  }\n```\n1. 负责把用户构造的请求转换为发送到服务器的请求\n2. 调用剩余的拦截链处理请求\n3. 把服务器返回的Response转换为用户友好的Response返回\n\n依次类推，直到集合中的所有拦截器的interceptor方法全部调用完毕，流程是procced---interceptor---procced---interceptor---procced----interceptor---interceptor方法。完成整个任务链。\n## 加工资\n比如加工资审批场景\n\n```java\n\npublic interface Interceptor {\n    public void intercept(Chain chain);\n\n    interface Chain {\n        public void proceed(int salary, String name);\n    }\n}\n\n```\n```java\n//hr拦截审批\nclass StaffInterceptor implements Interceptor {\n    @Override\n    public void intercept(Chain chain) {\n        String user = ((RealInterceptorChain)chain).getUser();\n        int salary = ((RealInterceptorChain)chain).getSalary() + 300;\n\n        System.out.println(user + \" Hr审核通过 : \" + salary);\n\n        chain.proceed(salary, user);\n    }\n}\n//经理拦截审批\nclass ManagerInterceptor implements Interceptor {\n    @Override\n    public void intercept(Chain chain) {\n        String user = ((RealInterceptorChain)chain).getUser();\n        int salary = ((RealInterceptorChain)chain).getSalary() + 300;\n\n        System.out.println(user  + \" Manager审核通过 : \" + salary);\n\n        chain.proceed(salary, user);\n    }\n}\n```\n\n```java\n//拦截链\nclass RealInterceptorChain implements Interceptor.Chain {\n\n    private List<Interceptor> mInterceptors;\n    private int mIndex;\n    private String mUser;\n    private int mSalary;\n\n    public RealInterceptorChain(List<Interceptor> interceptors, int index) {\n        mInterceptors = interceptors;\n        mIndex = index;\n    }\n\n\n    @Override\n    public void proceed(int salary, String user) {\n        this.mSalary = salary;\n        this.mUser = user;\n        if (mIndex >= mInterceptors.size()) {\n            return;\n        }\n        RealInterceptorChain nextChain = this;\n\n\n        Interceptor interceptor = nextChain.mInterceptors.get(mIndex);\n\n        nextChain.setIndex(mIndex + 1);\n        interceptor.intercept(nextChain);\n\n    }\n\n\n    public String getUser() {\n        return mUser;\n    }\n\n    public int getSalary() {\n        return mSalary;\n    }\n\n    public void setIndex(int index) {\n        mIndex = index;\n    }\n\n    public static void main(String[] args) {\n        List<Interceptor> interceptors = new ArrayList<>();\n        interceptors.add(new StaffInterceptor());\n        interceptors.add(new ManagerInterceptor());\n\n        RealInterceptorChain chain = new RealInterceptorChain(interceptors, 0);\n\n        chain.proceed(6000, \"night\");\n    }\n}\n```\n","source":"_posts/OKHttp责任链分析.md","raw":"title: OKHttp责任链分析\ndate: 2018-3-23\ntags: [Android]\ncategories: 源码解析\ndescription: 我有一个加工资的梦想\n---\n参考自[okHttp责任链解析](https://www.jianshu.com/p/fd4255be60d7)\n## 责任链概述\n> 责任链模式：由多个处理请求的对象，其中每一个对象都引用了其下家的对象，从而形成一条处理请求的链。当客户端的请求到达时，并不\n知道责任链上的哪一个对象处理了请求。这样的好处是：可以对客户端过来的请求做动态的处理。\n>- 1.纯责任链模式：当请求到达一个类时要么处理完，要么扔给下一个对象。Sample：事件分发\n>- 2.不纯的责任链模式：当请求到达时，该类处理一部分（可以配置一些参数，适配一下请求），然后扔给下一个。Sample：okhttp\n\n## OKHttp责任链\nOKHttp的责任链模式是一种不纯的责任链，即每一个拦截器都组装Reponse的一部分。\n\n1.Interceptor接口中的intercept方法是实际处理请求的方法，每一个实现该接口的对象负责配置Request的一部分。并返回Response。\n2.Chain接口负责执行intercept方法。并最终拿到intercept处理后的请求，绝大部分传递给intercept方法的Chain对象是RealInterceptorChain\n\n```java\npublic interface Interceptor {\n  Response intercept(Chain chain) throws IOException;\n\n  interface Chain {\n    Request request();\n\n    Response proceed(Request request) throws IOException;\n\n    Connection connection();\n  }\n}\n\n```\n1. proceed相当于责任链中的dispose方法，不过真正做实际工作的是它内部持有的interceptor对象的intercept方法。\n2. Chain的proceed方法持有intercept对象，通过interceptors.get(index),并且将索引+1生成下一个chain传递给intercept方法。而当intercept生成一部分响应后又会调用proceed(实际调用intercept方法)。从而形成责任链。\n从 getResponseWithInterceptorChain 开始分析\n### getResponseWithInterceptorChain\n```java\n  Response getResponseWithInterceptorChain() throws IOException {\n    // Build a full stack of interceptors.\n    List<Interceptor> interceptors = new ArrayList<>();\n    interceptors.addAll(client.interceptors());\n    interceptors.add(retryAndFollowUpInterceptor);\n    interceptors.add(new BridgeInterceptor(client.cookieJar()));\n    interceptors.add(new CacheInterceptor(client.internalCache()));\n    interceptors.add(new ConnectInterceptor(client));\n    if (!forWebSocket) {\n      interceptors.addAll(client.networkInterceptors());\n    }\n    interceptors.add(new CallServerInterceptor(forWebSocket));\n\n    Interceptor.Chain chain = new RealInterceptorChain(\n        interceptors, null, null, null, 0, originalRequest);//1\n    return chain.proceed(originalRequest);//2\n  }\n\n```\n1. 在OkHttp的RealCall类中的getReponseWithInterceptorChain方法，配置了多个拦截器，组装成一个任务链对象(将配置好的拦截器数组，索引第一次是0，和请求)生成一个RealIntecceptorChain\n2. 调用RealIntecceptorChain的proceed方法\n### proceed\n```java\n//RealIntecceptorChain\n  public Response proceed(Request request, StreamAllocation streamAllocation, HttpCodec httpCodec,\n      Connection connection) throws IOException {\n   \n    // Call the next interceptor in the chain.\n    RealInterceptorChain next = new RealInterceptorChain(\n        interceptors, streamAllocation, httpCodec, connection, index + 1, request);// 1\n    Interceptor interceptor = interceptors.get(index);// 2\n    Response response = interceptor.intercept(next);// 3\n ....\n    return response;\n  }\n\n```\n1.根据传进来的拦截器数组interceptors对象，和索引index构建一个新的拦截链---next对象。即每一个interceptor都会持有一个索引+1的任务链 RealInterceptorChain\n2.从拦截器数组interceptors对象中根据索引获取拦截对象。并传入下一个任务链\n3.调用拦截方法\n\n开始拦截时，传入的索引是0，如果没有传入任何的interceptor类，那么将执行 RetryAndFollowUpInterceptor，调用的就是该类的intercept方法。查看代码。该类内部有两处也调用了chain.proceed方法。这个chain对象的持有的索引是(当前是0)index+1。调用它的proceed方法会执行集合中index=1的interceptor对象。\n\n### RetryAndFollowUpInterceptor\n```java\n// RetryAndFollowUpInterceptor\n  @Override public Response intercept(Chain chain) throws IOException {\n    Request request = chain.request();\n\n    streamAllocation = new StreamAllocation(\n        client.connectionPool(), createAddress(request.url()), callStackTrace);// 1\n\n    int followUpCount = 0;\n    Response priorResponse = null;\n    while (true) {\n\n      Response response = null;\n      boolean releaseConnection = true;\n      try {\n        response = ((RealInterceptorChain) chain).proceed(request, streamAllocation, null, null); // 2\n        releaseConnection = false;\n      } \n\t  ...\n        return response;// 3\n      }\n```\n1. 配置request的失败重试以及重定向功能\n2. 调用剩下的拦截链\n3. 返回response\n进入 BridgeInterceptor\n### BridgeInterceptor\n```java\n//BridgeInterceptor\n  @Override public Response intercept(Chain chain) throws IOException {\n    Request userRequest = chain.request();\n    Request.Builder requestBuilder = userRequest.newBuilder();\n\n    RequestBody body = userRequest.body();\n    if (body != null) {\n      MediaType contentType = body.contentType();\n      if (contentType != null) {\n        requestBuilder.header(\"Content-Type\", contentType.toString());\n      }\n\n      long contentLength = body.contentLength();\n      if (contentLength != -1) {\n        requestBuilder.header(\"Content-Length\", Long.toString(contentLength));\n        requestBuilder.removeHeader(\"Transfer-Encoding\");\n      } else {\n        requestBuilder.header(\"Transfer-Encoding\", \"chunked\");\n        requestBuilder.removeHeader(\"Content-Length\");\n      }\n    }\n\n    if (userRequest.header(\"Host\") == null) {\n      requestBuilder.header(\"Host\", hostHeader(userRequest.url(), false));\n    }\n\n    if (userRequest.header(\"Connection\") == null) {\n      requestBuilder.header(\"Connection\", \"Keep-Alive\");\n    }\n\n    // If we add an \"Accept-Encoding: gzip\" header field we're responsible for also decompressing\n    // the transfer stream.\n    boolean transparentGzip = false;\n    if (userRequest.header(\"Accept-Encoding\") == null && userRequest.header(\"Range\") == null) {\n      transparentGzip = true;\n      requestBuilder.header(\"Accept-Encoding\", \"gzip\");\n    }\n\n    List<Cookie> cookies = cookieJar.loadForRequest(userRequest.url());\n    if (!cookies.isEmpty()) {\n      requestBuilder.header(\"Cookie\", cookieHeader(cookies));\n    }\n\n    if (userRequest.header(\"User-Agent\") == null) {\n      requestBuilder.header(\"User-Agent\", Version.userAgent());\n    }\n// 1\n    Response networkResponse = chain.proceed(requestBuilder.build());//2\n\n    HttpHeaders.receiveHeaders(cookieJar, userRequest.url(), networkResponse.headers());\n\n    Response.Builder responseBuilder = networkResponse.newBuilder()\n        .request(userRequest);\n\n    if (transparentGzip\n        && \"gzip\".equalsIgnoreCase(networkResponse.header(\"Content-Encoding\"))\n        && HttpHeaders.hasBody(networkResponse)) {\n      GzipSource responseBody = new GzipSource(networkResponse.body().source());\n      Headers strippedHeaders = networkResponse.headers().newBuilder()\n          .removeAll(\"Content-Encoding\")\n          .removeAll(\"Content-Length\")\n          .build();\n      responseBuilder.headers(strippedHeaders);\n      responseBuilder.body(new RealResponseBody(strippedHeaders, Okio.buffer(responseBody)));\n    }\n\n    return responseBuilder.build();// 3\n  }\n```\n1. 负责把用户构造的请求转换为发送到服务器的请求\n2. 调用剩余的拦截链处理请求\n3. 把服务器返回的Response转换为用户友好的Response返回\n\n依次类推，直到集合中的所有拦截器的interceptor方法全部调用完毕，流程是procced---interceptor---procced---interceptor---procced----interceptor---interceptor方法。完成整个任务链。\n## 加工资\n比如加工资审批场景\n\n```java\n\npublic interface Interceptor {\n    public void intercept(Chain chain);\n\n    interface Chain {\n        public void proceed(int salary, String name);\n    }\n}\n\n```\n```java\n//hr拦截审批\nclass StaffInterceptor implements Interceptor {\n    @Override\n    public void intercept(Chain chain) {\n        String user = ((RealInterceptorChain)chain).getUser();\n        int salary = ((RealInterceptorChain)chain).getSalary() + 300;\n\n        System.out.println(user + \" Hr审核通过 : \" + salary);\n\n        chain.proceed(salary, user);\n    }\n}\n//经理拦截审批\nclass ManagerInterceptor implements Interceptor {\n    @Override\n    public void intercept(Chain chain) {\n        String user = ((RealInterceptorChain)chain).getUser();\n        int salary = ((RealInterceptorChain)chain).getSalary() + 300;\n\n        System.out.println(user  + \" Manager审核通过 : \" + salary);\n\n        chain.proceed(salary, user);\n    }\n}\n```\n\n```java\n//拦截链\nclass RealInterceptorChain implements Interceptor.Chain {\n\n    private List<Interceptor> mInterceptors;\n    private int mIndex;\n    private String mUser;\n    private int mSalary;\n\n    public RealInterceptorChain(List<Interceptor> interceptors, int index) {\n        mInterceptors = interceptors;\n        mIndex = index;\n    }\n\n\n    @Override\n    public void proceed(int salary, String user) {\n        this.mSalary = salary;\n        this.mUser = user;\n        if (mIndex >= mInterceptors.size()) {\n            return;\n        }\n        RealInterceptorChain nextChain = this;\n\n\n        Interceptor interceptor = nextChain.mInterceptors.get(mIndex);\n\n        nextChain.setIndex(mIndex + 1);\n        interceptor.intercept(nextChain);\n\n    }\n\n\n    public String getUser() {\n        return mUser;\n    }\n\n    public int getSalary() {\n        return mSalary;\n    }\n\n    public void setIndex(int index) {\n        mIndex = index;\n    }\n\n    public static void main(String[] args) {\n        List<Interceptor> interceptors = new ArrayList<>();\n        interceptors.add(new StaffInterceptor());\n        interceptors.add(new ManagerInterceptor());\n\n        RealInterceptorChain chain = new RealInterceptorChain(interceptors, 0);\n\n        chain.proceed(6000, \"night\");\n    }\n}\n```\n","slug":"OKHttp责任链分析","published":1,"updated":"2020-02-13T07:16:09.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzt005dqr3lvwvacckj"},{"title":"Otto源码剖析","date":"2019-02-25T16:00:00.000Z","description":"　　","_content":"## 有意思的单例\n```java\npublic enum LovelyBus {\n\n  INSTANCE; // 优雅的单例\n\n  private Bus mBus;\n\n  LovelyBus() {\n\n    mBus = new Bus();\n  }\n\n  public void register(Object object) {\n\n    mBus.register(object);\n  }\n\n  public void unregister(Object object) {\n\n    mBus.unregister(object);\n  }\n\n  public void post(Object event) {\n\n    mBus.post(event);\n  }\n\n}\n\n```\n## Bus的构造函数\n```java\n  public Bus() {\n    this(DEFAULT_IDENTIFIER);\n  }\n\n  public Bus(String identifier) {\n    this(ThreadEnforcer.MAIN, identifier);\n  }\n\n  public Bus(ThreadEnforcer enforcer) {\n    this(enforcer, DEFAULT_IDENTIFIER);\n  }\n\n  public Bus(ThreadEnforcer enforcer, String identifier) {\n    this(enforcer, identifier, HandlerFinder.ANNOTATED);\n  }\n  \n  Bus(ThreadEnforcer enforcer, String identifier, HandlerFinder handlerFinder) {\n    this.enforcer =  enforcer;\n    this.identifier = identifier;\n    this.handlerFinder = handlerFinder;\n  }\n```\nThreadEnforcer.MAIN表示默认在主线程调度事件。handlerFinder(HandlerFinder.ANNOTATED)则是查找订阅者和订阅者。\n\n## register\n```java\n  public void register(Object object) {\n    if (object == null) {\n      throw new NullPointerException(\"Object to register must not be null.\");\n    }\n    enforcer.enforce(this);\n\n    Map<Class<?>, EventProducer> foundProducers = handlerFinder.findAllProducers(object);\n```\n获取这个被注册对象的所有生产者方法，可以对应于多个事件的生产者方法。一个被注册对象，同一个事件只能注册一个生产者方法。如@Produce注解的方法只能有一个参数为String的方法。再看接下来的register方法\n\n```java\n//key是事件的class对象\n    Map<Class<?>, EventProducer> foundProducers = handlerFinder.findAllProducers(object);\n    for (Class<?> type : foundProducers.keySet()) {\n          \n     //下面几行代码用来检查，事件是否已经注册过了，一个类一个事件只能注册一次\n      final EventProducer producer = foundProducers.get(type);\n      EventProducer previousProducer = producersByType.putIfAbsent(type, producer);\n      //checking if the previous producer existed\n      if (previousProducer != null) {\n        throw new IllegalArgumentException(\"Producer method for type \" + type\n          + \" found on type \" + producer.target.getClass()\n          + \", but already registered by type \" + previousProducer.target.getClass() + \".\");\n      }\n      //检查一下注册这个事件的订阅者是否存在，存在就回调一下订阅者\n      Set<EventHandler> handlers = handlersByType.get(type);\n      if (handlers != null && !handlers.isEmpty()) {\n        for (EventHandler handler : handlers) {\n          dispatchProducerResultToHandler(handler, producer);\n        }\n      }\n    }\n```\ndispatchProducerResultToHandler(handler, producer);\n具体实现就是通过反射去调用producer生产出事件，把事件传递给handler，再通过反射回调注册的方法。\n```java\n    Map<Class<?>, Set<EventHandler>> foundHandlersMap = handlerFinder.findAllSubscribers(object);\n    for (Class<?> type : foundHandlersMap.keySet()) {\n\t////type是事件的class对象\n      Set<EventHandler> handlers = handlersByType.get(type);\n      if (handlers == null) {\n        //concurrent put if absent\n        Set<EventHandler> handlersCreation = new CopyOnWriteArraySet<EventHandler>();\n        handlers = handlersByType.putIfAbsent(type, handlersCreation);\n        if (handlers == null) {\n            handlers = handlersCreation;\n        }\n      }\n      final Set<EventHandler> foundHandlers = foundHandlersMap.get(type);\n      if (!handlers.addAll(foundHandlers)) {\n        throw new IllegalArgumentException(\"Object already registered.\");\n      }\n    }\n\n    for (Map.Entry<Class<?>, Set<EventHandler>> entry : foundHandlersMap.entrySet()) {\n      Class<?> type = entry.getKey();\n      EventProducer producer = producersByType.get(type);\n      if (producer != null && producer.isValid()) {\n        Set<EventHandler> foundHandlers = entry.getValue();\n        for (EventHandler foundHandler : foundHandlers) {\n          if (!producer.isValid()) {\n            break;\n          }\n          if (foundHandler.isValid()) {\n            dispatchProducerResultToHandler(foundHandler, producer);\n          }\n        }\n      }\n    }\n```\n获取所有订阅者，如果有与订阅者对应的发布者，则触发对应的订阅者处理事件。\n## post\n```java\npublic void post(Object event) {\n    if (event == null) {\n      throw new NullPointerException(\"Event to post must not be null.\");\n    }\n    enforcer.enforce(this);\n//返回这个event的所有继承关系链的所有class对象（父类class对象和自己）\n    Set<Class<?>> dispatchTypes = flattenHierarchy(event.getClass());\n\n    boolean dispatched = false;\n\t//遍历集合对even的所有类的相关注册方法加入队列\n    for (Class<?> eventType : dispatchTypes) {\n      Set<EventHandler> wrappers = getHandlersForEventType(eventType);\n\n      if (wrappers != null && !wrappers.isEmpty()) {\n        dispatched = true;\n        for (EventHandler wrapper : wrappers) {\n\t\t //把需要回调处理的订阅者方法的包装类塞进当前线程处理的队列中去。queue是一个ThreadLocal对象\n          enqueueEvent(event, wrapper);\n        }\n      }\n    }\n\n    if (!dispatched && !(event instanceof DeadEvent)) {\n      post(new DeadEvent(this, event));\n    }\n//取出队列中的对象执行订阅者方法\n    dispatchQueuedEvents();\n  }\n```\n## unregister\n```java\npublic void unregister(Object object) {\n    if (object == null) {\n      throw new NullPointerException(\"Object to unregister must not be null.\");\n    }\n    enforcer.enforce(this);\n//发布者取消注册\n    Map<Class<?>, EventProducer> producersInListener = handlerFinder.findAllProducers(object);\n    for (Map.Entry<Class<?>, EventProducer> entry : producersInListener.entrySet()) {\n      final Class<?> key = entry.getKey();\n      EventProducer producer = getProducerForEventType(key);\n      EventProducer value = entry.getValue();\n\n      if (value == null || !value.equals(producer)) {\n        throw new IllegalArgumentException(\n            \"Missing event producer for an annotated method. Is \" + object.getClass()\n                + \" registered?\");\n      }\n      producersByType.remove(key).invalidate();\n    }\n//订阅者取消注册\n    Map<Class<?>, Set<EventHandler>> handlersInListener = handlerFinder.findAllSubscribers(object);\n    for (Map.Entry<Class<?>, Set<EventHandler>> entry : handlersInListener.entrySet()) {\n      Set<EventHandler> currentHandlers = getHandlersForEventType(entry.getKey());\n      Collection<EventHandler> eventMethodsInListener = entry.getValue();\n\n      if (currentHandlers == null || !currentHandlers.containsAll(eventMethodsInListener)) {\n        throw new IllegalArgumentException(\n            \"Missing event handler for an annotated method. Is \" + object.getClass()\n                + \" registered?\");\n      }\n\n      for (EventHandler handler : currentHandlers) {\n        if (eventMethodsInListener.contains(handler)) {\n          handler.invalidate();\n        }\n      }\n      currentHandlers.removeAll(eventMethodsInListener);\n    }\n  }\n```\n","source":"_posts/Otto源码剖析.md","raw":"title: Otto源码剖析\ndate: 2019-2-26\ntags: [Android,事件总线,源码解析]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n## 有意思的单例\n```java\npublic enum LovelyBus {\n\n  INSTANCE; // 优雅的单例\n\n  private Bus mBus;\n\n  LovelyBus() {\n\n    mBus = new Bus();\n  }\n\n  public void register(Object object) {\n\n    mBus.register(object);\n  }\n\n  public void unregister(Object object) {\n\n    mBus.unregister(object);\n  }\n\n  public void post(Object event) {\n\n    mBus.post(event);\n  }\n\n}\n\n```\n## Bus的构造函数\n```java\n  public Bus() {\n    this(DEFAULT_IDENTIFIER);\n  }\n\n  public Bus(String identifier) {\n    this(ThreadEnforcer.MAIN, identifier);\n  }\n\n  public Bus(ThreadEnforcer enforcer) {\n    this(enforcer, DEFAULT_IDENTIFIER);\n  }\n\n  public Bus(ThreadEnforcer enforcer, String identifier) {\n    this(enforcer, identifier, HandlerFinder.ANNOTATED);\n  }\n  \n  Bus(ThreadEnforcer enforcer, String identifier, HandlerFinder handlerFinder) {\n    this.enforcer =  enforcer;\n    this.identifier = identifier;\n    this.handlerFinder = handlerFinder;\n  }\n```\nThreadEnforcer.MAIN表示默认在主线程调度事件。handlerFinder(HandlerFinder.ANNOTATED)则是查找订阅者和订阅者。\n\n## register\n```java\n  public void register(Object object) {\n    if (object == null) {\n      throw new NullPointerException(\"Object to register must not be null.\");\n    }\n    enforcer.enforce(this);\n\n    Map<Class<?>, EventProducer> foundProducers = handlerFinder.findAllProducers(object);\n```\n获取这个被注册对象的所有生产者方法，可以对应于多个事件的生产者方法。一个被注册对象，同一个事件只能注册一个生产者方法。如@Produce注解的方法只能有一个参数为String的方法。再看接下来的register方法\n\n```java\n//key是事件的class对象\n    Map<Class<?>, EventProducer> foundProducers = handlerFinder.findAllProducers(object);\n    for (Class<?> type : foundProducers.keySet()) {\n          \n     //下面几行代码用来检查，事件是否已经注册过了，一个类一个事件只能注册一次\n      final EventProducer producer = foundProducers.get(type);\n      EventProducer previousProducer = producersByType.putIfAbsent(type, producer);\n      //checking if the previous producer existed\n      if (previousProducer != null) {\n        throw new IllegalArgumentException(\"Producer method for type \" + type\n          + \" found on type \" + producer.target.getClass()\n          + \", but already registered by type \" + previousProducer.target.getClass() + \".\");\n      }\n      //检查一下注册这个事件的订阅者是否存在，存在就回调一下订阅者\n      Set<EventHandler> handlers = handlersByType.get(type);\n      if (handlers != null && !handlers.isEmpty()) {\n        for (EventHandler handler : handlers) {\n          dispatchProducerResultToHandler(handler, producer);\n        }\n      }\n    }\n```\ndispatchProducerResultToHandler(handler, producer);\n具体实现就是通过反射去调用producer生产出事件，把事件传递给handler，再通过反射回调注册的方法。\n```java\n    Map<Class<?>, Set<EventHandler>> foundHandlersMap = handlerFinder.findAllSubscribers(object);\n    for (Class<?> type : foundHandlersMap.keySet()) {\n\t////type是事件的class对象\n      Set<EventHandler> handlers = handlersByType.get(type);\n      if (handlers == null) {\n        //concurrent put if absent\n        Set<EventHandler> handlersCreation = new CopyOnWriteArraySet<EventHandler>();\n        handlers = handlersByType.putIfAbsent(type, handlersCreation);\n        if (handlers == null) {\n            handlers = handlersCreation;\n        }\n      }\n      final Set<EventHandler> foundHandlers = foundHandlersMap.get(type);\n      if (!handlers.addAll(foundHandlers)) {\n        throw new IllegalArgumentException(\"Object already registered.\");\n      }\n    }\n\n    for (Map.Entry<Class<?>, Set<EventHandler>> entry : foundHandlersMap.entrySet()) {\n      Class<?> type = entry.getKey();\n      EventProducer producer = producersByType.get(type);\n      if (producer != null && producer.isValid()) {\n        Set<EventHandler> foundHandlers = entry.getValue();\n        for (EventHandler foundHandler : foundHandlers) {\n          if (!producer.isValid()) {\n            break;\n          }\n          if (foundHandler.isValid()) {\n            dispatchProducerResultToHandler(foundHandler, producer);\n          }\n        }\n      }\n    }\n```\n获取所有订阅者，如果有与订阅者对应的发布者，则触发对应的订阅者处理事件。\n## post\n```java\npublic void post(Object event) {\n    if (event == null) {\n      throw new NullPointerException(\"Event to post must not be null.\");\n    }\n    enforcer.enforce(this);\n//返回这个event的所有继承关系链的所有class对象（父类class对象和自己）\n    Set<Class<?>> dispatchTypes = flattenHierarchy(event.getClass());\n\n    boolean dispatched = false;\n\t//遍历集合对even的所有类的相关注册方法加入队列\n    for (Class<?> eventType : dispatchTypes) {\n      Set<EventHandler> wrappers = getHandlersForEventType(eventType);\n\n      if (wrappers != null && !wrappers.isEmpty()) {\n        dispatched = true;\n        for (EventHandler wrapper : wrappers) {\n\t\t //把需要回调处理的订阅者方法的包装类塞进当前线程处理的队列中去。queue是一个ThreadLocal对象\n          enqueueEvent(event, wrapper);\n        }\n      }\n    }\n\n    if (!dispatched && !(event instanceof DeadEvent)) {\n      post(new DeadEvent(this, event));\n    }\n//取出队列中的对象执行订阅者方法\n    dispatchQueuedEvents();\n  }\n```\n## unregister\n```java\npublic void unregister(Object object) {\n    if (object == null) {\n      throw new NullPointerException(\"Object to unregister must not be null.\");\n    }\n    enforcer.enforce(this);\n//发布者取消注册\n    Map<Class<?>, EventProducer> producersInListener = handlerFinder.findAllProducers(object);\n    for (Map.Entry<Class<?>, EventProducer> entry : producersInListener.entrySet()) {\n      final Class<?> key = entry.getKey();\n      EventProducer producer = getProducerForEventType(key);\n      EventProducer value = entry.getValue();\n\n      if (value == null || !value.equals(producer)) {\n        throw new IllegalArgumentException(\n            \"Missing event producer for an annotated method. Is \" + object.getClass()\n                + \" registered?\");\n      }\n      producersByType.remove(key).invalidate();\n    }\n//订阅者取消注册\n    Map<Class<?>, Set<EventHandler>> handlersInListener = handlerFinder.findAllSubscribers(object);\n    for (Map.Entry<Class<?>, Set<EventHandler>> entry : handlersInListener.entrySet()) {\n      Set<EventHandler> currentHandlers = getHandlersForEventType(entry.getKey());\n      Collection<EventHandler> eventMethodsInListener = entry.getValue();\n\n      if (currentHandlers == null || !currentHandlers.containsAll(eventMethodsInListener)) {\n        throw new IllegalArgumentException(\n            \"Missing event handler for an annotated method. Is \" + object.getClass()\n                + \" registered?\");\n      }\n\n      for (EventHandler handler : currentHandlers) {\n        if (eventMethodsInListener.contains(handler)) {\n          handler.invalidate();\n        }\n      }\n      currentHandlers.removeAll(eventMethodsInListener);\n    }\n  }\n```\n","slug":"Otto源码剖析","published":1,"updated":"2020-02-13T07:16:09.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzt005gqr3ld3cmpy8l"},{"title":"Maximum XOR of Two Numbers in an Array","date":"2020-02-08T16:00:00.000Z","description":"　　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/\n\n\n## Solution\n\n参考题解\n\nhttps://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/solution/li-yong-yi-huo-yun-suan-de-xing-zhi-tan-xin-suan-f/\n\n1. 如果 a ^ b = c, a ^ c = b, b ^ c = a，用来检测最大前缀是否正确，假设前面 n - 1位已知，假设第 n 位为 1令其为 temp。那么这个 temp 是否真的是最大的前缀呢？通过前面的公式进行测试。如果 t 是正确的最大前缀，那么 temp  ^ set 内的前缀 = set 内的前缀。也就是说 temp ^ set 内的数字 的结果必然在 set 内存在。因为 a (set 内元素) ^ b（set内元素） = C（最大前缀），那最大前缀 C ^ a (set 内元素) = b (set 内元素)\n2. 找到最大的值，尽可能找到二进制最高的位（贪心思想）\n3. 通过位掩码 找到 前缀，mask & a = 从a 中取出 mask 中的标志位\n\n## Code\n\n```java\nclass Solution {\n    fun findMaximumXOR(nums: IntArray): Int {\n        var mask = 0\n        var res = 0\n        for (i in 31 downTo 0) { //贪心思想，优先找到二进制中最高的位，再依次定下依次低位\n            mask = mask or (1 shl i)\n            val set = HashSet<Int>()\n            for (num in nums) {\n                set.add(num and mask) //取出各数中对应 mask 的标志位\n            }\n            val t = res or (1 shl i)\n            for (prefix in set) {\n                if (set.contains(prefix xor t)) { //判断set内是否存在异或结果\n                    res = t\n                }\n            }\n        }\n        return res\n    }\n}\n```","source":"_posts/MAX_XOR.md","raw":"title:  Maximum XOR of Two Numbers in an Array\ndate: 2020-2-9\ntags: [Leetcode,贪心]\ncategories: algorithm\n\ndescription: 　　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/\n\n\n## Solution\n\n参考题解\n\nhttps://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/solution/li-yong-yi-huo-yun-suan-de-xing-zhi-tan-xin-suan-f/\n\n1. 如果 a ^ b = c, a ^ c = b, b ^ c = a，用来检测最大前缀是否正确，假设前面 n - 1位已知，假设第 n 位为 1令其为 temp。那么这个 temp 是否真的是最大的前缀呢？通过前面的公式进行测试。如果 t 是正确的最大前缀，那么 temp  ^ set 内的前缀 = set 内的前缀。也就是说 temp ^ set 内的数字 的结果必然在 set 内存在。因为 a (set 内元素) ^ b（set内元素） = C（最大前缀），那最大前缀 C ^ a (set 内元素) = b (set 内元素)\n2. 找到最大的值，尽可能找到二进制最高的位（贪心思想）\n3. 通过位掩码 找到 前缀，mask & a = 从a 中取出 mask 中的标志位\n\n## Code\n\n```java\nclass Solution {\n    fun findMaximumXOR(nums: IntArray): Int {\n        var mask = 0\n        var res = 0\n        for (i in 31 downTo 0) { //贪心思想，优先找到二进制中最高的位，再依次定下依次低位\n            mask = mask or (1 shl i)\n            val set = HashSet<Int>()\n            for (num in nums) {\n                set.add(num and mask) //取出各数中对应 mask 的标志位\n            }\n            val t = res or (1 shl i)\n            for (prefix in set) {\n                if (set.contains(prefix xor t)) { //判断set内是否存在异或结果\n                    res = t\n                }\n            }\n        }\n        return res\n    }\n}\n```","slug":"MAX_XOR","published":1,"updated":"2020-02-11T02:59:07.684Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzu005kqr3l5sb8s0dc"},{"title":"串联字符串的最大长度","date":"2020-02-09T16:00:00.000Z","description":"dfs + 位压缩","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/solution/jian-ji-de-chui-su-yi-dong-by-huwt/\n\n对于的数组中每一个字符串A，\n\n1. 如果当前字符串加上串 A 没有重复字符\n   1. 有两种可能添加或者不添加，我们只需比较添加该数的结果以及未添加结果的长度的最大值即可得到最终结果。类似二叉树的 dfs，\n2. 如果当前字符串加上串 A 有重复字符，应该直接跳过串 A\n\n位压缩： 指的用若干位数字 N 记录数字，字符等的存在状态，如果 1 << x 位（x 为整数）& N 不为零，表示 x 处的字符存在.如 26 位表示字母是否存在。1 << 0 表示第一个字符 ‘a’.  如果 1 << 0 & N 不为零，表示有 a 这个字符。参考https://blog.csdn.net/Geecky/article/details/52211373\n\n## Code\n\n```java\nimport kotlin.math.max\n\nclass Solution {\n       private var t: Int = 0\n    fun maxLength(arr: List<String>): Int {\n        return dfs(arr, 0, 0)\n    }\n\n    private fun dfs(arr: List<String>, childIndex: Int, m: Int): Int { //用来存储当前结果小写字母出现的次数，只用了 26 位记录\n        if (childIndex == arr.size) { //dfs 到底了\n            return 0\n        }\n        t = m //t 用来存储 m 加上 str 中小写字母的次数\n        val str = arr[childIndex]\n        if (isUnique(str)) { //如果结果加上 str 没有重复字符\n            val addChild = str.length + dfs(arr, childIndex + 1, t) //添加 str 的长度，继续深搜\n            val noAddChild = dfs(arr, childIndex + 1, m) //跳过 str 继续深搜\n            return max(addChild, noAddChild) //比较二者长度\n        }\n        return dfs(arr, childIndex + 1, m) //结果加上 str 有重复，则结果为 跳过 str 继续深搜的长度\n    }\n\n    private fun isUnique(str: String): Boolean {\n        val length = str.length\n        for (i in 0 until length) {\n            if (t and (1 shl str[i] - 'a') != 0) { //如果有重复字符，直接返回\n                return false\n            }\n            t = t or (1 shl str[i] - 'a')\n        }\n        return true\n    }\n}\n```","source":"_posts/Max_Length_Concatenated_String_with_Unique_Characters.md","raw":"title:  串联字符串的最大长度\ndate: 2020-2-10\ntags: [Leetcode,DFS]\ncategories: algorithm\n\ndescription: dfs + 位压缩\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/maximum-length-of-a-concatenated-string-with-unique-characters/solution/jian-ji-de-chui-su-yi-dong-by-huwt/\n\n对于的数组中每一个字符串A，\n\n1. 如果当前字符串加上串 A 没有重复字符\n   1. 有两种可能添加或者不添加，我们只需比较添加该数的结果以及未添加结果的长度的最大值即可得到最终结果。类似二叉树的 dfs，\n2. 如果当前字符串加上串 A 有重复字符，应该直接跳过串 A\n\n位压缩： 指的用若干位数字 N 记录数字，字符等的存在状态，如果 1 << x 位（x 为整数）& N 不为零，表示 x 处的字符存在.如 26 位表示字母是否存在。1 << 0 表示第一个字符 ‘a’.  如果 1 << 0 & N 不为零，表示有 a 这个字符。参考https://blog.csdn.net/Geecky/article/details/52211373\n\n## Code\n\n```java\nimport kotlin.math.max\n\nclass Solution {\n       private var t: Int = 0\n    fun maxLength(arr: List<String>): Int {\n        return dfs(arr, 0, 0)\n    }\n\n    private fun dfs(arr: List<String>, childIndex: Int, m: Int): Int { //用来存储当前结果小写字母出现的次数，只用了 26 位记录\n        if (childIndex == arr.size) { //dfs 到底了\n            return 0\n        }\n        t = m //t 用来存储 m 加上 str 中小写字母的次数\n        val str = arr[childIndex]\n        if (isUnique(str)) { //如果结果加上 str 没有重复字符\n            val addChild = str.length + dfs(arr, childIndex + 1, t) //添加 str 的长度，继续深搜\n            val noAddChild = dfs(arr, childIndex + 1, m) //跳过 str 继续深搜\n            return max(addChild, noAddChild) //比较二者长度\n        }\n        return dfs(arr, childIndex + 1, m) //结果加上 str 有重复，则结果为 跳过 str 继续深搜的长度\n    }\n\n    private fun isUnique(str: String): Boolean {\n        val length = str.length\n        for (i in 0 until length) {\n            if (t and (1 shl str[i] - 'a') != 0) { //如果有重复字符，直接返回\n                return false\n            }\n            t = t or (1 shl str[i] - 'a')\n        }\n        return true\n    }\n}\n```","slug":"Max_Length_Concatenated_String_with_Unique_Characters","published":1,"updated":"2020-02-11T02:58:54.679Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzv005nqr3l7g0ejdfh"},{"title":"Pow(x, n)","date":"2019-01-31T16:00:00.000Z","description":"右移，右移讷","_content":"## Problem description\n  ### Implement pow(x, n), which calculates x raised to the power n (xn).\n ## Note\n  -100.0 < x < 100.0\nn is a 32-bit signed integer, within the range [−2^31, 2^31 − 1]\n ## Examples\n``` java\nExample 1:\nInput: 2.00000, 10\nOutput: 1024.00000\n```\n```java\nExample 2:\nInput: 2.10000, 3\nOutput: 9.26100\n```\n```java\nExample 3:\nInput: 2.00000, -2\nOutput: 0.25000\nExplanation: 2-2 = 1/22 = 1/4 = 0.25\n```\n\n## Solution\n这道题有个坑的地方，当 x = 2时，n = -2^31时。超时了，在这一行代码上超时了，n >> = 1;  自己用了右移运算反而超时了.百思不得其解。当求一个数的负数次方时，可以采取1 / pow(x, -n);转换为求倒数。这么一转换对于这个样例刚好出问题了。出在哪了呢？1. 当对-2^31取负数时，该数仍旧是负数。因为int的最大值是2^31 - 1超过了最大值。 2. 对负数进行右移>>高位补符号位。这样得到的结果就会出错，而且会超时。\n解决方案：1. 采用 /        2. 采取无符号右移>>>\n-5 / 2 = -2，5 / 2 = 2。这表明除二是向零取整\n-5 （1011）>> 1 =（1101） -3，5 >> 1 = 2。这补码表示表明右移一位是向下取整\n\n## Code\n\n```java\n class Solution {\n\n    public double myPow(double x, int n) {\n        if (n < 0) {\n            return 1 / pow(x, -n);\n        } else {\n            return pow(x, n);\n        }\n    }\n\n    public double pow(double base, int exponent) {\n        if (exponent == 0) {\n            return 1;\n        }\n        if (exponent == 1 || base == 1) {\n            return base;\n        }\n        double res = 1;\n        while (exponent != 0) {\n            if ((exponent & 0x1) == 1) {\n                res *= base;\n            }\n            base *= base;\n            exponent >>>= 1;\n        }\n        return res;\n    }\n\n}\n```","source":"_posts/Pow(x, n).md","raw":"title:  Pow(x, n)\ndate: 2019-2-1\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 右移，右移讷\n---\n## Problem description\n  ### Implement pow(x, n), which calculates x raised to the power n (xn).\n ## Note\n  -100.0 < x < 100.0\nn is a 32-bit signed integer, within the range [−2^31, 2^31 − 1]\n ## Examples\n``` java\nExample 1:\nInput: 2.00000, 10\nOutput: 1024.00000\n```\n```java\nExample 2:\nInput: 2.10000, 3\nOutput: 9.26100\n```\n```java\nExample 3:\nInput: 2.00000, -2\nOutput: 0.25000\nExplanation: 2-2 = 1/22 = 1/4 = 0.25\n```\n\n## Solution\n这道题有个坑的地方，当 x = 2时，n = -2^31时。超时了，在这一行代码上超时了，n >> = 1;  自己用了右移运算反而超时了.百思不得其解。当求一个数的负数次方时，可以采取1 / pow(x, -n);转换为求倒数。这么一转换对于这个样例刚好出问题了。出在哪了呢？1. 当对-2^31取负数时，该数仍旧是负数。因为int的最大值是2^31 - 1超过了最大值。 2. 对负数进行右移>>高位补符号位。这样得到的结果就会出错，而且会超时。\n解决方案：1. 采用 /        2. 采取无符号右移>>>\n-5 / 2 = -2，5 / 2 = 2。这表明除二是向零取整\n-5 （1011）>> 1 =（1101） -3，5 >> 1 = 2。这补码表示表明右移一位是向下取整\n\n## Code\n\n```java\n class Solution {\n\n    public double myPow(double x, int n) {\n        if (n < 0) {\n            return 1 / pow(x, -n);\n        } else {\n            return pow(x, n);\n        }\n    }\n\n    public double pow(double base, int exponent) {\n        if (exponent == 0) {\n            return 1;\n        }\n        if (exponent == 1 || base == 1) {\n            return base;\n        }\n        double res = 1;\n        while (exponent != 0) {\n            if ((exponent & 0x1) == 1) {\n                res *= base;\n            }\n            base *= base;\n            exponent >>>= 1;\n        }\n        return res;\n    }\n\n}\n```","slug":"Pow(x, n)","published":1,"updated":"2020-02-13T07:16:09.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzw005rqr3lh4yhilj7"},{"title":"Recylerview多布局显示","date":"2019-01-13T16:00:00.000Z","description":"一个Recylerview中多个布局显示","_content":"## 重写getItemViewType方法 \n\n重写getItemViewType方法,根据条件返回条目的类型\n\n```java\n@Override\n    public int getItemViewType(int position) {\n\n        MoreTypeBean moreTypeBean = mData.get(position);\n        if (moreTypeBean.type == 0) {\n            return TYPE_PULL_IMAGE;\n        } else if (moreTypeBean.type == 1) {\n            return TYPE_RIGHT_IMAGE;\n        } else {\n            return TYPE_THREE_IMAGE;\n        }\n\n\n    }\n```\n\n## 新建对应数目的ViewHolder\n```java\n   private class PullImageHolder extends RecyclerView.ViewHolder {\n\n        public PullImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n\n    private class RightImageHolder extends RecyclerView.ViewHolder {\n\n        public RightImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n\n    private class ThreeImageHolder extends RecyclerView.ViewHolder {\n\n        public ThreeImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n```\n## 在onCreateViewHolder里根据viewtype来判断 所引用的item布局类型 \n\n```java\n@Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        //创建不同的 ViewHolder\n        View view;\n        //根据viewtype来判断\n\n        if (viewType == TYPE_PULL_IMAGE) {\n            view =View.inflate(parent.getContext(),R.layout.item_pull_img,null);\n            return new PullImageHolder(view);\n        } else if (viewType == TYPE_RIGHT_IMAGE) {\n            view =View.inflate(parent.getContext(),R.layout.item_right_img,null);\n            return new RightImageHolder(view);\n        } else {\n            view =View.inflate(parent.getContext(),R.layout.item_three_img,null);\n            return new ThreeImageHolder(view);\n        }\n    }\n```\n","source":"_posts/Recylerview多布局显示.md","raw":"title: Recylerview多布局显示\ndate: 2019-1-14\ntags: [Android]\ncategories: Android\ndescription: 一个Recylerview中多个布局显示\n---\n## 重写getItemViewType方法 \n\n重写getItemViewType方法,根据条件返回条目的类型\n\n```java\n@Override\n    public int getItemViewType(int position) {\n\n        MoreTypeBean moreTypeBean = mData.get(position);\n        if (moreTypeBean.type == 0) {\n            return TYPE_PULL_IMAGE;\n        } else if (moreTypeBean.type == 1) {\n            return TYPE_RIGHT_IMAGE;\n        } else {\n            return TYPE_THREE_IMAGE;\n        }\n\n\n    }\n```\n\n## 新建对应数目的ViewHolder\n```java\n   private class PullImageHolder extends RecyclerView.ViewHolder {\n\n        public PullImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n\n    private class RightImageHolder extends RecyclerView.ViewHolder {\n\n        public RightImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n\n    private class ThreeImageHolder extends RecyclerView.ViewHolder {\n\n        public ThreeImageHolder(View itemView) {\n            super(itemView);\n        }\n    }\n```\n## 在onCreateViewHolder里根据viewtype来判断 所引用的item布局类型 \n\n```java\n@Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        //创建不同的 ViewHolder\n        View view;\n        //根据viewtype来判断\n\n        if (viewType == TYPE_PULL_IMAGE) {\n            view =View.inflate(parent.getContext(),R.layout.item_pull_img,null);\n            return new PullImageHolder(view);\n        } else if (viewType == TYPE_RIGHT_IMAGE) {\n            view =View.inflate(parent.getContext(),R.layout.item_right_img,null);\n            return new RightImageHolder(view);\n        } else {\n            view =View.inflate(parent.getContext(),R.layout.item_three_img,null);\n            return new ThreeImageHolder(view);\n        }\n    }\n```\n","slug":"Recylerview多布局显示","published":1,"updated":"2020-02-13T07:16:09.055Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzx005uqr3ljp4064ng"},{"title":"RecylerView中嵌套横向滑动冲突","date":"2017-05-08T16:00:00.000Z","description":"耗时两天的修复...","_content":"## Bug描述\n\n  在RecylerView中的item存在横向滑动，(PS:item的横向滑动通过属性动画实现)可是参照网上已存的教程要么是item不能垂直滑动，要么item不能水平滑动，这就相当恼人。结果在和朋友交流中发现，不能简单的通过覆写父类进行外部拦截，应该要从子View进行内部拦截。\n\n## 解决代码\n\n```java\npublic class TopAreaContainer extends RelativeLayout {\n\n    private AvatarsContainers mAvatarsContainers;\n\n\n    private ViewGroup parent;\n    private int mLastX;\n    private int mLastY;\n    private boolean state;\n    private int touchSlop;\n\n    public PostTopAreaContainer(Context context) {\n        super(context);\n    }\n\n    public PostTopAreaContainer(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        touchSlop = ViewConfiguration.get(context).getScaledEdgeSlop();\n    }\n\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n        if (mAvatarsContainers.getChildCount() == 1) {\n            return true;\n        }\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                parent.requestDisallowInterceptTouchEvent(true);//默认按下时不让父View进行拦截\n                break;\n            case MotionEvent.ACTION_MOVE:\n                int dx = x - mLastX;\n                int dy = y - mLastY;\n\n                if ((Math.abs(dx) < Math.abs(dy)) && (Math.abs(dy) > touchSlop)) {\n                    state = true;\n                } else {\n                    state = false;\n                }\n\n                if (state) {//垂直滑动则让父View拦截本次事件\n                    parent.requestDisallowInterceptTouchEvent(false);\n                } else {//横向滑动\n                    if (deltaX < 0) {\n                        mAvatarsContainers.shrink();\n                    } else {\n                        mAvatarsContainers.expand();\n                    }\n                }\n                break;\n            case MotionEvent.ACTION_UP:\n                break;\n        }\n\n        mLastX = x;\n        mLastY = y;\n        return true;\n    }\n}\n\n```\n\n  里面还有个坑就是之前和朋友讨论用int值记录状态，就会出现迷之滑动，在上下滑的同时也在左右滑，但是左右滑时却是正常的。Bug代码：\n\n```java\n   public boolean onTouchEvent(MotionEvent event) {\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                parent.requestDisallowInterceptTouchEvent(true);//请求父View(RecylerView)不进行拦截\n                state = 0;\n                break;\n            case MotionEvent.ACTION_MOVE:\n                int deltaX = x - mLastX;\n                int deltaY = y - mLastY;\n\n                if (state == 0) {\n                    if (Math.abs(deltaX) < Math.abs(deltaY)) {\n                        state = 1;\n                    } else {\n                        state = 2;\n                    }\n                }\n\n                if (state == 1) {\n                    parent.requestDisallowInterceptTouchEvent(false);\n                } else {\n                    if (deltaX < 0) {\n                        Log.i(TAG, \"左滑\");\n                    } else {\n                        Log.i(TAG, \"右滑\");\n                    }\n                }\n                break;\n            case MotionEvent.ACTION_UP :\n                break;\n        }\n\n        mLastX = x;\n        mLastY = y;\n        return true;\n    }\n```\n\n  调试后发现问题出在if(state==0)这里，因为在state=0情况只会出现在第一次按下的情况，后续滑动state都是不等于0的，所以后续滑动的state都没有再变化过了，只会重复第一次的state，所以采取直线救国,直接将state的改为boolean类型，并取消之前的判断就阔以啦！！！嗨呀，算是交代了这个Bug了.....\n\n  那问题是出自哪尼？为什么横向滑动会惨遭recylerview拦截呢？欢迎走入recylerviewonInterceptTouchEvent源码解析。\n\n## recylerviewonInterceptTouchEvent源码\n\n```java\n@Override\n    public boolean onInterceptTouchEvent(MotionEvent e) {\n       ...\n        if (dispatchOnItemTouchIntercept(e)) {\n            cancelTouch();\n            return true;\n        }\n\n        if (mLayout == null) {\n            return false;\n        }\n\n        final boolean canScrollHorizontally = mLayout.canScrollHorizontally();\n        final boolean canScrollVertically = mLayout.canScrollVertically();\n\n        if (mVelocityTracker == null) {\n            mVelocityTracker = VelocityTracker.obtain();\n        }\n        mVelocityTracker.addMovement(e);\n\n        final int action = e.getActionMasked();\n        final int actionIndex = e.getActionIndex();\n\n        switch (action) {\n            case MotionEvent.ACTION_DOWN:\n                if (mIgnoreMotionEventTillDown) {\n                    mIgnoreMotionEventTillDown = false;\n                }\n                mScrollPointerId = e.getPointerId(0);\n                mInitialTouchX = mLastTouchX = (int) (e.getX() + 0.5f);\n                mInitialTouchY = mLastTouchY = (int) (e.getY() + 0.5f);\n\n                if (mScrollState == SCROLL_STATE_SETTLING) {\n                    getParent().requestDisallowInterceptTouchEvent(true);\n                    setScrollState(SCROLL_STATE_DRAGGING);\n                }\n\n                // Clear the nested offsets\n                mNestedOffsets[0] = mNestedOffsets[1] = 0;\n\n                int nestedScrollAxis = ViewCompat.SCROLL_AXIS_NONE;\n                if (canScrollHorizontally) {\n                    nestedScrollAxis |= ViewCompat.SCROLL_AXIS_HORIZONTAL;\n                }\n                if (canScrollVertically) {\n                    nestedScrollAxis |= ViewCompat.SCROLL_AXIS_VERTICAL;\n                }\n                startNestedScroll(nestedScrollAxis, TYPE_TOUCH);\n                break;\n\n            case MotionEvent.ACTION_POINTER_DOWN:\n                mScrollPointerId = e.getPointerId(actionIndex);\n                mInitialTouchX = mLastTouchX = (int) (e.getX(actionIndex) + 0.5f);\n                mInitialTouchY = mLastTouchY = (int) (e.getY(actionIndex) + 0.5f);\n                break;\n\n            case MotionEvent.ACTION_MOVE: {\n                final int index = e.findPointerIndex(mScrollPointerId);\n                if (index < 0) {\n                    Log.e(TAG, \"Error processing scroll; pointer index for id \"\n                            + mScrollPointerId + \" not found. Did any MotionEvents get skipped?\");\n                    return false;\n                }\n\n                final int x = (int) (e.getX(index) + 0.5f);\n                final int y = (int) (e.getY(index) + 0.5f);\n                if (mScrollState != SCROLL_STATE_DRAGGING) {\n                    final int dx = x - mInitialTouchX;\n                    final int dy = y - mInitialTouchY;\n                    boolean startScroll = false;\n                    if (canScrollHorizontally && Math.abs(dx) > mTouchSlop) {//罪魁祸首\n                        mLastTouchX = x;\n                        startScroll = true;\n                    }\n                    if (canScrollVertically && Math.abs(dy) > mTouchSlop) {\n                        mLastTouchY = y;\n                        startScroll = true;\n                    }\n                    if (startScroll) {\n                        setScrollState(SCROLL_STATE_DRAGGING);\n                    }\n                }\n            } break;          \n        }\n        return mScrollState == SCROLL_STATE_DRAGGING;\n    }\n```  \n\n  罪魁祸首不难看出是其进入了recylerview中的if (canScrollHorizontally && Math.abs(dx) > mTouchSlop)然后描述性地设置了startScroll为true，startScroll为true设置了mScrollState = SCROLL_STATE_DRAGGING,所以最后返回true拦截了子View的事件。\n\n  之前的事件分发顺序有遗漏，在从上自下中，通过requestDisallowInterceptTouchEvent()会先询问子View是否允许父View拦截事件，如果允许则进入onIntercept()，否则将事件分发给子View的dispatchEvent().\n\n  本文参考至[http://blog.csdn.net/qq_36523667/article/details/79223576](http://blog.csdn.net/qq_36523667/article/details/79223576)","source":"_posts/RecylerView嵌套横向滑动冲突.md","raw":"title: RecylerView中嵌套横向滑动冲突\ndate: 2017-05-09 00:00:00\ntags: [Android]\ncategories: bug修复\ndescription: 耗时两天的修复...\n---\n## Bug描述\n\n  在RecylerView中的item存在横向滑动，(PS:item的横向滑动通过属性动画实现)可是参照网上已存的教程要么是item不能垂直滑动，要么item不能水平滑动，这就相当恼人。结果在和朋友交流中发现，不能简单的通过覆写父类进行外部拦截，应该要从子View进行内部拦截。\n\n## 解决代码\n\n```java\npublic class TopAreaContainer extends RelativeLayout {\n\n    private AvatarsContainers mAvatarsContainers;\n\n\n    private ViewGroup parent;\n    private int mLastX;\n    private int mLastY;\n    private boolean state;\n    private int touchSlop;\n\n    public PostTopAreaContainer(Context context) {\n        super(context);\n    }\n\n    public PostTopAreaContainer(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        touchSlop = ViewConfiguration.get(context).getScaledEdgeSlop();\n    }\n\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n        if (mAvatarsContainers.getChildCount() == 1) {\n            return true;\n        }\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                parent.requestDisallowInterceptTouchEvent(true);//默认按下时不让父View进行拦截\n                break;\n            case MotionEvent.ACTION_MOVE:\n                int dx = x - mLastX;\n                int dy = y - mLastY;\n\n                if ((Math.abs(dx) < Math.abs(dy)) && (Math.abs(dy) > touchSlop)) {\n                    state = true;\n                } else {\n                    state = false;\n                }\n\n                if (state) {//垂直滑动则让父View拦截本次事件\n                    parent.requestDisallowInterceptTouchEvent(false);\n                } else {//横向滑动\n                    if (deltaX < 0) {\n                        mAvatarsContainers.shrink();\n                    } else {\n                        mAvatarsContainers.expand();\n                    }\n                }\n                break;\n            case MotionEvent.ACTION_UP:\n                break;\n        }\n\n        mLastX = x;\n        mLastY = y;\n        return true;\n    }\n}\n\n```\n\n  里面还有个坑就是之前和朋友讨论用int值记录状态，就会出现迷之滑动，在上下滑的同时也在左右滑，但是左右滑时却是正常的。Bug代码：\n\n```java\n   public boolean onTouchEvent(MotionEvent event) {\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                parent.requestDisallowInterceptTouchEvent(true);//请求父View(RecylerView)不进行拦截\n                state = 0;\n                break;\n            case MotionEvent.ACTION_MOVE:\n                int deltaX = x - mLastX;\n                int deltaY = y - mLastY;\n\n                if (state == 0) {\n                    if (Math.abs(deltaX) < Math.abs(deltaY)) {\n                        state = 1;\n                    } else {\n                        state = 2;\n                    }\n                }\n\n                if (state == 1) {\n                    parent.requestDisallowInterceptTouchEvent(false);\n                } else {\n                    if (deltaX < 0) {\n                        Log.i(TAG, \"左滑\");\n                    } else {\n                        Log.i(TAG, \"右滑\");\n                    }\n                }\n                break;\n            case MotionEvent.ACTION_UP :\n                break;\n        }\n\n        mLastX = x;\n        mLastY = y;\n        return true;\n    }\n```\n\n  调试后发现问题出在if(state==0)这里，因为在state=0情况只会出现在第一次按下的情况，后续滑动state都是不等于0的，所以后续滑动的state都没有再变化过了，只会重复第一次的state，所以采取直线救国,直接将state的改为boolean类型，并取消之前的判断就阔以啦！！！嗨呀，算是交代了这个Bug了.....\n\n  那问题是出自哪尼？为什么横向滑动会惨遭recylerview拦截呢？欢迎走入recylerviewonInterceptTouchEvent源码解析。\n\n## recylerviewonInterceptTouchEvent源码\n\n```java\n@Override\n    public boolean onInterceptTouchEvent(MotionEvent e) {\n       ...\n        if (dispatchOnItemTouchIntercept(e)) {\n            cancelTouch();\n            return true;\n        }\n\n        if (mLayout == null) {\n            return false;\n        }\n\n        final boolean canScrollHorizontally = mLayout.canScrollHorizontally();\n        final boolean canScrollVertically = mLayout.canScrollVertically();\n\n        if (mVelocityTracker == null) {\n            mVelocityTracker = VelocityTracker.obtain();\n        }\n        mVelocityTracker.addMovement(e);\n\n        final int action = e.getActionMasked();\n        final int actionIndex = e.getActionIndex();\n\n        switch (action) {\n            case MotionEvent.ACTION_DOWN:\n                if (mIgnoreMotionEventTillDown) {\n                    mIgnoreMotionEventTillDown = false;\n                }\n                mScrollPointerId = e.getPointerId(0);\n                mInitialTouchX = mLastTouchX = (int) (e.getX() + 0.5f);\n                mInitialTouchY = mLastTouchY = (int) (e.getY() + 0.5f);\n\n                if (mScrollState == SCROLL_STATE_SETTLING) {\n                    getParent().requestDisallowInterceptTouchEvent(true);\n                    setScrollState(SCROLL_STATE_DRAGGING);\n                }\n\n                // Clear the nested offsets\n                mNestedOffsets[0] = mNestedOffsets[1] = 0;\n\n                int nestedScrollAxis = ViewCompat.SCROLL_AXIS_NONE;\n                if (canScrollHorizontally) {\n                    nestedScrollAxis |= ViewCompat.SCROLL_AXIS_HORIZONTAL;\n                }\n                if (canScrollVertically) {\n                    nestedScrollAxis |= ViewCompat.SCROLL_AXIS_VERTICAL;\n                }\n                startNestedScroll(nestedScrollAxis, TYPE_TOUCH);\n                break;\n\n            case MotionEvent.ACTION_POINTER_DOWN:\n                mScrollPointerId = e.getPointerId(actionIndex);\n                mInitialTouchX = mLastTouchX = (int) (e.getX(actionIndex) + 0.5f);\n                mInitialTouchY = mLastTouchY = (int) (e.getY(actionIndex) + 0.5f);\n                break;\n\n            case MotionEvent.ACTION_MOVE: {\n                final int index = e.findPointerIndex(mScrollPointerId);\n                if (index < 0) {\n                    Log.e(TAG, \"Error processing scroll; pointer index for id \"\n                            + mScrollPointerId + \" not found. Did any MotionEvents get skipped?\");\n                    return false;\n                }\n\n                final int x = (int) (e.getX(index) + 0.5f);\n                final int y = (int) (e.getY(index) + 0.5f);\n                if (mScrollState != SCROLL_STATE_DRAGGING) {\n                    final int dx = x - mInitialTouchX;\n                    final int dy = y - mInitialTouchY;\n                    boolean startScroll = false;\n                    if (canScrollHorizontally && Math.abs(dx) > mTouchSlop) {//罪魁祸首\n                        mLastTouchX = x;\n                        startScroll = true;\n                    }\n                    if (canScrollVertically && Math.abs(dy) > mTouchSlop) {\n                        mLastTouchY = y;\n                        startScroll = true;\n                    }\n                    if (startScroll) {\n                        setScrollState(SCROLL_STATE_DRAGGING);\n                    }\n                }\n            } break;          \n        }\n        return mScrollState == SCROLL_STATE_DRAGGING;\n    }\n```  \n\n  罪魁祸首不难看出是其进入了recylerview中的if (canScrollHorizontally && Math.abs(dx) > mTouchSlop)然后描述性地设置了startScroll为true，startScroll为true设置了mScrollState = SCROLL_STATE_DRAGGING,所以最后返回true拦截了子View的事件。\n\n  之前的事件分发顺序有遗漏，在从上自下中，通过requestDisallowInterceptTouchEvent()会先询问子View是否允许父View拦截事件，如果允许则进入onIntercept()，否则将事件分发给子View的dispatchEvent().\n\n  本文参考至[http://blog.csdn.net/qq_36523667/article/details/79223576](http://blog.csdn.net/qq_36523667/article/details/79223576)","slug":"RecylerView嵌套横向滑动冲突","published":1,"updated":"2020-02-13T07:16:09.055Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzy005yqr3lmg7c3wqm"},{"title":"Product of all the elements of nums except nums[i]","date":"2019-01-18T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given an array nums of n integers where n > 1,  return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].Please solve it without division and in O(n).\n ## Examples\n``` java\nExample 1:\nInput:  [1,2,3,4]\nOutput: [24,12,8,6]\n```\n\n## Solution\n　　一开始用除法试了下，发现有含0的样例，然后用了O(n^2)过了。自己思考过正向遍历记录每一个元素左侧的元素累积。但是这样原数组也变了。无法进行逆向遍历。只能采取O(n)的空间复杂度。新建一个数组先记录正向乘积。再逆向遍历一次乘以每个元素右侧的累积\n\n## Code\n\n```java\n     public int[] productExceptSelf(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return nums;\n        }\n        int result[] = new int[nums.length];\n        result[0] = 1;\n        for (int i = 1; i < nums.length; i++) {\n            result[i] = result[i - 1] * nums[i - 1];\n        }\n        int mul = 1;\n        for (int i = nums.length - 1; i >= 0; i--) {\n            result[i] *= mul;\n            mul *= nums[i];\n        }\n        return result;\n    }\n\n```","source":"_posts/Product of all the elements of nums except nums[i].md","raw":"title: Product of all the elements of nums except nums[i]\ndate: 2019-1-19\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given an array nums of n integers where n > 1,  return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].Please solve it without division and in O(n).\n ## Examples\n``` java\nExample 1:\nInput:  [1,2,3,4]\nOutput: [24,12,8,6]\n```\n\n## Solution\n　　一开始用除法试了下，发现有含0的样例，然后用了O(n^2)过了。自己思考过正向遍历记录每一个元素左侧的元素累积。但是这样原数组也变了。无法进行逆向遍历。只能采取O(n)的空间复杂度。新建一个数组先记录正向乘积。再逆向遍历一次乘以每个元素右侧的累积\n\n## Code\n\n```java\n     public int[] productExceptSelf(int[] nums) {\n        if (nums == null || nums.length == 0) {\n            return nums;\n        }\n        int result[] = new int[nums.length];\n        result[0] = 1;\n        for (int i = 1; i < nums.length; i++) {\n            result[i] = result[i - 1] * nums[i - 1];\n        }\n        int mul = 1;\n        for (int i = nums.length - 1; i >= 0; i--) {\n            result[i] *= mul;\n            mul *= nums[i];\n        }\n        return result;\n    }\n\n```","slug":"Product of all the elements of nums except nums[i]","published":1,"updated":"2020-02-13T07:16:09.054Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npaxzz0061qr3ltzt6iwhs"},{"title":"RelativeLayout与LinearLayout的onMeasure方法","date":"2019-04-04T16:00:00.000Z","description":"两次测绘与一次测绘是怎么实现的？","_content":"转自： [Android中RelativeLayout和LinearLayout性能分析](https://www.jianshu.com/p/8a7d059da746)\n## RelativeLayout的onMeasure()方法\n```java\nView[] views = mSortedHorizontalChildren;\n    int count = views.length;\n\n    for (int i = 0; i < count; i++) {\n      View child = views[i];\n      if (child.getVisibility() != GONE) {\n        LayoutParams params = (LayoutParams) child.getLayoutParams();\n        int[] rules = params.getRules(layoutDirection);\n\n        applyHorizontalSizeRules(params, myWidth, rules);\n        measureChildHorizontal(child, params, myWidth, myHeight); // Horizontal measure\n    ...\n    for (int i = 0; i < count; i++) {\n      View child = views[i];\n      if (child.getVisibility() != GONE) {\n        LayoutParams params = (LayoutParams) child.getLayoutParams();\n       \n        applyVerticalSizeRules(params, myHeight);\n        measureChild(child, params, myWidth, myHeight); // Vertical measure\n        if (positionChildVertical(child, params, myHeight, isWrapContentHeight)) {\n          offsetVerticalAxis = true;\n        }\n...\n    }\n```\nRelativeLayout 会对子View进行两次measure，因为Relative中的子View的布局是依赖于子View的相互关系，这个顺序可能与layout文件中的子View编写不一致，故在确定子View位置时，先要给子View排一下序。\n> 又因为RelativeLayout允许A，B 2个子View，横向上B依赖A，纵向上A依赖B。所以需要横向纵向分别进行一次排序测量。\n\n## LinearLayout的onMeasure()方法\n```java\n @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    if (mOrientation == VERTICAL) {\n      measureVertical(widthMeasureSpec, heightMeasureSpec);\n    } else {\n      measureHorizontal(widthMeasureSpec, heightMeasureSpec);\n    }\n  }\n```\n进入measureVertical中\n```java\nfor (int i = 0; i < count; ++i) {\n      final View child = getVirtualChildAt(i);\n\n      if (child == null) {\n        mTotalLength += measureNullChild(i);\n        continue;\n      }\n\n      if (child.getVisibility() == View.GONE) {\n       i += getChildrenSkipCount(child, i);\n       continue;\n      }\n\n      if (hasDividerBeforeChildAt(i)) {\n        mTotalLength += mDividerHeight;\n      }\n\n      LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams();\n\n      totalWeight += lp.weight;\n     \n      if (heightMode == MeasureSpec.EXACTLY && lp.height == 0 && lp.weight > 0) {\n        // Optimization: don't bother measuring children who are going to use\n        // leftover space. These views will get measured again down below if\n        // there is any leftover space.\n        final int totalLength = mTotalLength;\n        mTotalLength = Math.max(totalLength, totalLength + lp.topMargin + lp.bottomMargin);\n      } else {\n        int oldHeight = Integer.MIN_VALUE;\n\n        if (lp.height == 0 && lp.weight > 0) {\n          // heightMode is either UNSPECIFIED or AT_MOST, and this\n          // child wanted to stretch to fill available space.\n          // Translate that to WRAP_CONTENT so that it does not end up\n          // with a height of 0\n          oldHeight = 0;\n          lp.height = LayoutParams.WRAP_CONTENT;\n        }\n\n        // Determine how big this child would like to be. If this or\n        // previous children have given a weight, then we allow it to\n        // use all available space (and we will shrink things later\n        // if needed).\n        measureChildBeforeLayout(\n           child, i, widthMeasureSpec, 0, heightMeasureSpec,\n           totalWeight == 0 ? mTotalLength : 0);// Measure child \n\n        if (oldHeight != Integer.MIN_VALUE) {\n         lp.height = oldHeight;\n        }\n\n        final int childHeight = child.getMeasuredHeight();\n        final int totalLength = mTotalLength;\n        mTotalLength = Math.max(totalLength, totalLength + childHeight + lp.topMargin +\n           lp.bottomMargin + getNextLocationOffset(child));\n\n        if (useLargestChild) {\n          largestChildHeight = Math.max(childHeight, largestChildHeight);\n        }\n      }\n```\n父视图在对子视图进行measure操作的过程中，使用变量mTotalLength保存已经measure过的child所占用的高度，该变量刚开始时是0。在for循环中调用measureChildBeforeLayout（）对每一个child进行测量;  每次for循环对child测量完毕后，调用child.getMeasuredHeight()获取该子视图最终的高度，并将这个高度添加到mTotalLength中。在本步骤中，暂时避开了lp.weight>0的子视图，即暂时先不测量这些子视图，因为后面将把父视图剩余的高度按照weight值的大小平均分配给相应的子视图。\n源码中使用了一个局部变量totalWeight累计所有子视图的weight值。处理lp.weight>0的情况需要注意，如果变量`heightMode是EXACTLY`，那么，当其他子视图占满父视图的高度后，weight>0的子视图`分配不到布局空间`，从而不被显示，只有当heightMode是AT_MOST或者UNSPECIFIED时，weight>0的视图才能优先获得布局高度。最后我们的结论是：如果`不使用weight属性`，LinearLayout会在当前方向上进行`一次measure`的过程，`如果使用weight属性`，LinearLayout会避开设置过weight属性的view做第一次measure，完了再对设置过weight属性的view做`第二次measure`。由此可见，weight属性对性能是有影响的，而且本身有大坑，请注意避让。\n\n## 结论\n1. RelativeLayout慢于LinearLayout是因为它会让子View调用2次measure过程，而后者只需一次，但是有weight属性存在时，后者同样会进行两次measure。\n2. 无嵌套布局的情况使用LinearLayout,否则使用RelativeLayout\n3. DecorView的层级深度已知且固定的，上面一个标题栏，下面一个内容栏，采用RelativeLayout并不会降低层级深度，因此这种情况下使用LinearLayout效率更高。而为开发者默认新建RelativeLayout是希望开发者能采用尽量少的View层级，很多效果是需要多层LinearLayout的嵌套，这必然不如一层的RelativeLayout性能更好。因此我们应该尽量减少布局嵌套，减少层级结构。\n\n","source":"_posts/RelativeLayout与LinearLayout的onMeasure方法.md","raw":"title: RelativeLayout与LinearLayout的onMeasure方法\ndate: 2019-4-5\ntags: [Android]\ncategories: Android开发艺术探索\ndescription: 两次测绘与一次测绘是怎么实现的？\n---\n转自： [Android中RelativeLayout和LinearLayout性能分析](https://www.jianshu.com/p/8a7d059da746)\n## RelativeLayout的onMeasure()方法\n```java\nView[] views = mSortedHorizontalChildren;\n    int count = views.length;\n\n    for (int i = 0; i < count; i++) {\n      View child = views[i];\n      if (child.getVisibility() != GONE) {\n        LayoutParams params = (LayoutParams) child.getLayoutParams();\n        int[] rules = params.getRules(layoutDirection);\n\n        applyHorizontalSizeRules(params, myWidth, rules);\n        measureChildHorizontal(child, params, myWidth, myHeight); // Horizontal measure\n    ...\n    for (int i = 0; i < count; i++) {\n      View child = views[i];\n      if (child.getVisibility() != GONE) {\n        LayoutParams params = (LayoutParams) child.getLayoutParams();\n       \n        applyVerticalSizeRules(params, myHeight);\n        measureChild(child, params, myWidth, myHeight); // Vertical measure\n        if (positionChildVertical(child, params, myHeight, isWrapContentHeight)) {\n          offsetVerticalAxis = true;\n        }\n...\n    }\n```\nRelativeLayout 会对子View进行两次measure，因为Relative中的子View的布局是依赖于子View的相互关系，这个顺序可能与layout文件中的子View编写不一致，故在确定子View位置时，先要给子View排一下序。\n> 又因为RelativeLayout允许A，B 2个子View，横向上B依赖A，纵向上A依赖B。所以需要横向纵向分别进行一次排序测量。\n\n## LinearLayout的onMeasure()方法\n```java\n @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    if (mOrientation == VERTICAL) {\n      measureVertical(widthMeasureSpec, heightMeasureSpec);\n    } else {\n      measureHorizontal(widthMeasureSpec, heightMeasureSpec);\n    }\n  }\n```\n进入measureVertical中\n```java\nfor (int i = 0; i < count; ++i) {\n      final View child = getVirtualChildAt(i);\n\n      if (child == null) {\n        mTotalLength += measureNullChild(i);\n        continue;\n      }\n\n      if (child.getVisibility() == View.GONE) {\n       i += getChildrenSkipCount(child, i);\n       continue;\n      }\n\n      if (hasDividerBeforeChildAt(i)) {\n        mTotalLength += mDividerHeight;\n      }\n\n      LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams();\n\n      totalWeight += lp.weight;\n     \n      if (heightMode == MeasureSpec.EXACTLY && lp.height == 0 && lp.weight > 0) {\n        // Optimization: don't bother measuring children who are going to use\n        // leftover space. These views will get measured again down below if\n        // there is any leftover space.\n        final int totalLength = mTotalLength;\n        mTotalLength = Math.max(totalLength, totalLength + lp.topMargin + lp.bottomMargin);\n      } else {\n        int oldHeight = Integer.MIN_VALUE;\n\n        if (lp.height == 0 && lp.weight > 0) {\n          // heightMode is either UNSPECIFIED or AT_MOST, and this\n          // child wanted to stretch to fill available space.\n          // Translate that to WRAP_CONTENT so that it does not end up\n          // with a height of 0\n          oldHeight = 0;\n          lp.height = LayoutParams.WRAP_CONTENT;\n        }\n\n        // Determine how big this child would like to be. If this or\n        // previous children have given a weight, then we allow it to\n        // use all available space (and we will shrink things later\n        // if needed).\n        measureChildBeforeLayout(\n           child, i, widthMeasureSpec, 0, heightMeasureSpec,\n           totalWeight == 0 ? mTotalLength : 0);// Measure child \n\n        if (oldHeight != Integer.MIN_VALUE) {\n         lp.height = oldHeight;\n        }\n\n        final int childHeight = child.getMeasuredHeight();\n        final int totalLength = mTotalLength;\n        mTotalLength = Math.max(totalLength, totalLength + childHeight + lp.topMargin +\n           lp.bottomMargin + getNextLocationOffset(child));\n\n        if (useLargestChild) {\n          largestChildHeight = Math.max(childHeight, largestChildHeight);\n        }\n      }\n```\n父视图在对子视图进行measure操作的过程中，使用变量mTotalLength保存已经measure过的child所占用的高度，该变量刚开始时是0。在for循环中调用measureChildBeforeLayout（）对每一个child进行测量;  每次for循环对child测量完毕后，调用child.getMeasuredHeight()获取该子视图最终的高度，并将这个高度添加到mTotalLength中。在本步骤中，暂时避开了lp.weight>0的子视图，即暂时先不测量这些子视图，因为后面将把父视图剩余的高度按照weight值的大小平均分配给相应的子视图。\n源码中使用了一个局部变量totalWeight累计所有子视图的weight值。处理lp.weight>0的情况需要注意，如果变量`heightMode是EXACTLY`，那么，当其他子视图占满父视图的高度后，weight>0的子视图`分配不到布局空间`，从而不被显示，只有当heightMode是AT_MOST或者UNSPECIFIED时，weight>0的视图才能优先获得布局高度。最后我们的结论是：如果`不使用weight属性`，LinearLayout会在当前方向上进行`一次measure`的过程，`如果使用weight属性`，LinearLayout会避开设置过weight属性的view做第一次measure，完了再对设置过weight属性的view做`第二次measure`。由此可见，weight属性对性能是有影响的，而且本身有大坑，请注意避让。\n\n## 结论\n1. RelativeLayout慢于LinearLayout是因为它会让子View调用2次measure过程，而后者只需一次，但是有weight属性存在时，后者同样会进行两次measure。\n2. 无嵌套布局的情况使用LinearLayout,否则使用RelativeLayout\n3. DecorView的层级深度已知且固定的，上面一个标题栏，下面一个内容栏，采用RelativeLayout并不会降低层级深度，因此这种情况下使用LinearLayout效率更高。而为开发者默认新建RelativeLayout是希望开发者能采用尽量少的View层级，很多效果是需要多层LinearLayout的嵌套，这必然不如一层的RelativeLayout性能更好。因此我们应该尽量减少布局嵌套，减少层级结构。\n\n","slug":"RelativeLayout与LinearLayout的onMeasure方法","published":1,"updated":"2020-02-13T07:16:09.056Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay010066qr3l0g1f3jmp"},{"title":"Replace Blank","date":"2019-01-28T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### 将字符串中每个空格替换成“can”\n  \n ## Examples\n``` java\nExample 1:\nInput:sdf sddsf sef\nOutput:sdfcansddsfcansef\n```\n\n## Solution\n　　首先遍历一遍数组得到空格数目。每替换一个空格，字符串长度增加2.替换后的字符串长度为原来的长度乘以2.\n  　　从字符串的末尾开始向头移动复制替换。indexOfOriginal指向原始字符串的末尾，indexOfNew指向替换之后的字符串末尾。遇到空格时，indexOfNew前插入can.indexOfOrigin--；否则将indexOfOriginal所指向的值复制进入indexOfNew指向位置。直至indexOfOriginal < 0 或者indexOriginal >= indexOfNew结束。\n\n## Code\n\n```java\n void ReplaceBlank(char[] s, int length) {\n        if (s == null && s.length == 0) {\n            return;\n        }\n        int numberOfBlank = 0;\n        for (int i = 0; i < length; i++) {\n            if (s[i] == ' ') {\n                numberOfBlank++;\n            }\n        }\n        int newLength = length + numberOfBlank * 2;\n\t\tif（newLength > length）{\n\t\t　　return;\n\t\t}\n        int indexOfOriginal = length;\n        int indexOfNew = newLength;\n\n        while (indexOfOriginal >= 0 && indexOfNew > indexOfOriginal) {\n            if (s[indexOfOriginal] == ' ') {\n                s[indexOfNew--] = 'n';\n                s[indexOfNew--] = 'a';\n                s[indexOfNew--] = 'c';\n            } else {\n                s[indexOfNew--] = s[indexOfOriginal];\n            }\n            --indexOfOriginal;\n        }\n        System.out.println(\"\");\n    }\n```","source":"_posts/Replace Blank.md","raw":"title: Replace Blank\ndate: 2019-1-29\ntags: [字符串,剑指Offer]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### 将字符串中每个空格替换成“can”\n  \n ## Examples\n``` java\nExample 1:\nInput:sdf sddsf sef\nOutput:sdfcansddsfcansef\n```\n\n## Solution\n　　首先遍历一遍数组得到空格数目。每替换一个空格，字符串长度增加2.替换后的字符串长度为原来的长度乘以2.\n  　　从字符串的末尾开始向头移动复制替换。indexOfOriginal指向原始字符串的末尾，indexOfNew指向替换之后的字符串末尾。遇到空格时，indexOfNew前插入can.indexOfOrigin--；否则将indexOfOriginal所指向的值复制进入indexOfNew指向位置。直至indexOfOriginal < 0 或者indexOriginal >= indexOfNew结束。\n\n## Code\n\n```java\n void ReplaceBlank(char[] s, int length) {\n        if (s == null && s.length == 0) {\n            return;\n        }\n        int numberOfBlank = 0;\n        for (int i = 0; i < length; i++) {\n            if (s[i] == ' ') {\n                numberOfBlank++;\n            }\n        }\n        int newLength = length + numberOfBlank * 2;\n\t\tif（newLength > length）{\n\t\t　　return;\n\t\t}\n        int indexOfOriginal = length;\n        int indexOfNew = newLength;\n\n        while (indexOfOriginal >= 0 && indexOfNew > indexOfOriginal) {\n            if (s[indexOfOriginal] == ' ') {\n                s[indexOfNew--] = 'n';\n                s[indexOfNew--] = 'a';\n                s[indexOfNew--] = 'c';\n            } else {\n                s[indexOfNew--] = s[indexOfOriginal];\n            }\n            --indexOfOriginal;\n        }\n        System.out.println(\"\");\n    }\n```","slug":"Replace Blank","published":1,"updated":"2020-02-13T07:16:09.056Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay020069qr3llzbv0gul"},{"title":"Restore  IP address","date":"2018-12-29T16:00:00.000Z","description":"Restore  IP address，returning all possible valid IP address combinations.","_content":"## 题目描述\n  ### Given a string containing only digits, restore it by returning all possible valid IP address combinations.\n ## Examples\n``` java\nExample 1:\nInput: \"25525511135\"\nOutput: [\"255.255.11.135\", \"255.255.111.35\"]\n```\n\n## Solution\n　　直接暴力DP\n　　两点：\n 　　　　1. 每个节点不能超过255\n 　　　　2. substring（i, j）, j是取不到的\n 　　　　3. 不允许出现以0为首长度>1的IP地址，即使是03\n\n  \t\t\t\t\t\t\n\n## Code\n\n```java\n class Solution {\n         public List<String> restoreIpAddresses(String s) {\n        int length = s.length();\n        List<String> list = new ArrayList<>();\n        String s1, s2, s3, s4;\n        for (int i = 1; i < 4 && i < length - 2; i++) {\n            for (int j = i + 1; j < i + 4 && j < length - 1; j++) {\n                for (int k = j + 1; k < j + 4 && k < length; k++) {\n                    s1 = s.substring(0, i);\n                    s2 = s.substring(i, j);\n                    s3 = s.substring(j, k);\n                    s4 = s.substring(k, length);\n                    if (isValid(s1) && isValid(s2) && isValid(s3) && isValid(s4)) {\n                        s1 = s1 + '.' + s2 + '.' + s3 + '.' + s4;\n                        list.add(s1);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    private boolean isValid(String s) {\n        int length = s.length();\n        if (length > 3 || length == 0 || Integer.parseInt(s) > 255 || (s.charAt(0) == '0' && length > 1)) {\n            return false;\n        }\n        return true;\n    }\n\n}\n```","source":"_posts/Restore  IP address.md","raw":"title: Restore  IP address\ndate: 2018-12-30\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Restore  IP address，returning all possible valid IP address combinations.\n---\n## 题目描述\n  ### Given a string containing only digits, restore it by returning all possible valid IP address combinations.\n ## Examples\n``` java\nExample 1:\nInput: \"25525511135\"\nOutput: [\"255.255.11.135\", \"255.255.111.35\"]\n```\n\n## Solution\n　　直接暴力DP\n　　两点：\n 　　　　1. 每个节点不能超过255\n 　　　　2. substring（i, j）, j是取不到的\n 　　　　3. 不允许出现以0为首长度>1的IP地址，即使是03\n\n  \t\t\t\t\t\t\n\n## Code\n\n```java\n class Solution {\n         public List<String> restoreIpAddresses(String s) {\n        int length = s.length();\n        List<String> list = new ArrayList<>();\n        String s1, s2, s3, s4;\n        for (int i = 1; i < 4 && i < length - 2; i++) {\n            for (int j = i + 1; j < i + 4 && j < length - 1; j++) {\n                for (int k = j + 1; k < j + 4 && k < length; k++) {\n                    s1 = s.substring(0, i);\n                    s2 = s.substring(i, j);\n                    s3 = s.substring(j, k);\n                    s4 = s.substring(k, length);\n                    if (isValid(s1) && isValid(s2) && isValid(s3) && isValid(s4)) {\n                        s1 = s1 + '.' + s2 + '.' + s3 + '.' + s4;\n                        list.add(s1);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    private boolean isValid(String s) {\n        int length = s.length();\n        if (length > 3 || length == 0 || Integer.parseInt(s) > 255 || (s.charAt(0) == '0' && length > 1)) {\n            return false;\n        }\n        return true;\n    }\n\n}\n```","slug":"Restore  IP address","published":1,"updated":"2020-02-13T07:16:09.056Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay02006cqr3ljvhisj3k"},{"title":"Retrofit源码解析","date":"2019-03-02T16:00:00.000Z","description":"　　","_content":"## 简述Retrofit流程\n![enter description here](/images/retrofit_process.png)\n1. 通过注解配置API参数\n2. 动态代理生成serviceMethod用以解析接口，生成request，返回Call对象\n3. CallAdapter将Call转化为ExecutorCallbackcall\n3. Converter(解析数据并转换成T)\n## Retrofit的创建\n```java\npublic interface Api {\n    @GET(\"/api/{user} \")\n    Call<Author> getAuthor(@Path(\"user\") String user)\n\t//Rxjava\n\t@GET(\"/api/{user} \")\n    Observable<Author> getAuthor(@Path(\"user\") String user)\n}\n\nRetrofit retrofit = new Retrofit.Builder()\n    .baseUrl(API_URL)\n    .addConverterFactory(GsonConverterFactory.create())\n\t.addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n    .build();\n```\n采用了建造者模式和外观模式；\n外观模式：Retrofit给我们暴露的方法和类不多。核心类就是Retrofit，我们只管配置Retrofit，然后做请求。剩下的事情就跟上层无关了，只需要等待回调。这样大大降低了系统的耦合度。\n建造者模式：动态添加对象属性，提高代码可读性。\n进入Build（）\n```java\npublic Builder() {\n      this(Platform.get());//1\n    }\n\n```\nPlatform.get()：根据不同运行平台获取对应线程池\n进入build()\n```java\n    public Retrofit build() {\n      if (baseUrl == null) {//必须指定URL\n        throw new IllegalStateException(\"Base URL required.\");\n      }\n\n      okhttp3.Call.Factory callFactory = this.callFactory;//this.callFactory是构建时调用callFactory()传入设置的\n      if (callFactory == null) {\n        callFactory = new OkHttpClient();//如果没设置callFactory（），自动创建\n      }\n\n      Executor callbackExecutor = this.callbackExecutor;//callbackExecutor将回调传递到UI线程。\n      if (callbackExecutor == null) {\n        callbackExecutor = platform.defaultCallbackExecutor();\n      }\n\n      // Make a defensive copy of the adapters and add the default Call adapter.\n      List<CallAdapter.Factory> adapterFactories = new ArrayList<>(this.adapterFactories);//adapterFactories存储对Call进行转换的工具如RxJavaCallAdapter,AndroidCallAdapter.\n      adapterFactories.add(platform.defaultCallAdapterFactory(callbackExecutor));//获取默认的callBackAdapterFactory\n\n      // Make a defensive copy of the converters.\n      List<Converter.Factory> converterFactories = new ArrayList<>(this.converterFactories);// converterFactories 用于存储转化数据对象的工具如Gson\n\n      return new Retrofit(callFactory, baseUrl, converterFactories, adapterFactories,\n          callbackExecutor, validateEagerly);\n    }\n\t\n\t\n    public Builder callFactory(okhttp3.Call.Factory factory) {\n      this.callFactory = checkNotNull(factory, \"factory == null\");\n      return this;\n    }\n\t////获取默认的callBackAdapter\nstatic class Android extends Platform {\n    @Override public Executor defaultCallbackExecutor() {\n      return new MainThreadExecutor();\n    }\n \n    @Override CallAdapter.Factory defaultCallAdapterFactory(Executor callbackExecutor) {\n      return new ExecutorCallAdapterFactory(callbackExecutor);\n    }\n \n    static class MainThreadExecutor implements Executor {\n      private final Handler handler = new Handler(Looper.getMainLooper());\n \n      @Override public void execute(Runnable r) {\n        handler.post(r);\n      }\n    }\n```\n  根据传入参数初始化成员变量，值得注意的是获取默认callBackExecutor。其中包含了Handler，用于默认的线程回调。所以onResponse回调在主线程，而okHttp并没有Handler。\n## Call的创建过程\n```java\nApi api = retrofit.create(Api.class);\nCall<ZhuanLanAuthor> call = api.getAuthor(\"night\");\n// 请求数据，并且处理response\ncall.enqueue(new Callback<Author>() {\n    @Override\n    public void onResponse(Response<Author> author) {\n        System.out.println(\"name： \" + author.getName());\n    }\n    @Override\n    public void onFailure(Throwable t) {\n    }\n});\n\napi.getAuthor(\"night\") \n\t\t\t.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Subscriber<Author>() {\n                @Override\n                public void onCompleted() {\n                    Toast.makeText(MainActivity.this, \"Get Top Movie Completed\", Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onError(Throwable e) {\n\t\t\t\t\n                }\n\n                @Override\n                public void onNext(Author author) {\n                   //do something\n                }\n            });\n```\n进入create方法\n```java\n@SuppressWarnings(\"unchecked\") // Single-interface proxy creation guarded by parameter safety.\n  public <T> T create(final Class<T> service) {\n    Utils.validateServiceInterface(service);\n    if (validateEagerly) {\n      eagerlyValidateMethods(service);\n    }\n    return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class<?>[] { service },\n        new InvocationHandler() {\n          private final Platform platform = Platform.get();\n\n          @Override public Object invoke(Object proxy, Method method, Object[] args)\n              throws Throwable {\n            // If the method is a method from Object then defer to normal invocation.\n            if (method.getDeclaringClass() == Object.class) {\n              return method.invoke(this, args);\n            }\n            if (platform.isDefaultMethod(method)) {\n              return platform.invokeDefaultMethod(method, service, proxy, args);\n            }\n            ServiceMethod<Object, Object> serviceMethod =\n                (ServiceMethod<Object, Object>) loadServiceMethod(method);//1 ，注意哈\n            OkHttpCall<Object> okHttpCall = new OkHttpCall<>(serviceMethod, args);\n            return serviceMethod.callAdapter.adapt(okHttpCall);//2.\n          }\n        });\n  }\n  \n  \n  ServiceMethod<?, ?> loadServiceMethod(Method method) {\n    ServiceMethod<?, ?> result = serviceMethodCache.get(method);//查询传入的方法是否有缓存。有的话就用缓存ServiceMethod；如果没有就创建一个。这是Retrofit的缓存方法机制\n    if (result != null) return result;\n\n    synchronized (serviceMethodCache) {\n      result = serviceMethodCache.get(method);\n      if (result == null) {\n        result = new ServiceMethod.Builder<>(this, method).build();\n        serviceMethodCache.put(method, result);\n      }\n    }\n    return result;\n  }\n```\ncreate()返回了一个Proxy.newProxyInstance动态代理对象，那么问题来了...动态代理是个什么东西？看Retrofit代码之前我知道Java动态代理是一个很重要的东西，比如在Spring框架里大量的用到，但是它有什么用呢？Java动态代理就是给了程序员一种可能：当你要调用某个Class的方法前或后，插入你想要执行的代码。比如你要执行某个操作前，你必须要判断这个用户是否登录，或者你在付款前，你需要判断这个人的账户中存在这么多钱。\n### 为何使用动态代理\n获取数据的代码就是这句:\n```java\nCall<Author> call = api.getAuthor(\"night\");\n```\n上面`api`对象其实是一个动态代理对象，并不是一个真正的`Api`接口的implements产生的对象，当`api`对象调用`getAuthor`方法时会被动态代理拦截，然后调用`Proxy.newProxyInstance`方法中的InvocationHandler对象，它的`invoke`方法会传入3个参数：\n- Object proxy: 代理对象，不关心这个\n- Method method：调用的方法，就是`getAuthor`方法\n- Object... args：方法的参数，就是`\"night\"`\n\n而Retrofit关心的就是method和它的参数args，接下去Retrofit就会用Java反射获取到getAuthor方法的注解信息，配合args参数，创建一个`ServiceMethod`对象.\n\n`ServiceMethod`就像是一个中央处理器，传入`Retrofit`对象和`Method`对象，调用各个接口和解析器，最终生成一个`Request`，包含api 的域名、path、http请求方法、请求头、是否有body、是否是multipart等等。最后返回一个`Call`对象，Retrofit2中Call接口的默认实现是OkHttpCall，它默认使用OkHttp3作为底层http请求client\n\n使用Java动态代理的目的就要拦截被调用的Java方法，然后解析这个Java方法的注解，最后生成Request由OkHttp发送. \n### ServiceMethod\n```java\npublic ServiceMethod build(){\n      callAdapter = createCallAdapter();\n      responseType = callAdapter.responseType();\n      if (responseType == Response.class || responseType == okhttp3.Response.class) {\n        throw methodError(\"'\"\n            + Utils.getRawType(responseType).getName()\n            + \"' is not a valid response body type. Did you mean ResponseBody?\");\n      }\n      responseConverter = createResponseConverter();\n\n      for (Annotation annotation : methodAnnotations) {\n        parseMethodAnnotation(annotation);\n      }\n...\nint parameterCount = parameterAnnotationsArray.length;\n      parameterHandlers = new ParameterHandler<?>[parameterCount];\n      for (int p = 0; p < parameterCount; p++) {\n        Type parameterType = parameterTypes[p];\n        if (Utils.hasUnresolvableType(parameterType)) {\n          throw parameterError(p, \"Parameter type must not include a type variable or wildcard: %s\",\n              parameterType);\n        }\n\n        Annotation[] parameterAnnotations = parameterAnnotationsArray[p];\n        if (parameterAnnotations == null) {\n          throw parameterError(p, \"No Retrofit annotation found.\");\n        }\n\n        parameterHandlers[p] = parseParameter(p, parameterType, parameterAnnotations);\n      }\n  ...\n      return new ServiceMethod<>(this);\n    }\n```\n重点关注四个成员：callFactory，callAdapter，responseConverter和 parameterHandlers。\n\n1. `callFactory` 负责创建 HTTP 请求，HTTP 请求被抽象为了 okhttp3.Call 类，它表示一个已经准备好，可以随时执行的 HTTP 请求；\n\n2. `callAdapter` 把 retrofit2.Call< T > 转为 T（注意和 okhttp3.Call 区分开来，retrofit2.Call< T > 表示的是对一个 Retrofit 方法的调用），这个过程会发送一个 HTTP 请求，拿到服务器返回的数据（通过 okhttp3.Call 实现），并把数据转换为声明的 T 类型对象（通过 Converter<F, T> 实现）；可设置为 RxJavaCallAdapter\n3. `responseConverter` 是 Converter< ResponseBody, T > 类型，负责把服务器返回的数据（JSON、XML、二进制或者其他格式，由 ResponseBody 封装）转化为 T 类型的对象；\n4. `parameterHandlers` 则负责解析 API 定义时每个方法的参数，并在构造 HTTP 请求时设置参数；\n\n<a name = \"GsonConverterFactory声明处\" href=\"#GsonConverterFactory调用处\">GsonConverterFactory声明处</a>，接着回到create中的注释2处\n### ExecutorCallbackCall\n适配器模式： serviceMethod.callAdapter.adapt(okHttpCall);其中adapter方法会创建ExecutorCallbackCall.。而`ExecutorCallbackCall` 会将call回调主线程。如果采用的是RxJavaCallAdapter，则不会通过ExecutorCallbackCall进行发送网络请求以及回调主线程。\n\n将传入的 okHttpCall 转换为 ExecutorCallbackCall， 为什么要转换呢？因为要给okHttpCall添加回调主线程功能。普通的OkHttp的Response都是运行在子线程必须要自己设置Handler回调,而ExecutorCallbackCall内置有Handler进行回调，见PlatForm处\n\n```java\n  @Override\n  public CallAdapter<?, ?> get(Type returnType, Annotation[] annotations, Retrofit retrofit) {\n    if (getRawType(returnType) != Call.class) {\n      return null;\n    }\n    final Type responseType = Utils.getCallResponseType(returnType);\n    return new CallAdapter<Object, Call<?>>() {\n      @Override public Type responseType() {\n        return responseType;\n      }\n\n      @Override public Call<Object> adapt(Call<Object> call) {\n        return new ExecutorCallbackCall<>(callbackExecutor, call);\n      }\n    };\n  }\n\n```\n进入ExecutorCallbackCall\n```java\nstatic final class ExecutorCallbackCall<T> implements Call<T> {\n    final Executor callbackExecutor;\n    final Call<T> delegate;\n\n    ExecutorCallbackCall(Executor callbackExecutor, Call<T> delegate) {\n      this.callbackExecutor = callbackExecutor;\n      this.delegate = delegate;\n    }\n\n    @Override public void enqueue(final Callback<T> callback) {\n      if (callback == null) throw new NullPointerException(\"callback == null\");\n\n      delegate.enqueue(new Callback<T>() {\n        @Override public void onResponse(Call<T> call, final Response<T> response) {\n          callbackExecutor.execute(new Runnable() {\n            @Override public void run() {\n              if (delegate.isCanceled()) {\n                // Emulate OkHttp's behavior of throwing/delivering an IOException on cancellation.\n                callback.onFailure(ExecutorCallbackCall.this, new IOException(\"Canceled\"));\n              } else {\n                callback.onResponse(ExecutorCallbackCall.this, response);\n              }\n            }\n          });\n        }\n\n        @Override public void onFailure(Call<T> call, final Throwable t) {\n          callbackExecutor.execute(new Runnable() {\n            @Override public void run() {\n              callback.onFailure(ExecutorCallbackCall.this, t);\n            }\n          });\n        }\n      });\n    }\n...\n```\n装饰者模式：ExecutorCallbackCall 主要是通过前面提及的 `callbackExecutor `将请求回调到主线程，当我们得到`call`调用enqueue方法时，实则是在调用`ExecutorCallbackCall`的enqueue方法。而enqueue中实则是在调用中传入的`OkHttpCall(delegate)`的enqueue方法。而这个OkHttpCall 是在`Retrofit.create`中创建的.\n\nExecutorCallbackCall当作是Wrapper，而真正去执行请求的源Source是OkHttpCall。之所以要有个Wrapper类，是希望在源Source操作时去做一些额外操作。这里的操作就是线程转换，将子线程切换到主线程上去。\nenqueue()方法是异步的，也就是说，当你调用OkHttpCall的enqueue方法，回调的callback是在子线程中的，如果你希望在主线程接受回调，那需要通过Handler转换到主线程上去。ExecutorCallbackCall就是用来干这个事。当然以上是原生retrofit使用的切换线程方式。如果你用rxjava，那就不会用到这个ExecutorCallbackCall而是RxJava的Call了。最后流程图会有揭示\n\n进入OkHttpCall的enqueue()\n### OKHttpCall\n\n```java\n  @Override public void enqueue(final Callback<T> callback) {\n    if (callback == null) throw new NullPointerException(\"callback == null\");\n\n    okhttp3.Call call;\n    Throwable failure;\n...\n    call.enqueue(new okhttp3.Callback() {// 1.  调用OkHttp3类型的call的enqueue方法。\n      @Override public void onResponse(okhttp3.Call call, okhttp3.Response rawResponse)\n          throws IOException {\n        Response<T> response;\n        try {\n          response = parseResponse(rawResponse);\n        } catch (Throwable e) {\n          callFailure(e);\n          return;\n        }\n        callSuccess(response);\n      }\n\n      @Override public void onFailure(okhttp3.Call call, IOException e) {\n        try {\n          callback.onFailure(OkHttpCall.this, e);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n\n      private void callFailure(Throwable e) {\n        try {\n          callback.onFailure(OkHttpCall.this, e);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n\n      private void callSuccess(Response<T> response) {\n        try {\n          callback.onResponse(OkHttpCall.this, response);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n    });\n  }\n```\n再进入parseResponse方法\n```java\nResponse<T> parseResponse(okhttp3.Response rawResponse) throws IOException {\n    ResponseBody rawBody = rawResponse.body();\n...\n    int code = rawResponse.code();\n    if (code < 200 || code >= 300) {\n      try {\n        // Buffer the entire body to avoid future I/O.\n        ResponseBody bufferedBody = Utils.buffer(rawBody);\n        return Response.error(bufferedBody, rawResponse);\n      } finally {\n        rawBody.close();\n      }\n    }\n\n    if (code == 204 || code == 205) {\n      rawBody.close();\n      return Response.success(null, rawResponse);\n    }\n\n    ExceptionCatchingRequestBody catchingBody = new ExceptionCatchingRequestBody(rawBody);\n    try {\n      T body = serviceMethod.toResponse(catchingBody);\n      return Response.success(body, rawResponse);\n    } catch (RuntimeException e) {\n      // If the underlying source threw an exception, propagate that rather than indicating it was\n      // a runtime exception.\n      catchingBody.throwIfCaught();\n      throw e;\n    }\n  }\n```\n根据状态码进行对应操作，成功返回的情况下进入ServiceMethod.toResponse（）\n<a name=\"GsonConverterFactory调用处\" href = \"#GsonConverterFactory声明处\">GsonConverterFactory声明处</a>\n```java\n  R toResponse(ResponseBody body) throws IOException {\n    return responseConverter.convert(body);\n  }\n\n```\n通过此前提到在ServiceMethod的build()中获得了`GsonConverterFactory`\n来完成数据转换。\n\n## 总结\n![design_pattern](/images/retrofit_stay.png)\n","source":"_posts/Retrofit源码解析.md","raw":"title: Retrofit源码解析\ndate: 2019-3-3\ntags: [Android,开源框架]\ncategories: 源码解析\ndescription: 　　\n---\n## 简述Retrofit流程\n![enter description here](/images/retrofit_process.png)\n1. 通过注解配置API参数\n2. 动态代理生成serviceMethod用以解析接口，生成request，返回Call对象\n3. CallAdapter将Call转化为ExecutorCallbackcall\n3. Converter(解析数据并转换成T)\n## Retrofit的创建\n```java\npublic interface Api {\n    @GET(\"/api/{user} \")\n    Call<Author> getAuthor(@Path(\"user\") String user)\n\t//Rxjava\n\t@GET(\"/api/{user} \")\n    Observable<Author> getAuthor(@Path(\"user\") String user)\n}\n\nRetrofit retrofit = new Retrofit.Builder()\n    .baseUrl(API_URL)\n    .addConverterFactory(GsonConverterFactory.create())\n\t.addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n    .build();\n```\n采用了建造者模式和外观模式；\n外观模式：Retrofit给我们暴露的方法和类不多。核心类就是Retrofit，我们只管配置Retrofit，然后做请求。剩下的事情就跟上层无关了，只需要等待回调。这样大大降低了系统的耦合度。\n建造者模式：动态添加对象属性，提高代码可读性。\n进入Build（）\n```java\npublic Builder() {\n      this(Platform.get());//1\n    }\n\n```\nPlatform.get()：根据不同运行平台获取对应线程池\n进入build()\n```java\n    public Retrofit build() {\n      if (baseUrl == null) {//必须指定URL\n        throw new IllegalStateException(\"Base URL required.\");\n      }\n\n      okhttp3.Call.Factory callFactory = this.callFactory;//this.callFactory是构建时调用callFactory()传入设置的\n      if (callFactory == null) {\n        callFactory = new OkHttpClient();//如果没设置callFactory（），自动创建\n      }\n\n      Executor callbackExecutor = this.callbackExecutor;//callbackExecutor将回调传递到UI线程。\n      if (callbackExecutor == null) {\n        callbackExecutor = platform.defaultCallbackExecutor();\n      }\n\n      // Make a defensive copy of the adapters and add the default Call adapter.\n      List<CallAdapter.Factory> adapterFactories = new ArrayList<>(this.adapterFactories);//adapterFactories存储对Call进行转换的工具如RxJavaCallAdapter,AndroidCallAdapter.\n      adapterFactories.add(platform.defaultCallAdapterFactory(callbackExecutor));//获取默认的callBackAdapterFactory\n\n      // Make a defensive copy of the converters.\n      List<Converter.Factory> converterFactories = new ArrayList<>(this.converterFactories);// converterFactories 用于存储转化数据对象的工具如Gson\n\n      return new Retrofit(callFactory, baseUrl, converterFactories, adapterFactories,\n          callbackExecutor, validateEagerly);\n    }\n\t\n\t\n    public Builder callFactory(okhttp3.Call.Factory factory) {\n      this.callFactory = checkNotNull(factory, \"factory == null\");\n      return this;\n    }\n\t////获取默认的callBackAdapter\nstatic class Android extends Platform {\n    @Override public Executor defaultCallbackExecutor() {\n      return new MainThreadExecutor();\n    }\n \n    @Override CallAdapter.Factory defaultCallAdapterFactory(Executor callbackExecutor) {\n      return new ExecutorCallAdapterFactory(callbackExecutor);\n    }\n \n    static class MainThreadExecutor implements Executor {\n      private final Handler handler = new Handler(Looper.getMainLooper());\n \n      @Override public void execute(Runnable r) {\n        handler.post(r);\n      }\n    }\n```\n  根据传入参数初始化成员变量，值得注意的是获取默认callBackExecutor。其中包含了Handler，用于默认的线程回调。所以onResponse回调在主线程，而okHttp并没有Handler。\n## Call的创建过程\n```java\nApi api = retrofit.create(Api.class);\nCall<ZhuanLanAuthor> call = api.getAuthor(\"night\");\n// 请求数据，并且处理response\ncall.enqueue(new Callback<Author>() {\n    @Override\n    public void onResponse(Response<Author> author) {\n        System.out.println(\"name： \" + author.getName());\n    }\n    @Override\n    public void onFailure(Throwable t) {\n    }\n});\n\napi.getAuthor(\"night\") \n\t\t\t.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Subscriber<Author>() {\n                @Override\n                public void onCompleted() {\n                    Toast.makeText(MainActivity.this, \"Get Top Movie Completed\", Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onError(Throwable e) {\n\t\t\t\t\n                }\n\n                @Override\n                public void onNext(Author author) {\n                   //do something\n                }\n            });\n```\n进入create方法\n```java\n@SuppressWarnings(\"unchecked\") // Single-interface proxy creation guarded by parameter safety.\n  public <T> T create(final Class<T> service) {\n    Utils.validateServiceInterface(service);\n    if (validateEagerly) {\n      eagerlyValidateMethods(service);\n    }\n    return (T) Proxy.newProxyInstance(service.getClassLoader(), new Class<?>[] { service },\n        new InvocationHandler() {\n          private final Platform platform = Platform.get();\n\n          @Override public Object invoke(Object proxy, Method method, Object[] args)\n              throws Throwable {\n            // If the method is a method from Object then defer to normal invocation.\n            if (method.getDeclaringClass() == Object.class) {\n              return method.invoke(this, args);\n            }\n            if (platform.isDefaultMethod(method)) {\n              return platform.invokeDefaultMethod(method, service, proxy, args);\n            }\n            ServiceMethod<Object, Object> serviceMethod =\n                (ServiceMethod<Object, Object>) loadServiceMethod(method);//1 ，注意哈\n            OkHttpCall<Object> okHttpCall = new OkHttpCall<>(serviceMethod, args);\n            return serviceMethod.callAdapter.adapt(okHttpCall);//2.\n          }\n        });\n  }\n  \n  \n  ServiceMethod<?, ?> loadServiceMethod(Method method) {\n    ServiceMethod<?, ?> result = serviceMethodCache.get(method);//查询传入的方法是否有缓存。有的话就用缓存ServiceMethod；如果没有就创建一个。这是Retrofit的缓存方法机制\n    if (result != null) return result;\n\n    synchronized (serviceMethodCache) {\n      result = serviceMethodCache.get(method);\n      if (result == null) {\n        result = new ServiceMethod.Builder<>(this, method).build();\n        serviceMethodCache.put(method, result);\n      }\n    }\n    return result;\n  }\n```\ncreate()返回了一个Proxy.newProxyInstance动态代理对象，那么问题来了...动态代理是个什么东西？看Retrofit代码之前我知道Java动态代理是一个很重要的东西，比如在Spring框架里大量的用到，但是它有什么用呢？Java动态代理就是给了程序员一种可能：当你要调用某个Class的方法前或后，插入你想要执行的代码。比如你要执行某个操作前，你必须要判断这个用户是否登录，或者你在付款前，你需要判断这个人的账户中存在这么多钱。\n### 为何使用动态代理\n获取数据的代码就是这句:\n```java\nCall<Author> call = api.getAuthor(\"night\");\n```\n上面`api`对象其实是一个动态代理对象，并不是一个真正的`Api`接口的implements产生的对象，当`api`对象调用`getAuthor`方法时会被动态代理拦截，然后调用`Proxy.newProxyInstance`方法中的InvocationHandler对象，它的`invoke`方法会传入3个参数：\n- Object proxy: 代理对象，不关心这个\n- Method method：调用的方法，就是`getAuthor`方法\n- Object... args：方法的参数，就是`\"night\"`\n\n而Retrofit关心的就是method和它的参数args，接下去Retrofit就会用Java反射获取到getAuthor方法的注解信息，配合args参数，创建一个`ServiceMethod`对象.\n\n`ServiceMethod`就像是一个中央处理器，传入`Retrofit`对象和`Method`对象，调用各个接口和解析器，最终生成一个`Request`，包含api 的域名、path、http请求方法、请求头、是否有body、是否是multipart等等。最后返回一个`Call`对象，Retrofit2中Call接口的默认实现是OkHttpCall，它默认使用OkHttp3作为底层http请求client\n\n使用Java动态代理的目的就要拦截被调用的Java方法，然后解析这个Java方法的注解，最后生成Request由OkHttp发送. \n### ServiceMethod\n```java\npublic ServiceMethod build(){\n      callAdapter = createCallAdapter();\n      responseType = callAdapter.responseType();\n      if (responseType == Response.class || responseType == okhttp3.Response.class) {\n        throw methodError(\"'\"\n            + Utils.getRawType(responseType).getName()\n            + \"' is not a valid response body type. Did you mean ResponseBody?\");\n      }\n      responseConverter = createResponseConverter();\n\n      for (Annotation annotation : methodAnnotations) {\n        parseMethodAnnotation(annotation);\n      }\n...\nint parameterCount = parameterAnnotationsArray.length;\n      parameterHandlers = new ParameterHandler<?>[parameterCount];\n      for (int p = 0; p < parameterCount; p++) {\n        Type parameterType = parameterTypes[p];\n        if (Utils.hasUnresolvableType(parameterType)) {\n          throw parameterError(p, \"Parameter type must not include a type variable or wildcard: %s\",\n              parameterType);\n        }\n\n        Annotation[] parameterAnnotations = parameterAnnotationsArray[p];\n        if (parameterAnnotations == null) {\n          throw parameterError(p, \"No Retrofit annotation found.\");\n        }\n\n        parameterHandlers[p] = parseParameter(p, parameterType, parameterAnnotations);\n      }\n  ...\n      return new ServiceMethod<>(this);\n    }\n```\n重点关注四个成员：callFactory，callAdapter，responseConverter和 parameterHandlers。\n\n1. `callFactory` 负责创建 HTTP 请求，HTTP 请求被抽象为了 okhttp3.Call 类，它表示一个已经准备好，可以随时执行的 HTTP 请求；\n\n2. `callAdapter` 把 retrofit2.Call< T > 转为 T（注意和 okhttp3.Call 区分开来，retrofit2.Call< T > 表示的是对一个 Retrofit 方法的调用），这个过程会发送一个 HTTP 请求，拿到服务器返回的数据（通过 okhttp3.Call 实现），并把数据转换为声明的 T 类型对象（通过 Converter<F, T> 实现）；可设置为 RxJavaCallAdapter\n3. `responseConverter` 是 Converter< ResponseBody, T > 类型，负责把服务器返回的数据（JSON、XML、二进制或者其他格式，由 ResponseBody 封装）转化为 T 类型的对象；\n4. `parameterHandlers` 则负责解析 API 定义时每个方法的参数，并在构造 HTTP 请求时设置参数；\n\n<a name = \"GsonConverterFactory声明处\" href=\"#GsonConverterFactory调用处\">GsonConverterFactory声明处</a>，接着回到create中的注释2处\n### ExecutorCallbackCall\n适配器模式： serviceMethod.callAdapter.adapt(okHttpCall);其中adapter方法会创建ExecutorCallbackCall.。而`ExecutorCallbackCall` 会将call回调主线程。如果采用的是RxJavaCallAdapter，则不会通过ExecutorCallbackCall进行发送网络请求以及回调主线程。\n\n将传入的 okHttpCall 转换为 ExecutorCallbackCall， 为什么要转换呢？因为要给okHttpCall添加回调主线程功能。普通的OkHttp的Response都是运行在子线程必须要自己设置Handler回调,而ExecutorCallbackCall内置有Handler进行回调，见PlatForm处\n\n```java\n  @Override\n  public CallAdapter<?, ?> get(Type returnType, Annotation[] annotations, Retrofit retrofit) {\n    if (getRawType(returnType) != Call.class) {\n      return null;\n    }\n    final Type responseType = Utils.getCallResponseType(returnType);\n    return new CallAdapter<Object, Call<?>>() {\n      @Override public Type responseType() {\n        return responseType;\n      }\n\n      @Override public Call<Object> adapt(Call<Object> call) {\n        return new ExecutorCallbackCall<>(callbackExecutor, call);\n      }\n    };\n  }\n\n```\n进入ExecutorCallbackCall\n```java\nstatic final class ExecutorCallbackCall<T> implements Call<T> {\n    final Executor callbackExecutor;\n    final Call<T> delegate;\n\n    ExecutorCallbackCall(Executor callbackExecutor, Call<T> delegate) {\n      this.callbackExecutor = callbackExecutor;\n      this.delegate = delegate;\n    }\n\n    @Override public void enqueue(final Callback<T> callback) {\n      if (callback == null) throw new NullPointerException(\"callback == null\");\n\n      delegate.enqueue(new Callback<T>() {\n        @Override public void onResponse(Call<T> call, final Response<T> response) {\n          callbackExecutor.execute(new Runnable() {\n            @Override public void run() {\n              if (delegate.isCanceled()) {\n                // Emulate OkHttp's behavior of throwing/delivering an IOException on cancellation.\n                callback.onFailure(ExecutorCallbackCall.this, new IOException(\"Canceled\"));\n              } else {\n                callback.onResponse(ExecutorCallbackCall.this, response);\n              }\n            }\n          });\n        }\n\n        @Override public void onFailure(Call<T> call, final Throwable t) {\n          callbackExecutor.execute(new Runnable() {\n            @Override public void run() {\n              callback.onFailure(ExecutorCallbackCall.this, t);\n            }\n          });\n        }\n      });\n    }\n...\n```\n装饰者模式：ExecutorCallbackCall 主要是通过前面提及的 `callbackExecutor `将请求回调到主线程，当我们得到`call`调用enqueue方法时，实则是在调用`ExecutorCallbackCall`的enqueue方法。而enqueue中实则是在调用中传入的`OkHttpCall(delegate)`的enqueue方法。而这个OkHttpCall 是在`Retrofit.create`中创建的.\n\nExecutorCallbackCall当作是Wrapper，而真正去执行请求的源Source是OkHttpCall。之所以要有个Wrapper类，是希望在源Source操作时去做一些额外操作。这里的操作就是线程转换，将子线程切换到主线程上去。\nenqueue()方法是异步的，也就是说，当你调用OkHttpCall的enqueue方法，回调的callback是在子线程中的，如果你希望在主线程接受回调，那需要通过Handler转换到主线程上去。ExecutorCallbackCall就是用来干这个事。当然以上是原生retrofit使用的切换线程方式。如果你用rxjava，那就不会用到这个ExecutorCallbackCall而是RxJava的Call了。最后流程图会有揭示\n\n进入OkHttpCall的enqueue()\n### OKHttpCall\n\n```java\n  @Override public void enqueue(final Callback<T> callback) {\n    if (callback == null) throw new NullPointerException(\"callback == null\");\n\n    okhttp3.Call call;\n    Throwable failure;\n...\n    call.enqueue(new okhttp3.Callback() {// 1.  调用OkHttp3类型的call的enqueue方法。\n      @Override public void onResponse(okhttp3.Call call, okhttp3.Response rawResponse)\n          throws IOException {\n        Response<T> response;\n        try {\n          response = parseResponse(rawResponse);\n        } catch (Throwable e) {\n          callFailure(e);\n          return;\n        }\n        callSuccess(response);\n      }\n\n      @Override public void onFailure(okhttp3.Call call, IOException e) {\n        try {\n          callback.onFailure(OkHttpCall.this, e);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n\n      private void callFailure(Throwable e) {\n        try {\n          callback.onFailure(OkHttpCall.this, e);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n\n      private void callSuccess(Response<T> response) {\n        try {\n          callback.onResponse(OkHttpCall.this, response);\n        } catch (Throwable t) {\n          t.printStackTrace();\n        }\n      }\n    });\n  }\n```\n再进入parseResponse方法\n```java\nResponse<T> parseResponse(okhttp3.Response rawResponse) throws IOException {\n    ResponseBody rawBody = rawResponse.body();\n...\n    int code = rawResponse.code();\n    if (code < 200 || code >= 300) {\n      try {\n        // Buffer the entire body to avoid future I/O.\n        ResponseBody bufferedBody = Utils.buffer(rawBody);\n        return Response.error(bufferedBody, rawResponse);\n      } finally {\n        rawBody.close();\n      }\n    }\n\n    if (code == 204 || code == 205) {\n      rawBody.close();\n      return Response.success(null, rawResponse);\n    }\n\n    ExceptionCatchingRequestBody catchingBody = new ExceptionCatchingRequestBody(rawBody);\n    try {\n      T body = serviceMethod.toResponse(catchingBody);\n      return Response.success(body, rawResponse);\n    } catch (RuntimeException e) {\n      // If the underlying source threw an exception, propagate that rather than indicating it was\n      // a runtime exception.\n      catchingBody.throwIfCaught();\n      throw e;\n    }\n  }\n```\n根据状态码进行对应操作，成功返回的情况下进入ServiceMethod.toResponse（）\n<a name=\"GsonConverterFactory调用处\" href = \"#GsonConverterFactory声明处\">GsonConverterFactory声明处</a>\n```java\n  R toResponse(ResponseBody body) throws IOException {\n    return responseConverter.convert(body);\n  }\n\n```\n通过此前提到在ServiceMethod的build()中获得了`GsonConverterFactory`\n来完成数据转换。\n\n## 总结\n![design_pattern](/images/retrofit_stay.png)\n","slug":"Retrofit源码解析","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay03006gqr3ldr5rcg4s"},{"title":"Reverse the string","date":"2018-12-28T16:00:00.000Z","description":"Reverse the string word by word.","_content":"## 题目描述\n  ### Given an input string, reverse the string word by word.A word is defined as a sequence of non-space characters.Input string may contain leading or trailing spaces. However, your reversed string should not contain leading or trailing spaces.You need to reduce multiple spaces between two words to a single space in the reversed string.\n ## Examples\n``` java\nExample 1:\nInput: \"the sky is blue\",\nOutput: \"blue is sky the\".\n```\n```java\nExample 2:\nInput: \"\",\nOutput: \"\".\n```\n```java\nExample 3:\nInput: \"   \",\nOutput: \"\".\n\n```\n\n## Solution\n  思路是以“ ”作为分隔符，再通过流转换消去所有“”，但这样太过耗时，总共跑了70ms，可以尝试通过拼接字符串的方式降低时间复杂度。\n  还有个Split坑，以前用都没感觉到，这次空格数多了发现和预期有差异。进入Split源码\n ```java\n int resultSize = list.size();\n            if (limit == 0) {//controls the number of times the pattern is applied  \n\t\t\t// limit = n :  The pattern is applied n-1 times,limit = 0 :the pattern will be applied as many times as possible\n                while (resultSize > 0 && list.get(resultSize - 1).length() == 0) {\n                    resultSize--;\n                }\n            }\n\t\t\tString[] result = new String[resultSize];\n            return list.subList(0, resultSize).toArray(result);\n ```\n   默认调用的split（regex）,它会调用split(regex,0).所以在list末尾处若出现 “”，就将ressultSize--;最后再截取list返回array。\n## Code\n\n```java\n public String reverseWords(String s) {\n        if (null == s || s.equals(\"\")) {\n            return \"\";\n        }\n        String[] strings = s.split(\" \",-1);//全部split,不进行尾处理\n        StringBuilder sb = new StringBuilder();\n        for (int i = strings.length - 1; i >= 0; i--) {\n            s = strings[i].trim();\n            if(s.length() > 0) sb.append(' ');\n            sb.append(s);\n        }\n        return sb.toString().trim();\n    }\n```","source":"_posts/Reverse the string word by word.md","raw":"title: Reverse the string\ndate: 2018-12-29\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Reverse the string word by word.\n---\n## 题目描述\n  ### Given an input string, reverse the string word by word.A word is defined as a sequence of non-space characters.Input string may contain leading or trailing spaces. However, your reversed string should not contain leading or trailing spaces.You need to reduce multiple spaces between two words to a single space in the reversed string.\n ## Examples\n``` java\nExample 1:\nInput: \"the sky is blue\",\nOutput: \"blue is sky the\".\n```\n```java\nExample 2:\nInput: \"\",\nOutput: \"\".\n```\n```java\nExample 3:\nInput: \"   \",\nOutput: \"\".\n\n```\n\n## Solution\n  思路是以“ ”作为分隔符，再通过流转换消去所有“”，但这样太过耗时，总共跑了70ms，可以尝试通过拼接字符串的方式降低时间复杂度。\n  还有个Split坑，以前用都没感觉到，这次空格数多了发现和预期有差异。进入Split源码\n ```java\n int resultSize = list.size();\n            if (limit == 0) {//controls the number of times the pattern is applied  \n\t\t\t// limit = n :  The pattern is applied n-1 times,limit = 0 :the pattern will be applied as many times as possible\n                while (resultSize > 0 && list.get(resultSize - 1).length() == 0) {\n                    resultSize--;\n                }\n            }\n\t\t\tString[] result = new String[resultSize];\n            return list.subList(0, resultSize).toArray(result);\n ```\n   默认调用的split（regex）,它会调用split(regex,0).所以在list末尾处若出现 “”，就将ressultSize--;最后再截取list返回array。\n## Code\n\n```java\n public String reverseWords(String s) {\n        if (null == s || s.equals(\"\")) {\n            return \"\";\n        }\n        String[] strings = s.split(\" \",-1);//全部split,不进行尾处理\n        StringBuilder sb = new StringBuilder();\n        for (int i = strings.length - 1; i >= 0; i--) {\n            s = strings[i].trim();\n            if(s.length() > 0) sb.append(' ');\n            sb.append(s);\n        }\n        return sb.toString().trim();\n    }\n```","slug":"Reverse the string word by word","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay04006jqr3l6m3vgghz"},{"title":"Russian doll envelopes","date":"2019-01-09T16:00:00.000Z","description":"Find the maximum number of envelopes can you Russian doll? (put one inside other)","_content":"## Problem description\n  ### You have a number of envelopes with widths and heights given as a pair of integers (w, h). One envelope can fit into another if and only if both the width and height of one envelope is greater than the width and height of the other envelope.\n\n### What is the maximum number of envelopes can you Russian doll? (put one inside other)\n\n### Note:Rotation is not allowed.\n\n ## Examples\n``` java\nExample 1:\nInput: [[5,4],[6,4],[6,7],[2,3]]\nOutput: 3 \nExplanation: The maximum number of envelopes you can Russian doll is 3 ([2,3] => [5,4] => [6,7]).\n```\n## Solution\n　　 这是一个二维LIS（Longest Increasing Subsequence）问题，可以通过先以宽度进行递增排序从而降维处理，即宽度有序仅需处理长度即可。再求长度最长递增子序列，注意的是当宽度相同时，要取长度最小的序列。有一点贪心的思想。长度越小，可放入的信封相应的也就越多。   \n　　求递增子序列长度时不能直接双层遍历O(n^2)，可通过二分查找来查找降低为O(nlogn). 这里二分的思想有些奥妙。先是创建H数组存储\"子序列的\"最大递增子序列的末尾元素。通过二分查找H数组中元素（原数组中的最大递增子序列的最末元素）小于ai的长度最大的最大递增子序列；再令H[low] = ai.将长度为low的最大递增子序列的末尾元素置为ai。如果low 等于lenth的话，意味着最长递增序列的长度为 low + 1，所以length++。\n## Code\n\n```java\n class Solution {\n    public int maxEnvelopes(int[][] envelopes) {\n        Arrays.sort(envelopes, ((o1, o2) -> {\n            if (o1[0] != o2[0]) {\n                return o1[0] - o2[0];\n            }\n            return o2[1] - o1[1];//select lower height\n        }));\n\n        int len = 0;\n        int[] h = new int[envelopes.length];\n        int low, high ,m;\n        for (int[] envelope : envelopes) {\n            low = 0;\n            high = len - 1;\n            while (low <= high) {\n                m = (low + high) / 2;\n                if ((h[m] < envelope[1])) {\n                    low = m + 1;\n                } else {\n                    high = m - 1;\n                }\n            }\n            h[low] = envelope[1];\n            if (low == len) {\n                len++;\n            }\n        }\n        return len;\n    }\n}\n```","source":"_posts/Russian doll envelopes.md","raw":"title:  Russian doll envelopes\ndate: 2019-1-10\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Find the maximum number of envelopes can you Russian doll? (put one inside other)\n---\n## Problem description\n  ### You have a number of envelopes with widths and heights given as a pair of integers (w, h). One envelope can fit into another if and only if both the width and height of one envelope is greater than the width and height of the other envelope.\n\n### What is the maximum number of envelopes can you Russian doll? (put one inside other)\n\n### Note:Rotation is not allowed.\n\n ## Examples\n``` java\nExample 1:\nInput: [[5,4],[6,4],[6,7],[2,3]]\nOutput: 3 \nExplanation: The maximum number of envelopes you can Russian doll is 3 ([2,3] => [5,4] => [6,7]).\n```\n## Solution\n　　 这是一个二维LIS（Longest Increasing Subsequence）问题，可以通过先以宽度进行递增排序从而降维处理，即宽度有序仅需处理长度即可。再求长度最长递增子序列，注意的是当宽度相同时，要取长度最小的序列。有一点贪心的思想。长度越小，可放入的信封相应的也就越多。   \n　　求递增子序列长度时不能直接双层遍历O(n^2)，可通过二分查找来查找降低为O(nlogn). 这里二分的思想有些奥妙。先是创建H数组存储\"子序列的\"最大递增子序列的末尾元素。通过二分查找H数组中元素（原数组中的最大递增子序列的最末元素）小于ai的长度最大的最大递增子序列；再令H[low] = ai.将长度为low的最大递增子序列的末尾元素置为ai。如果low 等于lenth的话，意味着最长递增序列的长度为 low + 1，所以length++。\n## Code\n\n```java\n class Solution {\n    public int maxEnvelopes(int[][] envelopes) {\n        Arrays.sort(envelopes, ((o1, o2) -> {\n            if (o1[0] != o2[0]) {\n                return o1[0] - o2[0];\n            }\n            return o2[1] - o1[1];//select lower height\n        }));\n\n        int len = 0;\n        int[] h = new int[envelopes.length];\n        int low, high ,m;\n        for (int[] envelope : envelopes) {\n            low = 0;\n            high = len - 1;\n            while (low <= high) {\n                m = (low + high) / 2;\n                if ((h[m] < envelope[1])) {\n                    low = m + 1;\n                } else {\n                    high = m - 1;\n                }\n            }\n            h[low] = envelope[1];\n            if (low == len) {\n                len++;\n            }\n        }\n        return len;\n    }\n}\n```","slug":"Russian doll envelopes","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay05006nqr3llxa57o0i"},{"title":"Rotate the list","date":"2019-01-19T16:00:00.000Z","description":"Rotate the list to the right by k places","_content":"## Problem description\n  ### Given a linked list, rotate the list to the right by k places, where k is non-negative.\n ## Examples\n``` java\nExample 1:\nInput: 1->2->3->4->5->NULL, k = 2\nOutput: 4->5->1->2->3->NULL\nExplanation:\nrotate 1 steps to the right: 5->1->2->3->4->NULL\nrotate 2 steps to the right: 4->5->1->2->3->NULL\n```\n```java\nExample 2:\nInput: 0->1->2->NULL, k = 4\nOutput: 2->0->1->NULL\nExplanation:\nrotate 1 steps to the right: 2->0->1->NULL\nrotate 2 steps to the right: 1->2->0->NULL\nrotate 3 steps to the right: 0->1->2->NULL\nrotate 4 steps to the right: 2->0->1->NULL\n```\n## Solution\n　　陷入了惯性思维，以为不能修改链表。然后暴力解决。啊~差点超时。看了解析。我擦，原来可以操作链表![enter description here](/images/1547971023240.png)。\n  \n  将单链表变为单循环链表，同时记录链表元素个数num。只需要移动 num - k个元素即为所求。咦~是不是漏了什么？k > num？  不存在的。安排的妥妥的。  k = k % num.每逆序num个不是和没逆序一样吗？hhhhhhhhhhhhhh\n\n## Code\n\n```java\n     public ListNode rotateRight(ListNode head, int k) {\n        if (head == null || head.next == null) {\n            return head;\n        }\n        ListNode p = head;\n        int num = 1;\n        while (p.next != null) {\n            p = p.next;\n            num++;\n        }\n        p.next = head;\n        k %= num;\n        for (int i = 0; i < num - k; i++) {\n            p = p.next;\n        }\n        head = p.next;\n        p.next = null;\n        return head;\n    }\n\n```","source":"_posts/Rotate the list.md","raw":"title: Rotate the list \ndate: 2019-1-20\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: Rotate the list to the right by k places\n---\n## Problem description\n  ### Given a linked list, rotate the list to the right by k places, where k is non-negative.\n ## Examples\n``` java\nExample 1:\nInput: 1->2->3->4->5->NULL, k = 2\nOutput: 4->5->1->2->3->NULL\nExplanation:\nrotate 1 steps to the right: 5->1->2->3->4->NULL\nrotate 2 steps to the right: 4->5->1->2->3->NULL\n```\n```java\nExample 2:\nInput: 0->1->2->NULL, k = 4\nOutput: 2->0->1->NULL\nExplanation:\nrotate 1 steps to the right: 2->0->1->NULL\nrotate 2 steps to the right: 1->2->0->NULL\nrotate 3 steps to the right: 0->1->2->NULL\nrotate 4 steps to the right: 2->0->1->NULL\n```\n## Solution\n　　陷入了惯性思维，以为不能修改链表。然后暴力解决。啊~差点超时。看了解析。我擦，原来可以操作链表![enter description here](/images/1547971023240.png)。\n  \n  将单链表变为单循环链表，同时记录链表元素个数num。只需要移动 num - k个元素即为所求。咦~是不是漏了什么？k > num？  不存在的。安排的妥妥的。  k = k % num.每逆序num个不是和没逆序一样吗？hhhhhhhhhhhhhh\n\n## Code\n\n```java\n     public ListNode rotateRight(ListNode head, int k) {\n        if (head == null || head.next == null) {\n            return head;\n        }\n        ListNode p = head;\n        int num = 1;\n        while (p.next != null) {\n            p = p.next;\n            num++;\n        }\n        p.next = head;\n        k %= num;\n        for (int i = 0; i < num - k; i++) {\n            p = p.next;\n        }\n        head = p.next;\n        p.next = null;\n        return head;\n    }\n\n```","slug":"Rotate the list","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay06006qqr3l479syxzt"},{"title":"Rxjava订阅解析","date":"2019-02-28T16:00:00.000Z","description":"咦，观察者模式讷","_content":"转自piasy兄的[拆RxJava](https://blog.piasy.com/2016/09/15/Understand-RxJava/index.html)\n## 概述\n\n> 顺着常用的场景/用例出发，理解整个过程、结构、原理，不要沉迷于细节，先对常用的内容有一个全局的概览，每一块的细节再按需深入。入手新项目也是这个思路。\n\n从四个方面分析Rxjava\n- 事件流源头（observable）怎么发出数据\n- 响应者（subscriber）怎么收到数据\n- 怎么对事件流进行操作（operator/transformer）\n- 以及整个过程的调度（scheduler）\n\n以及一些新鲜的词语如\n- backpressure\n- hook\n\n## demo\n\n```java\nObservable.just(\"Hello world\")\n        .subscribe(word -> {\n            System.out.println(\"got \" + word + \" @ \" \n                    + Thread.currentThread().getName());\n        });\n```\n## 订阅过程\n### just\n\n```java\n // Observable.java\npublic static <T> Observable<T> just(final T value) {\n    return ScalarSynchronousObservable.create(value);\n}\n\n// ScalarSynchronousObservable.java\npublic static <T> ScalarSynchronousObservable<T> create(T t) {\n    return new ScalarSynchronousObservable<T>(t);           // 1\n}\n\nprotected ScalarSynchronousObservable(final T t) {\n    super(RxJavaHooks.onCreate(new JustOnSubscribe<T>(t))); // 2\n    this.t = t;\n}\n```\n1. 我们创建的是 `ScalarSynchronousObservable`，一个 `Observable` 的子类。\n2. 我们先跳过 `RxJavaHooks`，从名字可以得知它是用来做一些 hook 的工作的，那我们就先认为它什么也不做。所以我们传给父类构造函数的就是 `JustOnSubscribe`，一个 `OnSubscribe` 的实现类。\n\n`Observable` 的构造函数接受一个 `OnSubscribe`，它是一个回调，会在 `Observable#subscribe` 中使用，用于通知 `observable` 自己被订阅, 进入`subscribe`方法\n### subscribe\n```java\npublic final Subscription subscribe(final Action1<? super T> onNext) {\n    // 省略参数检查代码\n    Action1<Throwable> onError = \n        InternalObservableUtils.ERROR_NOT_IMPLEMENTED;\n    Action0 onCompleted = Actions.empty();\n    return subscribe(new ActionSubscriber<T>(onNext, \n        onError, onCompleted));                             // 1\n}\n\npublic final Subscription subscribe(Subscriber<? super T> subscriber) {\n    return Observable.subscribe(subscriber, this);\n}\n\nstatic <T> Subscription subscribe(Subscriber<? super T> subscriber, \n      Observable<T> observable) {\n    // 省略参数检查代码\n    subscriber.onStart();                                   // 2\n    \n    if (!(subscriber instanceof SafeSubscriber)) {\n        subscriber = new SafeSubscriber<T>(subscriber);     // 3\n    }\n\n    try {\n        RxJavaHooks.onObservableStart(observable, \n            observable.onSubscribe).call(subscriber);       // 4\n        return RxJavaHooks.onObservableReturn(subscriber);  // 5\n    } catch (Throwable e) {\n        // 省略错误处理代码\n    }\n}\n````\n1. 我们首先对传入的 Action 进行包装，包装为 `ActionSubscriber`，一个 `Subscriber` 的实现类。\n2. 调用 `subscriber.onStart()` 通知 `subscriber` 它已经和 `observable` 连接起来了。这里我们就知道，`onStart()` 就是在我们调用 `subscribe()` 的线程执行的。\n3. 如果传入的 `subscriber` 不是 `SafeSubscriber`，那就把它包装为一个 `SafeSubscriber`。\n4. 我们再次跳过` hook`，认为它什么也没做，那这里我们调用的其实就是 `observable.onSubscribe.call(subscriber)`。这里我们就看到了前面提到的 `onSubscribe` 的使用代码，在我们调用 `subscribe()` 的线程执行这个回调。\n5. 跳过 `hook`，那么这里就是直接返回了 `subscriber`。`Subscriber` 继承了 `Subscription`，用于取消订阅。\n\n但是 Hello world 是怎么被传递到打印的代码里的呢？就在 observable.onSubscribe.call(subscriber) 中。\n\n### OnSubscribe\n在just() 的实现中，我们创建了一个 `JustOnSubscribe` 吗？这里我们执行的就是它实现的 `call()` 函数：\n\n``` java\n// ScalarSynchronousObservable.java\nstatic final class JustOnSubscribe<T> implements OnSubscribe<T> {\n    // ...\n\n    @Override\n    public void call(Subscriber<? super T> s) {\n        s.setProducer(createProducer(s, value));\n    }\n}\n\nstatic <T> Producer createProducer(Subscriber<? super T> s, T v) {\n    // ...\n    return new WeakSingleProducer<T>(s, v);\n}\n```\n为 `subscriber` 设置了一个 `WeakSingleProducer`。\n\n在 RxJava 1.x 中，数据都是从 observable push 到 subscriber 的，但要是 observable 发得太快，subscriber 处理不过来，该怎么办？一种办法是，把数据保存起来，但这显然可能导致内存耗尽；另一种办法是，多余的数据来了之后就丢掉，至于丢掉和保留的策略可以按需制定；还有一种办法就是让 subscriber 向 observable 主动请求数据，subscriber 不请求，observable 就不发出数据。它俩相互协调，避免出现过多的数据，而协调的桥梁，就是 producer。producer 的内容这里不展开。\n\n### request\n进入 WeakSingleProducer#request() 的实现：\n```java\n// ScalarSynchronousObservable.java\nstatic final class WeakSingleProducer<T> implements Producer {\n    // ...\n    \n    @Override\n    public void request(long n) {\n        // 省略状态检查代码\n        Subscriber<? super T> a = actual;\n        if (a.isUnsubscribed()) {\n            return;\n        }\n        T v = value;\n        try {\n            a.onNext(v);\n        } catch (Throwable e) {\n            Exceptions.throwOrReport(e, a, v);\n            return;\n        }\n\n        if (a.isUnsubscribed()) {\n            return;\n        }\n        a.onCompleted();\n    }\n}\n```\n在 request() 中，终于调用了 subscriber 的 onNext() 和 onCompleted()，那么，Hello world 就传递到了我们的 Action 中，并被打印出来了。\n\n### 完整过程\n![rxjava_call_stack](/images/RxJava_call_stack_just.png)\n\n## 操作符\n以map为例\n```java\nObservable.just(\"Hello world\")\n        .map(String::length)\n        .subscribe(word -> {\n            System.out.println(\"got \" + word + \" @ \"\n                    + Thread.currentThread().getName());\n        });\n```\n进入map方法\n### map\n```java\n// Observable.java\npublic final <R> Observable<R> map(Func1<? super T, ? extends R> func) {\n    return create(new OnSubscribeMap<T, R>(this, func));\n}\n\npublic static <T> Observable<T> create(OnSubscribe<T> f) {\n    return new Observable<T>(RxJavaHooks.onCreate(f));\n}\n```\n `map` 的实现采用了 `create + OnSubscribe（RxJava #4097）`；\n这里实际上是 `OnSubscribeMap` 干活了。\n### OnSubscribeMap\n```java\npublic final class OnSubscribeMap<T, R> implements OnSubscribe<R> {\n\n    final Observable<T> source;\n    \n    final Func1<? super T, ? extends R> transformer;\n\n    public OnSubscribeMap(Observable<T> source, \n            Func1<? super T, ? extends R> transformer) {\n        this.source = source;\n        this.transformer = transformer;\n    }\n    \n    @Override\n    public void call(final Subscriber<? super R> o) {\n        MapSubscriber<T, R> parent = \n            new MapSubscriber<T, R>(o, transformer);   // 1\n        o.add(parent);                                 // 2\n        source.unsafeSubscribe(parent);                // 3\n    }\n}\n```\n1. 利用传入的 subscriber 以及我们进行转换的 Func1 构造一个 MapSubscriber。\n2. 把一个 subscriber 加入到另一个 subscriber 中，是为了让它们可以一起取消订阅。\n3. unsafeSubscribe 相较于前面的 subscribe，可想而知就是少了一层 SafeSubscriber 的包装。为什么不要包装？因为我们会在最后调用 Observable#subscribe 时进行包装，只需要包装一次即可。\n\n转换的代码依然没有出现，它在 MapSubscriber 中。\n### MapSubscriber\n```java\nstatic final class MapSubscriber<T, R> extends Subscriber<T> {\n    \n    final Subscriber<? super R> actual;\n    \n    final Func1<? super T, ? extends R> mapper;\n\n    boolean done;\n    \n    public MapSubscriber(Subscriber<? super R> actual, \n            Func1<? super T, ? extends R> mapper) {\n        this.actual = actual;\n        this.mapper = mapper;\n    }\n    \n    @Override\n    public void onNext(T t) {\n        R result;\n        \n        try {\n            result = mapper.call(t);        // 1\n        } catch (Throwable ex) {\n            Exceptions.throwIfFatal(ex);\n            unsubscribe();\n            onError(OnErrorThrowable.addValueAsLastCause(ex, t));\n            return;\n        }\n        \n        actual.onNext(result);              // 2\n    }\n    \n    // 省略 onError，onCompleted 和 setProducer\n}\n```\nMapSubscriber 依然很直观：\n\n1. 上游每新来一个数据，就用我们给的 `mapper` 进行数据转换。\n2. 再把转换之后的数据发送给下游。\n这里要解释一下“上游”和“下游”的概念：按照我们写的代码顺序，just 在 map 的上面，Action1 在 map 的下面，数据从 just 传递到 map 再传递到 Action1，所以对于 map 来说，just 就是上游，Action1 就是下游。数据是从上游（Observable）一路传递到下游（Subscriber）的，`请求则相反，从下游传递到上游。`\n\n### 完整过程\n![enter description here](/images/RxJava_call_stack_just_map.png)\n## 线程调度\n我们所有的过程都是通过函数调用完成的，都在 `subscribe` 所在的线程执行。`RxJava` 进行异步非常简单，只需要使用 `subscribeOn` 和 `observeOn` 这两个操作符即可。既然它俩都是操作符，那流程上就是和 `map` 差不多的，这里我们主要关注线程调度的实现原理。\ndemo:\n```java\nObservable.just(\"Hello world\")\n        .map(String::length)\n        .subscribeOn(Schedulers.computation())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(len -> {\n            System.out.println(\"got \" + len + \" @ \" \n                    + Thread.currentThread().getName());\n        });\n```\n### subscribeOn\n```java\npublic final Observable<T> subscribeOn(Scheduler scheduler) {\n    if (this instanceof ScalarSynchronousObservable) {\n        return ((ScalarSynchronousObservable<T>)this)\n                .scalarScheduleOn(scheduler);\n    }\n    return create(new OperatorSubscribeOn<T>(this, scheduler));\n}\n```\n还记得上面的 just 吗？它创建的就是 `ScalarSynchronousObservable`，但是这个特殊情况我们先跳过，我们看普通的情况：通过 `create + OperatorSubscribeOn` 实现。\n\n### OperatorSubscribeOn\n```java\npublic final class OperatorSubscribeOn<T> implements OnSubscribe<T> {\n\n    final Scheduler scheduler;\n    final Observable<T> source;\n\n    public OperatorSubscribeOn(Observable<T> source, Scheduler scheduler) {\n        this.scheduler = scheduler;\n        this.source = source;\n    }\n\n    @Override\n    public void call(final Subscriber<? super T> subscriber) {\n        final Worker inner = scheduler.createWorker();\n        subscriber.add(inner); //  1\n\n        inner.schedule(new Action0() {\n            @Override\n            public void call() {\n                final Thread t = Thread.currentThread();\n\n                Subscriber<T> s = new Subscriber<T>(subscriber) {\n                    @Override\n                    public void onNext(T t) {\n                        subscriber.onNext(t); // 2\n                    }\n\n                    @Override\n                    public void onError(Throwable e) {\n                        try {\n                            subscriber.onError(e);\n                        } finally {\n                            inner.unsubscribe();\n                        }\n                    }\n\n                    @Override\n                    public void onCompleted() {\n                        try {\n                            subscriber.onCompleted();\n                        } finally {\n                            inner.unsubscribe();\n                        }\n                    }\n\n                    @Override\n                    public void setProducer(final Producer p) {\n                        subscriber.setProducer(new Producer() {\n                            @Override\n                            public void request(final long n) {\n                                if (t == Thread.currentThread()) {\n                                    p.request(n);// 3\n                                } else {\n                                    inner.schedule(new Action0() {\n                                        @Override\n                                        public void call() {\n                                            p.request(n);// 4\n                                        }\n                                    });\n                                }\n                            }\n                        });\n                    }\n                };\n\n                source.unsafeSubscribe(s);// 5\n            }\n        });\n    }\n}\n```\n1. `Worker` 也实现了 `Subscription`，所以可以加入到 `Subscriber` 中，用于集体取消订阅。\n2. 在匿名 `Subscriber` 中，收到上游的数据后，转发给下游。\n3. `Producer#request` 被调用时，如果调用线程就是 `worker` 的线程（t），就直接把请求转发给上游。\n4. 否则还需要进行一次调度，确保调用上游的 `request` 一定是在 `worker` 的线程。\n5. 在 `worker` 线程中，把自己（匿名 `Subscriber`）和上游连接起来。\n\n连接上游（可能会触发请求）、向上游发请求，都是在 worker 的线程上执行的，所以如果上游处理请求的代码没有进行异步操作，那上游的代码就是在 subscribeOn 指定的线程上执行的。这就解释了网上随处可见的一个结论：\n\n> subscribeOn 影响它上面的调用执行时所在的线程。\n\n但如果仅仅是记住这么一句话，情况稍微一复杂，就必然蒙圈，所以一定要理解它的工作原理。\n\n另外关于使用多次调用 subscribeOn 的效果，我们这里也就很清楚了，后面的 subscribeOn 只会改变前面的 subscribeOn 调度操作所在的线程，并不能改变最终被调度的代码执行的线程，但对于中途的代码执行的线程，还是会影响到的。\n\n在上面的代码中，收到上游发来的数据之后，我们直接发给了下游，并没有进行线程切换，所以 `subscribeOn` 并不会改变数据向下游传递时的线程，这一工作由它的搭档 `observeOn` 完成。\n\n### observeOn\n\n```java\npublic final Observable<T> observeOn(Scheduler scheduler) {\n    return observeOn(scheduler, RxRingBuffer.SIZE);\n}\n\npublic final Observable<T> observeOn(Scheduler scheduler, \n      int bufferSize) {\n    return observeOn(scheduler, false, bufferSize);\n}\n\npublic final Observable<T> observeOn(Scheduler scheduler, \n      boolean delayError, int bufferSize) {\n    if (this instanceof ScalarSynchronousObservable) {\n        return ((ScalarSynchronousObservable<T>)this)\n            .scalarScheduleOn(scheduler);\n    }\n    return lift(new OperatorObserveOn<T>(scheduler, \n        delayError, bufferSize));\n}\n\npublic final <R> Observable<R> lift(\n      final Operator<? extends R, ? super T> operator) {\n    return create(new OnSubscribeLift<T, R>(onSubscribe, \n        operator));\n}\n```\n关注 lift + operator 实现的情况。进入onSubscribeLift\n### OnSubscribeLift\n```java\npublic final class OnSubscribeLift<T, R> \n      implements OnSubscribe<R> {\n\n    final OnSubscribe<T> parent;\n\n    final Operator<? extends R, ? super T> operator;\n\n    public OnSubscribeLift(OnSubscribe<T> parent, \n          Operator<? extends R, ? super T> operator) {\n        this.parent = parent;\n        this.operator = operator;\n    }\n\n    @Override\n    public void call(Subscriber<? super R> o) {\n        Subscriber<? super T> st = RxJavaHooks\n            .onObservableLift(operator).call(o);\n        st.onStart();\n        parent.call(st);\n        // 省略了异常处理代码\n    }\n}\n```\n先对下游 `subscriber` 用操作符进行处理（跳过 hook），然后通知处理后的 `subscriber`，它将要和 `observable` 连接起来了，最后把它和上游连接起来。\n\n这里并没有线程调度的逻辑，所以我们看 `OperatorObserveOn。`\n\n### OperatorObserveOn\n```java\npublic final class OperatorObserveOn<T> implements Operator<T, T> {\n    // ...\n\n    @Override\n    public Subscriber<? super T> call(Subscriber<? super T> child) {\n        if (scheduler instanceof ImmediateScheduler) {\n            // avoid overhead, execute directly\n            return child;\n        } else if (scheduler instanceof TrampolineScheduler) {\n            // avoid overhead, execute directly\n            return child;\n        } else {\n            ObserveOnSubscriber<T> parent = new ObserveOnSubscriber<T>(\n                scheduler, child, delayError, bufferSize);\n            parent.init();\n            return parent;\n        }\n    }\n\n    // ...\n}\n```\n如果 `scheduler` 是 ImmediateScheduler/TrampolineScheduler，就什么也不做，否则就把 subscriber 包装为 `ObserveOnSubscriber`，看来脏活累活都是 ObserveOnSubscriber 干的了。\n### ObserveOnSubscriber\n`ObserveOnSubscriber` 除了负责把向下游发送数据的操作调度到指定的线程，还负责 `backpressure` 支持，这导致它的实现比较复杂，所以这里只展示和分析最简单的调度功能。完整代码的分析大家可以自行阅读源码，其中还会涉及到串行访问相关的内容\n```java\nObservable.create(subscriber -> {\n    Worker worker = scheduler.createWorker();\n    subscriber.add(worker);\n \n    source.unsafeSubscribe(new Subscriber<T>(subscriber) {\n        @Override\n        public void onNext(T t) {\n            worker.schedule(() -> subscriber.onNext(t));\n        }\n         \n        @Override\n        public void onError(Throwable e) {\n            worker.schedule(() -> subscriber.onError(e));\n        }\n \n        @Override\n        public void onCompleted() {\n            worker.schedule(() -> subscriber.onCompleted());\n        }            \n    });\n});\n```\n`observeOn` 调度了每个单独的 `subscriber.onXXX()` 调用，使得数据向下游传递的时候可以切换到指定的线程。这也同样解释了网上随处可见的另一个结论\n\n> observeOn 影响它下面的调用执行时所在的线程。\n\n### 完整过程\n\n![enter description here](/images/RxJava_call_stack_just_map_subscribeOn_observeOn.png)\n\n## backpressure\n在前面我们讲 just 时，就已经讲过了 `backpressure`：\n\n> 在 RxJava 1.x 中，数据都是从 observable push 到 subscriber 的，但要是 observable 发得太快，subscriber 处理不过来，该怎么办？一种办法是，把数据保存起来，但这显然可能导致内存耗尽；另一种办法是，多余的数据来了之后就丢掉，至于丢掉和保留的策略可以按需制定；还有一种办法就是让 subscriber 向 observable 主动请求数据，subscriber 不请求，observable 就不发出数据。它俩相互协调，避免出现过多的数据，而协调的桥梁，就是 producer。\n\nrxjava2.x的Observable是不存在背压的概念的，背压是下游控制上游流速的一种手段。在rxjava1.x的时代，上游会给下游set一个producer，下游通过producer向上游请求n个数据，这样上游就有记录下游请求了多少个数据，然后下游请求多少个上游就给多少个，这个就是背压。一般来讲，每个节点都有缓存，比如说缓存的大小是64，这个时候下游可以一次性向上游request 64个数据。rxjava1.x的有些操作符不支持背压，也就是说这些操作符不会给下游set一个producer，也就是上游根本不理会下游的请求，一直向下游丢数据，如果下游的缓存爆了，那么下游就会抛出MissingBackpressureException，也就是背压失效了。\n\n在rxjava2.x时代，上述的背压逻辑全部挪到Flowable里了，所以说Flowable支持背压。而2.x时代的Observable是没有背压的概念的，Observable如果来不及消费会死命的缓存直到OOM，所以rxjava2.x的官方文档里面有讲，大数据流用Flowable，小数据流用Observable。\n\n## Hook\n我们多次遇见了 `hook`，为了简化逻辑，也多次跳过了 hook，这里我们就看看 hook 有什么用，工作原理是什么。\n\n利用 hook 我们可以站在“上帝视角”，多种重要的节点上，都有 hook。例如创建 `Observable（create）`时，有 `onCreate`，我们可以进行任意想要的操作，记录、修饰、甚至抛出异常；以及和 scheduler 相关的内容，获取 scheduler 时，我们都可以进行想要的操作，例如让 Scheduler.io() 返回立即执行的 scheduler。\n\n这些内容让我们可以执行高度自定义的操作，其中就包括便于测试。\n\n其实 hook 的原理并不复杂，在关心的节点（hook point）插桩，让我们可以操控（manipulate）程序在这些节点的行为，至于操控的策略，有一系列函数进行设置、以及清理。\n\n目前和 hook 相关的内容主要在 RxJavaPlugins 和 RxJavaHooks 这两个类中，后者在 v1.1.7 引入，功能更加强大，使用更加方便。","source":"_posts/Rxjava订阅解析.md","raw":"title: Rxjava订阅解析\ndate: 2019-3-1\ntags: [Android,源码解析]\ncategories: Android进阶之光\ndescription: 咦，观察者模式讷\n---\n转自piasy兄的[拆RxJava](https://blog.piasy.com/2016/09/15/Understand-RxJava/index.html)\n## 概述\n\n> 顺着常用的场景/用例出发，理解整个过程、结构、原理，不要沉迷于细节，先对常用的内容有一个全局的概览，每一块的细节再按需深入。入手新项目也是这个思路。\n\n从四个方面分析Rxjava\n- 事件流源头（observable）怎么发出数据\n- 响应者（subscriber）怎么收到数据\n- 怎么对事件流进行操作（operator/transformer）\n- 以及整个过程的调度（scheduler）\n\n以及一些新鲜的词语如\n- backpressure\n- hook\n\n## demo\n\n```java\nObservable.just(\"Hello world\")\n        .subscribe(word -> {\n            System.out.println(\"got \" + word + \" @ \" \n                    + Thread.currentThread().getName());\n        });\n```\n## 订阅过程\n### just\n\n```java\n // Observable.java\npublic static <T> Observable<T> just(final T value) {\n    return ScalarSynchronousObservable.create(value);\n}\n\n// ScalarSynchronousObservable.java\npublic static <T> ScalarSynchronousObservable<T> create(T t) {\n    return new ScalarSynchronousObservable<T>(t);           // 1\n}\n\nprotected ScalarSynchronousObservable(final T t) {\n    super(RxJavaHooks.onCreate(new JustOnSubscribe<T>(t))); // 2\n    this.t = t;\n}\n```\n1. 我们创建的是 `ScalarSynchronousObservable`，一个 `Observable` 的子类。\n2. 我们先跳过 `RxJavaHooks`，从名字可以得知它是用来做一些 hook 的工作的，那我们就先认为它什么也不做。所以我们传给父类构造函数的就是 `JustOnSubscribe`，一个 `OnSubscribe` 的实现类。\n\n`Observable` 的构造函数接受一个 `OnSubscribe`，它是一个回调，会在 `Observable#subscribe` 中使用，用于通知 `observable` 自己被订阅, 进入`subscribe`方法\n### subscribe\n```java\npublic final Subscription subscribe(final Action1<? super T> onNext) {\n    // 省略参数检查代码\n    Action1<Throwable> onError = \n        InternalObservableUtils.ERROR_NOT_IMPLEMENTED;\n    Action0 onCompleted = Actions.empty();\n    return subscribe(new ActionSubscriber<T>(onNext, \n        onError, onCompleted));                             // 1\n}\n\npublic final Subscription subscribe(Subscriber<? super T> subscriber) {\n    return Observable.subscribe(subscriber, this);\n}\n\nstatic <T> Subscription subscribe(Subscriber<? super T> subscriber, \n      Observable<T> observable) {\n    // 省略参数检查代码\n    subscriber.onStart();                                   // 2\n    \n    if (!(subscriber instanceof SafeSubscriber)) {\n        subscriber = new SafeSubscriber<T>(subscriber);     // 3\n    }\n\n    try {\n        RxJavaHooks.onObservableStart(observable, \n            observable.onSubscribe).call(subscriber);       // 4\n        return RxJavaHooks.onObservableReturn(subscriber);  // 5\n    } catch (Throwable e) {\n        // 省略错误处理代码\n    }\n}\n````\n1. 我们首先对传入的 Action 进行包装，包装为 `ActionSubscriber`，一个 `Subscriber` 的实现类。\n2. 调用 `subscriber.onStart()` 通知 `subscriber` 它已经和 `observable` 连接起来了。这里我们就知道，`onStart()` 就是在我们调用 `subscribe()` 的线程执行的。\n3. 如果传入的 `subscriber` 不是 `SafeSubscriber`，那就把它包装为一个 `SafeSubscriber`。\n4. 我们再次跳过` hook`，认为它什么也没做，那这里我们调用的其实就是 `observable.onSubscribe.call(subscriber)`。这里我们就看到了前面提到的 `onSubscribe` 的使用代码，在我们调用 `subscribe()` 的线程执行这个回调。\n5. 跳过 `hook`，那么这里就是直接返回了 `subscriber`。`Subscriber` 继承了 `Subscription`，用于取消订阅。\n\n但是 Hello world 是怎么被传递到打印的代码里的呢？就在 observable.onSubscribe.call(subscriber) 中。\n\n### OnSubscribe\n在just() 的实现中，我们创建了一个 `JustOnSubscribe` 吗？这里我们执行的就是它实现的 `call()` 函数：\n\n``` java\n// ScalarSynchronousObservable.java\nstatic final class JustOnSubscribe<T> implements OnSubscribe<T> {\n    // ...\n\n    @Override\n    public void call(Subscriber<? super T> s) {\n        s.setProducer(createProducer(s, value));\n    }\n}\n\nstatic <T> Producer createProducer(Subscriber<? super T> s, T v) {\n    // ...\n    return new WeakSingleProducer<T>(s, v);\n}\n```\n为 `subscriber` 设置了一个 `WeakSingleProducer`。\n\n在 RxJava 1.x 中，数据都是从 observable push 到 subscriber 的，但要是 observable 发得太快，subscriber 处理不过来，该怎么办？一种办法是，把数据保存起来，但这显然可能导致内存耗尽；另一种办法是，多余的数据来了之后就丢掉，至于丢掉和保留的策略可以按需制定；还有一种办法就是让 subscriber 向 observable 主动请求数据，subscriber 不请求，observable 就不发出数据。它俩相互协调，避免出现过多的数据，而协调的桥梁，就是 producer。producer 的内容这里不展开。\n\n### request\n进入 WeakSingleProducer#request() 的实现：\n```java\n// ScalarSynchronousObservable.java\nstatic final class WeakSingleProducer<T> implements Producer {\n    // ...\n    \n    @Override\n    public void request(long n) {\n        // 省略状态检查代码\n        Subscriber<? super T> a = actual;\n        if (a.isUnsubscribed()) {\n            return;\n        }\n        T v = value;\n        try {\n            a.onNext(v);\n        } catch (Throwable e) {\n            Exceptions.throwOrReport(e, a, v);\n            return;\n        }\n\n        if (a.isUnsubscribed()) {\n            return;\n        }\n        a.onCompleted();\n    }\n}\n```\n在 request() 中，终于调用了 subscriber 的 onNext() 和 onCompleted()，那么，Hello world 就传递到了我们的 Action 中，并被打印出来了。\n\n### 完整过程\n![rxjava_call_stack](/images/RxJava_call_stack_just.png)\n\n## 操作符\n以map为例\n```java\nObservable.just(\"Hello world\")\n        .map(String::length)\n        .subscribe(word -> {\n            System.out.println(\"got \" + word + \" @ \"\n                    + Thread.currentThread().getName());\n        });\n```\n进入map方法\n### map\n```java\n// Observable.java\npublic final <R> Observable<R> map(Func1<? super T, ? extends R> func) {\n    return create(new OnSubscribeMap<T, R>(this, func));\n}\n\npublic static <T> Observable<T> create(OnSubscribe<T> f) {\n    return new Observable<T>(RxJavaHooks.onCreate(f));\n}\n```\n `map` 的实现采用了 `create + OnSubscribe（RxJava #4097）`；\n这里实际上是 `OnSubscribeMap` 干活了。\n### OnSubscribeMap\n```java\npublic final class OnSubscribeMap<T, R> implements OnSubscribe<R> {\n\n    final Observable<T> source;\n    \n    final Func1<? super T, ? extends R> transformer;\n\n    public OnSubscribeMap(Observable<T> source, \n            Func1<? super T, ? extends R> transformer) {\n        this.source = source;\n        this.transformer = transformer;\n    }\n    \n    @Override\n    public void call(final Subscriber<? super R> o) {\n        MapSubscriber<T, R> parent = \n            new MapSubscriber<T, R>(o, transformer);   // 1\n        o.add(parent);                                 // 2\n        source.unsafeSubscribe(parent);                // 3\n    }\n}\n```\n1. 利用传入的 subscriber 以及我们进行转换的 Func1 构造一个 MapSubscriber。\n2. 把一个 subscriber 加入到另一个 subscriber 中，是为了让它们可以一起取消订阅。\n3. unsafeSubscribe 相较于前面的 subscribe，可想而知就是少了一层 SafeSubscriber 的包装。为什么不要包装？因为我们会在最后调用 Observable#subscribe 时进行包装，只需要包装一次即可。\n\n转换的代码依然没有出现，它在 MapSubscriber 中。\n### MapSubscriber\n```java\nstatic final class MapSubscriber<T, R> extends Subscriber<T> {\n    \n    final Subscriber<? super R> actual;\n    \n    final Func1<? super T, ? extends R> mapper;\n\n    boolean done;\n    \n    public MapSubscriber(Subscriber<? super R> actual, \n            Func1<? super T, ? extends R> mapper) {\n        this.actual = actual;\n        this.mapper = mapper;\n    }\n    \n    @Override\n    public void onNext(T t) {\n        R result;\n        \n        try {\n            result = mapper.call(t);        // 1\n        } catch (Throwable ex) {\n            Exceptions.throwIfFatal(ex);\n            unsubscribe();\n            onError(OnErrorThrowable.addValueAsLastCause(ex, t));\n            return;\n        }\n        \n        actual.onNext(result);              // 2\n    }\n    \n    // 省略 onError，onCompleted 和 setProducer\n}\n```\nMapSubscriber 依然很直观：\n\n1. 上游每新来一个数据，就用我们给的 `mapper` 进行数据转换。\n2. 再把转换之后的数据发送给下游。\n这里要解释一下“上游”和“下游”的概念：按照我们写的代码顺序，just 在 map 的上面，Action1 在 map 的下面，数据从 just 传递到 map 再传递到 Action1，所以对于 map 来说，just 就是上游，Action1 就是下游。数据是从上游（Observable）一路传递到下游（Subscriber）的，`请求则相反，从下游传递到上游。`\n\n### 完整过程\n![enter description here](/images/RxJava_call_stack_just_map.png)\n## 线程调度\n我们所有的过程都是通过函数调用完成的，都在 `subscribe` 所在的线程执行。`RxJava` 进行异步非常简单，只需要使用 `subscribeOn` 和 `observeOn` 这两个操作符即可。既然它俩都是操作符，那流程上就是和 `map` 差不多的，这里我们主要关注线程调度的实现原理。\ndemo:\n```java\nObservable.just(\"Hello world\")\n        .map(String::length)\n        .subscribeOn(Schedulers.computation())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(len -> {\n            System.out.println(\"got \" + len + \" @ \" \n                    + Thread.currentThread().getName());\n        });\n```\n### subscribeOn\n```java\npublic final Observable<T> subscribeOn(Scheduler scheduler) {\n    if (this instanceof ScalarSynchronousObservable) {\n        return ((ScalarSynchronousObservable<T>)this)\n                .scalarScheduleOn(scheduler);\n    }\n    return create(new OperatorSubscribeOn<T>(this, scheduler));\n}\n```\n还记得上面的 just 吗？它创建的就是 `ScalarSynchronousObservable`，但是这个特殊情况我们先跳过，我们看普通的情况：通过 `create + OperatorSubscribeOn` 实现。\n\n### OperatorSubscribeOn\n```java\npublic final class OperatorSubscribeOn<T> implements OnSubscribe<T> {\n\n    final Scheduler scheduler;\n    final Observable<T> source;\n\n    public OperatorSubscribeOn(Observable<T> source, Scheduler scheduler) {\n        this.scheduler = scheduler;\n        this.source = source;\n    }\n\n    @Override\n    public void call(final Subscriber<? super T> subscriber) {\n        final Worker inner = scheduler.createWorker();\n        subscriber.add(inner); //  1\n\n        inner.schedule(new Action0() {\n            @Override\n            public void call() {\n                final Thread t = Thread.currentThread();\n\n                Subscriber<T> s = new Subscriber<T>(subscriber) {\n                    @Override\n                    public void onNext(T t) {\n                        subscriber.onNext(t); // 2\n                    }\n\n                    @Override\n                    public void onError(Throwable e) {\n                        try {\n                            subscriber.onError(e);\n                        } finally {\n                            inner.unsubscribe();\n                        }\n                    }\n\n                    @Override\n                    public void onCompleted() {\n                        try {\n                            subscriber.onCompleted();\n                        } finally {\n                            inner.unsubscribe();\n                        }\n                    }\n\n                    @Override\n                    public void setProducer(final Producer p) {\n                        subscriber.setProducer(new Producer() {\n                            @Override\n                            public void request(final long n) {\n                                if (t == Thread.currentThread()) {\n                                    p.request(n);// 3\n                                } else {\n                                    inner.schedule(new Action0() {\n                                        @Override\n                                        public void call() {\n                                            p.request(n);// 4\n                                        }\n                                    });\n                                }\n                            }\n                        });\n                    }\n                };\n\n                source.unsafeSubscribe(s);// 5\n            }\n        });\n    }\n}\n```\n1. `Worker` 也实现了 `Subscription`，所以可以加入到 `Subscriber` 中，用于集体取消订阅。\n2. 在匿名 `Subscriber` 中，收到上游的数据后，转发给下游。\n3. `Producer#request` 被调用时，如果调用线程就是 `worker` 的线程（t），就直接把请求转发给上游。\n4. 否则还需要进行一次调度，确保调用上游的 `request` 一定是在 `worker` 的线程。\n5. 在 `worker` 线程中，把自己（匿名 `Subscriber`）和上游连接起来。\n\n连接上游（可能会触发请求）、向上游发请求，都是在 worker 的线程上执行的，所以如果上游处理请求的代码没有进行异步操作，那上游的代码就是在 subscribeOn 指定的线程上执行的。这就解释了网上随处可见的一个结论：\n\n> subscribeOn 影响它上面的调用执行时所在的线程。\n\n但如果仅仅是记住这么一句话，情况稍微一复杂，就必然蒙圈，所以一定要理解它的工作原理。\n\n另外关于使用多次调用 subscribeOn 的效果，我们这里也就很清楚了，后面的 subscribeOn 只会改变前面的 subscribeOn 调度操作所在的线程，并不能改变最终被调度的代码执行的线程，但对于中途的代码执行的线程，还是会影响到的。\n\n在上面的代码中，收到上游发来的数据之后，我们直接发给了下游，并没有进行线程切换，所以 `subscribeOn` 并不会改变数据向下游传递时的线程，这一工作由它的搭档 `observeOn` 完成。\n\n### observeOn\n\n```java\npublic final Observable<T> observeOn(Scheduler scheduler) {\n    return observeOn(scheduler, RxRingBuffer.SIZE);\n}\n\npublic final Observable<T> observeOn(Scheduler scheduler, \n      int bufferSize) {\n    return observeOn(scheduler, false, bufferSize);\n}\n\npublic final Observable<T> observeOn(Scheduler scheduler, \n      boolean delayError, int bufferSize) {\n    if (this instanceof ScalarSynchronousObservable) {\n        return ((ScalarSynchronousObservable<T>)this)\n            .scalarScheduleOn(scheduler);\n    }\n    return lift(new OperatorObserveOn<T>(scheduler, \n        delayError, bufferSize));\n}\n\npublic final <R> Observable<R> lift(\n      final Operator<? extends R, ? super T> operator) {\n    return create(new OnSubscribeLift<T, R>(onSubscribe, \n        operator));\n}\n```\n关注 lift + operator 实现的情况。进入onSubscribeLift\n### OnSubscribeLift\n```java\npublic final class OnSubscribeLift<T, R> \n      implements OnSubscribe<R> {\n\n    final OnSubscribe<T> parent;\n\n    final Operator<? extends R, ? super T> operator;\n\n    public OnSubscribeLift(OnSubscribe<T> parent, \n          Operator<? extends R, ? super T> operator) {\n        this.parent = parent;\n        this.operator = operator;\n    }\n\n    @Override\n    public void call(Subscriber<? super R> o) {\n        Subscriber<? super T> st = RxJavaHooks\n            .onObservableLift(operator).call(o);\n        st.onStart();\n        parent.call(st);\n        // 省略了异常处理代码\n    }\n}\n```\n先对下游 `subscriber` 用操作符进行处理（跳过 hook），然后通知处理后的 `subscriber`，它将要和 `observable` 连接起来了，最后把它和上游连接起来。\n\n这里并没有线程调度的逻辑，所以我们看 `OperatorObserveOn。`\n\n### OperatorObserveOn\n```java\npublic final class OperatorObserveOn<T> implements Operator<T, T> {\n    // ...\n\n    @Override\n    public Subscriber<? super T> call(Subscriber<? super T> child) {\n        if (scheduler instanceof ImmediateScheduler) {\n            // avoid overhead, execute directly\n            return child;\n        } else if (scheduler instanceof TrampolineScheduler) {\n            // avoid overhead, execute directly\n            return child;\n        } else {\n            ObserveOnSubscriber<T> parent = new ObserveOnSubscriber<T>(\n                scheduler, child, delayError, bufferSize);\n            parent.init();\n            return parent;\n        }\n    }\n\n    // ...\n}\n```\n如果 `scheduler` 是 ImmediateScheduler/TrampolineScheduler，就什么也不做，否则就把 subscriber 包装为 `ObserveOnSubscriber`，看来脏活累活都是 ObserveOnSubscriber 干的了。\n### ObserveOnSubscriber\n`ObserveOnSubscriber` 除了负责把向下游发送数据的操作调度到指定的线程，还负责 `backpressure` 支持，这导致它的实现比较复杂，所以这里只展示和分析最简单的调度功能。完整代码的分析大家可以自行阅读源码，其中还会涉及到串行访问相关的内容\n```java\nObservable.create(subscriber -> {\n    Worker worker = scheduler.createWorker();\n    subscriber.add(worker);\n \n    source.unsafeSubscribe(new Subscriber<T>(subscriber) {\n        @Override\n        public void onNext(T t) {\n            worker.schedule(() -> subscriber.onNext(t));\n        }\n         \n        @Override\n        public void onError(Throwable e) {\n            worker.schedule(() -> subscriber.onError(e));\n        }\n \n        @Override\n        public void onCompleted() {\n            worker.schedule(() -> subscriber.onCompleted());\n        }            \n    });\n});\n```\n`observeOn` 调度了每个单独的 `subscriber.onXXX()` 调用，使得数据向下游传递的时候可以切换到指定的线程。这也同样解释了网上随处可见的另一个结论\n\n> observeOn 影响它下面的调用执行时所在的线程。\n\n### 完整过程\n\n![enter description here](/images/RxJava_call_stack_just_map_subscribeOn_observeOn.png)\n\n## backpressure\n在前面我们讲 just 时，就已经讲过了 `backpressure`：\n\n> 在 RxJava 1.x 中，数据都是从 observable push 到 subscriber 的，但要是 observable 发得太快，subscriber 处理不过来，该怎么办？一种办法是，把数据保存起来，但这显然可能导致内存耗尽；另一种办法是，多余的数据来了之后就丢掉，至于丢掉和保留的策略可以按需制定；还有一种办法就是让 subscriber 向 observable 主动请求数据，subscriber 不请求，observable 就不发出数据。它俩相互协调，避免出现过多的数据，而协调的桥梁，就是 producer。\n\nrxjava2.x的Observable是不存在背压的概念的，背压是下游控制上游流速的一种手段。在rxjava1.x的时代，上游会给下游set一个producer，下游通过producer向上游请求n个数据，这样上游就有记录下游请求了多少个数据，然后下游请求多少个上游就给多少个，这个就是背压。一般来讲，每个节点都有缓存，比如说缓存的大小是64，这个时候下游可以一次性向上游request 64个数据。rxjava1.x的有些操作符不支持背压，也就是说这些操作符不会给下游set一个producer，也就是上游根本不理会下游的请求，一直向下游丢数据，如果下游的缓存爆了，那么下游就会抛出MissingBackpressureException，也就是背压失效了。\n\n在rxjava2.x时代，上述的背压逻辑全部挪到Flowable里了，所以说Flowable支持背压。而2.x时代的Observable是没有背压的概念的，Observable如果来不及消费会死命的缓存直到OOM，所以rxjava2.x的官方文档里面有讲，大数据流用Flowable，小数据流用Observable。\n\n## Hook\n我们多次遇见了 `hook`，为了简化逻辑，也多次跳过了 hook，这里我们就看看 hook 有什么用，工作原理是什么。\n\n利用 hook 我们可以站在“上帝视角”，多种重要的节点上，都有 hook。例如创建 `Observable（create）`时，有 `onCreate`，我们可以进行任意想要的操作，记录、修饰、甚至抛出异常；以及和 scheduler 相关的内容，获取 scheduler 时，我们都可以进行想要的操作，例如让 Scheduler.io() 返回立即执行的 scheduler。\n\n这些内容让我们可以执行高度自定义的操作，其中就包括便于测试。\n\n其实 hook 的原理并不复杂，在关心的节点（hook point）插桩，让我们可以操控（manipulate）程序在这些节点的行为，至于操控的策略，有一系列函数进行设置、以及清理。\n\n目前和 hook 相关的内容主要在 RxJavaPlugins 和 RxJavaHooks 这两个类中，后者在 v1.1.7 引入，功能更加强大，使用更加方便。","slug":"Rxjava订阅解析","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay07006uqr3l614xo9fp"},{"title":"Searching Rotated array","date":"2018-12-30T16:00:00.000Z","description":"Searching a specific number in a rotated array　　","_content":"## Problem description\n  ### Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.\n  \n  ### (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]).You are given a target value to search. If found in the array return its index, otherwise return -1.You may assume no duplicate exists in the array.Your algorithm's runtime complexity must be in the order of O(log n).\n  \n ## Examples\n``` java\nExample 1:\nInput: nums = [4,5,6,7,0,1,2], target = 0\nOutput:: 4\n```\n```java\nExample 2:\nInput: nums = [4,5,6,7,0,1,2], target = 3\nOutput: -1\n```\n```java\nExample 3:\nInput: nums = [1, 3, 5], target = 1\nOutput: 0\n```\n\n## Solution\n 　　一开始看到这道题，做过同样的找最小值问题。以为是道水题。没想到坑的一P。卡了三个小时。在判断那翻来覆去。一开始想找到最小值。再判读target是在前半段还是后半段。再二分。时间复杂度是0（logn+logn）=O(logn) . 但是蜜汁超时。嗨呀然后就开始了反复挣扎的三小时if判断挣扎。修好了一个坑又出现另一个坑。看了解析恍然大悟。这道题和最小值无关。旋转数组有一个特性。最小值前旋转数组前是递增的，最小值后旋转数组是递增的。\n　　如果中间的值比左端的值大，则左侧数组必然有序。\n 　　如果中间的值比左端的值小，则右侧数组必然有序。 \n\n## Code\n\n```java\n     public int search(int[] nums, int target) {\n        if (nums == null || nums.length == 0) {\n            return -1;\n        }\n        int low = 0, high = nums.length - 1;\n        int mid;\n        while (low <= high) {\n            mid = (low + high) / 2;\n            if (nums[mid] == target) {\n                return mid;\n            }\n            if (nums[mid] >= nums[low]) {\n                if (nums[mid] > target && target >= nums[low]) {\n                    high = mid - 1;//Target is in the left which is order.\n                } else {\n                    low = mid + 1;//Target is in the right which may be disorder.\n                }\n            } else {\n                if (nums[mid] < target && target <= nums[high]) {\n                    low = mid + 1;//Target is in the right which is order.\n                } else {\n                    high = mid - 1;//Target is in the left which may be disorder.\n                }\n            }\n        }\n        return -1;\n    }\n```","source":"_posts/Searching Rotated array.md","raw":"title: Searching Rotated array\ndate: 2018-12-31\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Searching a specific number in a rotated array　　\n---\n## Problem description\n  ### Suppose an array sorted in ascending order is rotated at some pivot unknown to you beforehand.\n  \n  ### (i.e., [0,1,2,4,5,6,7] might become [4,5,6,7,0,1,2]).You are given a target value to search. If found in the array return its index, otherwise return -1.You may assume no duplicate exists in the array.Your algorithm's runtime complexity must be in the order of O(log n).\n  \n ## Examples\n``` java\nExample 1:\nInput: nums = [4,5,6,7,0,1,2], target = 0\nOutput:: 4\n```\n```java\nExample 2:\nInput: nums = [4,5,6,7,0,1,2], target = 3\nOutput: -1\n```\n```java\nExample 3:\nInput: nums = [1, 3, 5], target = 1\nOutput: 0\n```\n\n## Solution\n 　　一开始看到这道题，做过同样的找最小值问题。以为是道水题。没想到坑的一P。卡了三个小时。在判断那翻来覆去。一开始想找到最小值。再判读target是在前半段还是后半段。再二分。时间复杂度是0（logn+logn）=O(logn) . 但是蜜汁超时。嗨呀然后就开始了反复挣扎的三小时if判断挣扎。修好了一个坑又出现另一个坑。看了解析恍然大悟。这道题和最小值无关。旋转数组有一个特性。最小值前旋转数组前是递增的，最小值后旋转数组是递增的。\n　　如果中间的值比左端的值大，则左侧数组必然有序。\n 　　如果中间的值比左端的值小，则右侧数组必然有序。 \n\n## Code\n\n```java\n     public int search(int[] nums, int target) {\n        if (nums == null || nums.length == 0) {\n            return -1;\n        }\n        int low = 0, high = nums.length - 1;\n        int mid;\n        while (low <= high) {\n            mid = (low + high) / 2;\n            if (nums[mid] == target) {\n                return mid;\n            }\n            if (nums[mid] >= nums[low]) {\n                if (nums[mid] > target && target >= nums[low]) {\n                    high = mid - 1;//Target is in the left which is order.\n                } else {\n                    low = mid + 1;//Target is in the right which may be disorder.\n                }\n            } else {\n                if (nums[mid] < target && target <= nums[high]) {\n                    low = mid + 1;//Target is in the right which is order.\n                } else {\n                    high = mid - 1;//Target is in the left which may be disorder.\n                }\n            }\n        }\n        return -1;\n    }\n```","slug":"Searching Rotated array","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay08006xqr3led9a2fol"},{"title":"Simplify path","date":"2018-12-29T16:00:00.000Z","description":"Simplify Unix path","_content":"## Problem description\n  ### Given an absolute path for a file (Unix-style), simplify it. \n ## Examples\n``` java\nExample 1:\nInput ： \"/home/\"\nOutput ： “/home”\n```\n```java\nExample 2:\nInput ： \"/a/../../b/../c//.//\"\nOutput ： “/c”\n```\n```java\nExample 3:\nInput ： \"/a/./b/../../c/\"\nOutput ： “/c”\n```\n\n## Solution\n　　边界情况考虑好，当为/../，即已经访问到根目录时，再往前是无法访问的。返回“/”\n\n## Code\n\n```java\n class Solution {\n     \n    public String simplifyPath(String path) {\n        String[] strings = path.split(\"/\", 0);\n        Stack<String> stack = new Stack<>();\n        for (int i = 0; i < strings.length; i++) {\n            if ( \".\".equals(strings[i]) || \"\".equals(strings[i])) {\n                continue;\n            } else if (\"..\".equals(strings[i])) {\n                if (!stack.empty()) {\n                    stack.pop();\n                }\n            } else {\n                stack.push(strings[i]);\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        while (!stack.isEmpty()) {\n            sb.insert(0, stack.pop());\n            sb.insert(0, '/');\n        }\n        if (sb.length() == 0) {\n            sb.append('/');\n        }\n        return sb.toString();\n    }\n\n}\n```","source":"_posts/Simplify path.md","raw":"title: Simplify path\ndate: 2018-12-30\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Simplify Unix path\n---\n## Problem description\n  ### Given an absolute path for a file (Unix-style), simplify it. \n ## Examples\n``` java\nExample 1:\nInput ： \"/home/\"\nOutput ： “/home”\n```\n```java\nExample 2:\nInput ： \"/a/../../b/../c//.//\"\nOutput ： “/c”\n```\n```java\nExample 3:\nInput ： \"/a/./b/../../c/\"\nOutput ： “/c”\n```\n\n## Solution\n　　边界情况考虑好，当为/../，即已经访问到根目录时，再往前是无法访问的。返回“/”\n\n## Code\n\n```java\n class Solution {\n     \n    public String simplifyPath(String path) {\n        String[] strings = path.split(\"/\", 0);\n        Stack<String> stack = new Stack<>();\n        for (int i = 0; i < strings.length; i++) {\n            if ( \".\".equals(strings[i]) || \"\".equals(strings[i])) {\n                continue;\n            } else if (\"..\".equals(strings[i])) {\n                if (!stack.empty()) {\n                    stack.pop();\n                }\n            } else {\n                stack.push(strings[i]);\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        while (!stack.isEmpty()) {\n            sb.insert(0, stack.pop());\n            sb.insert(0, '/');\n        }\n        if (sb.length() == 0) {\n            sb.append('/');\n        }\n        return sb.toString();\n    }\n\n}\n```","slug":"Simplify path","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay090071qr3l5qlcy0vg"},{"title":"Sort a linked list","date":"2019-01-03T16:00:00.000Z","description":"Sort a linked list in O(nlogn) time using constant space complexity.","_content":"## Problem description\n  ### Sort a linked list in O(n log n) time using constant space complexity.\n ## Examples\n``` java\nExample 1:\nInput: 4->2->1->3\nOutput: 1->2->3->4\n```\n```java\nExample 2:\nInput: -1->5->3->4->0\nOutput: -1->0->3->4->5\n```\n\n## Solution\n　　O(nlogn)用归并排序，快排一开始自己以为简单单链表是无法实现的,后来发现也是可以实现的。先说归并，先通过快慢指针找到中间节点，切记要将中间节点的next域设为null，再分别分治处理。值得一提的是归并的时间复杂度在链表的存储结构中降为了O(1),好神奇，有木有.快排则是采用了类似剑指Offer上的快排写法。这种写法避免了传统严奶奶版的双向移动，毕竟单链表往前动不了。\n\n## Code\n\n```java\n /**\n * Merge_Sort\n * \n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n       public ListNode sortList(ListNode head) {\n\n        if (head == null || head.next == null) {\n            return head;\n        }\n\n        ListNode fastNode = head, slowNode = head;\n\n        while (fastNode.next != null && fastNode.next.next != null) {\n\t\t//cannot use while (fastNode != null && fastNode.next.!= null) {\n\t\t//This would be a stack overflow error when node number are even.\n            fastNode = fastNode.next.next;\n            slowNode = slowNode.next;\n        }\n\n        fastNode = slowNode;\n        slowNode = slowNode.next;\n        fastNode.next = null;\n        head = sortList(head);\n        slowNode = sortList(slowNode);\n        return mergeTwoLists(head, slowNode);\n    }\n   public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\n        if (l1 == null) {\n            return l2;\n        } else if (l2 == null) {\n            return l1;\n        }\n        ListNode mergeNode = null;\n        if (l1.val <= l2.val) {\n            mergeNode = l1;\n            mergeNode.next = mergeTwoLists(l1.next, l2);\n        } else {\n            mergeNode = l2;\n            mergeNode.next = mergeTwoLists(l1, l2.next);\n        }\n        return mergeNode;\n    }\n\n}\n```\n\n```c++\n//  Quick_Sort\nclass Solution {\npublic:\n    ListNode *quickSortList(ListNode *head) {\n        // IMPORTANT: Please reset any member data you declared, as\n        // the same Solution instance will be reused for each test case.\n        //链表快速排序\n        if(head == NULL || head->next == NULL)return head;\n        qsortList(head, NULL);\n        return head;\n    }\n    void qsortList(ListNode*head, ListNode*tail)\n    {\n        //链表范围是[low, high)\n        if(head != tail && head->next != tail)\n        {\n            ListNode* mid = partitionList(head, tail);\n            qsortList(head, mid);\n            qsortList(mid->next, tail);\n        }\n    }\n    ListNode* partitionList(ListNode*low, ListNode*high)\n    {\n        //链表范围是[low, high)\n        int key = low->val;\n        ListNode* loc = low;\n        for(ListNode*i = low->next; i != high; i = i->next)\n            if(i->val < key)\n            {\n                loc = loc->next;\n                swap(i->val, loc->val);\n            }\n        swap(loc->val, low->val);\n        return loc;\n    }\n};\n```","source":"_posts/Sort a linked list.md","raw":"title: Sort a linked list\ndate: 2019-1-4\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Sort a linked list in O(nlogn) time using constant space complexity.\n---\n## Problem description\n  ### Sort a linked list in O(n log n) time using constant space complexity.\n ## Examples\n``` java\nExample 1:\nInput: 4->2->1->3\nOutput: 1->2->3->4\n```\n```java\nExample 2:\nInput: -1->5->3->4->0\nOutput: -1->0->3->4->5\n```\n\n## Solution\n　　O(nlogn)用归并排序，快排一开始自己以为简单单链表是无法实现的,后来发现也是可以实现的。先说归并，先通过快慢指针找到中间节点，切记要将中间节点的next域设为null，再分别分治处理。值得一提的是归并的时间复杂度在链表的存储结构中降为了O(1),好神奇，有木有.快排则是采用了类似剑指Offer上的快排写法。这种写法避免了传统严奶奶版的双向移动，毕竟单链表往前动不了。\n\n## Code\n\n```java\n /**\n * Merge_Sort\n * \n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode(int x) { val = x; }\n * }\n */\nclass Solution {\n       public ListNode sortList(ListNode head) {\n\n        if (head == null || head.next == null) {\n            return head;\n        }\n\n        ListNode fastNode = head, slowNode = head;\n\n        while (fastNode.next != null && fastNode.next.next != null) {\n\t\t//cannot use while (fastNode != null && fastNode.next.!= null) {\n\t\t//This would be a stack overflow error when node number are even.\n            fastNode = fastNode.next.next;\n            slowNode = slowNode.next;\n        }\n\n        fastNode = slowNode;\n        slowNode = slowNode.next;\n        fastNode.next = null;\n        head = sortList(head);\n        slowNode = sortList(slowNode);\n        return mergeTwoLists(head, slowNode);\n    }\n   public ListNode mergeTwoLists(ListNode l1, ListNode l2) {\n        if (l1 == null) {\n            return l2;\n        } else if (l2 == null) {\n            return l1;\n        }\n        ListNode mergeNode = null;\n        if (l1.val <= l2.val) {\n            mergeNode = l1;\n            mergeNode.next = mergeTwoLists(l1.next, l2);\n        } else {\n            mergeNode = l2;\n            mergeNode.next = mergeTwoLists(l1, l2.next);\n        }\n        return mergeNode;\n    }\n\n}\n```\n\n```c++\n//  Quick_Sort\nclass Solution {\npublic:\n    ListNode *quickSortList(ListNode *head) {\n        // IMPORTANT: Please reset any member data you declared, as\n        // the same Solution instance will be reused for each test case.\n        //链表快速排序\n        if(head == NULL || head->next == NULL)return head;\n        qsortList(head, NULL);\n        return head;\n    }\n    void qsortList(ListNode*head, ListNode*tail)\n    {\n        //链表范围是[low, high)\n        if(head != tail && head->next != tail)\n        {\n            ListNode* mid = partitionList(head, tail);\n            qsortList(head, mid);\n            qsortList(mid->next, tail);\n        }\n    }\n    ListNode* partitionList(ListNode*low, ListNode*high)\n    {\n        //链表范围是[low, high)\n        int key = low->val;\n        ListNode* loc = low;\n        for(ListNode*i = low->next; i != high; i = i->next)\n            if(i->val < key)\n            {\n                loc = loc->next;\n                swap(i->val, loc->val);\n            }\n        swap(loc->val, low->val);\n        return loc;\n    }\n};\n```","slug":"Sort a linked list","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0a0074qr3ll98uclxz"},{"title":"Scroller、ScrollTo、ScrollBy源码解析","date":"2019-02-01T16:00:00.000Z","description":"咦，移动方向怎么不对呀！","_content":"## 序言\n 　　本着写了忘，忘了写。还是写篇博文分析了工作流程加深记忆，滑动方向每次都出错。\n## ScrollTo与ScrollBy两兄弟\n```java\n/*Set scrollX,scrollY.inValidate \n   mSrollX:The offset, in pixels, by which the content of this view is scrolled horizontally.\n   mSrollY:The offset, in pixels, by which the content of this view is scrolled\nvertically.\n*/\n    public void scrollTo(int x, int y) {\n        if (mScrollX != x || mScrollY != y) {\n            int oldX = mScrollX;\n            int oldY = mScrollY;\n            mScrollX = x;\n            mScrollY = y;\n            invalidateParentCaches();\n            onScrollChanged(mScrollX, mScrollY, oldX, oldY);\n            if (!awakenScrollBars()) {\n                postInvalidateOnAnimation();\n            }\n        }\n    }\n\t    public void scrollBy(int x, int y) {\n        scrollTo(mScrollX + x, mScrollY + y);\n    }\n\n```\n可以看出来ScrollBy是调用scrollTo.这样只需要分析scrollTo源码即可。先设置mScrollX,mScrollY.而ScrollX，Y是View内容的滑动距离。所以这就解释为什么只能ViewGroup调用该方法有效。Scroll传入偏移距离加上起始滑动距离 = 绝对距离。进入onScrollChanged方法\n```java\nprotected void onScrollChanged(int l, int t, int oldl, int oldt) {\n        notifySubtreeAccessibilityStateChangedIfNeeded();\n\n        if (AccessibilityManager.getInstance(mContext).isEnabled()) {\n            postSendViewScrolledAccessibilityEventCallback();\n        }\n\n        mBackgroundSizeChanged = true;\n        mDefaultFocusHighlightSizeChanged = true;\n        if (mForegroundInfo != null) {\n            mForegroundInfo.mBoundsChanged = true;\n        }\n\n        final AttachInfo ai = mAttachInfo;\n        if (ai != null) {\n            ai.mViewScrollChanged = true;\n        }\n\n        if (mListenerInfo != null && mListenerInfo.mOnScrollChangeListener != null) {\n            mListenerInfo.mOnScrollChangeListener.onScrollChange(this, l, t, oldl, oldt);\n        }\n    }\n```\n当View注册了OnScrollChangeListener，onScrollChange才会被调用。在onScrollChanged()后调用了postInvalidateOnAnimation（）。\n```java\n    public void postInvalidateOnAnimation() {\n        // We try only with the AttachInfo because there's no point in invalidating\n        // if we are not attached to our window\n        final AttachInfo attachInfo = mAttachInfo;\n        if (attachInfo != null) {\n            attachInfo.mViewRootImpl.dispatchInvalidateOnAnimation(this);\n        }\n    }\n\t public void dispatchInvalidateOnAnimation(View view) {\n        mInvalidateOnAnimationRunnable.addView(view);\n    }\n\t    final class InvalidateOnAnimationRunnable implements Runnable {\n        private boolean mPosted;\n        private final ArrayList<View> mViews = new ArrayList<View>();\n        private final ArrayList<AttachInfo.InvalidateInfo> mViewRects =\n                new ArrayList<AttachInfo.InvalidateInfo>();\n        private View[] mTempViews;\n        private AttachInfo.InvalidateInfo[] mTempViewRects;\n\n        public void addView(View view) {\n            synchronized (this) {\n                mViews.add(view);\n                postIfNeededLocked();\n            }\n        }\n\n        public void addViewRect(AttachInfo.InvalidateInfo info) {\n            synchronized (this) {\n                mViewRects.add(info);\n                postIfNeededLocked();\n            }\n        }\n\n        public void removeView(View view) {\n            synchronized (this) {\n                mViews.remove(view);\n\n                for (int i = mViewRects.size(); i-- > 0; ) {\n                    AttachInfo.InvalidateInfo info = mViewRects.get(i);\n                    if (info.target == view) {\n                        mViewRects.remove(i);\n                        info.recycle();\n                    }\n                }\n\n                if (mPosted && mViews.isEmpty() && mViewRects.isEmpty()) {\n                    mChoreographer.removeCallbacks(Choreographer.CALLBACK_ANIMATION, this, null);\n                    mPosted = false;\n                }\n            }\n        }\n\n        @Override\n        public void run() {\n            final int viewCount;\n            final int viewRectCount;\n            synchronized (this) {\n                mPosted = false;\n\n                viewCount = mViews.size();\n                if (viewCount != 0) {\n                    mTempViews = mViews.toArray(mTempViews != null\n                            ? mTempViews : new View[viewCount]);\n                    mViews.clear();\n                }\n\n                viewRectCount = mViewRects.size();\n                if (viewRectCount != 0) {\n                    mTempViewRects = mViewRects.toArray(mTempViewRects != null\n                            ? mTempViewRects : new AttachInfo.InvalidateInfo[viewRectCount]);\n                    mViewRects.clear();\n                }\n            }\n\n            for (int i = 0; i < viewCount; i++) {\n                mTempViews[i].invalidate();\n                mTempViews[i] = null;\n            }\n\n            for (int i = 0; i < viewRectCount; i++) {\n                final View.AttachInfo.InvalidateInfo info = mTempViewRects[i];\n                info.target.invalidate(info.left, info.top, info.right, info.bottom);\n                info.recycle();\n            }\n        }\n\n        private void postIfNeededLocked() {\n            if (!mPosted) {\n                mChoreographer.postCallback(Choreographer.CALLBACK_ANIMATION, this, null);\n                mPosted = true;\n            }\n        }\n    }\n```\n在addView中postIfNeededLocked()会调用到run(),在run()里遍历所有添加进去的View，然后对每个View调用invalidate()，\n```java\n   public void invalidate() {\n        invalidate(true);\n    }\n\t    public void invalidate(boolean invalidateCache) {\n        invalidateInternal(0, 0, mRight - mLeft, mBottom - mTop, invalidateCache, true);\n    }\nvoid invalidateInternal(int l, int t, int r, int b, boolean invalidateCache,\n            boolean fullInvalidate) {\n    ...\n            // Propagate the damage rectangle to the parent view.\n            final AttachInfo ai = mAttachInfo;\n            final ViewParent p = mParent;\n            if (p != null && ai != null && l < r && t < b) {\n                final Rect damage = ai.mTmpInvalRect;\n                damage.set(l, t, r, b);\n                p.invalidateChild(this, damage);// Invalidate child\n            }\n\n            // Damage the entire projection receiver, if necessary.\n            if (mBackground != null && mBackground.isProjected()) {\n                final View receiver = getProjectionReceiver();\n                if (receiver != null) {\n                    receiver.damageInParent();\n                }\n            }\n        }\n    }\n```\np.invalidateChild()这就是scrollTo移动的是View的内容的真相。再来揭示为何方向相反呢?进入ViewGroup的invalidateChild().\n```java\n@Deprecated\n    @Override\n    public final void invalidateChild(View child, final Rect dirty) {\n    ···\n                parent = parent.invalidateChildInParent(location, dirty);\n                if (view != null) {\n                    // Account for transform on current parent\n                    Matrix m = view.getMatrix();\n                    if (!m.isIdentity()) {\n                        RectF boundingRect = attachInfo.mTmpTransformRect;\n                        boundingRect.set(dirty);\n                        m.mapRect(boundingRect);\n                        dirty.set((int) Math.floor(boundingRect.left),\n                                (int) Math.floor(boundingRect.top),\n                                (int) Math.ceil(boundingRect.right),\n                                (int) Math.ceil(boundingRect.bottom));\n                    }\n                }\n            } while (parent != null);\n        }\n    }\n```\n里面有一行代码parent = parent.invalidateChildInParent(location, dirty);进去invalidateChildInParent（）\n```java\n  @Override\n        public ViewParent invalidateChildInParent(int[] location, Rect dirty) {\n            if (mHostView != null) {\n                dirty.offset(location[0], location[1]);\n                if (mHostView instanceof ViewGroup) {\n                    location[0] = 0;\n                    location[1] = 0;\n                    super.invalidateChildInParent(location, dirty);\n                    return ((ViewGroup) mHostView).invalidateChildInParent(location, dirty);\n                } else {\n                    invalidate(dirty);\n                }\n            }\n            return null;\n        }\n    }\n```\n进入 invalidate(dirty);\n```java\n    public void invalidate(Rect dirty) {\n        final int scrollX = mScrollX;\n        final int scrollY = mScrollY;\n        invalidateInternal(dirty.left - scrollX, dirty.top - scrollY,\n                dirty.right - scrollX, dirty.bottom - scrollY, true, false);\n    }\n```\n这就是为什么方向会相反的原因啦。整个scrollTo透露着一股观察者模式的气味，当调用scrollTo（）时，InvalidateOnAnimationRunnable中的run()会通知所有子View。让其重绘。\n\n## Scroller源码\nScroller典型用法：\n```java\n@Override\npublic void computeScroll() {\n    super.computeScroll();\n    // 判断Scroller是否执行完毕\n    if (mScroller.computeScrollOffset()) {\n        ((View) getParent()).scrollTo(\n                mScroller.getCurrX(),//获取当前的滑动坐标\n                mScroller.getCurrY());\n        // 通过重绘来不断调用computeScroll\n        postInvalidate();\n    }\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            lastX = (int) event.getX();\n            lastY = (int) event.getY();\n            break;\n        case MotionEvent.ACTION_MOVE:\n            int offsetX = x - lastX;\n            int offsetY = y - lastY;\n            ((View) getParent()).scrollBy(-offsetX, -offsetY);\n            break;\n        case MotionEvent.ACTION_UP:\n            // 手指离开时，执行滑动过程\n            View viewGroup = ((View) getParent());\n            mScroller.startScroll(\n                    viewGroup.getScrollX(),\n                    viewGroup.getScrollY(),\n                    -viewGroup.getScrollX(),\n                    -viewGroup.getScrollY());\n            invalidate();\n            break;\n    }\n    return true;\n}\n```\n与scrollTo（）、scrollBy（）同样，滑动的是View的内容。首先进入startScroll（）\n\n```java\n    public void startScroll(int startX, int startY, int dx, int dy, int duration) {\n        mMode = SCROLL_MODE;\n        mFinished = false;\n        mDuration = duration;\n        mStartTime = AnimationUtils.currentAnimationTimeMillis();\n        mStartX = startX;\n        mStartY = startY;\n        mFinalX = startX + dx;\n        mFinalY = startY + dy;\n        mDeltaX = dx;\n        mDeltaY = dy;\n        mDurationReciprocal = 1.0f / (float) mDuration;\n    }\n```\n里面除了设值什么也没做，那Scroller是怎么让View滑起来的呢？秘密就在startScroll（）的下一行invalidate()重绘中调用View中的draw()\n```java\n    boolean draw(Canvas canvas, ViewGroup parent, long drawingTime) {\n     ...\n\t if (!drawingWithRenderNode) {\n            computeScroll();\n            sx = mScrollX;\n            sy = mScrollY;\n        }\n\n  ```\n  里面会调用我们重写的computeScroll(),而在我们重写的computeScroll()里我们利用scrollTo完成了滑动操作。并同时启动了postInvalidate();开启了第二次重绘。反复直至滑动结束。最后再看看computeScrollOffset（）\n ```java\n     public boolean computeScrollOffset() {\n        if (mFinished) {\n            return false;\n        }\n\n        int timePassed = (int)(AnimationUtils.currentAnimationTimeMillis() - mStartTime);\n    \n        if (timePassed < mDuration) {\n            switch (mMode) {\n            case SCROLL_MODE:\n                final float x = mInterpolator.getInterpolation(timePassed * mDurationReciprocal);\n                mCurrX = mStartX + Math.round(x * mDeltaX);\n                mCurrY = mStartY + Math.round(x * mDeltaY);\n                break;\n  ...\n    }\n        return true;\n\n ```\n根据时间流逝的百分比算出scrollX和scrollY。返回为true意味着滑动还未结束，false：滑动已结束\n","source":"_posts/Scroller、ScrollTo、ScrollBy源码解析.md","raw":"title: Scroller、ScrollTo、ScrollBy源码解析\ndate: 2019-2-2\ntags: [Android,View事件体系,源码解析]\ncategories: Android开发艺术探索\ndescription: 咦，移动方向怎么不对呀！\n---\n## 序言\n 　　本着写了忘，忘了写。还是写篇博文分析了工作流程加深记忆，滑动方向每次都出错。\n## ScrollTo与ScrollBy两兄弟\n```java\n/*Set scrollX,scrollY.inValidate \n   mSrollX:The offset, in pixels, by which the content of this view is scrolled horizontally.\n   mSrollY:The offset, in pixels, by which the content of this view is scrolled\nvertically.\n*/\n    public void scrollTo(int x, int y) {\n        if (mScrollX != x || mScrollY != y) {\n            int oldX = mScrollX;\n            int oldY = mScrollY;\n            mScrollX = x;\n            mScrollY = y;\n            invalidateParentCaches();\n            onScrollChanged(mScrollX, mScrollY, oldX, oldY);\n            if (!awakenScrollBars()) {\n                postInvalidateOnAnimation();\n            }\n        }\n    }\n\t    public void scrollBy(int x, int y) {\n        scrollTo(mScrollX + x, mScrollY + y);\n    }\n\n```\n可以看出来ScrollBy是调用scrollTo.这样只需要分析scrollTo源码即可。先设置mScrollX,mScrollY.而ScrollX，Y是View内容的滑动距离。所以这就解释为什么只能ViewGroup调用该方法有效。Scroll传入偏移距离加上起始滑动距离 = 绝对距离。进入onScrollChanged方法\n```java\nprotected void onScrollChanged(int l, int t, int oldl, int oldt) {\n        notifySubtreeAccessibilityStateChangedIfNeeded();\n\n        if (AccessibilityManager.getInstance(mContext).isEnabled()) {\n            postSendViewScrolledAccessibilityEventCallback();\n        }\n\n        mBackgroundSizeChanged = true;\n        mDefaultFocusHighlightSizeChanged = true;\n        if (mForegroundInfo != null) {\n            mForegroundInfo.mBoundsChanged = true;\n        }\n\n        final AttachInfo ai = mAttachInfo;\n        if (ai != null) {\n            ai.mViewScrollChanged = true;\n        }\n\n        if (mListenerInfo != null && mListenerInfo.mOnScrollChangeListener != null) {\n            mListenerInfo.mOnScrollChangeListener.onScrollChange(this, l, t, oldl, oldt);\n        }\n    }\n```\n当View注册了OnScrollChangeListener，onScrollChange才会被调用。在onScrollChanged()后调用了postInvalidateOnAnimation（）。\n```java\n    public void postInvalidateOnAnimation() {\n        // We try only with the AttachInfo because there's no point in invalidating\n        // if we are not attached to our window\n        final AttachInfo attachInfo = mAttachInfo;\n        if (attachInfo != null) {\n            attachInfo.mViewRootImpl.dispatchInvalidateOnAnimation(this);\n        }\n    }\n\t public void dispatchInvalidateOnAnimation(View view) {\n        mInvalidateOnAnimationRunnable.addView(view);\n    }\n\t    final class InvalidateOnAnimationRunnable implements Runnable {\n        private boolean mPosted;\n        private final ArrayList<View> mViews = new ArrayList<View>();\n        private final ArrayList<AttachInfo.InvalidateInfo> mViewRects =\n                new ArrayList<AttachInfo.InvalidateInfo>();\n        private View[] mTempViews;\n        private AttachInfo.InvalidateInfo[] mTempViewRects;\n\n        public void addView(View view) {\n            synchronized (this) {\n                mViews.add(view);\n                postIfNeededLocked();\n            }\n        }\n\n        public void addViewRect(AttachInfo.InvalidateInfo info) {\n            synchronized (this) {\n                mViewRects.add(info);\n                postIfNeededLocked();\n            }\n        }\n\n        public void removeView(View view) {\n            synchronized (this) {\n                mViews.remove(view);\n\n                for (int i = mViewRects.size(); i-- > 0; ) {\n                    AttachInfo.InvalidateInfo info = mViewRects.get(i);\n                    if (info.target == view) {\n                        mViewRects.remove(i);\n                        info.recycle();\n                    }\n                }\n\n                if (mPosted && mViews.isEmpty() && mViewRects.isEmpty()) {\n                    mChoreographer.removeCallbacks(Choreographer.CALLBACK_ANIMATION, this, null);\n                    mPosted = false;\n                }\n            }\n        }\n\n        @Override\n        public void run() {\n            final int viewCount;\n            final int viewRectCount;\n            synchronized (this) {\n                mPosted = false;\n\n                viewCount = mViews.size();\n                if (viewCount != 0) {\n                    mTempViews = mViews.toArray(mTempViews != null\n                            ? mTempViews : new View[viewCount]);\n                    mViews.clear();\n                }\n\n                viewRectCount = mViewRects.size();\n                if (viewRectCount != 0) {\n                    mTempViewRects = mViewRects.toArray(mTempViewRects != null\n                            ? mTempViewRects : new AttachInfo.InvalidateInfo[viewRectCount]);\n                    mViewRects.clear();\n                }\n            }\n\n            for (int i = 0; i < viewCount; i++) {\n                mTempViews[i].invalidate();\n                mTempViews[i] = null;\n            }\n\n            for (int i = 0; i < viewRectCount; i++) {\n                final View.AttachInfo.InvalidateInfo info = mTempViewRects[i];\n                info.target.invalidate(info.left, info.top, info.right, info.bottom);\n                info.recycle();\n            }\n        }\n\n        private void postIfNeededLocked() {\n            if (!mPosted) {\n                mChoreographer.postCallback(Choreographer.CALLBACK_ANIMATION, this, null);\n                mPosted = true;\n            }\n        }\n    }\n```\n在addView中postIfNeededLocked()会调用到run(),在run()里遍历所有添加进去的View，然后对每个View调用invalidate()，\n```java\n   public void invalidate() {\n        invalidate(true);\n    }\n\t    public void invalidate(boolean invalidateCache) {\n        invalidateInternal(0, 0, mRight - mLeft, mBottom - mTop, invalidateCache, true);\n    }\nvoid invalidateInternal(int l, int t, int r, int b, boolean invalidateCache,\n            boolean fullInvalidate) {\n    ...\n            // Propagate the damage rectangle to the parent view.\n            final AttachInfo ai = mAttachInfo;\n            final ViewParent p = mParent;\n            if (p != null && ai != null && l < r && t < b) {\n                final Rect damage = ai.mTmpInvalRect;\n                damage.set(l, t, r, b);\n                p.invalidateChild(this, damage);// Invalidate child\n            }\n\n            // Damage the entire projection receiver, if necessary.\n            if (mBackground != null && mBackground.isProjected()) {\n                final View receiver = getProjectionReceiver();\n                if (receiver != null) {\n                    receiver.damageInParent();\n                }\n            }\n        }\n    }\n```\np.invalidateChild()这就是scrollTo移动的是View的内容的真相。再来揭示为何方向相反呢?进入ViewGroup的invalidateChild().\n```java\n@Deprecated\n    @Override\n    public final void invalidateChild(View child, final Rect dirty) {\n    ···\n                parent = parent.invalidateChildInParent(location, dirty);\n                if (view != null) {\n                    // Account for transform on current parent\n                    Matrix m = view.getMatrix();\n                    if (!m.isIdentity()) {\n                        RectF boundingRect = attachInfo.mTmpTransformRect;\n                        boundingRect.set(dirty);\n                        m.mapRect(boundingRect);\n                        dirty.set((int) Math.floor(boundingRect.left),\n                                (int) Math.floor(boundingRect.top),\n                                (int) Math.ceil(boundingRect.right),\n                                (int) Math.ceil(boundingRect.bottom));\n                    }\n                }\n            } while (parent != null);\n        }\n    }\n```\n里面有一行代码parent = parent.invalidateChildInParent(location, dirty);进去invalidateChildInParent（）\n```java\n  @Override\n        public ViewParent invalidateChildInParent(int[] location, Rect dirty) {\n            if (mHostView != null) {\n                dirty.offset(location[0], location[1]);\n                if (mHostView instanceof ViewGroup) {\n                    location[0] = 0;\n                    location[1] = 0;\n                    super.invalidateChildInParent(location, dirty);\n                    return ((ViewGroup) mHostView).invalidateChildInParent(location, dirty);\n                } else {\n                    invalidate(dirty);\n                }\n            }\n            return null;\n        }\n    }\n```\n进入 invalidate(dirty);\n```java\n    public void invalidate(Rect dirty) {\n        final int scrollX = mScrollX;\n        final int scrollY = mScrollY;\n        invalidateInternal(dirty.left - scrollX, dirty.top - scrollY,\n                dirty.right - scrollX, dirty.bottom - scrollY, true, false);\n    }\n```\n这就是为什么方向会相反的原因啦。整个scrollTo透露着一股观察者模式的气味，当调用scrollTo（）时，InvalidateOnAnimationRunnable中的run()会通知所有子View。让其重绘。\n\n## Scroller源码\nScroller典型用法：\n```java\n@Override\npublic void computeScroll() {\n    super.computeScroll();\n    // 判断Scroller是否执行完毕\n    if (mScroller.computeScrollOffset()) {\n        ((View) getParent()).scrollTo(\n                mScroller.getCurrX(),//获取当前的滑动坐标\n                mScroller.getCurrY());\n        // 通过重绘来不断调用computeScroll\n        postInvalidate();\n    }\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n    switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            lastX = (int) event.getX();\n            lastY = (int) event.getY();\n            break;\n        case MotionEvent.ACTION_MOVE:\n            int offsetX = x - lastX;\n            int offsetY = y - lastY;\n            ((View) getParent()).scrollBy(-offsetX, -offsetY);\n            break;\n        case MotionEvent.ACTION_UP:\n            // 手指离开时，执行滑动过程\n            View viewGroup = ((View) getParent());\n            mScroller.startScroll(\n                    viewGroup.getScrollX(),\n                    viewGroup.getScrollY(),\n                    -viewGroup.getScrollX(),\n                    -viewGroup.getScrollY());\n            invalidate();\n            break;\n    }\n    return true;\n}\n```\n与scrollTo（）、scrollBy（）同样，滑动的是View的内容。首先进入startScroll（）\n\n```java\n    public void startScroll(int startX, int startY, int dx, int dy, int duration) {\n        mMode = SCROLL_MODE;\n        mFinished = false;\n        mDuration = duration;\n        mStartTime = AnimationUtils.currentAnimationTimeMillis();\n        mStartX = startX;\n        mStartY = startY;\n        mFinalX = startX + dx;\n        mFinalY = startY + dy;\n        mDeltaX = dx;\n        mDeltaY = dy;\n        mDurationReciprocal = 1.0f / (float) mDuration;\n    }\n```\n里面除了设值什么也没做，那Scroller是怎么让View滑起来的呢？秘密就在startScroll（）的下一行invalidate()重绘中调用View中的draw()\n```java\n    boolean draw(Canvas canvas, ViewGroup parent, long drawingTime) {\n     ...\n\t if (!drawingWithRenderNode) {\n            computeScroll();\n            sx = mScrollX;\n            sy = mScrollY;\n        }\n\n  ```\n  里面会调用我们重写的computeScroll(),而在我们重写的computeScroll()里我们利用scrollTo完成了滑动操作。并同时启动了postInvalidate();开启了第二次重绘。反复直至滑动结束。最后再看看computeScrollOffset（）\n ```java\n     public boolean computeScrollOffset() {\n        if (mFinished) {\n            return false;\n        }\n\n        int timePassed = (int)(AnimationUtils.currentAnimationTimeMillis() - mStartTime);\n    \n        if (timePassed < mDuration) {\n            switch (mMode) {\n            case SCROLL_MODE:\n                final float x = mInterpolator.getInterpolation(timePassed * mDurationReciprocal);\n                mCurrX = mStartX + Math.round(x * mDeltaX);\n                mCurrY = mStartY + Math.round(x * mDeltaY);\n                break;\n  ...\n    }\n        return true;\n\n ```\n根据时间流逝的百分比算出scrollX和scrollY。返回为true意味着滑动还未结束，false：滑动已结束\n","slug":"Scroller、ScrollTo、ScrollBy源码解析","published":1,"updated":"2020-02-13T07:16:09.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0a0077qr3lixh3fj0i"},{"title":"Tensorflow的迭代方法","date":"2019-01-07T16:00:00.000Z","description":"训练模型的迭代过程","_content":"[官方学习链接](https://developers.google.com/machine-learning/crash-course/reducing-loss/an-iterative-approach)\n\n## 迭代过程\n![Tensorflow迭代](/images/Tensorflow迭代过程.png)\n\n　　将一群有标签样本传入模型训练，执行预测得到预测标签。通过损失函数比较实际标签与预测标签差异。再更新参数迭代直至发现损失可能最低的模型参数。\n  \n　　梯度下降法：梯度下降法首先选择一个任意起始值（起点）。然后计算损失曲线在起点处的梯度。（模长为最大方向导数）它可以让我们了解哪个方向距离目标“更近”或“更远”。值得注意的是，损失相对于单个权重的梯度（如下图）就等于导数。用梯度乘以一个称为学习速率（有时也称为步长）的标量，以确定下一个负梯度方向点的位置。来逼近最低点。当降到最低点时，模型即收敛。\n  ![梯度下降法](/images/GradientDescentNegativeGradient.png)","source":"_posts/Tensorflow的迭代方法.md","raw":"title: Tensorflow的迭代方法\ndate: 2019-1-8\ntags: [tensorflow]\ncategories: Machine Learning\ndescription: 训练模型的迭代过程\n---\n[官方学习链接](https://developers.google.com/machine-learning/crash-course/reducing-loss/an-iterative-approach)\n\n## 迭代过程\n![Tensorflow迭代](/images/Tensorflow迭代过程.png)\n\n　　将一群有标签样本传入模型训练，执行预测得到预测标签。通过损失函数比较实际标签与预测标签差异。再更新参数迭代直至发现损失可能最低的模型参数。\n  \n　　梯度下降法：梯度下降法首先选择一个任意起始值（起点）。然后计算损失曲线在起点处的梯度。（模长为最大方向导数）它可以让我们了解哪个方向距离目标“更近”或“更远”。值得注意的是，损失相对于单个权重的梯度（如下图）就等于导数。用梯度乘以一个称为学习速率（有时也称为步长）的标量，以确定下一个负梯度方向点的位置。来逼近最低点。当降到最低点时，模型即收敛。\n  ![梯度下降法](/images/GradientDescentNegativeGradient.png)","slug":"Tensorflow的迭代方法","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0b007aqr3l6uqm1fbz"},{"title":"Symmetric Tree","date":"2019-02-13T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center).\n\nFor example, this binary tree [1,2,2,3,4,4,3] is symmetric:\n\n　　1\n   /　 　\\\n  2 　 　2\n /　\\  　/ 　\\\n3　4 4　　3\nBut the following [1,2,2,null,3,null,3] is not:\n　1\n   /　\\\n  2　2\n   \\　　\\\n   3　　3\n## Solution\n　　对称条件是每个节点（左子树的右孩子）和（右子树的左孩子）以及（左子树的左孩子）和（右子树的右孩子）相等。但没有写出代码怎么递归表示。采用了复制一颗同样的树p。将p树交换左右子树。再判断root和p是否相等。一定要复制同样的树，否则root会跟着p同时变化。\n\n## Code\n```java\n /**recursively \n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n       public boolean isSymmetric(TreeNode root) {\n        if (root == null) {\n            return true;\n        }\n        return isSymmetrics(root.left, root.right);\n    }\n\n    private boolean isSymmetrics(TreeNode left, TreeNode right) {\n        if (left == null && right == null) {\n            return true;\n        }\n        if (left == null || right == null) {\n            return false;\n        }\n        if (left.val == right.val) {\n            return isSymmetrics(left.left, right.right) && isSymmetrics(left.right, right.left);\n        }\n        return false;\n    }\n\n}\n```\n```java\n/**swap\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public boolean isSymmetric(TreeNode root) {\n        TreeNode p = cloneTree(root);\n        swapNode(p);\n        return isSame(p, root);\n    }\n    public static TreeNode cloneTree(TreeNode root){\n        TreeNode node=null;\n        if(root==null) return null;\n        node=new TreeNode(root.val);\n        node.left=cloneTree(root.left);\n        node.right=cloneTree(root.right);\n\n        return node;\n    }\n    private boolean isSame(TreeNode s, TreeNode t) {\n        if (s == null && t == null) {\n            return true;\n        }\n        if (s == null || t == null) {\n            return false;\n        }\n        if (s.val != t.val) {\n            return false;\n        }\n        return isSame(s.left, t.left) && isSame(s.right, t.right);\n    }\n    private void swapNode(TreeNode p) {\n        if (p == null || (p.left == null && p.right == null)) {\n            return;\n        }\n        TreeNode t = p.left;\n        p.left = p.right;\n        p.right = t;\n        if (p.left != null) {\n            swapNode(p.left);\n        }\n        if (p.right != null) {\n            swapNode(p.right);\n        }\n    }\n\n}\n```\n","source":"_posts/Symmetric Tree.md","raw":"title: Symmetric Tree\ndate: 2019-2-14\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center).\n\nFor example, this binary tree [1,2,2,3,4,4,3] is symmetric:\n\n　　1\n   /　 　\\\n  2 　 　2\n /　\\  　/ 　\\\n3　4 4　　3\nBut the following [1,2,2,null,3,null,3] is not:\n　1\n   /　\\\n  2　2\n   \\　　\\\n   3　　3\n## Solution\n　　对称条件是每个节点（左子树的右孩子）和（右子树的左孩子）以及（左子树的左孩子）和（右子树的右孩子）相等。但没有写出代码怎么递归表示。采用了复制一颗同样的树p。将p树交换左右子树。再判断root和p是否相等。一定要复制同样的树，否则root会跟着p同时变化。\n\n## Code\n```java\n /**recursively \n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n       public boolean isSymmetric(TreeNode root) {\n        if (root == null) {\n            return true;\n        }\n        return isSymmetrics(root.left, root.right);\n    }\n\n    private boolean isSymmetrics(TreeNode left, TreeNode right) {\n        if (left == null && right == null) {\n            return true;\n        }\n        if (left == null || right == null) {\n            return false;\n        }\n        if (left.val == right.val) {\n            return isSymmetrics(left.left, right.right) && isSymmetrics(left.right, right.left);\n        }\n        return false;\n    }\n\n}\n```\n```java\n/**swap\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public boolean isSymmetric(TreeNode root) {\n        TreeNode p = cloneTree(root);\n        swapNode(p);\n        return isSame(p, root);\n    }\n    public static TreeNode cloneTree(TreeNode root){\n        TreeNode node=null;\n        if(root==null) return null;\n        node=new TreeNode(root.val);\n        node.left=cloneTree(root.left);\n        node.right=cloneTree(root.right);\n\n        return node;\n    }\n    private boolean isSame(TreeNode s, TreeNode t) {\n        if (s == null && t == null) {\n            return true;\n        }\n        if (s == null || t == null) {\n            return false;\n        }\n        if (s.val != t.val) {\n            return false;\n        }\n        return isSame(s.left, t.left) && isSame(s.right, t.right);\n    }\n    private void swapNode(TreeNode p) {\n        if (p == null || (p.left == null && p.right == null)) {\n            return;\n        }\n        TreeNode t = p.left;\n        p.left = p.right;\n        p.right = t;\n        if (p.left != null) {\n            swapNode(p.left);\n        }\n        if (p.right != null) {\n            swapNode(p.right);\n        }\n    }\n\n}\n```\n","slug":"Symmetric Tree","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0d007eqr3lw5uqkk31"},{"title":"The kth largest element","date":"2018-12-31T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Find the kth largest element in an unsorted array. Note that it is the kth largest element in the sorted order, not the kth distinct element.You may assume k is always valid, 1 ≤ k ≤ array's length.\n ## Examples\n``` java\nExample 1:\nInput: [3,2,1,5,6,4] and k = 2\nOutput: 5\n```\n```java\nExample 2:\nInput: [3,2,3,1,2,4,5,5,6] and k = 4\nOutput: 4\n```\n## Solution\n　　思路是利用快排找到第n.length - k个枢轴即可。疑惑的是，提交上去AC了但有些耗时（32组样例跑了40ms）。复杂度为O(n)。看了4msAC的代码。真的是太简单粗暴啦。直接调用库函数排序，再取第n.length - k个元素。我对这个算法的时间复杂度产生了疑问。考虑过排序再取但太过耗时。快排时间复杂度是O（nlogn）。所以JDK用的并非快排。源码中采取的是DualPivotQuicksort方法。具体分析放在下片博文里[dualpivotsort](https://nightxlt.github.io/2019/01/01/DualPivotSort/)。\n\n## Code\n\n```java\n     public int partition(int[] nums, int low, int high) {\n        int pivot = nums[low];\n        while (low < high) {\n            while (low < high && nums[high] >= pivot) {\n                high--;\n            }\n            nums[low] = nums[high];\n            while (low < high && nums[low] <= pivot) {\n                low++;\n            }\n            nums[high] = nums[low];\n        }\n        nums[low] = pivot;\n        return low;\n    }\n\n    int quickSort(int[] nums, int k, int low, int high) {\n        int pos = nums.length - k;\n        int pivot = partition(nums, low, high);\n        if (pivot == pos) {\n            return nums[pivot];\n        } else if (pivot > pos) {\n            return quickSort(nums, k, low, pivot - 1);\n        } else {\n            return quickSort(nums, k, pivot + 1, high);\n        }\n    }\n\n    public int findKthLargest(int[] nums, int k) {\n        if (nums.length == 1 && k == 1) {\n            return nums[0];\n        }\n        return quickSort(nums, k, 0, nums.length - 1);\n    }\n\n```","source":"_posts/The kth largest element.md","raw":"title: The kth largest element\ndate: 2019-1-1\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Find the kth largest element in an unsorted array. Note that it is the kth largest element in the sorted order, not the kth distinct element.You may assume k is always valid, 1 ≤ k ≤ array's length.\n ## Examples\n``` java\nExample 1:\nInput: [3,2,1,5,6,4] and k = 2\nOutput: 5\n```\n```java\nExample 2:\nInput: [3,2,3,1,2,4,5,5,6] and k = 4\nOutput: 4\n```\n## Solution\n　　思路是利用快排找到第n.length - k个枢轴即可。疑惑的是，提交上去AC了但有些耗时（32组样例跑了40ms）。复杂度为O(n)。看了4msAC的代码。真的是太简单粗暴啦。直接调用库函数排序，再取第n.length - k个元素。我对这个算法的时间复杂度产生了疑问。考虑过排序再取但太过耗时。快排时间复杂度是O（nlogn）。所以JDK用的并非快排。源码中采取的是DualPivotQuicksort方法。具体分析放在下片博文里[dualpivotsort](https://nightxlt.github.io/2019/01/01/DualPivotSort/)。\n\n## Code\n\n```java\n     public int partition(int[] nums, int low, int high) {\n        int pivot = nums[low];\n        while (low < high) {\n            while (low < high && nums[high] >= pivot) {\n                high--;\n            }\n            nums[low] = nums[high];\n            while (low < high && nums[low] <= pivot) {\n                low++;\n            }\n            nums[high] = nums[low];\n        }\n        nums[low] = pivot;\n        return low;\n    }\n\n    int quickSort(int[] nums, int k, int low, int high) {\n        int pos = nums.length - k;\n        int pivot = partition(nums, low, high);\n        if (pivot == pos) {\n            return nums[pivot];\n        } else if (pivot > pos) {\n            return quickSort(nums, k, low, pivot - 1);\n        } else {\n            return quickSort(nums, k, pivot + 1, high);\n        }\n    }\n\n    public int findKthLargest(int[] nums, int k) {\n        if (nums.length == 1 && k == 1) {\n            return nums[0];\n        }\n        return quickSort(nums, k, 0, nums.length - 1);\n    }\n\n```","slug":"The kth largest element","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0e007iqr3lu3bmyqal"},{"title":"The kth permutation sequence.","date":"2019-01-01T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### The set [1,2,3,...,n] contains a total of n! unique permutations.By listing and labeling all of the permutations in order, we get the following sequence for n = 3:　\"123\"，\"132\"，\"213\"，\"231\"，\"312\"，\"321\"；Given n and k, return the kth permutation sequence.Note:Given n will be between 1 and 9 inclusive.Given k will be between 1 and n! inclusive.\n ## Examples\n``` java\nExample 1:\nInput: n = 3, k = 3\nOutput: \"213\"\n```\n```java\nExample 2:\nInput: n = 4, k = 9\nOutput: \"2314\"\n```\n\n## Solution\n　　首先需将k--转换为从0开始计数，index = k％(n-1)!，得到的index就是当前剩余数组的index，如此就可以得到对应的元素。如此递推直到数组中没有元素结束。实现中我们要维护一个数组来记录当前的元素，每次得到一个元素加入结果数组，然后从剩余数组中移除（一定要移，而不是get），因此空间复杂度是O(n)。时间上总共需要n个回合，而每次删除元素如果是用数组需要O(n),所以总共是O(n^2)。\n\n\n## Code\n\n```java\n class Solution {\n        public String getPermutation(int n, int k) {\n        k--;\n        List<Integer> integers = new ArrayList<>();\n        int factorial = 1;\n        for (int i = 1; i <= n; i++) {\n            integers.add(i);\n            factorial *= i;\n        }\n        factorial /= n;\n        int count = n - 1;\n        StringBuilder sb = new StringBuilder();\n        while (count >= 0) {\n            sb.append(integers.remove(k / factorial));\n            k %= factorial;\n            if (count != 0) {\n                factorial /= count;\n            }\n            count--;\n        }\n        return sb.toString();\n    }\n\n}\n```","source":"_posts/The kth permutation sequence.md","raw":"title: The kth permutation sequence.\ndate: 2019-1-2\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### The set [1,2,3,...,n] contains a total of n! unique permutations.By listing and labeling all of the permutations in order, we get the following sequence for n = 3:　\"123\"，\"132\"，\"213\"，\"231\"，\"312\"，\"321\"；Given n and k, return the kth permutation sequence.Note:Given n will be between 1 and 9 inclusive.Given k will be between 1 and n! inclusive.\n ## Examples\n``` java\nExample 1:\nInput: n = 3, k = 3\nOutput: \"213\"\n```\n```java\nExample 2:\nInput: n = 4, k = 9\nOutput: \"2314\"\n```\n\n## Solution\n　　首先需将k--转换为从0开始计数，index = k％(n-1)!，得到的index就是当前剩余数组的index，如此就可以得到对应的元素。如此递推直到数组中没有元素结束。实现中我们要维护一个数组来记录当前的元素，每次得到一个元素加入结果数组，然后从剩余数组中移除（一定要移，而不是get），因此空间复杂度是O(n)。时间上总共需要n个回合，而每次删除元素如果是用数组需要O(n),所以总共是O(n^2)。\n\n\n## Code\n\n```java\n class Solution {\n        public String getPermutation(int n, int k) {\n        k--;\n        List<Integer> integers = new ArrayList<>();\n        int factorial = 1;\n        for (int i = 1; i <= n; i++) {\n            integers.add(i);\n            factorial *= i;\n        }\n        factorial /= n;\n        int count = n - 1;\n        StringBuilder sb = new StringBuilder();\n        while (count >= 0) {\n            sb.append(integers.remove(k / factorial));\n            k %= factorial;\n            if (count != 0) {\n                factorial /= count;\n            }\n            count--;\n        }\n        return sb.toString();\n    }\n\n}\n```","slug":"The kth permutation sequence","published":1,"updated":"2020-02-13T07:16:09.058Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0f007lqr3l082maomy"},{"title":"Single Number III","date":"2020-02-01T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/single-number-iii/\n\n\n## Solution\n\n参考题解 https://leetcode-cn.com/problems/single-number-iii/solution/zhi-chu-xian-yi-ci-de-shu-zi-iii-by-leetcode/\n\n1. x & （-x）保留 x 最右侧的 1,因为-x 是将 x 所有位进行取反 然后最后一位加一。那么这个一必然是来自于两个只出现一次的数 x,y中的一个\n2. 同一个数进行异或两次为 0\n\n## Code\n\n```java\nclass Solution {\n    fun singleNumber(nums: IntArray): IntArray {\n        val res = IntArray(2)\n        var xorRes = 0\n        nums.forEach {\n            xorRes = xorRes xor it\n        }\n        val diff = xorRes and -xorRes\n        res[0] = 0\n        nums.forEach {\n            if (it and diff != 0) {\n                res[0] = res[0] xor it //使用异或消除冗余的数，其&上 diff 也不等于=0\n            }\n        }\n        res[1] = xorRes xor res[0]\n        return res\n    }\n}\n```","source":"_posts/Single_Number_III.md","raw":"title:  Single Number III\ndate: 2020-2-2\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/single-number-iii/\n\n\n## Solution\n\n参考题解 https://leetcode-cn.com/problems/single-number-iii/solution/zhi-chu-xian-yi-ci-de-shu-zi-iii-by-leetcode/\n\n1. x & （-x）保留 x 最右侧的 1,因为-x 是将 x 所有位进行取反 然后最后一位加一。那么这个一必然是来自于两个只出现一次的数 x,y中的一个\n2. 同一个数进行异或两次为 0\n\n## Code\n\n```java\nclass Solution {\n    fun singleNumber(nums: IntArray): IntArray {\n        val res = IntArray(2)\n        var xorRes = 0\n        nums.forEach {\n            xorRes = xorRes xor it\n        }\n        val diff = xorRes and -xorRes\n        res[0] = 0\n        nums.forEach {\n            if (it and diff != 0) {\n                res[0] = res[0] xor it //使用异或消除冗余的数，其&上 diff 也不等于=0\n            }\n        }\n        res[1] = xorRes xor res[0]\n        return res\n    }\n}\n```","slug":"Single_Number_III","published":1,"updated":"2020-02-12T03:11:50.165Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0g007pqr3lv0bgef3x"},{"title":"The min stack","date":"2019-01-05T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.\n ## Examples\n``` java\nExample 1:\nMinStack minStack = new MinStack();\nminStack.push(-2);\nminStack.push(0);\nminStack.push(-3);\nminStack.getMin();   --> Returns -3.\nminStack.pop();\nminStack.top();      --> Returns 0.\nminStack.getMin();   --> Returns -2.\n```\n\n## Solution\n　　逻辑没问题，但就是怎么就AC不了。还是那个老问题。以前是list里添加list要new。这道题是同样问题。List添加对象时，也要每次new，每次靠 = 修改对象再添加。这样list内的对象会都一样。\n## Code\n\n```java\n class MinStack {\n\n    Stack<Integer> mStack;\n    Stack<Integer> mMinStack;\n\n    public MinStack() {\n        mStack = new Stack<>();\n        mMinStack = new Stack<>();\n    }\n\n    public void push(int x) {\n        mStack.push(x);\n        if (mMinStack.size() == 0 || x < mMinStack.peek()) {\n            mMinStack.push(x);\n        } else {\n            mMinStack.push(mMinStack.peek());\n        } \n    }\n\n    public void pop() {\n        if (!mStack.isEmpty()) {\n            mStack.pop();\n            mMinStack.pop();\n        }\n    }\n\n    public int top() {\n        return mStack.peek();\n    }\n\n    public int getMin() {\n        return mMinStack.peek();\n    }\n}\n\n```","source":"_posts/The min stack.md","raw":"title: The min stack\ndate: 2019-1-6\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.\n ## Examples\n``` java\nExample 1:\nMinStack minStack = new MinStack();\nminStack.push(-2);\nminStack.push(0);\nminStack.push(-3);\nminStack.getMin();   --> Returns -3.\nminStack.pop();\nminStack.top();      --> Returns 0.\nminStack.getMin();   --> Returns -2.\n```\n\n## Solution\n　　逻辑没问题，但就是怎么就AC不了。还是那个老问题。以前是list里添加list要new。这道题是同样问题。List添加对象时，也要每次new，每次靠 = 修改对象再添加。这样list内的对象会都一样。\n## Code\n\n```java\n class MinStack {\n\n    Stack<Integer> mStack;\n    Stack<Integer> mMinStack;\n\n    public MinStack() {\n        mStack = new Stack<>();\n        mMinStack = new Stack<>();\n    }\n\n    public void push(int x) {\n        mStack.push(x);\n        if (mMinStack.size() == 0 || x < mMinStack.peek()) {\n            mMinStack.push(x);\n        } else {\n            mMinStack.push(mMinStack.peek());\n        } \n    }\n\n    public void pop() {\n        if (!mStack.isEmpty()) {\n            mStack.pop();\n            mMinStack.pop();\n        }\n    }\n\n    public int top() {\n        return mStack.peek();\n    }\n\n    public int getMin() {\n        return mMinStack.peek();\n    }\n}\n\n```","slug":"The min stack","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0g007sqr3l8jwo6qtx"},{"title":"Design Underground System","date":"2020-03-28T16:00:00.000Z","description":"HashMap 中标识 Key 的做法","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/design-underground-system/\n\n## Solution\n\n看似普普通通的一道题，在竞赛时死活没刷出来，感觉被其中的映射关系绕糊涂了。结束后看了下题解。AHA，神奇。对于始发站和进站时间使用两个 HashMap 进行记录，key 是 id, 方便在下站时根据 id 站拿到始发站的时间和站名。 之前执拗在使用map 中包 map 的做法将其省略为一个，想着能省下空间，我擦，写起来时太痛苦了。开始想着一个变量写着简便些，结果简便个毛线。对于 time 和 count 也各使用一个 map，这里的 key 就比较 tricky 了，通过将始发站和出站中间拼上一个#作为标识。这样计算平均时也相当方便，直接将startStation # endStation 作为 key，直接取数据即可。这道题指的注意的是这里的 key 设置并不遵循常理单一变量设置，想来 Key 只要唯一即可，真的妙啊。\n\n## Code\n\n```java\nclass UndergroundSystem {\n    val startStations = HashMap<Int, String>()\n    val startT = HashMap<Int, Int>()\n    val time = HashMap<String, Int>()\n    val count = HashMap<String, Int>()\n\n    fun checkIn(id: Int, stationName: String, t: Int) {\n        startStations[id] = stationName\n        startT[id] = t\n    }\n\n    fun checkOut(id: Int, stationName: String, t: Int) {\n        val s = startStations.getOrDefault(id, \"\") + '#' + stationName\n        time[s] = time.getOrDefault(s, 0) + t - startT.getOrDefault(id, 0)\n        count[s] = count.getOrDefault(s, 0) + 1\n    }\n\n    fun getAverageTime(startStation: String, endStation: String): Double {\n        val s = \"$startStation#$endStation\"\n        return time[s]!! * 1.0 / count[s]!!\n    }\n}\n```","source":"_posts/UndergroundSystem.md","raw":"title:   Design Underground System\ndate: 2020-3-29\ntags: [Leetcode]\ncategories: algorithm\n\ndescription: HashMap 中标识 Key 的做法\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/design-underground-system/\n\n## Solution\n\n看似普普通通的一道题，在竞赛时死活没刷出来，感觉被其中的映射关系绕糊涂了。结束后看了下题解。AHA，神奇。对于始发站和进站时间使用两个 HashMap 进行记录，key 是 id, 方便在下站时根据 id 站拿到始发站的时间和站名。 之前执拗在使用map 中包 map 的做法将其省略为一个，想着能省下空间，我擦，写起来时太痛苦了。开始想着一个变量写着简便些，结果简便个毛线。对于 time 和 count 也各使用一个 map，这里的 key 就比较 tricky 了，通过将始发站和出站中间拼上一个#作为标识。这样计算平均时也相当方便，直接将startStation # endStation 作为 key，直接取数据即可。这道题指的注意的是这里的 key 设置并不遵循常理单一变量设置，想来 Key 只要唯一即可，真的妙啊。\n\n## Code\n\n```java\nclass UndergroundSystem {\n    val startStations = HashMap<Int, String>()\n    val startT = HashMap<Int, Int>()\n    val time = HashMap<String, Int>()\n    val count = HashMap<String, Int>()\n\n    fun checkIn(id: Int, stationName: String, t: Int) {\n        startStations[id] = stationName\n        startT[id] = t\n    }\n\n    fun checkOut(id: Int, stationName: String, t: Int) {\n        val s = startStations.getOrDefault(id, \"\") + '#' + stationName\n        time[s] = time.getOrDefault(s, 0) + t - startT.getOrDefault(id, 0)\n        count[s] = count.getOrDefault(s, 0) + 1\n    }\n\n    fun getAverageTime(startStation: String, endStation: String): Double {\n        val s = \"$startStation#$endStation\"\n        return time[s]!! * 1.0 / count[s]!!\n    }\n}\n```","slug":"UndergroundSystem","published":1,"updated":"2020-03-31T00:15:10.141Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0h007vqr3lynff43jc"},{"title":"The permutation of string","date":"2018-12-27T16:00:00.000Z","description":"Given two strings s1 and s2, write a function to return true if s2 contains the permutation of s1.","_content":"## 题目描述\n  ### Given two strings s1 and s2, write a function to return true if s2 contains the permutation of s1. In other words, one of the first string's permutations is the substring of the second string.\n ## Examples\n``` java\nExample 1:\nInput:s1 = \"ab\" s2 = \"eidbaooo\"\nOutput:True\nExplanation: s2 contains one permutation of s1 (\"ba\").\n```\n```java\nExample 2:\nInput:s1= \"ab\" s2 = \"eidboaoo\"\nOutput: False\n```\n```java\nExample 3:\nInput:s1= \"abc\" s2 = \"abdc\"\nOutput: True\n\n```\n\n## Solution\n\n1. 一开始找不到排列和子序列的对应关系；可以通过记录两个字符串中字符出现次数countS1[],countS2[]来比较，但这样会引入一个问题可能两个子序列出现次数相等，然而出现次序不一致。为了解决这一问题，在此思路上引入滑动窗口（没错，就是计网中的流量控制中的滑动窗口协议）。\n\n2. 在本题中令countS2[]作为发送窗口，countS1[]作为接收窗口。先比较前s1的长度len1内的元素，再循环比较剩余s2的长度len2-len1个元素。总共比较次数len2-len1+1次。但这样写的话循环内需要加一层判断当前发送窗口是否越界，增加了时间复杂度。\n\n3. 可优化为先单独长度为len1的元素判断。循环（接收窗口滑动一个单位，再判断是否相等），这时第i个字符小时， i + len1个字符出现。 直至比较完毕或出现不等退出循环。这样比较剩余元素可确保发送窗口不会越界。（执行顺序注意下）切记__循环内套if要三思啊，炒鸡炒鸡炒鸡耗时的。__\n\n## Code\n\n```java\n//an effective algorithm\nclass Solution {\n    public boolean checkInclusion(String s1, String s2) {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        if (len1 > len2) {\n            return false;\n        }\n        int countS1[] = new int[26];\n        int countS2[] = new int[26];\n        for (int i = 0; i < len1; i++) {\n            countS1[s1.charAt(i) - 'a']++;\n            countS2[s2.charAt(i) - 'a']++;\n        }\n        if (isEquals(countS1, countS2))\n            return true;\n        for (int i = 0; i < len2 - len1; i++) {\n\n            //sliding window\n            countS2[s2.charAt(i) - 'a']--;\n            countS2[s2.charAt(i + len1) - 'a']++;\n            if (isEquals(countS1, countS2))//Judging after sliding\n                return true;\n        }\n        return false;\n    }\n\n    public boolean isEquals(int c1[], int c2[]) {\n        for (int i = 0; i < c1.length; i++) {\n            if (c1[i] != c2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n```\n\n```java\n//a relative slower algorithm\nclass Solution {\n    public boolean checkInclusion(String s1, String s2) {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        if (len1 > len2) {\n            return false;\n        }\n        int countS1[] = new int[26];\n        int countS2[] = new int[26];\n        for (int i = 0; i < len1; i++) {\n            countS1[s1.charAt(i) - 'a']++;\n            countS2[s2.charAt(i) - 'a']++;\n        }\n        for (int i = 0; i < len2 - len1 + 1; i++) {\n  \t\t\t if (isEquals(countS1, countS2))//Judging after sliding\n               \t \treturn true;\n            //sliding window\n\t\t\tif(i< len2 - len1){\n\t\t\t \t countS2[s2.charAt(i) - 'a']--;\n                 countS2[s2.charAt(i + len1) - 'a']++;\n\t\t\t}\n        }\n        return false;\n    }\n\n    public boolean isEquals(int c1[], int c2[]) {\n        for (int i = 0; i < c1.length; i++) {\n            if (c1[i] != c2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n```","source":"_posts/The permutation of string.md","raw":"title: The permutation of string\ndate: 2018-12-28\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Given two strings s1 and s2, write a function to return true if s2 contains the permutation of s1.\n---\n## 题目描述\n  ### Given two strings s1 and s2, write a function to return true if s2 contains the permutation of s1. In other words, one of the first string's permutations is the substring of the second string.\n ## Examples\n``` java\nExample 1:\nInput:s1 = \"ab\" s2 = \"eidbaooo\"\nOutput:True\nExplanation: s2 contains one permutation of s1 (\"ba\").\n```\n```java\nExample 2:\nInput:s1= \"ab\" s2 = \"eidboaoo\"\nOutput: False\n```\n```java\nExample 3:\nInput:s1= \"abc\" s2 = \"abdc\"\nOutput: True\n\n```\n\n## Solution\n\n1. 一开始找不到排列和子序列的对应关系；可以通过记录两个字符串中字符出现次数countS1[],countS2[]来比较，但这样会引入一个问题可能两个子序列出现次数相等，然而出现次序不一致。为了解决这一问题，在此思路上引入滑动窗口（没错，就是计网中的流量控制中的滑动窗口协议）。\n\n2. 在本题中令countS2[]作为发送窗口，countS1[]作为接收窗口。先比较前s1的长度len1内的元素，再循环比较剩余s2的长度len2-len1个元素。总共比较次数len2-len1+1次。但这样写的话循环内需要加一层判断当前发送窗口是否越界，增加了时间复杂度。\n\n3. 可优化为先单独长度为len1的元素判断。循环（接收窗口滑动一个单位，再判断是否相等），这时第i个字符小时， i + len1个字符出现。 直至比较完毕或出现不等退出循环。这样比较剩余元素可确保发送窗口不会越界。（执行顺序注意下）切记__循环内套if要三思啊，炒鸡炒鸡炒鸡耗时的。__\n\n## Code\n\n```java\n//an effective algorithm\nclass Solution {\n    public boolean checkInclusion(String s1, String s2) {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        if (len1 > len2) {\n            return false;\n        }\n        int countS1[] = new int[26];\n        int countS2[] = new int[26];\n        for (int i = 0; i < len1; i++) {\n            countS1[s1.charAt(i) - 'a']++;\n            countS2[s2.charAt(i) - 'a']++;\n        }\n        if (isEquals(countS1, countS2))\n            return true;\n        for (int i = 0; i < len2 - len1; i++) {\n\n            //sliding window\n            countS2[s2.charAt(i) - 'a']--;\n            countS2[s2.charAt(i + len1) - 'a']++;\n            if (isEquals(countS1, countS2))//Judging after sliding\n                return true;\n        }\n        return false;\n    }\n\n    public boolean isEquals(int c1[], int c2[]) {\n        for (int i = 0; i < c1.length; i++) {\n            if (c1[i] != c2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n```\n\n```java\n//a relative slower algorithm\nclass Solution {\n    public boolean checkInclusion(String s1, String s2) {\n        int len1 = s1.length();\n        int len2 = s2.length();\n        if (len1 > len2) {\n            return false;\n        }\n        int countS1[] = new int[26];\n        int countS2[] = new int[26];\n        for (int i = 0; i < len1; i++) {\n            countS1[s1.charAt(i) - 'a']++;\n            countS2[s2.charAt(i) - 'a']++;\n        }\n        for (int i = 0; i < len2 - len1 + 1; i++) {\n  \t\t\t if (isEquals(countS1, countS2))//Judging after sliding\n               \t \treturn true;\n            //sliding window\n\t\t\tif(i< len2 - len1){\n\t\t\t \t countS2[s2.charAt(i) - 'a']--;\n                 countS2[s2.charAt(i + len1) - 'a']++;\n\t\t\t}\n        }\n        return false;\n    }\n\n    public boolean isEquals(int c1[], int c2[]) {\n        for (int i = 0; i < c1.length; i++) {\n            if (c1[i] != c2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n```","slug":"The permutation of string","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0i007yqr3leiuhnznq"},{"title":"The sum of three elements is zero","date":"2018-12-29T16:00:00.000Z","description":"Find all unique triplets in the array which gives the sum of zero.","_content":"## Problem Description\n  ### Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.\n ## Examples\n``` java\nExample 1:\nInput:[-1, 0, 1, 2, -1, -4]\nOutput:[  [-1, 0, 1],[-1, -1, 2]]\n```\n\n## Solution\n   一开始，思路是   for i=0 to n/2,    \t for j=n-1，再在内层循环内用二分查找判断三个元素是否等于0。出现重复元素，且有遗漏的情况。为了防止遗漏，for i = 0 to n-2;  j = i + 1;(防止重复)，k = n - 1.\n   若 nums[i] + nums[j] + nums[k] > 0，说明k取大了，k--;\n   若 nums[i] + nums[j] + nums[k] < 0，说明k取小了，k++;\n   若nums[i] + nums[j] + nums[k] = 0，将三个数加入集合，再防止重复。降低时间复杂度。\n   \n   一个关于Java长久的坑。存在两个listA,listB集合。 listA.add(listB); listB.clear();这样刚刚添加到listA的集合也会为空。不能clear()。为防止数据叠加。每次new listB()即可。 Android曾遇到同样问题。\n## Code\n\n```java\n     public List<List<Integer>> threeSum(int[] nums) {\n        Arrays.sort(nums);\n\n        List<List<Integer>> lists = new ArrayList<>();\n        int j, k, sum;\n        for (int i = 0; i < nums.length - 2; i++) {\n            if (i > 0 && nums[i] == nums[i - 1]) {\n                continue;\n            }\n            j = i + 1;\n            k = nums.length - 1;\n            while (j < k) {\n                sum = nums[i] + nums[j] + nums[k];\n                if (sum > 0) {\n                    k--;\n\n                } else if (sum < 0) {\n                    j++;\n                } else {\n                    List<Integer> integers = new ArrayList<>();\n                    integers.add(nums[i]);\n                    integers.add(nums[j]);\n                    integers.add(nums[k]);\n                    lists.add(integers);\n                    while (j < k && nums[j + 1] == nums[j]) {\n                        j++;\n                    }\n                    while (j < k && nums[k - 1] == nums[k]) {\n                        k--;\n                    }\n                    j++;\n                    k--;\n                }\n            }\n\n        }\n        return lists;\n    }\n\n```","source":"_posts/The sum of three elements is zero.md","raw":"title: The sum of three elements is zero\ndate: 2018-12-30\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: Find all unique triplets in the array which gives the sum of zero.\n---\n## Problem Description\n  ### Given an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.\n ## Examples\n``` java\nExample 1:\nInput:[-1, 0, 1, 2, -1, -4]\nOutput:[  [-1, 0, 1],[-1, -1, 2]]\n```\n\n## Solution\n   一开始，思路是   for i=0 to n/2,    \t for j=n-1，再在内层循环内用二分查找判断三个元素是否等于0。出现重复元素，且有遗漏的情况。为了防止遗漏，for i = 0 to n-2;  j = i + 1;(防止重复)，k = n - 1.\n   若 nums[i] + nums[j] + nums[k] > 0，说明k取大了，k--;\n   若 nums[i] + nums[j] + nums[k] < 0，说明k取小了，k++;\n   若nums[i] + nums[j] + nums[k] = 0，将三个数加入集合，再防止重复。降低时间复杂度。\n   \n   一个关于Java长久的坑。存在两个listA,listB集合。 listA.add(listB); listB.clear();这样刚刚添加到listA的集合也会为空。不能clear()。为防止数据叠加。每次new listB()即可。 Android曾遇到同样问题。\n## Code\n\n```java\n     public List<List<Integer>> threeSum(int[] nums) {\n        Arrays.sort(nums);\n\n        List<List<Integer>> lists = new ArrayList<>();\n        int j, k, sum;\n        for (int i = 0; i < nums.length - 2; i++) {\n            if (i > 0 && nums[i] == nums[i - 1]) {\n                continue;\n            }\n            j = i + 1;\n            k = nums.length - 1;\n            while (j < k) {\n                sum = nums[i] + nums[j] + nums[k];\n                if (sum > 0) {\n                    k--;\n\n                } else if (sum < 0) {\n                    j++;\n                } else {\n                    List<Integer> integers = new ArrayList<>();\n                    integers.add(nums[i]);\n                    integers.add(nums[j]);\n                    integers.add(nums[k]);\n                    lists.add(integers);\n                    while (j < k && nums[j + 1] == nums[j]) {\n                        j++;\n                    }\n                    while (j < k && nums[k - 1] == nums[k]) {\n                        k--;\n                    }\n                    j++;\n                    k--;\n                }\n            }\n\n        }\n        return lists;\n    }\n\n```","slug":"The sum of three elements is zero","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0k0081qr3lm19iruzi"},{"title":"灵通关于Function thinking的一些思考","date":"2019-01-16T16:00:00.000Z","description":"哇，好爽~_~","_content":"## 前言\n本文源自对Neal Ford所著的函数式编程思维一书的一些思考记录。自己也曾写过RX全家桶，Java8的函数式表达式。直观感受是简洁。只为简洁Java单独用一个版本推出这个表达式吗？在Java8之前Java是不支持函数式编程的。Java要实现函数式编程必须要借助Function Java第三方库。那么为何众多语言都加入了对函数式编程的支持呢？函数式编程的背后又是什么呢？\n\n## 思维转变\n\n> 函数式编程中粒度最小的重用单元是函数（一等公民），并具备值不可变性\n\n命令式编程风格是按照“程序是一系列改变状态的命令”来建模，即解决问题的步骤。如典型的for循环。而函数式编程则是基于表达式和变换，即数据的映射，更类似一种数学建模的思想。用map、filter这些高阶函数把我们解放出来，让我们站在更高的抽象层次上去考虑问题 ，把问题看得更清楚。\n\n\n## 值不可变\n\n> OOP通过封装不确定因素使代码让人理解。而函数式编程通过减少使代码让人理解。                                   ——Michael Feathers\n\n不确定因素：变量值，函数值等状态。OOP在竭力控制这些状态得出正确的结果。而函数式编程(FP)则恰恰相反。FP则是尽可能消灭可变的状态。如果一门语言没有那么多容易掉进去的坑，那么开发者就不会容易犯错。所以有函数式编程中数据不可变性（immutable data）一说，多有的变量只可以赋值一次，变量不可变，如果想改变变量就创建一个新的变量。\n## 缓求值\n缓求值的好处：昂贵的运算只有到了绝对必要的时候才执行；可以建立无限大的集合，只要一接到请求就一直送出元素；按缓求值的方式使用map、filter等，可以产生更高效的代码。\n```java\npackage springapp.domain;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static java.util.stream.Collectors.toList;\n\n/**\n * Created by Night on 2018/12/28.\n * Desc:\n */\n\npublic class Solution {\n    private int asd = 3;\n    \n    void print() {\n        List<Integer> list = new ArrayList<>();\n        list.add(1);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        asd = 4;\n        System.out.println(list.parallelStream()\n                .filter(n -> n > 1)\n                .map(s -> s = s * asd)\n                .collect(toList()));\n    }\n    public static void main(String[] args) {\n       new Solution().print();\n    }\n}\n\n```\n在lambda表达式中引入了状态变量asd。在map映射时其并未真正执行乘法操作。而是直至调用collect（）方才执行。这也就是FP中的缓求值的概念。在这其中我们交出了对状态的管理权让运行时去管理状态。推迟执行是FP中一个及其重要的思想。无论缓求值亦或闭包都是基于这个思想。","source":"_posts/Think about FP.md","raw":"title: 灵通关于Function thinking的一些思考\ndate: 2019-1-17\ntags: [Function Programming]\ncategories: Java\ndescription: 哇，好爽~_~\n---\n## 前言\n本文源自对Neal Ford所著的函数式编程思维一书的一些思考记录。自己也曾写过RX全家桶，Java8的函数式表达式。直观感受是简洁。只为简洁Java单独用一个版本推出这个表达式吗？在Java8之前Java是不支持函数式编程的。Java要实现函数式编程必须要借助Function Java第三方库。那么为何众多语言都加入了对函数式编程的支持呢？函数式编程的背后又是什么呢？\n\n## 思维转变\n\n> 函数式编程中粒度最小的重用单元是函数（一等公民），并具备值不可变性\n\n命令式编程风格是按照“程序是一系列改变状态的命令”来建模，即解决问题的步骤。如典型的for循环。而函数式编程则是基于表达式和变换，即数据的映射，更类似一种数学建模的思想。用map、filter这些高阶函数把我们解放出来，让我们站在更高的抽象层次上去考虑问题 ，把问题看得更清楚。\n\n\n## 值不可变\n\n> OOP通过封装不确定因素使代码让人理解。而函数式编程通过减少使代码让人理解。                                   ——Michael Feathers\n\n不确定因素：变量值，函数值等状态。OOP在竭力控制这些状态得出正确的结果。而函数式编程(FP)则恰恰相反。FP则是尽可能消灭可变的状态。如果一门语言没有那么多容易掉进去的坑，那么开发者就不会容易犯错。所以有函数式编程中数据不可变性（immutable data）一说，多有的变量只可以赋值一次，变量不可变，如果想改变变量就创建一个新的变量。\n## 缓求值\n缓求值的好处：昂贵的运算只有到了绝对必要的时候才执行；可以建立无限大的集合，只要一接到请求就一直送出元素；按缓求值的方式使用map、filter等，可以产生更高效的代码。\n```java\npackage springapp.domain;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static java.util.stream.Collectors.toList;\n\n/**\n * Created by Night on 2018/12/28.\n * Desc:\n */\n\npublic class Solution {\n    private int asd = 3;\n    \n    void print() {\n        List<Integer> list = new ArrayList<>();\n        list.add(1);\n        list.add(2);\n        list.add(3);\n        list.add(4);\n        asd = 4;\n        System.out.println(list.parallelStream()\n                .filter(n -> n > 1)\n                .map(s -> s = s * asd)\n                .collect(toList()));\n    }\n    public static void main(String[] args) {\n       new Solution().print();\n    }\n}\n\n```\n在lambda表达式中引入了状态变量asd。在map映射时其并未真正执行乘法操作。而是直至调用collect（）方才执行。这也就是FP中的缓求值的概念。在这其中我们交出了对状态的管理权让运行时去管理状态。推迟执行是FP中一个及其重要的思想。无论缓求值亦或闭包都是基于这个思想。","slug":"Think about FP","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0l0084qr3l1a4ny165"},{"title":"The zigzag level order traversal","date":"2019-01-04T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given a binary tree, return the zigzag level order traversal of its nodes' values. (ie, from left to right, then right to left for the next level and alternate between).\n ## Examples\n``` java\nExample 1:\nInput: [3,9,20,null,null,15,7]\nOutput:: [\n  [3],\n  [20,9],\n  [15,7]\n]\n```\n\n\n## Solution\n　　层次遍历的封装吧，层次遍历细节处理注意，起初分为奇偶层处理，奇数层：先加入左子树，后加入右子树。偶数层：先加入右子树，后加入左子树。但没有意识到偶数层逆序加入后，它下面的奇数层无法再顺序访问。\n 　　无需在加入队列中特殊化处理，在加入List时做顺序逆序处理。\n\n## Code\n\n```java\n /**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public List<List<Integer>> zigzagLevelOrder(TreeNode root) {\n        List<List<Integer>> treeNodes = new ArrayList<>();\n        if (root == null) {\n            return treeNodes;\n        }\n        Queue<TreeNode> queue = new ArrayDeque<>();\n        queue.add(root);\n        TreeNode p;\n\n        boolean isReverse = false;\n        while (!queue.isEmpty()) {\n            int size = queue.size();\n            List<Integer> treeNode = new ArrayList<>();\n\n            while (size-- != 0) {\n                p = queue.poll();\n                if (p.left != null) {\n                    queue.add(p.left);\n                }\n                if (p.right != null) {\n                    queue.add(p.right);\n                }\n                if (!isReverse) {\n                    treeNode.add(p.val);\n                } else {\n                    treeNode.add(0, p.val);\n                }\n            }\n            isReverse = !isReverse;\n            treeNodes.add(treeNode);\n        }\n        return treeNodes;\n    }\n\n\n}\n```","source":"_posts/The zigzag level order traversal.md","raw":"title: The zigzag level order traversal\ndate: 2019-1-5\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given a binary tree, return the zigzag level order traversal of its nodes' values. (ie, from left to right, then right to left for the next level and alternate between).\n ## Examples\n``` java\nExample 1:\nInput: [3,9,20,null,null,15,7]\nOutput:: [\n  [3],\n  [20,9],\n  [15,7]\n]\n```\n\n\n## Solution\n　　层次遍历的封装吧，层次遍历细节处理注意，起初分为奇偶层处理，奇数层：先加入左子树，后加入右子树。偶数层：先加入右子树，后加入左子树。但没有意识到偶数层逆序加入后，它下面的奇数层无法再顺序访问。\n 　　无需在加入队列中特殊化处理，在加入List时做顺序逆序处理。\n\n## Code\n\n```java\n /**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode(int x) { val = x; }\n * }\n */\nclass Solution {\n    public List<List<Integer>> zigzagLevelOrder(TreeNode root) {\n        List<List<Integer>> treeNodes = new ArrayList<>();\n        if (root == null) {\n            return treeNodes;\n        }\n        Queue<TreeNode> queue = new ArrayDeque<>();\n        queue.add(root);\n        TreeNode p;\n\n        boolean isReverse = false;\n        while (!queue.isEmpty()) {\n            int size = queue.size();\n            List<Integer> treeNode = new ArrayList<>();\n\n            while (size-- != 0) {\n                p = queue.poll();\n                if (p.left != null) {\n                    queue.add(p.left);\n                }\n                if (p.right != null) {\n                    queue.add(p.right);\n                }\n                if (!isReverse) {\n                    treeNode.add(p.val);\n                } else {\n                    treeNode.add(0, p.val);\n                }\n            }\n            isReverse = !isReverse;\n            treeNodes.add(treeNode);\n        }\n        return treeNodes;\n    }\n\n\n}\n```","slug":"The zigzag level order traversal","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0m0087qr3lpb9qwsbq"},{"title":"Unique paths","date":"2019-01-27T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### A robot is located at the top-left corner of a m x n grid (marked 'Start' in the diagram below).The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked 'Finish' in the diagram below).How many possible unique paths are there?\n ## Examples\n``` java\nExample 1:\nInput: m = 3, n = 2\nOutput: 3\nExplanation:\nFrom the top-left corner, there are a total of 3 ways to reach the bottom-right corner:\n1. Right -> Right -> Down\n2. Right -> Down -> Right\n3. Down -> Right -> Right\n```\n```java\nExample 2:\nInput: m = 7, n = 3\nOutput: 28\n```\n## Solution\n　　模拟做出来了，但超时了。试图剪枝，仍无果。网上参考了别人的思路。\n  　　1. 数学法：机器人总共走m+n-2步，其中m-1步往下走，n-1步往右走，本质上就是一个组合问题，也就是从m+n-2个不同元素中每次取出min(m-1, n -1)个元素的组合数。根据组合的计算公式，可以写代码来求解即可。有个小技巧；$$ {m \\choose n}  =  {n - m \\choose n}$$ \n　　故而可取较小的m计算阶乘，降低时间复杂度\n  　　2. 动态规划法：维护一个二维数组dp初始化为1，其中dp[i][j]表示到当前位置不同的走法的个数，然后可以得到递推式为:$$ dp[i][j] = dp[i - 1][j] + dp[i][j - 1]$$，这里为了节省空间，我们使用一维数组dp逐行刷新模拟，即$$dp[i] = dp[i] + dp[i - 1]$$\n\n## Code\n\n```java\n//OverTime\n class Solution {\n       int count = 0;\n    int row, col;\n\n    public int uniquePaths(int m, int n) {\n        if (m == 1 && n == 1) {\n            return 1;\n        }\n        col = m;\n        row = n;\n        path(0, 0);\n        return count;\n    }\n\n    public void path(int m, int n) {\n        if (col - 1 == m && row - 1 == n) {\n            count++;\n            return;\n        }\n        if (col - 1 == m && row - 1 != n)\n            path(m, n + 1);\n        else if (row - 1 == n && col - 1 != m)\n            path(m + 1, n);\n        else {\n            path(m + 1, n);\n            path(m, n + 1);\n        }\n    }\n\n}\n```\n\n```java\n//Math\nclass Solution {\n     public int uniquePaths(int m, int n) {\n        if (m == 1 && n == 1) {\n            return 1;\n        }\n        double numerator = 1, denominator = 1;\n        int small = (m > n) ? n - 1 : m - 1;\n        for (int i = 1; i <= small; i++) {\n            denominator *= i;\n            numerator *= m + n - 1 - i;\n        }\n        return (int) (numerator / denominator);\n    }\n}\n```\n\n```java\nclass Solution{\n    public int uniquePaths(int m, int n) {\n        int[] a = new int[n];\n        for (int i = 0; i < a.length; i++) {\n            a[i] = 1;\n        }\n        for (int i = 1; i < m; i++) {\n            for (int j = 1; j < n; j++) {\n                a[j] += a[j - 1];\n            }\n        }\n        return a[n - 1];\n    }\n}\n```","source":"_posts/Unique paths.md","raw":"title: Unique paths\ndate: 2019-1-28\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### A robot is located at the top-left corner of a m x n grid (marked 'Start' in the diagram below).The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked 'Finish' in the diagram below).How many possible unique paths are there?\n ## Examples\n``` java\nExample 1:\nInput: m = 3, n = 2\nOutput: 3\nExplanation:\nFrom the top-left corner, there are a total of 3 ways to reach the bottom-right corner:\n1. Right -> Right -> Down\n2. Right -> Down -> Right\n3. Down -> Right -> Right\n```\n```java\nExample 2:\nInput: m = 7, n = 3\nOutput: 28\n```\n## Solution\n　　模拟做出来了，但超时了。试图剪枝，仍无果。网上参考了别人的思路。\n  　　1. 数学法：机器人总共走m+n-2步，其中m-1步往下走，n-1步往右走，本质上就是一个组合问题，也就是从m+n-2个不同元素中每次取出min(m-1, n -1)个元素的组合数。根据组合的计算公式，可以写代码来求解即可。有个小技巧；$$ {m \\choose n}  =  {n - m \\choose n}$$ \n　　故而可取较小的m计算阶乘，降低时间复杂度\n  　　2. 动态规划法：维护一个二维数组dp初始化为1，其中dp[i][j]表示到当前位置不同的走法的个数，然后可以得到递推式为:$$ dp[i][j] = dp[i - 1][j] + dp[i][j - 1]$$，这里为了节省空间，我们使用一维数组dp逐行刷新模拟，即$$dp[i] = dp[i] + dp[i - 1]$$\n\n## Code\n\n```java\n//OverTime\n class Solution {\n       int count = 0;\n    int row, col;\n\n    public int uniquePaths(int m, int n) {\n        if (m == 1 && n == 1) {\n            return 1;\n        }\n        col = m;\n        row = n;\n        path(0, 0);\n        return count;\n    }\n\n    public void path(int m, int n) {\n        if (col - 1 == m && row - 1 == n) {\n            count++;\n            return;\n        }\n        if (col - 1 == m && row - 1 != n)\n            path(m, n + 1);\n        else if (row - 1 == n && col - 1 != m)\n            path(m + 1, n);\n        else {\n            path(m + 1, n);\n            path(m, n + 1);\n        }\n    }\n\n}\n```\n\n```java\n//Math\nclass Solution {\n     public int uniquePaths(int m, int n) {\n        if (m == 1 && n == 1) {\n            return 1;\n        }\n        double numerator = 1, denominator = 1;\n        int small = (m > n) ? n - 1 : m - 1;\n        for (int i = 1; i <= small; i++) {\n            denominator *= i;\n            numerator *= m + n - 1 - i;\n        }\n        return (int) (numerator / denominator);\n    }\n}\n```\n\n```java\nclass Solution{\n    public int uniquePaths(int m, int n) {\n        int[] a = new int[n];\n        for (int i = 0; i < a.length; i++) {\n            a[i] = 1;\n        }\n        for (int i = 1; i < m; i++) {\n            for (int j = 1; j < n; j++) {\n                a[j] += a[j - 1];\n            }\n        }\n        return a[n - 1];\n    }\n}\n```","slug":"Unique paths","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0n008cqr3l6gwgd3o9"},{"title":"UTF-8 validation","date":"2019-01-08T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### A character in UTF8 can be from 1 to 4 bytes long, subjected to the following rules:For 1-byte character, the first bit is a 0, followed by its unicode code.For n-bytes character, the first n-bits are all one's, the n+1 bit is 0, followed by n-1 bytes with most significant 2 bits being 10.\n\n| Char. number range(hexadecimal) | UTF-8 octet sequence (binary) | \n| ------------------------------- | ----------------------------- | --- | --- |\n| 0000 0000-0000 007F             | 0xxxxxxx                      | \n| 0000 0080-0000 07FF             | 110xxxxx 10xxxxxx             |  \n| 0000 0800-0000 FFFF             | 1110xxxx 10xxxxxx 10xxxxxx    |     \n| 0001 0000-0010 FFFF             | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |\n\n is how the UTF-8 encoding would work:\n ## Examples\n``` java\nExample 1:\ndata = [197, 130, 1], which represents the octet sequence: 11000101 10000010 00000001.\n\nReturn true.\nIt is a valid utf-8 encoding for a 2-bytes character followed by a 1-byte character.\n```\n```java\nExample 2:\ndata = [235, 140, 4], which represented the octet sequence: 11101011 10001100 00000100.\n\nReturn false.\nThe first 3 bits are all one's and the 4th bit is 0 means it is a 3-bytes character.\nThe next byte is a continuation byte which starts with 10 and that's correct.\nBut the second continuation byte does not start with 10, so it is invalid.\n```\n## Solution\n　　看着题目发了好久的呆，实在读不懂题目，UTF-8 编码的意思是读懂了，可是感觉给的样例对应不起来。看着解析的代码一步步分析终于得出意思了。样例中数组的每个数值x的二进制若以0开头，\n则x表示一个unicode码。若以110开头，接下来的一个数字都必须以10开头。若以1110开头，接下来的两个数字都必须以10开头。若以11110开头，接下来的三个数字都必须以10开头。\n\n## Code\n```java\n     public boolean validUtf8(int[] data) {\n        int count = 0;\n        for (int i = 0; i < data.length; i++) {\n            if (count == 0) {\n                if(data[i] >> 5 == 0b110)\n                    count = 1;\n                else if(data[i] >> 4 == 0b1110)\n                    count = 2;\n                else if(data[i] >> 3 == 0b11110)\n                    count = 3;\n                else if(data[i] >> 7 != 0)\n                    return false;\n\n            } else {\n                if(data[i] >> 6 != 0b10)\n                    return false;\n                count--;\n            }\n        }\n        return count == 0;\n    }\n```","source":"_posts/UTF-8 validation.md","raw":"title: UTF-8 validation\ndate: 2019-1-9\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### A character in UTF8 can be from 1 to 4 bytes long, subjected to the following rules:For 1-byte character, the first bit is a 0, followed by its unicode code.For n-bytes character, the first n-bits are all one's, the n+1 bit is 0, followed by n-1 bytes with most significant 2 bits being 10.\n\n| Char. number range(hexadecimal) | UTF-8 octet sequence (binary) | \n| ------------------------------- | ----------------------------- | --- | --- |\n| 0000 0000-0000 007F             | 0xxxxxxx                      | \n| 0000 0080-0000 07FF             | 110xxxxx 10xxxxxx             |  \n| 0000 0800-0000 FFFF             | 1110xxxx 10xxxxxx 10xxxxxx    |     \n| 0001 0000-0010 FFFF             | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |\n\n is how the UTF-8 encoding would work:\n ## Examples\n``` java\nExample 1:\ndata = [197, 130, 1], which represents the octet sequence: 11000101 10000010 00000001.\n\nReturn true.\nIt is a valid utf-8 encoding for a 2-bytes character followed by a 1-byte character.\n```\n```java\nExample 2:\ndata = [235, 140, 4], which represented the octet sequence: 11101011 10001100 00000100.\n\nReturn false.\nThe first 3 bits are all one's and the 4th bit is 0 means it is a 3-bytes character.\nThe next byte is a continuation byte which starts with 10 and that's correct.\nBut the second continuation byte does not start with 10, so it is invalid.\n```\n## Solution\n　　看着题目发了好久的呆，实在读不懂题目，UTF-8 编码的意思是读懂了，可是感觉给的样例对应不起来。看着解析的代码一步步分析终于得出意思了。样例中数组的每个数值x的二进制若以0开头，\n则x表示一个unicode码。若以110开头，接下来的一个数字都必须以10开头。若以1110开头，接下来的两个数字都必须以10开头。若以11110开头，接下来的三个数字都必须以10开头。\n\n## Code\n```java\n     public boolean validUtf8(int[] data) {\n        int count = 0;\n        for (int i = 0; i < data.length; i++) {\n            if (count == 0) {\n                if(data[i] >> 5 == 0b110)\n                    count = 1;\n                else if(data[i] >> 4 == 0b1110)\n                    count = 2;\n                else if(data[i] >> 3 == 0b11110)\n                    count = 3;\n                else if(data[i] >> 7 != 0)\n                    return false;\n\n            } else {\n                if(data[i] >> 6 != 0b10)\n                    return false;\n                count--;\n            }\n        }\n        return count == 0;\n    }\n```","slug":"UTF-8 validation","published":1,"updated":"2020-02-13T07:16:09.059Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0q008fqr3l1mqvret3"},{"title":"Valid  sequence of Binary Tree‘s post order","date":"2019-02-20T16:00:00.000Z","description":"给定后序遍历的二叉序列是否合理","_content":"## Problem description\n  ### 输入一个整形数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则返回true,否则返回false.假设输入的数组的数字都不相同\n ## Examples\n``` java\nExample 1:\nInput:{5，7，6，9，11，10，8}\noutput:true\n```\n```java\nExample 2:\nInput:{4,8,1,7}\noutput: false\n```\n## Solution\n在后序遍历得到的序列中，最后一个数字是树的根结点的值。数组中前面的数字可以分为两部分：第一部分是左子树结点的值，它们都比根结点的值小；第二部分是右子树结点的值，它们都比根结点的值大。 以数组{5，7，6，9，11，10，8）为例，后序遍历结果的最后一个数字8就是根结点的值。在这个数组中，前3个数字5、7和6都比8小，是值为8的结点的左子树结点；后3个数字9、11和10都比8大，是值为8的结点的右子树结点。 我们接下来用同样的方法确定与数组每一部分对应的子树的结构。这其实就是一个递归的过程。再来分析另一个整数数组{4，8，1，7）。后序遍历的最后一个数是根结点，因此根结点的值是7。故左子树为4，右子树的根节点为1.不大于7故返回false.\n\n## Code\n\n```java\n     public boolean verifySequenceOfBST(int[] sequence, int low, int high) {\n\n        if (sequence == null || low > high) {\n            return false;\n        }\n\n        if (sequence.length == 0 || high == low) {\n            return true;\n        }\n\n        int root = sequence[high - 1];\n        int i, j;\n\n        for (i = low; i < high - 1; i++) {//Remember to exclude the last one root node\n            if (sequence[i] > root) {\n                break;\n            }\n        }\n\n        for (j = i; j < high - 1; j++) {//Remember to exclude the last one root node\n            if (sequence[j] < root) {\n                return false;\n            }\n        }\n        boolean left = true;\n\n        if (i > low) {//Remember to exclude the last one root node\n            left = verifySequenceOfBST(sequence, low, i);\n        }\n\n\n        boolean right = true;\n\n        if (i < high - 1) {//Remember to exclude the last one root node\n            right = verifySequenceOfBST(sequence, i, high - 1);\n        }\n\n        return left && right;\n    }\n```","source":"_posts/Valid  sequence of Binary Tree‘s post order.md","raw":"title: Valid  sequence of Binary Tree‘s post order\ndate: 2019-2-21\ntags: [Leetcode,剑指Offer]\ncategories: algorithm\ndescription: 给定后序遍历的二叉序列是否合理\n---\n## Problem description\n  ### 输入一个整形数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则返回true,否则返回false.假设输入的数组的数字都不相同\n ## Examples\n``` java\nExample 1:\nInput:{5，7，6，9，11，10，8}\noutput:true\n```\n```java\nExample 2:\nInput:{4,8,1,7}\noutput: false\n```\n## Solution\n在后序遍历得到的序列中，最后一个数字是树的根结点的值。数组中前面的数字可以分为两部分：第一部分是左子树结点的值，它们都比根结点的值小；第二部分是右子树结点的值，它们都比根结点的值大。 以数组{5，7，6，9，11，10，8）为例，后序遍历结果的最后一个数字8就是根结点的值。在这个数组中，前3个数字5、7和6都比8小，是值为8的结点的左子树结点；后3个数字9、11和10都比8大，是值为8的结点的右子树结点。 我们接下来用同样的方法确定与数组每一部分对应的子树的结构。这其实就是一个递归的过程。再来分析另一个整数数组{4，8，1，7）。后序遍历的最后一个数是根结点，因此根结点的值是7。故左子树为4，右子树的根节点为1.不大于7故返回false.\n\n## Code\n\n```java\n     public boolean verifySequenceOfBST(int[] sequence, int low, int high) {\n\n        if (sequence == null || low > high) {\n            return false;\n        }\n\n        if (sequence.length == 0 || high == low) {\n            return true;\n        }\n\n        int root = sequence[high - 1];\n        int i, j;\n\n        for (i = low; i < high - 1; i++) {//Remember to exclude the last one root node\n            if (sequence[i] > root) {\n                break;\n            }\n        }\n\n        for (j = i; j < high - 1; j++) {//Remember to exclude the last one root node\n            if (sequence[j] < root) {\n                return false;\n            }\n        }\n        boolean left = true;\n\n        if (i > low) {//Remember to exclude the last one root node\n            left = verifySequenceOfBST(sequence, low, i);\n        }\n\n\n        boolean right = true;\n\n        if (i < high - 1) {//Remember to exclude the last one root node\n            right = verifySequenceOfBST(sequence, i, high - 1);\n        }\n\n        return left && right;\n    }\n```","slug":"Valid  sequence of Binary Tree‘s post order","published":1,"updated":"2020-02-13T07:16:09.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0t008iqr3l14z5reqs"},{"title":"ValidSudoku","date":"2019-02-02T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Determine if a 9x9 Sudoku board is valid. Only the filled cells need to be validated according to the following rules:\n\n1. Each row must contain the digits 1-9 without repetition.\n2. Each column must contain the digits 1-9 without repetition.\n3. Each of the 9 3x3 sub-boxes of the grid must contain the digits 1-9 without repetition.\n\n![sudo](/images/sudu.png)\nThe Sudoku board could be partially filled, where empty cells are filled with the character '.'.\n ## Examples\n``` java\nExample 1:\nInput:\n[\n  [\"5\",\"3\",\".\",\".\",\"7\",\".\",\".\",\".\",\".\"],\n  [\"6\",\".\",\".\",\"1\",\"9\",\"5\",\".\",\".\",\".\"],\n  [\".\",\"9\",\"8\",\".\",\".\",\".\",\".\",\"6\",\".\"],\n  [\"8\",\".\",\".\",\".\",\"6\",\".\",\".\",\".\",\"3\"],\n  [\"4\",\".\",\".\",\"8\",\".\",\"3\",\".\",\".\",\"1\"],\n  [\"7\",\".\",\".\",\".\",\"2\",\".\",\".\",\".\",\"6\"],\n  [\".\",\"6\",\".\",\".\",\".\",\".\",\"2\",\"8\",\".\"],\n  [\".\",\".\",\".\",\"4\",\"1\",\"9\",\".\",\".\",\"5\"],\n  [\".\",\".\",\".\",\".\",\"8\",\".\",\".\",\"7\",\"9\"]\n]\nOutput: true\n```\n```java\nExample 2:\nInput:\n[\n  [\"8\",\"3\",\".\",\".\",\"7\",\".\",\".\",\".\",\".\"],\n  [\"6\",\".\",\".\",\"1\",\"9\",\"5\",\".\",\".\",\".\"],\n  [\".\",\"9\",\"8\",\".\",\".\",\".\",\".\",\"6\",\".\"],\n  [\"8\",\".\",\".\",\".\",\"6\",\".\",\".\",\".\",\"3\"],\n  [\"4\",\".\",\".\",\"8\",\".\",\"3\",\".\",\".\",\"1\"],\n  [\"7\",\".\",\".\",\".\",\"2\",\".\",\".\",\".\",\"6\"],\n  [\".\",\"6\",\".\",\".\",\".\",\".\",\"2\",\"8\",\".\"],\n  [\".\",\".\",\".\",\"4\",\"1\",\"9\",\".\",\".\",\"5\"],\n  [\".\",\".\",\".\",\".\",\"8\",\".\",\".\",\"7\",\"9\"]\n]\nOutput: false\nExplanation: Same as Example 1, except with the 5 in the top left corner being \n    modified to 8. Since there are two 8's in the top left 3x3 sub-box, it is invalid.\n```\n## Solution\n　　用3个HashSet，分别保存第i行、第i列和第i个3x3的九宫格（i个九宫格也是从0开始）中的元素，每处理一个元素，若不为空，将正在处理的当前元素，添加到所属的行、列以及3x3的九宫格中，若添加失败，表明所属的行、列或者3x3九宫格中有重复元素，返回false；若全部扫描完，返回true。九宫格的行列转换代码没想出来。\n  \n  （ i / 3 ） x 3 得到九宫格的起始行数即九宫格左上角块所处行。（ i / 3 ） * 3  + j / 3得到九宫格中任一对应行（PS: 0 <= j <= 8）。\n  \n ( i % 3)  x 3 得到九宫格起始列数即九宫格左上角所处列。i % 3 * 3 + j % 3得到九宫格中任一对应列（PS: 0 <= j <= 8）。\n## Code\n\n```java\n     public boolean isValidSudoku(char[][] board) {\n        //最外层循环，每次循环并非只是处理第i行，而是处理第i行、第i列以及第i个3x3的九宫格\n        for (int i = 0; i < 9; i++) {\n            HashSet<Character> row = new HashSet<>();\n            HashSet<Character> col = new HashSet<>();\n            HashSet<Character> subBoxes = new HashSet<>();\n            for (int j = 0; j < 9; j++) {\n                if ('.' != board[i][j] && !row.add(board[i][j]))\n                    return false;\n                if ('.' != board[j][i] && !col.add(board[j][i]))\n                    return false;\n                int m = i / 3 * 3 + j / 3;\n                int n = i % 3 * 3 + j % 3;\n                if ('.' != board[m][n] && !subBoxes.add(board[m][n]))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n```","source":"_posts/ValidSudoku.md","raw":"title: ValidSudoku\ndate: 2019-2-3\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Determine if a 9x9 Sudoku board is valid. Only the filled cells need to be validated according to the following rules:\n\n1. Each row must contain the digits 1-9 without repetition.\n2. Each column must contain the digits 1-9 without repetition.\n3. Each of the 9 3x3 sub-boxes of the grid must contain the digits 1-9 without repetition.\n\n![sudo](/images/sudu.png)\nThe Sudoku board could be partially filled, where empty cells are filled with the character '.'.\n ## Examples\n``` java\nExample 1:\nInput:\n[\n  [\"5\",\"3\",\".\",\".\",\"7\",\".\",\".\",\".\",\".\"],\n  [\"6\",\".\",\".\",\"1\",\"9\",\"5\",\".\",\".\",\".\"],\n  [\".\",\"9\",\"8\",\".\",\".\",\".\",\".\",\"6\",\".\"],\n  [\"8\",\".\",\".\",\".\",\"6\",\".\",\".\",\".\",\"3\"],\n  [\"4\",\".\",\".\",\"8\",\".\",\"3\",\".\",\".\",\"1\"],\n  [\"7\",\".\",\".\",\".\",\"2\",\".\",\".\",\".\",\"6\"],\n  [\".\",\"6\",\".\",\".\",\".\",\".\",\"2\",\"8\",\".\"],\n  [\".\",\".\",\".\",\"4\",\"1\",\"9\",\".\",\".\",\"5\"],\n  [\".\",\".\",\".\",\".\",\"8\",\".\",\".\",\"7\",\"9\"]\n]\nOutput: true\n```\n```java\nExample 2:\nInput:\n[\n  [\"8\",\"3\",\".\",\".\",\"7\",\".\",\".\",\".\",\".\"],\n  [\"6\",\".\",\".\",\"1\",\"9\",\"5\",\".\",\".\",\".\"],\n  [\".\",\"9\",\"8\",\".\",\".\",\".\",\".\",\"6\",\".\"],\n  [\"8\",\".\",\".\",\".\",\"6\",\".\",\".\",\".\",\"3\"],\n  [\"4\",\".\",\".\",\"8\",\".\",\"3\",\".\",\".\",\"1\"],\n  [\"7\",\".\",\".\",\".\",\"2\",\".\",\".\",\".\",\"6\"],\n  [\".\",\"6\",\".\",\".\",\".\",\".\",\"2\",\"8\",\".\"],\n  [\".\",\".\",\".\",\"4\",\"1\",\"9\",\".\",\".\",\"5\"],\n  [\".\",\".\",\".\",\".\",\"8\",\".\",\".\",\"7\",\"9\"]\n]\nOutput: false\nExplanation: Same as Example 1, except with the 5 in the top left corner being \n    modified to 8. Since there are two 8's in the top left 3x3 sub-box, it is invalid.\n```\n## Solution\n　　用3个HashSet，分别保存第i行、第i列和第i个3x3的九宫格（i个九宫格也是从0开始）中的元素，每处理一个元素，若不为空，将正在处理的当前元素，添加到所属的行、列以及3x3的九宫格中，若添加失败，表明所属的行、列或者3x3九宫格中有重复元素，返回false；若全部扫描完，返回true。九宫格的行列转换代码没想出来。\n  \n  （ i / 3 ） x 3 得到九宫格的起始行数即九宫格左上角块所处行。（ i / 3 ） * 3  + j / 3得到九宫格中任一对应行（PS: 0 <= j <= 8）。\n  \n ( i % 3)  x 3 得到九宫格起始列数即九宫格左上角所处列。i % 3 * 3 + j % 3得到九宫格中任一对应列（PS: 0 <= j <= 8）。\n## Code\n\n```java\n     public boolean isValidSudoku(char[][] board) {\n        //最外层循环，每次循环并非只是处理第i行，而是处理第i行、第i列以及第i个3x3的九宫格\n        for (int i = 0; i < 9; i++) {\n            HashSet<Character> row = new HashSet<>();\n            HashSet<Character> col = new HashSet<>();\n            HashSet<Character> subBoxes = new HashSet<>();\n            for (int j = 0; j < 9; j++) {\n                if ('.' != board[i][j] && !row.add(board[i][j]))\n                    return false;\n                if ('.' != board[j][i] && !col.add(board[j][i]))\n                    return false;\n                int m = i / 3 * 3 + j / 3;\n                int n = i % 3 * 3 + j % 3;\n                if ('.' != board[m][n] && !subBoxes.add(board[m][n]))\n                    return false;\n            }\n        }\n        return true;\n    }\n\n```","slug":"ValidSudoku","published":1,"updated":"2020-02-13T07:16:09.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0u008lqr3lmvryrt3j"},{"title":"View的滑动冲突","date":"2019-02-17T16:00:00.000Z","description":"　　","_content":"## 外部滑动与内部滑动不一致\n如在HorizontalScrollView中嵌套RecycleView.\n### 外部拦截法\n外部拦截就是点击事件先经过父容器的拦截处理，如果父容器需要此事件就拦截，如果不需要就不拦截。\n 外部拦截法需要重写父容器的onInterceptTouchEvent（）方法。\n 伪代码：\n```java\npublic boolean onInterceptTouchEvent(MotionEvent event) {\nboolean intercepted=false;\nint x= (int) event.getX();\nint y= (int) event.getY();\nswitch (event.getAction()){\ncase MotionEvent.ACTION_DOWN:\nintercepted=false;//必须不能拦截，否则后续的ACTION_MOME和ACTION_UP事件都会拦截。\nbreak;\ncase MotionEvent.ACTION_MOVE:\nif (父容器需要当前点击事件){\nintercepted=true;\n            }else {\nintercepted=false;\n            }\nbreak;\ncase MotionEvent.ACTION_UP:\nintercepted=false;\nbreak;\ndefault:\nbreak;\n    }\nmLastXIntercept=x;\nmLastXIntercept=y;\nreturn intercepted;\n}\n```\n实例：重写HorizontalScrollView\n```java\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.VelocityTracker;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Scroller;\n\n/**\n * Created by night on 2019/2/14.\n */\npublic class HorizontalScrollViewEx extends ViewGroup {\n  private static final String TAG = \"HorizontalScrollViewEx\";\n\n  private int mChildrenSize;\n  private int mChildWidth;\n  private int mChildIndex;\n\n  // 分别记录上次滑动的坐标\n  private int mLastX = 0;\n  private int mLastY = 0;\n  // 分别记录上次滑动的坐标(onInterceptTouchEvent)\n  private int mLastXIntercept = 0;\n  private int mLastYIntercept = 0;\n\n  private Scroller mScroller;\n  private VelocityTracker mVelocityTracker;\n\n  public HorizontalScrollViewEx(Context context) {\n    super(context);\n    init();\n  }\n\n  public HorizontalScrollViewEx(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    init();\n  }\n\n  public HorizontalScrollViewEx(Context context, AttributeSet attrs,\n                                int defStyle) {\n    super(context, attrs, defStyle);\n    init();\n  }\n\n  private void init() {\n    mScroller = new Scroller(getContext());\n    mVelocityTracker = VelocityTracker.obtain();\n  }\n\n  @Override\n  public boolean onInterceptTouchEvent(MotionEvent event) {\n    boolean intercepted = false;\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        intercepted = false;\n        if (!mScroller.isFinished()) {\n          mScroller.abortAnimation();\n          intercepted = true;\n        }\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastXIntercept;\n        int deltaY = y - mLastYIntercept;\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\n          intercepted = true;\n        } else {\n          intercepted = false;\n        }\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        intercepted = false;\n        break;\n      }\n      default:\n        break;\n    }\n\n    Log.d(TAG, \"intercepted=\" + intercepted);\n    mLastX = x;\n    mLastY = y;\n    mLastXIntercept = x;\n    mLastYIntercept = y;\n\n    return intercepted;\n  }\n\n  @Override\n  public boolean onTouchEvent(MotionEvent event) {\n    mVelocityTracker.addMovement(event);\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        if (!mScroller.isFinished()) {\n          mScroller.abortAnimation();\n        }\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastX;\n        int deltaY = y - mLastY;\n        scrollBy(-deltaX, 0);\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        int scrollX = getScrollX();\n        int scrollToChildIndex = scrollX / mChildWidth;\n        mVelocityTracker.computeCurrentVelocity(1000);\n        float xVelocity = mVelocityTracker.getXVelocity();\n        if (Math.abs(xVelocity) >= 50) {\n          mChildIndex = xVelocity > 0 ? mChildIndex - 1 : mChildIndex + 1;\n        } else {\n          mChildIndex = (scrollX + mChildWidth / 2) / mChildWidth;\n        }\n        mChildIndex = Math.max(0, Math.min(mChildIndex, mChildrenSize - 1));\n        int dx = mChildIndex * mChildWidth - scrollX;\n        smoothScrollBy(dx, 0);\n        mVelocityTracker.clear();\n        break;\n      }\n      default:\n        break;\n    }\n\n    mLastX = x;\n    mLastY = y;\n    return true;\n  }\n\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int measuredWidth = 0;\n    int measuredHeight = 0;\n    final int childCount = getChildCount();\n    measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n    int widthSpaceSize = MeasureSpec.getSize(widthMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int heightSpaceSize = MeasureSpec.getSize(heightMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    if (childCount == 0) {\n      setMeasuredDimension(0, 0);\n    } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(widthSpaceSize, childView.getMeasuredHeight());\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      setMeasuredDimension(measuredWidth, heightSpaceSize);\n    } else {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(measuredWidth, measuredHeight);\n    }\n  }\n\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    int childLeft = 0;\n    final int childCount = getChildCount();\n    mChildrenSize = childCount;\n\n    for (int i = 0; i < childCount; i++) {\n      final View childView = getChildAt(i);\n      if (childView.getVisibility() != View.GONE) {\n        final int childWidth = childView.getMeasuredWidth();\n        mChildWidth = childWidth;\n        childView.layout(childLeft, 0, childLeft + childWidth,\n            childView.getMeasuredHeight());\n        childLeft += childWidth;\n      }\n    }\n  }\n\n  private void smoothScrollBy(int dx, int dy) {\n    mScroller.startScroll(getScrollX(), 0, dx, 0, 500);\n    invalidate();\n  }\n\n  @Override\n  public void computeScroll() {\n    if (mScroller.computeScrollOffset()) {\n      scrollTo(mScroller.getCurrX(), mScroller.getCurrY());\n      postInvalidate();\n    }\n  }\n\n  @Override\n  protected void onDetachedFromWindow() {\n    mVelocityTracker.recycle();\n    super.onDetachedFromWindow();\n  }\n}\n\n```\n```xml\n<com.hdu.night.scrollconflicts.HorizontalScrollViewEx\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"\n    tools:context=\"com.hdu.night.scrollconflicts.MainActivity\">\n\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test1\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test2\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n\n</com.hdu.night.scrollconflicts.HorizontalScrollViewEx>\n\n```\n### 内部拦截法\n在子view中拦截事件，父viewGroup默认是不拦截任何事件的，所以，当事件传递到子view时。根据偏移方向和速度，如果该事件是需要子view来处理的，那么子view就自己消耗处理，如果该事件不需要由子view来处理，那么就调用getParent().requestDisallowInterceptTouchEvent()方法来通知父viewgroup来拦截 。\n伪代码：\n```java\n//重写子View\n@Override\n  public boolean dispatchTouchEvent(MotionEvent event) {\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        parent.requestDisallowInterceptTouchEvent(true);\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastX;\n        int deltaY = y - mLastY;\n        if (父容器需要此类点击事件) {\n          parent.requestDisallowInterceptTouchEvent(false);\n        }\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        break;\n      }\n      default:\n        break;\n    }\n\n    mLastX = x;\n    mLastY = y;\n    return super.dispatchTouchEvent(event);\n  }\n  //重写父View\n  @Override\npublic boolean onInterceptTouchEvent(MotionEvent event) {\n\n        int action = event.getAction();\n        if (action == MotionEvent.ACTION_DOWN) {\n            return false;\n        } else {\n            return true;\n        }\n     }\n```\n实例：\n```java\n//HorizontalEx2\n  @Override public boolean onInterceptTouchEvent(MotionEvent ev) {\n    boolean intercepted = false;\n    int x = (int) ev.getX();\n    int y = (int) ev.getY();\n    if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n      mLastX = x;\n      mLastY = y;\n      if (!mScroller.isFinished()) {\n        mScroller.abortAnimation();\n        return true;\n      }\n      return false;\n    } else {\n      return true;\n    }\n  }\npublic class RecyclerViewEv extends RecyclerView {\n\n  private int mLastX = 0;\n  private int mLastY = 0;\n\n...\n  @Override public boolean dispatchTouchEvent(MotionEvent ev) {\n    int x = (int) ev.getX();\n    int y = (int) ev.getY();\n    switch (ev.getAction()) {\n      case MotionEvent.ACTION_DOWN:\n        getParent().requestDisallowInterceptTouchEvent(true);\n        break;\n      case MotionEvent.ACTION_MOVE:\n        int dx = x - mLastX;\n        int dy = y - mLastY;\n        if (Math.abs(dx) > Math.abs(dy)) {\n          getParent().requestDisallowInterceptTouchEvent(false);\n        }\n        break;\n      case MotionEvent.ACTION_UP:\n        break;\n      default:\n        break;\n    }\n    mLastX = x;\n    mLastY = y;\n    return super.dispatchTouchEvent(ev);\n  }\n}\n\n```\n\n## 外部滑动与内部滑动一致\n可以采取嵌套滑动机制解决。Android 的事件分发机制中，只要有一个控件消费了事件，其他控件就没办法在接收到这个事件了。因此，当有嵌套滑动场景时，我们都需要自己手动解决事件冲突。而在 Android 5.0 Lollipop 之后，Google 官方通过 嵌套滑动机制 解决了传统 Android 事件分发无法共享事件这个问题。\n\n嵌套滑动机制 的基本原理可以认为是事件共享，即当子控件接收到滑动事件，准备要滑动时，会先通知父控件(startNestedScroll）；然后在滑动之前，会先询问父控件是否要滑动（dispatchNestedPreScroll)；如果父控件响应该事件进行了滑动，那么就会通知子控件它具体消耗了多少滑动距离；然后交由子控件处理剩余的滑动距离；最后子控件滑动结束后，如果滑动距离还有剩余，就会再问一下父控件是否需要在继续滑动剩下的距离（dispatchNestedScroll)...\n\n如在ScrollVIew中嵌套RecyclerView。直接ScrollView进行拦截的话会出现RecyclerView内容显示不全。\n可以将ScrollView换为NestScrollView，并将RecyclerView的nestedScrollingEnabled设为false。即RecyclerView不参加嵌套滑动，滑动交由NestScrollView负责。享受丝滑般的触感。\n","source":"_posts/View的滑动冲突.md","raw":"title:  View的滑动冲突\ndate: 2019-2-18\ntags: [Android,View事件分发]\ncategories: Android开发艺术探索\ndescription: 　　\n---\n## 外部滑动与内部滑动不一致\n如在HorizontalScrollView中嵌套RecycleView.\n### 外部拦截法\n外部拦截就是点击事件先经过父容器的拦截处理，如果父容器需要此事件就拦截，如果不需要就不拦截。\n 外部拦截法需要重写父容器的onInterceptTouchEvent（）方法。\n 伪代码：\n```java\npublic boolean onInterceptTouchEvent(MotionEvent event) {\nboolean intercepted=false;\nint x= (int) event.getX();\nint y= (int) event.getY();\nswitch (event.getAction()){\ncase MotionEvent.ACTION_DOWN:\nintercepted=false;//必须不能拦截，否则后续的ACTION_MOME和ACTION_UP事件都会拦截。\nbreak;\ncase MotionEvent.ACTION_MOVE:\nif (父容器需要当前点击事件){\nintercepted=true;\n            }else {\nintercepted=false;\n            }\nbreak;\ncase MotionEvent.ACTION_UP:\nintercepted=false;\nbreak;\ndefault:\nbreak;\n    }\nmLastXIntercept=x;\nmLastXIntercept=y;\nreturn intercepted;\n}\n```\n实例：重写HorizontalScrollView\n```java\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.VelocityTracker;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Scroller;\n\n/**\n * Created by night on 2019/2/14.\n */\npublic class HorizontalScrollViewEx extends ViewGroup {\n  private static final String TAG = \"HorizontalScrollViewEx\";\n\n  private int mChildrenSize;\n  private int mChildWidth;\n  private int mChildIndex;\n\n  // 分别记录上次滑动的坐标\n  private int mLastX = 0;\n  private int mLastY = 0;\n  // 分别记录上次滑动的坐标(onInterceptTouchEvent)\n  private int mLastXIntercept = 0;\n  private int mLastYIntercept = 0;\n\n  private Scroller mScroller;\n  private VelocityTracker mVelocityTracker;\n\n  public HorizontalScrollViewEx(Context context) {\n    super(context);\n    init();\n  }\n\n  public HorizontalScrollViewEx(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    init();\n  }\n\n  public HorizontalScrollViewEx(Context context, AttributeSet attrs,\n                                int defStyle) {\n    super(context, attrs, defStyle);\n    init();\n  }\n\n  private void init() {\n    mScroller = new Scroller(getContext());\n    mVelocityTracker = VelocityTracker.obtain();\n  }\n\n  @Override\n  public boolean onInterceptTouchEvent(MotionEvent event) {\n    boolean intercepted = false;\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        intercepted = false;\n        if (!mScroller.isFinished()) {\n          mScroller.abortAnimation();\n          intercepted = true;\n        }\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastXIntercept;\n        int deltaY = y - mLastYIntercept;\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\n          intercepted = true;\n        } else {\n          intercepted = false;\n        }\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        intercepted = false;\n        break;\n      }\n      default:\n        break;\n    }\n\n    Log.d(TAG, \"intercepted=\" + intercepted);\n    mLastX = x;\n    mLastY = y;\n    mLastXIntercept = x;\n    mLastYIntercept = y;\n\n    return intercepted;\n  }\n\n  @Override\n  public boolean onTouchEvent(MotionEvent event) {\n    mVelocityTracker.addMovement(event);\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        if (!mScroller.isFinished()) {\n          mScroller.abortAnimation();\n        }\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastX;\n        int deltaY = y - mLastY;\n        scrollBy(-deltaX, 0);\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        int scrollX = getScrollX();\n        int scrollToChildIndex = scrollX / mChildWidth;\n        mVelocityTracker.computeCurrentVelocity(1000);\n        float xVelocity = mVelocityTracker.getXVelocity();\n        if (Math.abs(xVelocity) >= 50) {\n          mChildIndex = xVelocity > 0 ? mChildIndex - 1 : mChildIndex + 1;\n        } else {\n          mChildIndex = (scrollX + mChildWidth / 2) / mChildWidth;\n        }\n        mChildIndex = Math.max(0, Math.min(mChildIndex, mChildrenSize - 1));\n        int dx = mChildIndex * mChildWidth - scrollX;\n        smoothScrollBy(dx, 0);\n        mVelocityTracker.clear();\n        break;\n      }\n      default:\n        break;\n    }\n\n    mLastX = x;\n    mLastY = y;\n    return true;\n  }\n\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int measuredWidth = 0;\n    int measuredHeight = 0;\n    final int childCount = getChildCount();\n    measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n    int widthSpaceSize = MeasureSpec.getSize(widthMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int heightSpaceSize = MeasureSpec.getSize(heightMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    if (childCount == 0) {\n      setMeasuredDimension(0, 0);\n    } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(widthSpaceSize, childView.getMeasuredHeight());\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      setMeasuredDimension(measuredWidth, heightSpaceSize);\n    } else {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(measuredWidth, measuredHeight);\n    }\n  }\n\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    int childLeft = 0;\n    final int childCount = getChildCount();\n    mChildrenSize = childCount;\n\n    for (int i = 0; i < childCount; i++) {\n      final View childView = getChildAt(i);\n      if (childView.getVisibility() != View.GONE) {\n        final int childWidth = childView.getMeasuredWidth();\n        mChildWidth = childWidth;\n        childView.layout(childLeft, 0, childLeft + childWidth,\n            childView.getMeasuredHeight());\n        childLeft += childWidth;\n      }\n    }\n  }\n\n  private void smoothScrollBy(int dx, int dy) {\n    mScroller.startScroll(getScrollX(), 0, dx, 0, 500);\n    invalidate();\n  }\n\n  @Override\n  public void computeScroll() {\n    if (mScroller.computeScrollOffset()) {\n      scrollTo(mScroller.getCurrX(), mScroller.getCurrY());\n      postInvalidate();\n    }\n  }\n\n  @Override\n  protected void onDetachedFromWindow() {\n    mVelocityTracker.recycle();\n    super.onDetachedFromWindow();\n  }\n}\n\n```\n```xml\n<com.hdu.night.scrollconflicts.HorizontalScrollViewEx\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"\n    tools:context=\"com.hdu.night.scrollconflicts.MainActivity\">\n\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test1\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n\n        <android.support.v7.widget.RecyclerView android:id=\"@+id/rv_test2\"\n                                                android:layout_width=\"match_parent\"\n                                                android:layout_height=\"match_parent\"\n        />\n\n</com.hdu.night.scrollconflicts.HorizontalScrollViewEx>\n\n```\n### 内部拦截法\n在子view中拦截事件，父viewGroup默认是不拦截任何事件的，所以，当事件传递到子view时。根据偏移方向和速度，如果该事件是需要子view来处理的，那么子view就自己消耗处理，如果该事件不需要由子view来处理，那么就调用getParent().requestDisallowInterceptTouchEvent()方法来通知父viewgroup来拦截 。\n伪代码：\n```java\n//重写子View\n@Override\n  public boolean dispatchTouchEvent(MotionEvent event) {\n    int x = (int) event.getX();\n    int y = (int) event.getY();\n\n    switch (event.getAction()) {\n      case MotionEvent.ACTION_DOWN: {\n        parent.requestDisallowInterceptTouchEvent(true);\n        break;\n      }\n      case MotionEvent.ACTION_MOVE: {\n        int deltaX = x - mLastX;\n        int deltaY = y - mLastY;\n        if (父容器需要此类点击事件) {\n          parent.requestDisallowInterceptTouchEvent(false);\n        }\n        break;\n      }\n      case MotionEvent.ACTION_UP: {\n        break;\n      }\n      default:\n        break;\n    }\n\n    mLastX = x;\n    mLastY = y;\n    return super.dispatchTouchEvent(event);\n  }\n  //重写父View\n  @Override\npublic boolean onInterceptTouchEvent(MotionEvent event) {\n\n        int action = event.getAction();\n        if (action == MotionEvent.ACTION_DOWN) {\n            return false;\n        } else {\n            return true;\n        }\n     }\n```\n实例：\n```java\n//HorizontalEx2\n  @Override public boolean onInterceptTouchEvent(MotionEvent ev) {\n    boolean intercepted = false;\n    int x = (int) ev.getX();\n    int y = (int) ev.getY();\n    if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n      mLastX = x;\n      mLastY = y;\n      if (!mScroller.isFinished()) {\n        mScroller.abortAnimation();\n        return true;\n      }\n      return false;\n    } else {\n      return true;\n    }\n  }\npublic class RecyclerViewEv extends RecyclerView {\n\n  private int mLastX = 0;\n  private int mLastY = 0;\n\n...\n  @Override public boolean dispatchTouchEvent(MotionEvent ev) {\n    int x = (int) ev.getX();\n    int y = (int) ev.getY();\n    switch (ev.getAction()) {\n      case MotionEvent.ACTION_DOWN:\n        getParent().requestDisallowInterceptTouchEvent(true);\n        break;\n      case MotionEvent.ACTION_MOVE:\n        int dx = x - mLastX;\n        int dy = y - mLastY;\n        if (Math.abs(dx) > Math.abs(dy)) {\n          getParent().requestDisallowInterceptTouchEvent(false);\n        }\n        break;\n      case MotionEvent.ACTION_UP:\n        break;\n      default:\n        break;\n    }\n    mLastX = x;\n    mLastY = y;\n    return super.dispatchTouchEvent(ev);\n  }\n}\n\n```\n\n## 外部滑动与内部滑动一致\n可以采取嵌套滑动机制解决。Android 的事件分发机制中，只要有一个控件消费了事件，其他控件就没办法在接收到这个事件了。因此，当有嵌套滑动场景时，我们都需要自己手动解决事件冲突。而在 Android 5.0 Lollipop 之后，Google 官方通过 嵌套滑动机制 解决了传统 Android 事件分发无法共享事件这个问题。\n\n嵌套滑动机制 的基本原理可以认为是事件共享，即当子控件接收到滑动事件，准备要滑动时，会先通知父控件(startNestedScroll）；然后在滑动之前，会先询问父控件是否要滑动（dispatchNestedPreScroll)；如果父控件响应该事件进行了滑动，那么就会通知子控件它具体消耗了多少滑动距离；然后交由子控件处理剩余的滑动距离；最后子控件滑动结束后，如果滑动距离还有剩余，就会再问一下父控件是否需要在继续滑动剩下的距离（dispatchNestedScroll)...\n\n如在ScrollVIew中嵌套RecyclerView。直接ScrollView进行拦截的话会出现RecyclerView内容显示不全。\n可以将ScrollView换为NestScrollView，并将RecyclerView的nestedScrollingEnabled设为false。即RecyclerView不参加嵌套滑动，滑动交由NestScrollView负责。享受丝滑般的触感。\n","slug":"View的滑动冲突","published":1,"updated":"2020-02-13T07:16:09.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0v008oqr3lgw105qlk"},{"title":"View的工作原理","date":"2019-02-20T16:00:00.000Z","description":"好久以前认为高深的技术。盘他","_content":"## ViewRoot和DecorView之间的交易\nViewRoot对应于ViewRootImpl类，它是连接Window和DecorView（FrameLayout）的纽带，View的三大流程是通过VeiwRoot来完成的。在ActivityThread中，当Activity对象被创建完毕后，会将DecorVeiw添加到Window中，同时会创建ViewRootImpl对象，并将ViewRootImpl对象和DecorView建立关联。\n\nView的绘制流程是从ViewRoot的performTraversals方法开始的，它经过measure、layout和draw三个过程才能最终将一个View绘制出来。如图：\n![enter description here](/images/performTraversals.png)\nperformTraversals会依次调用performMeasure、performLayout、performDraw三个方法，这个三个方法分别完成顶级View的measure、layout、draw这三大方法，performMeasure调用measure(),measure()调用onMeasure().在onMeasure方法中则会对所有的子元素进行measure过程，这个时候measure流程就从父容器传递到子元素中了，这样就完成一次measure过程，接着子元素会重复父容器的过程，如此反复就完成了整个View树的遍历。同理，其他两个步骤也是类似的过程。\n\nmeasure过程决定了View的宽和高，Measure完成以后，可以通过getMeasureWidth和getMeasureHeight方法来获取到View的测量后的宽和高。\n## MeasureSpec\nMeasureSpec:测量规格，在很大程度上决定了一个View的尺寸规格，之所以说是很大程度上是因为这个过程还是受父容器的影响，因为父容器影响View的MeasureSpec的创建过程。在测量过程中，系统会将View的LayoutParams根据父容器所施加的规则转换成对应的MeasureSpec，然后再根据这个measureSpec来测量出View的宽和高。\n\nMeasureSpec代表一个32位int值，高2位代表SpecMode，低30位代表SpecSize，SpecMode是指测量模式，而SpecSize是指在某种测量模式下的规格大小。MeasureSpec通过将SpecMode（int）和SpecSize(int)打包成一个int值来避免过多的对象内存分配，为了方便操作，其提供了打包和解包的方法。\n\n### SpecMode \n\n- __Exactly__: 父容器已经检测出View所需要的精确大小，这个时候View的最终大小就是SpecSize所指定的值。它对应于LayoutParams中的match_parent和具体的数值这两种模式。\n- __AT_MOST__:父容器指定了一个可用大小即SpecSize，View的大小不能大于这个值，具体是什么值要看不同的View的具体实现。它对应于LayoutParams中的wrap_content。\n- __UNSPECIFIED__:不指定大小测量模式 View任意大小，通常在自定义View时会使用。\n\n当View采用固定宽/高的时候，不管父容器的MeasureSpec是什么，View的MeasureSpec都是EXACTLY模式并且大小遵循LayoutParams中的大小\n\n当View的宽/高是match_parent时，如果父容器的模式是EXACTLY，那么View也是精确模式并且其大小是父容器的剩余空间，如果父容器是最大模式，那么View也是最大模式并且其大小不会超过父容器的剩余空间\n\n当View的宽/高是wrap_content时，不管父容器的模式是精确还是最大化，View的模式总是最大化并且大小不能超过父容器的剩余空间。\n\n### MeasureSpec与layoutParams关系\n- DecorView: MeasureSpec是由窗口的尺寸和其自身的LayoutParams确定\n- 普通View:MeasureSpec是由父容器的MeasureSpec和自身的LayoutParams共同确定。\n\n## View的工作流程\nView的工作流程主要是指measure、layout、draw这三大流程，即测量、布局、绘制，其中measure确定View的测量宽高，layout确定View的最终宽高和四个顶点的位置，而draw则将View绘制到屏幕上。\n\n### measure过程\n一个原始的View，那么通过measure方法就完成了其测量过程，如果是一个ViewGroup，除了完成自己的测量过程外，还会遍历去调用所有子元素的measure方法，各个子元素再递归去执行这个流程。\n#### View的measure()\nView的measure过程由其measure()完成，measure()是一个final方法（不能被子类重写）。measure()中会调用onMeasure()\n```java\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec),\n                getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));\n    }\n```\n\n```java\npublic static int getDefaultSize(int size, int measureSpec) {\n        int result = size;\n        int specMode = MeasureSpec.getMode(measureSpec);\n        int specSize = MeasureSpec.getSize(measureSpec);\n\n        switch (specMode) {\n        case MeasureSpec.UNSPECIFIED:\n            result = size;\n            break;\n        case MeasureSpec.AT_MOST:\n        case MeasureSpec.EXACTLY:\n            result = specSize;\n            break;\n        }\n        return result;\n    }\n```\ngetDefaultSize方法返回的大小就是MeasureSpec中的specSize，而这个specSize就是View测量后的大小，但View的最终大小是在layout阶段确定的，几乎所有情况下的View的测量大小和最终大小是相等的。\n\n同时，直接继承View的自定义控件需要重写onMeasure方法并设置wrap_content时的自身大小，否则在布局中使用wrap_content就相当于使用match_parent。如果View在布局中使用wrap_content，那么它的specMode是AT_MOST模式，在这种模式下，它的宽/高等于specSize，也就是说，这种情况下的View的specSize是parentSize，而parentSize是父容器中目前当前剩余使用的大小，也就是父容器当前剩余的空间大小。\nTextView、ImageView等解决方法是重写onMeasure()\n```java\n   @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n        int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n        int widthSpecSize = MeasureSpec.getSize(widthMeasureSpec);\n        int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n        int heightSpecSize = MeasureSpec.getSize(heightMeasureSpec);\n        if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(200, 200);//Default width and height\n        } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(200, heightSpecSize);\n        } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(widthSpecSize, 200);\n        }\n    }\n```\n#### ViewGroup的measure\nViewGroup是一个抽象类，因此它没有重写View的onMeasure方法，但是它提供了一个叫measureChildren的方法。\n\n```java\n   protected void measureChildren(int widthMeasureSpec, int heightMeasureSpec) {\n        final int size = mChildrenCount;\n        final View[] children = mChildren;\n        for (int i = 0; i < size; ++i) {\n            final View child = children[i];\n            if ((child.mViewFlags & VISIBILITY_MASK) != GONE) {\n                measureChild(child, widthMeasureSpec, heightMeasureSpec);\n            }\n        }\n    }\n\tprotected void measureChild(View child, int parentWidthMeasureSpec,int parentHeightMeasureSpec) {\n        final LayoutParams lp = child.getLayoutParams();\n\n        final int childWidthMeasureSpec = getChildMeasureSpec(parentWidthMeasureSpec,mPaddingLeft + mPaddingRight, lp.width);\n        final int childHeightMeasureSpec = getChildMeasureSpec(parentHeightMeasureSpec,mPaddingTop + mPaddingBottom, lp.height);\n\n        child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\n    }\n```\nmeasureChild的思想就是取出子元素的LayoutParams，结合父容器的MeasureSpec共同确定子View的MeasureSpec.ViewGroup并未定义onMeasure(),因为不同ViewGroup如LinearLayout与FrameLayout有不同的布局特性。不同布局需要实现自己的onMeasure()具体测量方法。\n\n- 在View中正确的获得View的测量宽高：onLayout()\n\n\n```java\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    view.getMeasuredWidth();\n  }\n\n```\n- Activity中获取View的宽和高：\n\n\n```java\n  @Override public void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    if (hasFocus) {\n      int width = view.getMeasuredWidth();\n      int height = view.getMeasuredHeight();\n    }\n  }\n```\n### layout过程\nLayout的作用是ViewGroup用来确定子元素的位置，当ViewGroup的位置被确定后，它在onLayout中会遍历所有的子元素并调用其layout方法，在layout方法中onLayout方法又会被调用。先看下View中的layout方法\n\n```java\n    public void layout(int l, int t, int r, int b) {\n        if ((mPrivateFlags3 & PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT) != 0) {\n            onMeasure(mOldWidthMeasureSpec, mOldHeightMeasureSpec);\n            mPrivateFlags3 &= ~PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT;\n        }\n\n        int oldL = mLeft;\n        int oldT = mTop;\n        int oldB = mBottom;\n        int oldR = mRight;\n\n        boolean changed = isLayoutModeOptical(mParent) ?\n                setOpticalFrame(l, t, r, b) : setFrame(l, t, r, b);\n\n        if (changed || (mPrivateFlags & PFLAG_LAYOUT_REQUIRED) == PFLAG_LAYOUT_REQUIRED) {\n            onLayout(changed, l, t, r, b);\n\n            if (shouldDrawRoundScrollbar()) {\n                if(mRoundScrollbarRenderer == null) {\n                    mRoundScrollbarRenderer = new RoundScrollbarRenderer(this);\n                }\n            } else {\n                mRoundScrollbarRenderer = null;\n            }\n\n            mPrivateFlags &= ~PFLAG_LAYOUT_REQUIRED;\n\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnLayoutChangeListeners != null) {\n                ArrayList<OnLayoutChangeListener> listenersCopy =\n                        (ArrayList<OnLayoutChangeListener>)li.mOnLayoutChangeListeners.clone();\n                int numListeners = listenersCopy.size();\n                for (int i = 0; i < numListeners; ++i) {\n                    listenersCopy.get(i).onLayoutChange(this, l, t, r, b, oldL, oldT, oldR, oldB);\n                }\n            }\n        }\n\n        mPrivateFlags &= ~PFLAG_FORCE_LAYOUT;\n        mPrivateFlags3 |= PFLAG3_IS_LAID_OUT;\n\n        if ((mPrivateFlags3 & PFLAG3_NOTIFY_AUTOFILL_ENTER_ON_LAYOUT) != 0) {\n            mPrivateFlags3 &= ~PFLAG3_NOTIFY_AUTOFILL_ENTER_ON_LAYOUT;\n            notifyEnterOrExitForAutoFillIfNeeded(true);\n        }\n    }\n\n```\nlayout方法的大致流程：首先会通过setFrame方法来设定View的四个顶点的位置，即初始化mLeft、mRight、mTop和mBottom这四个值，View的四个顶点一旦确定，那么View在父容器中的位置也就确定了，接着就会调用onLayout方法，这个方法用途是父容器确定子元素的位置，和onMeasure方法类似，onLayout的具体实现同样和具体的布局有关，所以View和ViewGroup均没有真正实现onLayout方法。\n\n关于getMeasuredWIdth()和getWidth()差异：在最终情况即在测量完毕后，是相同的。但在测量过程中可能不同。\n\n### draw过程\n1. 绘制背景background.draw(canvas)\n2. 绘制自己(onDraw)\n3. 绘制children(dispatchDraw)\n4. 绘制装饰(onDrawScrollBars)\n```java\npublic void draw(Canvas canvas) {\n        if (mClipBounds != null) {\n            canvas.clipRect(mClipBounds);\n        }\n        final int privateFlags = mPrivateFlags;\n        final boolean dirtyOpaque = (privateFlags & PFLAG_DIRTY_MASK) == PFLAG_DIRTY_OPAQUE &&\n                (mAttachInfo == null || !mAttachInfo.mIgnoreDirtyState);\n        mPrivateFlags = (privateFlags & ~PFLAG_DIRTY_MASK) | PFLAG_DRAWN;\n\n        /*\n         * Draw traversal performs several drawing steps which must be executed\n         * in the appropriate order:\n         *\n         *      1. Draw the background\n         *      2. If necessary, save the canvas' layers to prepare for fading\n         *      3. Draw view's content\n         *      4. Draw children\n         *      5. If necessary, draw the fading edges and restore layers\n         *      6. Draw decorations (scrollbars for instance)\n         */\n\n        // Step 1, draw the background, if needed\n        int saveCount;\n\n        if (!dirtyOpaque) {\n         ...\n                if ((scrollX | scrollY) == 0) {\n                    background.draw(canvas);\n                } else {\n                    canvas.translate(scrollX, scrollY);\n                    background.draw(canvas);\n                    canvas.translate(-scrollX, -scrollY);\n                }\n            }\n        }\n\n        // skip step 2 & 5 if possible (common case)\n        final int viewFlags = mViewFlags;\n        boolean horizontalEdges = (viewFlags & FADING_EDGE_HORIZONTAL) != 0;\n        boolean verticalEdges = (viewFlags & FADING_EDGE_VERTICAL) != 0;\n        if (!verticalEdges && !horizontalEdges) {\n            // Step 3, draw the content\n            if (!dirtyOpaque) onDraw(canvas);\n\n            // Step 4, draw the children\n            dispatchDraw(canvas);\n\n            // Step 6, draw decorations (scrollbars)\n            onDrawScrollBars(canvas);\n\n            if (mOverlay != null && !mOverlay.isEmpty()) {\n                mOverlay.getOverlayView().dispatchDraw(canvas);\n            }\n\n            // we're done...\n            return;\n        }\n...\n}\n```\n","source":"_posts/View的工作原理.md","raw":"title: View的工作原理\ndate: 2019-2-21\ntags: [Android,View的工作原理]\ncategories: Android开发艺术探索\ndescription: 好久以前认为高深的技术。盘他\n---\n## ViewRoot和DecorView之间的交易\nViewRoot对应于ViewRootImpl类，它是连接Window和DecorView（FrameLayout）的纽带，View的三大流程是通过VeiwRoot来完成的。在ActivityThread中，当Activity对象被创建完毕后，会将DecorVeiw添加到Window中，同时会创建ViewRootImpl对象，并将ViewRootImpl对象和DecorView建立关联。\n\nView的绘制流程是从ViewRoot的performTraversals方法开始的，它经过measure、layout和draw三个过程才能最终将一个View绘制出来。如图：\n![enter description here](/images/performTraversals.png)\nperformTraversals会依次调用performMeasure、performLayout、performDraw三个方法，这个三个方法分别完成顶级View的measure、layout、draw这三大方法，performMeasure调用measure(),measure()调用onMeasure().在onMeasure方法中则会对所有的子元素进行measure过程，这个时候measure流程就从父容器传递到子元素中了，这样就完成一次measure过程，接着子元素会重复父容器的过程，如此反复就完成了整个View树的遍历。同理，其他两个步骤也是类似的过程。\n\nmeasure过程决定了View的宽和高，Measure完成以后，可以通过getMeasureWidth和getMeasureHeight方法来获取到View的测量后的宽和高。\n## MeasureSpec\nMeasureSpec:测量规格，在很大程度上决定了一个View的尺寸规格，之所以说是很大程度上是因为这个过程还是受父容器的影响，因为父容器影响View的MeasureSpec的创建过程。在测量过程中，系统会将View的LayoutParams根据父容器所施加的规则转换成对应的MeasureSpec，然后再根据这个measureSpec来测量出View的宽和高。\n\nMeasureSpec代表一个32位int值，高2位代表SpecMode，低30位代表SpecSize，SpecMode是指测量模式，而SpecSize是指在某种测量模式下的规格大小。MeasureSpec通过将SpecMode（int）和SpecSize(int)打包成一个int值来避免过多的对象内存分配，为了方便操作，其提供了打包和解包的方法。\n\n### SpecMode \n\n- __Exactly__: 父容器已经检测出View所需要的精确大小，这个时候View的最终大小就是SpecSize所指定的值。它对应于LayoutParams中的match_parent和具体的数值这两种模式。\n- __AT_MOST__:父容器指定了一个可用大小即SpecSize，View的大小不能大于这个值，具体是什么值要看不同的View的具体实现。它对应于LayoutParams中的wrap_content。\n- __UNSPECIFIED__:不指定大小测量模式 View任意大小，通常在自定义View时会使用。\n\n当View采用固定宽/高的时候，不管父容器的MeasureSpec是什么，View的MeasureSpec都是EXACTLY模式并且大小遵循LayoutParams中的大小\n\n当View的宽/高是match_parent时，如果父容器的模式是EXACTLY，那么View也是精确模式并且其大小是父容器的剩余空间，如果父容器是最大模式，那么View也是最大模式并且其大小不会超过父容器的剩余空间\n\n当View的宽/高是wrap_content时，不管父容器的模式是精确还是最大化，View的模式总是最大化并且大小不能超过父容器的剩余空间。\n\n### MeasureSpec与layoutParams关系\n- DecorView: MeasureSpec是由窗口的尺寸和其自身的LayoutParams确定\n- 普通View:MeasureSpec是由父容器的MeasureSpec和自身的LayoutParams共同确定。\n\n## View的工作流程\nView的工作流程主要是指measure、layout、draw这三大流程，即测量、布局、绘制，其中measure确定View的测量宽高，layout确定View的最终宽高和四个顶点的位置，而draw则将View绘制到屏幕上。\n\n### measure过程\n一个原始的View，那么通过measure方法就完成了其测量过程，如果是一个ViewGroup，除了完成自己的测量过程外，还会遍历去调用所有子元素的measure方法，各个子元素再递归去执行这个流程。\n#### View的measure()\nView的measure过程由其measure()完成，measure()是一个final方法（不能被子类重写）。measure()中会调用onMeasure()\n```java\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec),\n                getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));\n    }\n```\n\n```java\npublic static int getDefaultSize(int size, int measureSpec) {\n        int result = size;\n        int specMode = MeasureSpec.getMode(measureSpec);\n        int specSize = MeasureSpec.getSize(measureSpec);\n\n        switch (specMode) {\n        case MeasureSpec.UNSPECIFIED:\n            result = size;\n            break;\n        case MeasureSpec.AT_MOST:\n        case MeasureSpec.EXACTLY:\n            result = specSize;\n            break;\n        }\n        return result;\n    }\n```\ngetDefaultSize方法返回的大小就是MeasureSpec中的specSize，而这个specSize就是View测量后的大小，但View的最终大小是在layout阶段确定的，几乎所有情况下的View的测量大小和最终大小是相等的。\n\n同时，直接继承View的自定义控件需要重写onMeasure方法并设置wrap_content时的自身大小，否则在布局中使用wrap_content就相当于使用match_parent。如果View在布局中使用wrap_content，那么它的specMode是AT_MOST模式，在这种模式下，它的宽/高等于specSize，也就是说，这种情况下的View的specSize是parentSize，而parentSize是父容器中目前当前剩余使用的大小，也就是父容器当前剩余的空间大小。\nTextView、ImageView等解决方法是重写onMeasure()\n```java\n   @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n        int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n        int widthSpecSize = MeasureSpec.getSize(widthMeasureSpec);\n        int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n        int heightSpecSize = MeasureSpec.getSize(heightMeasureSpec);\n        if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(200, 200);//Default width and height\n        } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(200, heightSpecSize);\n        } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n            setMeasuredDimension(widthSpecSize, 200);\n        }\n    }\n```\n#### ViewGroup的measure\nViewGroup是一个抽象类，因此它没有重写View的onMeasure方法，但是它提供了一个叫measureChildren的方法。\n\n```java\n   protected void measureChildren(int widthMeasureSpec, int heightMeasureSpec) {\n        final int size = mChildrenCount;\n        final View[] children = mChildren;\n        for (int i = 0; i < size; ++i) {\n            final View child = children[i];\n            if ((child.mViewFlags & VISIBILITY_MASK) != GONE) {\n                measureChild(child, widthMeasureSpec, heightMeasureSpec);\n            }\n        }\n    }\n\tprotected void measureChild(View child, int parentWidthMeasureSpec,int parentHeightMeasureSpec) {\n        final LayoutParams lp = child.getLayoutParams();\n\n        final int childWidthMeasureSpec = getChildMeasureSpec(parentWidthMeasureSpec,mPaddingLeft + mPaddingRight, lp.width);\n        final int childHeightMeasureSpec = getChildMeasureSpec(parentHeightMeasureSpec,mPaddingTop + mPaddingBottom, lp.height);\n\n        child.measure(childWidthMeasureSpec, childHeightMeasureSpec);\n    }\n```\nmeasureChild的思想就是取出子元素的LayoutParams，结合父容器的MeasureSpec共同确定子View的MeasureSpec.ViewGroup并未定义onMeasure(),因为不同ViewGroup如LinearLayout与FrameLayout有不同的布局特性。不同布局需要实现自己的onMeasure()具体测量方法。\n\n- 在View中正确的获得View的测量宽高：onLayout()\n\n\n```java\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    view.getMeasuredWidth();\n  }\n\n```\n- Activity中获取View的宽和高：\n\n\n```java\n  @Override public void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    if (hasFocus) {\n      int width = view.getMeasuredWidth();\n      int height = view.getMeasuredHeight();\n    }\n  }\n```\n### layout过程\nLayout的作用是ViewGroup用来确定子元素的位置，当ViewGroup的位置被确定后，它在onLayout中会遍历所有的子元素并调用其layout方法，在layout方法中onLayout方法又会被调用。先看下View中的layout方法\n\n```java\n    public void layout(int l, int t, int r, int b) {\n        if ((mPrivateFlags3 & PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT) != 0) {\n            onMeasure(mOldWidthMeasureSpec, mOldHeightMeasureSpec);\n            mPrivateFlags3 &= ~PFLAG3_MEASURE_NEEDED_BEFORE_LAYOUT;\n        }\n\n        int oldL = mLeft;\n        int oldT = mTop;\n        int oldB = mBottom;\n        int oldR = mRight;\n\n        boolean changed = isLayoutModeOptical(mParent) ?\n                setOpticalFrame(l, t, r, b) : setFrame(l, t, r, b);\n\n        if (changed || (mPrivateFlags & PFLAG_LAYOUT_REQUIRED) == PFLAG_LAYOUT_REQUIRED) {\n            onLayout(changed, l, t, r, b);\n\n            if (shouldDrawRoundScrollbar()) {\n                if(mRoundScrollbarRenderer == null) {\n                    mRoundScrollbarRenderer = new RoundScrollbarRenderer(this);\n                }\n            } else {\n                mRoundScrollbarRenderer = null;\n            }\n\n            mPrivateFlags &= ~PFLAG_LAYOUT_REQUIRED;\n\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnLayoutChangeListeners != null) {\n                ArrayList<OnLayoutChangeListener> listenersCopy =\n                        (ArrayList<OnLayoutChangeListener>)li.mOnLayoutChangeListeners.clone();\n                int numListeners = listenersCopy.size();\n                for (int i = 0; i < numListeners; ++i) {\n                    listenersCopy.get(i).onLayoutChange(this, l, t, r, b, oldL, oldT, oldR, oldB);\n                }\n            }\n        }\n\n        mPrivateFlags &= ~PFLAG_FORCE_LAYOUT;\n        mPrivateFlags3 |= PFLAG3_IS_LAID_OUT;\n\n        if ((mPrivateFlags3 & PFLAG3_NOTIFY_AUTOFILL_ENTER_ON_LAYOUT) != 0) {\n            mPrivateFlags3 &= ~PFLAG3_NOTIFY_AUTOFILL_ENTER_ON_LAYOUT;\n            notifyEnterOrExitForAutoFillIfNeeded(true);\n        }\n    }\n\n```\nlayout方法的大致流程：首先会通过setFrame方法来设定View的四个顶点的位置，即初始化mLeft、mRight、mTop和mBottom这四个值，View的四个顶点一旦确定，那么View在父容器中的位置也就确定了，接着就会调用onLayout方法，这个方法用途是父容器确定子元素的位置，和onMeasure方法类似，onLayout的具体实现同样和具体的布局有关，所以View和ViewGroup均没有真正实现onLayout方法。\n\n关于getMeasuredWIdth()和getWidth()差异：在最终情况即在测量完毕后，是相同的。但在测量过程中可能不同。\n\n### draw过程\n1. 绘制背景background.draw(canvas)\n2. 绘制自己(onDraw)\n3. 绘制children(dispatchDraw)\n4. 绘制装饰(onDrawScrollBars)\n```java\npublic void draw(Canvas canvas) {\n        if (mClipBounds != null) {\n            canvas.clipRect(mClipBounds);\n        }\n        final int privateFlags = mPrivateFlags;\n        final boolean dirtyOpaque = (privateFlags & PFLAG_DIRTY_MASK) == PFLAG_DIRTY_OPAQUE &&\n                (mAttachInfo == null || !mAttachInfo.mIgnoreDirtyState);\n        mPrivateFlags = (privateFlags & ~PFLAG_DIRTY_MASK) | PFLAG_DRAWN;\n\n        /*\n         * Draw traversal performs several drawing steps which must be executed\n         * in the appropriate order:\n         *\n         *      1. Draw the background\n         *      2. If necessary, save the canvas' layers to prepare for fading\n         *      3. Draw view's content\n         *      4. Draw children\n         *      5. If necessary, draw the fading edges and restore layers\n         *      6. Draw decorations (scrollbars for instance)\n         */\n\n        // Step 1, draw the background, if needed\n        int saveCount;\n\n        if (!dirtyOpaque) {\n         ...\n                if ((scrollX | scrollY) == 0) {\n                    background.draw(canvas);\n                } else {\n                    canvas.translate(scrollX, scrollY);\n                    background.draw(canvas);\n                    canvas.translate(-scrollX, -scrollY);\n                }\n            }\n        }\n\n        // skip step 2 & 5 if possible (common case)\n        final int viewFlags = mViewFlags;\n        boolean horizontalEdges = (viewFlags & FADING_EDGE_HORIZONTAL) != 0;\n        boolean verticalEdges = (viewFlags & FADING_EDGE_VERTICAL) != 0;\n        if (!verticalEdges && !horizontalEdges) {\n            // Step 3, draw the content\n            if (!dirtyOpaque) onDraw(canvas);\n\n            // Step 4, draw the children\n            dispatchDraw(canvas);\n\n            // Step 6, draw decorations (scrollbars)\n            onDrawScrollBars(canvas);\n\n            if (mOverlay != null && !mOverlay.isEmpty()) {\n                mOverlay.getOverlayView().dispatchDraw(canvas);\n            }\n\n            // we're done...\n            return;\n        }\n...\n}\n```\n","slug":"View的工作原理","published":1,"updated":"2020-02-13T07:16:09.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0w008rqr3lte157ewy"},{"title":"Combination","date":"2020-03-05T16:00:00.000Z","description":"k 个数的组合","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/combinations/\n\n## Solution\n\n套上回溯的模板很快就可以出来，我在进行 DFS 时传入的是 1..n的数组有没办法去除这一次拷贝呢？既然我们遍历时需要遍历数组，而数组的元素和下标相差个 1，num[i] = i - 1; 那直接遍历 index就好了。可是时间复杂度还是很慢呀。还是需要进行剪枝。uh, 对了遍历索引时，从某位起后续的索引就不需要再进行遍历。比如我们遍历 1..n， k = 4, 一开始只需要遍历到 n - 3即可，因为 n -3后面的元素从n - 2开始到 n没有四个元素了；Dequeue在添加一个元素后只需要遍历到 n - 2即可。同理添加三个元素后，遍历到 n 即可。这个最大访问索引 maxI，和 n,k,queue.size 是什么关系呢？ \n\n由定义得 最大索引加上 剩余未访问元素数目再 - 1等于 n.  maxI + k - queueSize - 1 = n, 那 maxI = n - k + queueSize + 1\n\n时间复杂度： $O(kC_n^k)$\n\n时间复杂度： $O(C_n^k)$\n\n## Code\n\n```java\nInit: \nfun combine(n: Int, k: Int): List<List<Int>> {\n        var res = mutableListOf<List<Int>>()\n        fun DFS(nums: IntArray, start: Int, queue: Deque<Int>) {\n            if (queue.size == k) {\n                val list = queue.toList()\n                res.add(list)\n                return\n            }\n            for (i in start until nums.size) {\n                    queue.add(nums[i])\n                    DFS(nums, i + 1, queue)\n                    queue.removeLast()\n                }\n        }\n        DFS( (1..n).toList().toIntArray(), 0, ArrayDeque())\n        return res\n    }\n```\n\n\n\n```java\nAdvanced:\nimport java.util.*\n\nclass Solution {\n    fun combine(n: Int, k: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        fun DFS(start: Int, queue: Deque<Int>) {\n            if (queue.size == k) {\n                val list = queue.toList()\n                res.add(list)\n                return\n            }\n            for (i in start..(n - k + queue.size + 1)) {\n                    queue.add(i)\n                    DFS(i + 1, queue)\n                    queue.removeLast()\n                }\n        }\n        DFS( 1, ArrayDeque())\n        return res\n    }\n}\n```","source":"_posts/combine.md","raw":"title:    Combination\ndate: 2020-3-6\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: k 个数的组合\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/combinations/\n\n## Solution\n\n套上回溯的模板很快就可以出来，我在进行 DFS 时传入的是 1..n的数组有没办法去除这一次拷贝呢？既然我们遍历时需要遍历数组，而数组的元素和下标相差个 1，num[i] = i - 1; 那直接遍历 index就好了。可是时间复杂度还是很慢呀。还是需要进行剪枝。uh, 对了遍历索引时，从某位起后续的索引就不需要再进行遍历。比如我们遍历 1..n， k = 4, 一开始只需要遍历到 n - 3即可，因为 n -3后面的元素从n - 2开始到 n没有四个元素了；Dequeue在添加一个元素后只需要遍历到 n - 2即可。同理添加三个元素后，遍历到 n 即可。这个最大访问索引 maxI，和 n,k,queue.size 是什么关系呢？ \n\n由定义得 最大索引加上 剩余未访问元素数目再 - 1等于 n.  maxI + k - queueSize - 1 = n, 那 maxI = n - k + queueSize + 1\n\n时间复杂度： $O(kC_n^k)$\n\n时间复杂度： $O(C_n^k)$\n\n## Code\n\n```java\nInit: \nfun combine(n: Int, k: Int): List<List<Int>> {\n        var res = mutableListOf<List<Int>>()\n        fun DFS(nums: IntArray, start: Int, queue: Deque<Int>) {\n            if (queue.size == k) {\n                val list = queue.toList()\n                res.add(list)\n                return\n            }\n            for (i in start until nums.size) {\n                    queue.add(nums[i])\n                    DFS(nums, i + 1, queue)\n                    queue.removeLast()\n                }\n        }\n        DFS( (1..n).toList().toIntArray(), 0, ArrayDeque())\n        return res\n    }\n```\n\n\n\n```java\nAdvanced:\nimport java.util.*\n\nclass Solution {\n    fun combine(n: Int, k: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        fun DFS(start: Int, queue: Deque<Int>) {\n            if (queue.size == k) {\n                val list = queue.toList()\n                res.add(list)\n                return\n            }\n            for (i in start..(n - k + queue.size + 1)) {\n                    queue.add(i)\n                    DFS(i + 1, queue)\n                    queue.removeLast()\n                }\n        }\n        DFS( 1, ArrayDeque())\n        return res\n    }\n}\n```","slug":"combine","published":1,"updated":"2020-03-08T03:18:53.612Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0y008vqr3ldrfjpirk"},{"title":"Count Numbers with Unique Digits","date":"2020-03-22T16:00:00.000Z","description":"计算各个位数不同的数字个数","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/count-numbers-with-unique-digits/\n\n## Solution\n\nEmmm，想了半天，这不是回溯题呀。LT 的分类真的烂。计算出出所有位数都不相等的数字的个数，假设有一个 n 位的数字，我们已经知道前 n - 1位的不相等的数字个数，那么n 位unique数字 dp[n] = dp[n- 1] + (dp[n - 1] - dp[n - 2]) * (10 - (n - 1))\n\ndp[n-1] : 前面 n-1 位 unique 的数目\n\n (dp[n - 1] - dp[n - 2]) * (10 - (n - 1)) : 第n 位相对于 n-1 位上的增加的 unique 数量\n\ndp[n-1]-dp[n-2]：指的是第n-1位较n-2 位多出来的unique数字。以n=3为例，n=2已经计算了0-99之间不重复的数字，需要求的是100-999之间unique的数字，只能用10-99之间unique的数去组成三位数，而不能使用0-9之间unique的数，因为一位数加一位数也组成不了3位数。而10-99之间unique的数等于dp[2]-dp[1]。\n\n10 - （n - 1）:10个数字中还剩下未选的数字\n\n## Code\n\n```kotlin\nclass Solution {\n    fun countNumbersWithUniqueDigits(n: Int): Int {\n        if (n == 0) {\n            return 1\n        }\n        val dp = IntArray(n + 1)\n        dp[0] = 1\n        dp[1] = 10\n        for (i in 2..n) {\n            dp[i] = dp[i - 1] + (dp[i - 1] - dp[i - 2]) * (10 - (i - 1))\n        }\n        return dp[n]\n    }\n}\n```","source":"_posts/countNumbersWithUniqueDigits.md","raw":"title:    Count Numbers with Unique Digits\ndate: 2020-3-23\ntags: [Leetcode,动态规划]\ncategories: algorithm\n\ndescription: 计算各个位数不同的数字个数\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/count-numbers-with-unique-digits/\n\n## Solution\n\nEmmm，想了半天，这不是回溯题呀。LT 的分类真的烂。计算出出所有位数都不相等的数字的个数，假设有一个 n 位的数字，我们已经知道前 n - 1位的不相等的数字个数，那么n 位unique数字 dp[n] = dp[n- 1] + (dp[n - 1] - dp[n - 2]) * (10 - (n - 1))\n\ndp[n-1] : 前面 n-1 位 unique 的数目\n\n (dp[n - 1] - dp[n - 2]) * (10 - (n - 1)) : 第n 位相对于 n-1 位上的增加的 unique 数量\n\ndp[n-1]-dp[n-2]：指的是第n-1位较n-2 位多出来的unique数字。以n=3为例，n=2已经计算了0-99之间不重复的数字，需要求的是100-999之间unique的数字，只能用10-99之间unique的数去组成三位数，而不能使用0-9之间unique的数，因为一位数加一位数也组成不了3位数。而10-99之间unique的数等于dp[2]-dp[1]。\n\n10 - （n - 1）:10个数字中还剩下未选的数字\n\n## Code\n\n```kotlin\nclass Solution {\n    fun countNumbersWithUniqueDigits(n: Int): Int {\n        if (n == 0) {\n            return 1\n        }\n        val dp = IntArray(n + 1)\n        dp[0] = 1\n        dp[1] = 10\n        for (i in 2..n) {\n            dp[i] = dp[i - 1] + (dp[i - 1] - dp[i - 2]) * (10 - (i - 1))\n        }\n        return dp[n]\n    }\n}\n```","slug":"countNumbersWithUniqueDigits","published":1,"updated":"2020-03-23T00:52:10.845Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay0z008yqr3lkj3eekw6"},{"title":"Beautiful Arrangement II","date":"2020-03-24T16:00:00.000Z","description":"排列题目","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/beautiful-arrangement-ii/\n\n## Solution\n\n我以为自己在做回溯题，没想竟然是道数学题。。。\n\n参考： https://leetcode-cn.com/problems/beautiful-arrangement-ii/solution/java-bu-duan-fan-zhuan-zai-tong-guo-guan-cha-zhi-j/\n\n可以观察得出规律：前 K 个数字 偶数下标是从 1 递增，奇数下标从 n 递减。 从 K 个数字开始，根据 K的奇偶进行递增亦或递减。\n\n## Code\n\n```java\nclass Solution {\n \n    fun constructArray(n: Int, k: Int): IntArray {\n        val res = IntArray(n)\n        var odd = 1\n        var even = n\n        for (i in 0 until k) {\n            if (i and 1 == 1) {\n                res[i] = even--\n            } else {\n                res[i] = odd++\n            }\n        }\n        if (k and 1 == 1) {\n            for (i in k until n) {\n                res[i] = res[i - 1] + 1\n            }\n        } else {\n            for (i in k until n) {\n                res[i] = res[i - 1] - 1\n            }\n        }\n        return res\n    }\n}\n```","source":"_posts/constructArray.md","raw":"title:   Beautiful Arrangement II\ndate: 2020-3-25\ntags: [Leetcode,数学]\ncategories: algorithm\n\ndescription: 排列题目\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/beautiful-arrangement-ii/\n\n## Solution\n\n我以为自己在做回溯题，没想竟然是道数学题。。。\n\n参考： https://leetcode-cn.com/problems/beautiful-arrangement-ii/solution/java-bu-duan-fan-zhuan-zai-tong-guo-guan-cha-zhi-j/\n\n可以观察得出规律：前 K 个数字 偶数下标是从 1 递增，奇数下标从 n 递减。 从 K 个数字开始，根据 K的奇偶进行递增亦或递减。\n\n## Code\n\n```java\nclass Solution {\n \n    fun constructArray(n: Int, k: Int): IntArray {\n        val res = IntArray(n)\n        var odd = 1\n        var even = n\n        for (i in 0 until k) {\n            if (i and 1 == 1) {\n                res[i] = even--\n            } else {\n                res[i] = odd++\n            }\n        }\n        if (k and 1 == 1) {\n            for (i in k until n) {\n                res[i] = res[i - 1] + 1\n            }\n        } else {\n            for (i in k until n) {\n                res[i] = res[i - 1] - 1\n            }\n        }\n        return res\n    }\n}\n```","slug":"constructArray","published":1,"updated":"2020-03-25T12:20:29.319Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay100091qr3lmdzyo9ty"},{"title":"Combination Sum II","date":"2020-03-03T16:00:00.000Z","description":"组合总和II","_content":"\n## Problem description\n\n## https://leetcode-cn.com/problems/combination-sum-ii/submissions/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/combination-sum-ii/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-3/\n\n和上一道题类似，自己一开始在上一步删除了第二次的 DFS，将第一次的 DFS 操作改为DFS(cur + 1, sum + candidates[cur], lists)，以为这样就可以 O了，candidates = [10,1,2,7,6,1,5], target = 8,。但是这个结果却出现了重复的元素，debug 时发现原来是1 重复出现了。咦， 怎样规避这个重复出现的 1 呢？我想想哈。数组是排过序的，那么重复的元素必然是聚集在一块的，加个 if (cur > 0 && candidates[cur] == candidates[cur - 1]) return；但这么一加竟然 结果集都为空了。想想也是哈，毕竟我们是进行深搜，如果中间有重复的后面的元素就会得不到遍历了。那还有没其他办法可以解决重复时跳过但不影响遍历后续元素呢。用循环的 `continue`可以做到。\n\n在for 循环体内进行剪枝，判断 sum + 当前值是否大于target，大于就进行 return；  如果 (i > start && candidates[i] == candidates[i - 1]) 是的话我们进行 continue; 对于这个判断也可以从递归树去进行理解。将当前DFS 方法体内的循环体重从 i..length 的节点看为兄弟节点，如果在同一层上出现了重复节点必然会出现重复路径。想想哈，直观感受就是\n\n```java\n[1,2,2,5]\n      1\n    /   \\\n   2    2\n /     /\n5    5  \n```\n\n此外需要注意的就是，for 循环外的两个 if 判断不能颠倒，颠倒了会出现漏解的情况，本题与上题中的if 判断是相反的，上一道题访问第 n.length - 1个元素时，先对自己再进行一次深搜，毕竟可以重复添加嘛，因为`下标没有加一`也保证了数组访问安全，而且不会出现漏解的情况；本题是访问第 n - 1个元素后，会将 n - 1下标的值加到 sum 里，`将下标加一后`再深搜一次，优先判断sum 值是否等于，等于就可以添加进res，不满足也会因为其下标达到 n 而直接返回不会出现越界情况。可以简单理解为之所以调整顺序是因为本次深搜时下标加一了。\n\n这道题 是基本回溯法的模板，通过 for 循环控制将所有元素选中，未选中的情况都包含其中，可以说不失为暴力法，但是我们通过剪枝减少了无谓访问，比如通过排序 + 当前 sum > target时，就没必要再往后面走下去了；同为兄弟节点时，出现重复节点时，可跳过这次遍历等剪枝办法。\n\n## Code\n\n```java\nimport java.util.*\n\nclass Solution {\n    fun combinationSum2(candidates: IntArray, target: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        Arrays.sort(candidates)\n        fun DFS(start: Int, sum: Int, lists: Deque<Int>) {\n            if (sum == target) {\n                val list = lists.toList()\n                res.add(list)\n                return\n            }\n            if (start == candidates.size || sum > target) {\n                return\n            }\n            for (i in start until candidates.size) {\n                if (sum + candidates[start] > target) {\n                    break\n                }\n                if (i > start && candidates[i] == candidates[i - 1]) {\n                    continue\n                }\n                lists.add(candidates[i])\n                DFS(i + 1, sum + candidates[i], lists)\n                lists.removeLast()\n            }\n        }\n        DFS(0, 0, ArrayDeque())\n        return res\n    }\n}\n```","source":"_posts/combinationSum2.md","raw":"title:    Combination Sum II\ndate: 2020-3-4\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 组合总和II\n---\n\n## Problem description\n\n## https://leetcode-cn.com/problems/combination-sum-ii/submissions/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/combination-sum-ii/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-3/\n\n和上一道题类似，自己一开始在上一步删除了第二次的 DFS，将第一次的 DFS 操作改为DFS(cur + 1, sum + candidates[cur], lists)，以为这样就可以 O了，candidates = [10,1,2,7,6,1,5], target = 8,。但是这个结果却出现了重复的元素，debug 时发现原来是1 重复出现了。咦， 怎样规避这个重复出现的 1 呢？我想想哈。数组是排过序的，那么重复的元素必然是聚集在一块的，加个 if (cur > 0 && candidates[cur] == candidates[cur - 1]) return；但这么一加竟然 结果集都为空了。想想也是哈，毕竟我们是进行深搜，如果中间有重复的后面的元素就会得不到遍历了。那还有没其他办法可以解决重复时跳过但不影响遍历后续元素呢。用循环的 `continue`可以做到。\n\n在for 循环体内进行剪枝，判断 sum + 当前值是否大于target，大于就进行 return；  如果 (i > start && candidates[i] == candidates[i - 1]) 是的话我们进行 continue; 对于这个判断也可以从递归树去进行理解。将当前DFS 方法体内的循环体重从 i..length 的节点看为兄弟节点，如果在同一层上出现了重复节点必然会出现重复路径。想想哈，直观感受就是\n\n```java\n[1,2,2,5]\n      1\n    /   \\\n   2    2\n /     /\n5    5  \n```\n\n此外需要注意的就是，for 循环外的两个 if 判断不能颠倒，颠倒了会出现漏解的情况，本题与上题中的if 判断是相反的，上一道题访问第 n.length - 1个元素时，先对自己再进行一次深搜，毕竟可以重复添加嘛，因为`下标没有加一`也保证了数组访问安全，而且不会出现漏解的情况；本题是访问第 n - 1个元素后，会将 n - 1下标的值加到 sum 里，`将下标加一后`再深搜一次，优先判断sum 值是否等于，等于就可以添加进res，不满足也会因为其下标达到 n 而直接返回不会出现越界情况。可以简单理解为之所以调整顺序是因为本次深搜时下标加一了。\n\n这道题 是基本回溯法的模板，通过 for 循环控制将所有元素选中，未选中的情况都包含其中，可以说不失为暴力法，但是我们通过剪枝减少了无谓访问，比如通过排序 + 当前 sum > target时，就没必要再往后面走下去了；同为兄弟节点时，出现重复节点时，可跳过这次遍历等剪枝办法。\n\n## Code\n\n```java\nimport java.util.*\n\nclass Solution {\n    fun combinationSum2(candidates: IntArray, target: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        Arrays.sort(candidates)\n        fun DFS(start: Int, sum: Int, lists: Deque<Int>) {\n            if (sum == target) {\n                val list = lists.toList()\n                res.add(list)\n                return\n            }\n            if (start == candidates.size || sum > target) {\n                return\n            }\n            for (i in start until candidates.size) {\n                if (sum + candidates[start] > target) {\n                    break\n                }\n                if (i > start && candidates[i] == candidates[i - 1]) {\n                    continue\n                }\n                lists.add(candidates[i])\n                DFS(i + 1, sum + candidates[i], lists)\n                lists.removeLast()\n            }\n        }\n        DFS(0, 0, ArrayDeque())\n        return res\n    }\n}\n```","slug":"combinationSum2","published":1,"updated":"2020-03-04T03:46:03.371Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay110095qr3labz5tdc5"},{"title":"Beautiful Arrangement","date":"2020-03-23T16:00:00.000Z","description":"排列题目","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/beautiful-arrangement/\n\n## Solution\n\n和之前的[全排列ii](https://nightxlt.github.io/2020/03/02/permuteUnique/) 类似，在全排列的基础上加了一个判断条件进行剪枝，不过自己在这里面考虑是有误的，自己当时想的是交换后两边都必须满足约束整除条件方可放置，但这样致使了漏解的情况，在 N=6时，Output = 34，正确答案是 36.  其实并不需要交换后的两个位置都满足条件，只需要交换后的头部元素满足条件即可，剩余元素如果不满足可以放到后面去进行逐步交换调整。故只需要判断交换过来的 nums[i]满足整除条件即可。\n\n## Code\n\n```java\nclass Solution {\n    \n    var count = 0\n\n    fun countArrangement(N: Int): Int {\n        if (N <= 0) {\n            return -1\n        }\n        permute(IntArray(N) { it + 1 })\n        return count\n    }\n\n    fun permute(nums: IntArray): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        DFS(nums, 0, res)\n        return res\n    }\n\n    private fun swap(nums: IntArray, m: Int, n: Int) {\n        if (m == n) {//自己和自己交换个鬼呀\n            return\n        }\n        nums[m] = nums[m] xor nums[n]\n        nums[n] = nums[m] xor nums[n]\n        nums[m] = nums[m] xor nums[n]\n    }\n\n    fun DFS(nums: IntArray, start: Int, lists: MutableList<List<Int>>) {\n        if (start == nums.size) {\n            count++\n            return\n        }\n        for (i in start until nums.size) {\n            if (isSwap(nums[start], i) && isSwap(nums[i], start)) {\n                swap(nums, start, i)\n                DFS(nums, start + 1, lists)\n                swap(nums, start, i)\n            }\n        }\n    }\n\n    fun isSwap(num: Int, index: Int): Boolean {\n        return num % (index + 1) == 0 || (index + 1) % num == 0\n    }\n}\n```","source":"_posts/countArrangement.md","raw":"title:   Beautiful Arrangement\ndate: 2020-3-24\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 排列题目\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/beautiful-arrangement/\n\n## Solution\n\n和之前的[全排列ii](https://nightxlt.github.io/2020/03/02/permuteUnique/) 类似，在全排列的基础上加了一个判断条件进行剪枝，不过自己在这里面考虑是有误的，自己当时想的是交换后两边都必须满足约束整除条件方可放置，但这样致使了漏解的情况，在 N=6时，Output = 34，正确答案是 36.  其实并不需要交换后的两个位置都满足条件，只需要交换后的头部元素满足条件即可，剩余元素如果不满足可以放到后面去进行逐步交换调整。故只需要判断交换过来的 nums[i]满足整除条件即可。\n\n## Code\n\n```java\nclass Solution {\n    \n    var count = 0\n\n    fun countArrangement(N: Int): Int {\n        if (N <= 0) {\n            return -1\n        }\n        permute(IntArray(N) { it + 1 })\n        return count\n    }\n\n    fun permute(nums: IntArray): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        DFS(nums, 0, res)\n        return res\n    }\n\n    private fun swap(nums: IntArray, m: Int, n: Int) {\n        if (m == n) {//自己和自己交换个鬼呀\n            return\n        }\n        nums[m] = nums[m] xor nums[n]\n        nums[n] = nums[m] xor nums[n]\n        nums[m] = nums[m] xor nums[n]\n    }\n\n    fun DFS(nums: IntArray, start: Int, lists: MutableList<List<Int>>) {\n        if (start == nums.size) {\n            count++\n            return\n        }\n        for (i in start until nums.size) {\n            if (isSwap(nums[start], i) && isSwap(nums[i], start)) {\n                swap(nums, start, i)\n                DFS(nums, start + 1, lists)\n                swap(nums, start, i)\n            }\n        }\n    }\n\n    fun isSwap(num: Int, index: Int): Boolean {\n        return num % (index + 1) == 0 || (index + 1) % num == 0\n    }\n}\n```","slug":"countArrangement","published":1,"updated":"2020-03-24T00:13:58.093Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay130098qr3lfjfclmfu"},{"title":"Number of Valid Words for Each Puzzle","date":"2020-02-25T16:00:00.000Z","description":"猜字谜","_content":"\n## Problem description\n\n## https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/\n\n## Solution\n\n参考https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/solution/wei-yun-suan-mapying-she-by-jameywoo/\n\n题目中word 匹配 puzzle 需满足两个条件。\n\n1. word 的首字母必在 puzzle 字符串内\n2. word 的所有字母必在 puzzle 字符串内，即 word 是 puzzle 的`子集`\n\n直观的解法直接暴力解决，时间复杂度达到 $10^9$\n\n> 模式串：aaabbbbcccc 的模式串为 abc.即 unique string\n\n思考出 通过位运算 提取出 word 和 puzzle 中的模式串进行比较但是脑海中 比较时的遍历是不可避免。\n\n咦，我们除了将 puzzle 和 word 进行一一比较外有没其他办法比较得出满足条件的word 呢？ \n\n题目 中有留下puzzles[i].length == 7这个点，这 意味着 puzzle 的子集最大为 $2^7$, 题解中紧扣子集这一点，既然 word 是 puzzle 的子集（字符串），那 word 的模式串必是 puzzle 模式串的子集。找出 puzzle 的子集后，如果该子集包含 puzzle 的首字母，就根据映射关系 取出 该子集对应 word中出现的次数 进行累加。这里的映射关系通过 map建立。\n\n此外最后最为 tricky 的一点即怎么寻找 puzzle 的子集，题解中的做法神乎其神。\n\n```\nfor (int j = k; j; j = (j - 1)&k) {}\n```\n\nk 为模式串， 当 j > 0时表明还有子集，通过 j = (j - 1) & 初始值 k 逐个求出子集 j。\n\n如 abc，对应二进制模式串k = 111， j = 111, 110,  101, 100, 011, 010, 001, 000. 这样就将模式串的所有子串找到了。我们知道 j & j-1 会将 j 最右侧的 1 置为 0，而 j-1 & k 会逐个求出k 的子集。因为每次减一的过程，势必会在原有的基础上产生 1 的变动，但需要保证是 k 的子集故通过& k 进行保证。只能感叹，大佬 666 啊。\t更加灵活的是可以应用在求数组元素的子集，令数组下标作为 k 值 = 111...111,1表示选中该数组下标对应的元素，每次减一进行遍历，直至 k == 0, 因此 每次我们需要遍历 k 中的二进制 1 的位置选取对应数组元素，求数组元素子集问题的时间复杂度为 $O(n * 2^n)$\n\n时间复杂度：$O(words.length⋅words[i].length+puzzles.length()) = O(5 * 10^6)$\n\n空间复杂度：要额外的空间存放哈希表以及答案数组， $O(words.length+puzzles.length) = O(10^5)$\n\n## Code\n\n```java\nclass Solution {\n    fun findNumOfValidWords(words: Array<String>, puzzles: Array<String>): List<Int> {\n        val map = HashMap<Int, Int>()\n        words.forEach { s ->\n            var flag = 0\n            s.forEach {\n                flag = flag or (1 shl (it - 'a'))\n            }\n            map[flag] = map.getOrDefault(flag, 0) + 1\n        }\n        val list = mutableListOf<Int>()\n        puzzles.forEach { s ->\n            var flag = 0\n            list.add(0)\n            s.forEach {\n                flag = flag or (1 shl (it - 'a'))\n            }\n            var i = flag\n            while (i > 0) {\n                if (i and (1 shl (s[0] - 'a')) != 0) {\n                    list[list.lastIndex] += map.getOrDefault(i, 0)\n                }\n                i = (i - 1) and flag\n            }\n        }\n        return list\n    }\n}\n```","source":"_posts/findNumOfValidWords.md","raw":"title:   Number of Valid Words for Each Puzzle\ndate: 2020-2-26\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 猜字谜\n---\n\n## Problem description\n\n## https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/\n\n## Solution\n\n参考https://leetcode-cn.com/problems/number-of-valid-words-for-each-puzzle/solution/wei-yun-suan-mapying-she-by-jameywoo/\n\n题目中word 匹配 puzzle 需满足两个条件。\n\n1. word 的首字母必在 puzzle 字符串内\n2. word 的所有字母必在 puzzle 字符串内，即 word 是 puzzle 的`子集`\n\n直观的解法直接暴力解决，时间复杂度达到 $10^9$\n\n> 模式串：aaabbbbcccc 的模式串为 abc.即 unique string\n\n思考出 通过位运算 提取出 word 和 puzzle 中的模式串进行比较但是脑海中 比较时的遍历是不可避免。\n\n咦，我们除了将 puzzle 和 word 进行一一比较外有没其他办法比较得出满足条件的word 呢？ \n\n题目 中有留下puzzles[i].length == 7这个点，这 意味着 puzzle 的子集最大为 $2^7$, 题解中紧扣子集这一点，既然 word 是 puzzle 的子集（字符串），那 word 的模式串必是 puzzle 模式串的子集。找出 puzzle 的子集后，如果该子集包含 puzzle 的首字母，就根据映射关系 取出 该子集对应 word中出现的次数 进行累加。这里的映射关系通过 map建立。\n\n此外最后最为 tricky 的一点即怎么寻找 puzzle 的子集，题解中的做法神乎其神。\n\n```\nfor (int j = k; j; j = (j - 1)&k) {}\n```\n\nk 为模式串， 当 j > 0时表明还有子集，通过 j = (j - 1) & 初始值 k 逐个求出子集 j。\n\n如 abc，对应二进制模式串k = 111， j = 111, 110,  101, 100, 011, 010, 001, 000. 这样就将模式串的所有子串找到了。我们知道 j & j-1 会将 j 最右侧的 1 置为 0，而 j-1 & k 会逐个求出k 的子集。因为每次减一的过程，势必会在原有的基础上产生 1 的变动，但需要保证是 k 的子集故通过& k 进行保证。只能感叹，大佬 666 啊。\t更加灵活的是可以应用在求数组元素的子集，令数组下标作为 k 值 = 111...111,1表示选中该数组下标对应的元素，每次减一进行遍历，直至 k == 0, 因此 每次我们需要遍历 k 中的二进制 1 的位置选取对应数组元素，求数组元素子集问题的时间复杂度为 $O(n * 2^n)$\n\n时间复杂度：$O(words.length⋅words[i].length+puzzles.length()) = O(5 * 10^6)$\n\n空间复杂度：要额外的空间存放哈希表以及答案数组， $O(words.length+puzzles.length) = O(10^5)$\n\n## Code\n\n```java\nclass Solution {\n    fun findNumOfValidWords(words: Array<String>, puzzles: Array<String>): List<Int> {\n        val map = HashMap<Int, Int>()\n        words.forEach { s ->\n            var flag = 0\n            s.forEach {\n                flag = flag or (1 shl (it - 'a'))\n            }\n            map[flag] = map.getOrDefault(flag, 0) + 1\n        }\n        val list = mutableListOf<Int>()\n        puzzles.forEach { s ->\n            var flag = 0\n            list.add(0)\n            s.forEach {\n                flag = flag or (1 shl (it - 'a'))\n            }\n            var i = flag\n            while (i > 0) {\n                if (i and (1 shl (s[0] - 'a')) != 0) {\n                    list[list.lastIndex] += map.getOrDefault(i, 0)\n                }\n                i = (i - 1) and flag\n            }\n        }\n        return list\n    }\n}\n```","slug":"findNumOfValidWords","published":1,"updated":"2020-02-29T02:57:21.274Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay14009cqr3l5xthv823"},{"title":"Divide Two Integers","date":"2020-01-30T16:00:00.000Z","description":"不使用乘除，mod 运算来实现除法　","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/divide-two-integers/\n\n给定两个数，不能使用乘除法，mod 运算。只能使用 Int 进行存储。而且当为 Int.MIN_VALUE(- 2^31) / -1返回 Int.MAX_VALUE(2^31 - 1) \n\nReturn the quotient after dividing dividend by divisor.\n\nThe integer division should truncate toward zero.\n\nNote:\n\n- Both dividend and divisor will be 32-bit signed integers.\n- The divisor will never be 0.\n- Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [−2^31,  2^31 − 1]. For the purpose of this problem, assume that your function returns 2^31 − 1 when the division result overflows.\n\n\n## Solution\n\n不能使用乘除，mod求商。那只能使用位运算。位运算中左移右移会牵涉到*2操作。通过`二分法`进行迫近被除数，2^(n0 + n1 + n2 + n3+ ....) * divisor = dividend，我们需要做的就是逐一找到 n0, n1 等值。 比如 dividend = 10, divisor = 3可以拆为\n\n3 *（2^1 + 2^0）+ 余数 等于 10，约等于是因为我们求得是`商`。除数 * 商是可能小于被除数的。余数是满足 < divisor 的。\n\n我们先找到divisor * 2 ^n0,这个 n0是所有幂中最大的一个，其最接近于 dividend。比如 dividend = 10, divisor = 3。那n0 = 1。再让 dividend = 10 - 3 * 2 = 4，再找到新的 dividend 符合的n1.直至 divisor > dividend 终止，即余数小于除数。将找到的 n0，n1 等值计算得出 2的幂次方和返回。\n\n大致思路如上，具体有些边界处理的问题，比如Int 的最大值为 2^31 - 1, 进行左移时，会出现 2 ^31越界情况。故将其均转为负数统一处理。在转为负数后，原来大的数就变小了，5 > 3, -5 < -3. if 判断里牵涉到 dividend 和 diviso比较r都需要变大小与号。\n\n此外为了防止 divisor * 2^n0 < Int.MIN_VALUE溢出，需要加一层兜底。那这层兜底应该怎么加呢？ 难道是这么判断\n\nif (divisor shl 1 < Int.MIN_VALUE ) {}，非也，如果 divisor 快要溢出了，再左移一位就会变为正数。Int.MIN_VALUE左移一位为 0. 那何不将 Int.MIN_VALUE 变小一点再进行比较呢？如 if (divisor < Int.MIN_VALUE shr 1) {}。值得注意的是这里没有等于号没有等于号没有等于号。我们允许divisor * 2^n == dividend，但不能越界。\n\n此外在从 Int.MIN_VALUE 变号为正号时需要特殊处理。\n\n\n\n## Code\n\n```java\nclass Divide {\n    fun divide(dividend: Int, divisor: Int): Int {\n        if (divisor == 0) {\n            throw ArithmeticException(\"divide zero exception\")\n        }\n        val sign = (dividend > 0) xor (divisor > 0) //记录两个数是否同号\n        var dividend = dividend\n        var divisor = divisor\n        if (dividend > 0) {\n            dividend = -dividend\n        }\n        if (divisor > 0) {\n            divisor = -divisor\n        }\n        var count = 0\n        while (dividend <= divisor shl 1) {\n            if (divisor < Int.MIN_VALUE shr 1) {\n                break\n            }\n            count++\n            divisor = divisor.shl(1)\n\n        }\n        var res = 0\n        while (count >= 0) {\n            if (divisor >= dividend) {\n                res += (-1).shl(count)\n                dividend -= divisor\n            }\n            count--\n            divisor = divisor.shr(1)\n        }\n        if (sign) { //异号直接返回\n            return res\n        }\n        if (res <= Int.MIN_VALUE) { //同号 * -1前需要进行边界处理\n            return Int.MAX_VALUE\n        }\n        return -res\n    }\n}\n```","source":"_posts/dividend_with_bit.md","raw":"title:   Divide Two Integers\ndate: 2020-1-31\ntags: [Leetcode]\ncategories: algorithm\n\ndescription:  不使用乘除，mod 运算来实现除法　\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/divide-two-integers/\n\n给定两个数，不能使用乘除法，mod 运算。只能使用 Int 进行存储。而且当为 Int.MIN_VALUE(- 2^31) / -1返回 Int.MAX_VALUE(2^31 - 1) \n\nReturn the quotient after dividing dividend by divisor.\n\nThe integer division should truncate toward zero.\n\nNote:\n\n- Both dividend and divisor will be 32-bit signed integers.\n- The divisor will never be 0.\n- Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [−2^31,  2^31 − 1]. For the purpose of this problem, assume that your function returns 2^31 − 1 when the division result overflows.\n\n\n## Solution\n\n不能使用乘除，mod求商。那只能使用位运算。位运算中左移右移会牵涉到*2操作。通过`二分法`进行迫近被除数，2^(n0 + n1 + n2 + n3+ ....) * divisor = dividend，我们需要做的就是逐一找到 n0, n1 等值。 比如 dividend = 10, divisor = 3可以拆为\n\n3 *（2^1 + 2^0）+ 余数 等于 10，约等于是因为我们求得是`商`。除数 * 商是可能小于被除数的。余数是满足 < divisor 的。\n\n我们先找到divisor * 2 ^n0,这个 n0是所有幂中最大的一个，其最接近于 dividend。比如 dividend = 10, divisor = 3。那n0 = 1。再让 dividend = 10 - 3 * 2 = 4，再找到新的 dividend 符合的n1.直至 divisor > dividend 终止，即余数小于除数。将找到的 n0，n1 等值计算得出 2的幂次方和返回。\n\n大致思路如上，具体有些边界处理的问题，比如Int 的最大值为 2^31 - 1, 进行左移时，会出现 2 ^31越界情况。故将其均转为负数统一处理。在转为负数后，原来大的数就变小了，5 > 3, -5 < -3. if 判断里牵涉到 dividend 和 diviso比较r都需要变大小与号。\n\n此外为了防止 divisor * 2^n0 < Int.MIN_VALUE溢出，需要加一层兜底。那这层兜底应该怎么加呢？ 难道是这么判断\n\nif (divisor shl 1 < Int.MIN_VALUE ) {}，非也，如果 divisor 快要溢出了，再左移一位就会变为正数。Int.MIN_VALUE左移一位为 0. 那何不将 Int.MIN_VALUE 变小一点再进行比较呢？如 if (divisor < Int.MIN_VALUE shr 1) {}。值得注意的是这里没有等于号没有等于号没有等于号。我们允许divisor * 2^n == dividend，但不能越界。\n\n此外在从 Int.MIN_VALUE 变号为正号时需要特殊处理。\n\n\n\n## Code\n\n```java\nclass Divide {\n    fun divide(dividend: Int, divisor: Int): Int {\n        if (divisor == 0) {\n            throw ArithmeticException(\"divide zero exception\")\n        }\n        val sign = (dividend > 0) xor (divisor > 0) //记录两个数是否同号\n        var dividend = dividend\n        var divisor = divisor\n        if (dividend > 0) {\n            dividend = -dividend\n        }\n        if (divisor > 0) {\n            divisor = -divisor\n        }\n        var count = 0\n        while (dividend <= divisor shl 1) {\n            if (divisor < Int.MIN_VALUE shr 1) {\n                break\n            }\n            count++\n            divisor = divisor.shl(1)\n\n        }\n        var res = 0\n        while (count >= 0) {\n            if (divisor >= dividend) {\n                res += (-1).shl(count)\n                dividend -= divisor\n            }\n            count--\n            divisor = divisor.shr(1)\n        }\n        if (sign) { //异号直接返回\n            return res\n        }\n        if (res <= Int.MIN_VALUE) { //同号 * -1前需要进行边界处理\n            return Int.MAX_VALUE\n        }\n        return -res\n    }\n}\n```","slug":"dividend_with_bit","published":1,"updated":"2020-01-31T13:25:12.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay15009fqr3l4218fdmr"},{"title":"Combination Sum","date":"2020-03-02T16:00:00.000Z","description":"组合总和","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/combination-sum/\n\n## Solution\n\n题目中关键点：\n\n1. 每个数字可以被重复取\n2. 组合的和为指定值\n\n做回溯题，需要画出递归树进行分析，参考[该链接递归树](https://leetcode-cn.com/problems/combination-sum/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-2/).\n\n剪枝的情况\n\n1. 对数组进行排序，排序的目的是之后寻找时可以方便剪枝，当 sum+cur > target 时，后面比 cur 还大的数就不需要考虑了。\n2. 当 sum > target 时 或者遍历完数组时，sum < target， 就直接返回\n\n深搜有两种情况\n\n1. 包含自己，毕竟自己也可以重复添加进组合中\n2. 不包含自己，访问下一元素前需要将当前元素从 Deque 中去除。\n\n使用 Dequeue 便于移除队尾元素。\n\n## Code\n\n```java\nimport java.util.*\nclass Solution {\n    fun combinationSum(candidates: IntArray, target: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        Arrays.sort(candidates)\n        fun DFS(cur: Int, sum: Int, lists: Deque<Int>) {\n            if (cur == candidates.size || sum > target) {\n                return\n            }\n            if (sum == target) {\n                val list = lists.toList()\n                res.add(list)\n                return\n            }\n            if (sum + candidates[cur] > target) {\n                return\n            }\n            lists.add(candidates[cur])\n            DFS(cur, sum + candidates[cur], lists) //以 cur 为起始，再次深搜 cur\n            lists.removeLast()\n            DFS(cur + 1, sum, lists) //不添加 cur，深搜下一节点\n        }\n        DFS(0, 0, ArrayDeque())\n        return res\n    }\n}\n```","source":"_posts/combinationSum.md","raw":"title:    Combination Sum\ndate: 2020-3-3\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 组合总和\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/combination-sum/\n\n## Solution\n\n题目中关键点：\n\n1. 每个数字可以被重复取\n2. 组合的和为指定值\n\n做回溯题，需要画出递归树进行分析，参考[该链接递归树](https://leetcode-cn.com/problems/combination-sum/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-2/).\n\n剪枝的情况\n\n1. 对数组进行排序，排序的目的是之后寻找时可以方便剪枝，当 sum+cur > target 时，后面比 cur 还大的数就不需要考虑了。\n2. 当 sum > target 时 或者遍历完数组时，sum < target， 就直接返回\n\n深搜有两种情况\n\n1. 包含自己，毕竟自己也可以重复添加进组合中\n2. 不包含自己，访问下一元素前需要将当前元素从 Deque 中去除。\n\n使用 Dequeue 便于移除队尾元素。\n\n## Code\n\n```java\nimport java.util.*\nclass Solution {\n    fun combinationSum(candidates: IntArray, target: Int): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        Arrays.sort(candidates)\n        fun DFS(cur: Int, sum: Int, lists: Deque<Int>) {\n            if (cur == candidates.size || sum > target) {\n                return\n            }\n            if (sum == target) {\n                val list = lists.toList()\n                res.add(list)\n                return\n            }\n            if (sum + candidates[cur] > target) {\n                return\n            }\n            lists.add(candidates[cur])\n            DFS(cur, sum + candidates[cur], lists) //以 cur 为起始，再次深搜 cur\n            lists.removeLast()\n            DFS(cur + 1, sum, lists) //不添加 cur，深搜下一节点\n        }\n        DFS(0, 0, ArrayDeque())\n        return res\n    }\n}\n```","slug":"combinationSum","published":1,"updated":"2020-03-08T01:41:11.816Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay16009iqr3l8ptq61nk"},{"title":"Generate all combinations of well-formed parentheses.","date":"2019-01-24T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given n pairs of parentheses（括号）, write a function to generate all combinations of well-formed parentheses.\n ## Examples\n``` java\nExample 1:\nInput: 3\nOutput: \n[\n  \"((()))\",\n  \"(()())\",\n  \"(())()\",\n  \"()(())\",\n  \"()()()\"\n]\n```\n## Solution\n　　和Combinations of a Phone Number类似，都是用回溯法，不过具体运用有些差异。如需要左右指针确定添加左括号还是右括号。先添加左括号深搜下去，直至left == n(PS:左右括号数目均为n)，再回溯添加右括号。\n\n## Code\n\n```java\n class Solution {\n       public List<String> generateParenthesis(int n) {\n        List<String> strings = new ArrayList<>();\n        group(strings, \"\", 0, 0, n);\n        return strings;\n    }\n\n    public void group(List<String> strings, String str, int left, int right, int n) {\n        if (str.length() == n * 2) {\n            strings.add(str);\n        }\n        if (left < n) {\n            group(strings, str + '(', left + 1, right, n);\n        }\n        if (right < left) {\n            group(strings, str + ')', left, right + 1, n);\n        }\n    }\n}\n```","source":"_posts/generate all combinations of well-formed parentheses.md","raw":"title:  Generate all combinations of well-formed parentheses.\ndate: 2019-1-25\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given n pairs of parentheses（括号）, write a function to generate all combinations of well-formed parentheses.\n ## Examples\n``` java\nExample 1:\nInput: 3\nOutput: \n[\n  \"((()))\",\n  \"(()())\",\n  \"(())()\",\n  \"()(())\",\n  \"()()()\"\n]\n```\n## Solution\n　　和Combinations of a Phone Number类似，都是用回溯法，不过具体运用有些差异。如需要左右指针确定添加左括号还是右括号。先添加左括号深搜下去，直至left == n(PS:左右括号数目均为n)，再回溯添加右括号。\n\n## Code\n\n```java\n class Solution {\n       public List<String> generateParenthesis(int n) {\n        List<String> strings = new ArrayList<>();\n        group(strings, \"\", 0, 0, n);\n        return strings;\n    }\n\n    public void group(List<String> strings, String str, int left, int right, int n) {\n        if (str.length() == n * 2) {\n            strings.add(str);\n        }\n        if (left < n) {\n            group(strings, str + '(', left + 1, right, n);\n        }\n        if (right < left) {\n            group(strings, str + ')', left, right + 1, n);\n        }\n    }\n}\n```","slug":"generate all combinations of well-formed parentheses","published":1,"updated":"2020-02-13T07:16:09.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay17009lqr3llq9ppjzt"},{"title":"Number complement","date":"2020-02-14T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/number-complement/\n\n\n## Solution\n\n找补码，诶，看看异或得行不，5 ^ 7 = 2，为啥是 7 呢？因为 5：101,有三位需要取反嘛。既然是异或同样长度的 1，那先统计出 x 有多少位，再求出对应count全为 1的 y。异或即可。有没更好的办法呢？在求 x 的 count 时，可以求出对应长度的 全 1的 y 呢？是可以的，在 n 右移时，将 1不断左移，这样就可以得到 1 << count，再减个一就可以得到与 x 对应长度全一父数字了。\n\n## Code\n\n```java\nclass Solution1 {\n    fun findComplement(num: Int): Int {\n        var n = num\n        var count = 0\n        while (n != 0) {\n            n = n shr 1\n            count++\n        }\n        var x = 1\n        var y = 1\n        count--\n        while (count != 0) {\n            y = (x shl 1) + 1\n            x = y\n            count--\n        }\n        return num xor y\n    }\n}\n\nclass Solution2 {\n     fun findComplement(num: Int): Int {\n        var n = num\n        var t = 1\n        while (n != 0) {\n            n = n ushr 1\n            t = t shl 1\n        }\n        t--\n        return num xor t\n    }\n}\n```","source":"_posts/findComplement.md","raw":"title:   Number complement\ndate: 2020-2-15\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/number-complement/\n\n\n## Solution\n\n找补码，诶，看看异或得行不，5 ^ 7 = 2，为啥是 7 呢？因为 5：101,有三位需要取反嘛。既然是异或同样长度的 1，那先统计出 x 有多少位，再求出对应count全为 1的 y。异或即可。有没更好的办法呢？在求 x 的 count 时，可以求出对应长度的 全 1的 y 呢？是可以的，在 n 右移时，将 1不断左移，这样就可以得到 1 << count，再减个一就可以得到与 x 对应长度全一父数字了。\n\n## Code\n\n```java\nclass Solution1 {\n    fun findComplement(num: Int): Int {\n        var n = num\n        var count = 0\n        while (n != 0) {\n            n = n shr 1\n            count++\n        }\n        var x = 1\n        var y = 1\n        count--\n        while (count != 0) {\n            y = (x shl 1) + 1\n            x = y\n            count--\n        }\n        return num xor y\n    }\n}\n\nclass Solution2 {\n     fun findComplement(num: Int): Int {\n        var n = num\n        var t = 1\n        while (n != 0) {\n            n = n ushr 1\n            t = t shl 1\n        }\n        t--\n        return num xor t\n    }\n}\n```","slug":"findComplement","published":1,"updated":"2020-02-15T02:45:05.626Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay18009oqr3lr30di6aq"},{"title":"Additive Number","date":"2020-03-20T16:00:00.000Z","description":"累加数","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/additive-number/\n\n## Solution\n\n异常烦躁的看到这道题，大致思路是对的通过深搜 start..length, 判断前两项的和是否等于第三项，等于的话将 sum  + num3 作为前两项的和继续深搜，但是自己在细节处理的不够到位磕磕碰碰一直没有 ac。\n\n比如遍历时数组首两项时，是没有前两项和的，需要直接返回前两项的元素。\n\n从 num 从取子串出现 01，02这样的子串是非法的，而 0 是合法的。\n\n其中含有的测试 case 会出现超过 Long 的大数情况，需要自己实现大数加法\n\n## Code\n\n```kotlin\nclass Solution {\n    fun isAdditiveNumber(num: String): Boolean {\n        if (num.length < 3) {\n            return false\n        }\n        return dfs(num, \"0\", \"0\", 0, 0)\n    }\n\n    fun dfs(num: String, preSum: String, preNum: String, start: Int, k: Int): Boolean {\n        if (k > 2 && start >= num.length) {\n            return true\n        }\n        var len = 1\n        while (len + start <= num.length) {\n            val sum = isSum(num, start, start + len, preSum, k)\n            if (sum != \"-1\") {\n                if (dfs(num, add(sum, preNum), sum, start + len, k + 1)) return true\n            }\n            len++\n        }\n        return false\n    }\n\n    private fun isSum(num: String, start: Int, end: Int, preSum: String, k: Int): String {\n        if (num[start] == '0' && start < end - 1) return \"-1\"\n        val sum = num.substring(start, end)\n        if (k < 2) return sum\n        return if (preSum == sum)\n            sum\n        else\n            \"-1\"\n    }\n\n    //两个字符串相加\n    fun add(str1: String, str2: String): String {\n        var str2 = str2\n        if (str1.length < str2.length)\n            return add(str2, str1)\n\n        val size1 = str1.length\n        val size2 = str2.length\n        val sb = StringBuilder()\n        for (i in 0 until size1 - size2) {\n            sb.append('0')\n        }\n        str2 = sb.toString() + str2\n\n        val result = StringBuilder(str1)\n        var sgn = 0\n        for (i in size1 - 1 downTo 0) {\n            val num = str1[i] - '0' + str2[i].toInt() - '0'.toInt() + sgn\n            result.setCharAt(i, (num % 10 + '0'.toInt()).toChar())\n            sgn = num / 10\n        }\n        return if (sgn == 1) \"1$result\" else String(result)\n    }\n\n}\n```","source":"_posts/isAdditiveNumber.md","raw":"title:    Additive Number\ndate: 2020-3-21\ntags: [Leetcode,深搜]\ncategories: algorithm\n\ndescription: 累加数\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/additive-number/\n\n## Solution\n\n异常烦躁的看到这道题，大致思路是对的通过深搜 start..length, 判断前两项的和是否等于第三项，等于的话将 sum  + num3 作为前两项的和继续深搜，但是自己在细节处理的不够到位磕磕碰碰一直没有 ac。\n\n比如遍历时数组首两项时，是没有前两项和的，需要直接返回前两项的元素。\n\n从 num 从取子串出现 01，02这样的子串是非法的，而 0 是合法的。\n\n其中含有的测试 case 会出现超过 Long 的大数情况，需要自己实现大数加法\n\n## Code\n\n```kotlin\nclass Solution {\n    fun isAdditiveNumber(num: String): Boolean {\n        if (num.length < 3) {\n            return false\n        }\n        return dfs(num, \"0\", \"0\", 0, 0)\n    }\n\n    fun dfs(num: String, preSum: String, preNum: String, start: Int, k: Int): Boolean {\n        if (k > 2 && start >= num.length) {\n            return true\n        }\n        var len = 1\n        while (len + start <= num.length) {\n            val sum = isSum(num, start, start + len, preSum, k)\n            if (sum != \"-1\") {\n                if (dfs(num, add(sum, preNum), sum, start + len, k + 1)) return true\n            }\n            len++\n        }\n        return false\n    }\n\n    private fun isSum(num: String, start: Int, end: Int, preSum: String, k: Int): String {\n        if (num[start] == '0' && start < end - 1) return \"-1\"\n        val sum = num.substring(start, end)\n        if (k < 2) return sum\n        return if (preSum == sum)\n            sum\n        else\n            \"-1\"\n    }\n\n    //两个字符串相加\n    fun add(str1: String, str2: String): String {\n        var str2 = str2\n        if (str1.length < str2.length)\n            return add(str2, str1)\n\n        val size1 = str1.length\n        val size2 = str2.length\n        val sb = StringBuilder()\n        for (i in 0 until size1 - size2) {\n            sb.append('0')\n        }\n        str2 = sb.toString() + str2\n\n        val result = StringBuilder(str1)\n        var sgn = 0\n        for (i in size1 - 1 downTo 0) {\n            val num = str1[i] - '0' + str2[i].toInt() - '0'.toInt() + sgn\n            result.setCharAt(i, (num % 10 + '0'.toInt()).toChar())\n            sgn = num / 10\n        }\n        return if (sgn == 1) \"1$result\" else String(result)\n    }\n\n}\n```","slug":"isAdditiveNumber","published":1,"updated":"2020-03-22T00:47:15.574Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay19009rqr3lbyzmax09"},{"title":"Word Ladder II","date":"2020-03-16T16:00:00.000Z","description":"单词接龙 II","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-ladder-ii/\n\n## Solution\n\n给定两个单词，一个作为开始，一个作为结束，还有一个单词列表。然后依次选择单词，只有当前单词到下一个单词只有一个字母不同才能被选择，然后新的单词再作为当前单词，直到选到结束的单词。输出这个的最短路径，如果有多组，则都输出。\n\n一开始是想用回溯来做，深搜过程中判断当前单词和前一个单词和上个单词相差是否为 1，为 1 则进行深搜且回溯，最后将得到的结果集中筛选出最短路径。然而在一个 case 中发现了问题，如果 endWord 出现在中间的话而且 endWord 和之前的 word 相差会大于一就直接 continue 跳过，而后面又没有 endWord，这样会出现漏解的情况。问题出在按数组顺序进行深搜。那遍历完一个元素后应该怎么获取下一个元素进行深搜呢？有没什么办法找到所有和当前 word 相差一的多个 word呢？想想哈，暴力试试。遍历 26 个字母，将每个字母设置为当前word 中每个字母，然后判断设置后的 word 是否在 list 中存在。\n\nLike this, 这样找到他的邻居，也避免深搜中 endWord 在中间的 case。\n\n```kotlin\nprivate ArrayList<String> getNeighbors(String node, Set<String> dict) {\n    ArrayList<String> res = new ArrayList<String>();\n    char chs[] = node.toCharArray();\n\n    for (char ch = 'a'; ch <= 'z'; ch++) {\n        for (int i = 0; i < chs.length; i++) {\n            if (chs[i] == ch)\n                continue;\n            char old_ch = chs[i];\n            chs[i] = ch;\n            if (dict.contains(String.valueOf(chs))) {\n                res.add(String.valueOf(chs));\n            }\n            chs[i] = old_ch;\n        }\n\n    }\n```\n\n可是在数据量大时导致了超时。为什么呢。我在遍历时会遍历很多无谓的分支，比如出现比当前 res 中的 list.size 大时,就直接不需要再遍历下去了。我们可以用一个 min 值记录最小的 list.size。如果 path 超过这个长度时就直接不再遍历下去。满怀欣喜改后还是超时。\n\n![bfs 中重复节点](/images/ladder_bfs_redundance.jpg)\n\n为啥呢？遍历中在不同层会存在一样的节点abc，其实如果在第 K 层我们发现这个节点在第 1..k-1层出现过那该节点就不需要访问了。我们可以使用一个 visited 的 set记录 1..k-1层出现过的节点，访问每一层时使用 visited 进行判断是否出现过，同时将新出现过的节点加入到一个全新的 subVisited 中，在该层访问完后，再将 subVisited 加入到 visited 中。为什么需要多此一举，不直接加入到 visited呢？因为假设在某一层中我们找到了endWord ，如果直接添加进 visited 中，那么后续的同层节点如果也有 endWord，但因为 visited 中已经包含 endWord就会导致无法添加该 path，导致漏解。\n\n此外， 我们还是在寻找 min 时仍旧会遍历一些超长的路径，逐步找出最小的 min。那有没办法一步找出最小的 min 呢？而非逐步对 min 取 min(min, path.size)。 看了题解是用了尘封已久的 BFS，嗨呀，如果是 BFS 的话，就可以逐层遍历直至找到 endWord。\n\n![bfs 图解](/images/ladder_bfs.jpg)\n\n那就不需要用啥子 min 标识了，将 bfs 中queue 里面放path: 从 beginWord节点 到当前word节点前的路径如\n\n\"ab\",\"if\", {\"cd\",\"af\",\"ib\",\"if\"}；\n（1）第一层：[{\"ab\"}]\n（2）第二层：[{\"ab\",\"af\"}、{\"ab\",\"ib\"}]\n（3）第三层：[{\"ab\",\"af\",\"if\"}、{\"ab\",\"ib\",\"if\"}]\n\n遍历 queue，逐个取出同层中的所有 path，再从path 中取出最后一个 word：上层遍历的 word，找出它的邻居，找出其他符合条件的 word 添加进入 一个新的 path 中。这里的条件指的是wordList 中包含该 word 以及visited 中不包含 word。如果找到了 endWord，将 isTraversalEnd 置为 true，将 path 添加进 res 中，然后继续遍历完同层元素即可终止遍历。\n\n因此终止条件应该写为\n\n```kotlin\nwhile(queue.isNotEmpty() && !isTraversalEnd)\n```\n\n其中 chars.indics 指的是数组的IntRange, 即 0..size - 1\n\n时间复杂度：$O(k^d)$, 每个节点至多有 k 个邻居节点，树高至多为 d\n\n空间复杂度：$O(N)$, N: 节点个数\n\n## Code\n\n```kotlin\nimport java.util.*\nimport kotlin.collections.HashSet\n\nclass Solution {\n    fun findLadders(beginWord: String, endWord: String, wordList: List<String>): List<List<String>> {\n        val dict = HashSet(wordList)\n        val res:  MutableList<List<String>> = mutableListOf()\n        if (!dict.contains(endWord)) { //确保能够找到 endWord,否则会死循环\n            return res\n        }\n\n        val queue = ArrayDeque<MutableList<String>>()\n        queue.add(mutableListOf(beginWord)) //存放每层路径\n        val visited = HashSet<String>() //存储 1..k-1层访问过的word\n        visited.add(beginWord)\n        var isTraversalEnd = false //是否找到 endWord\n        while (!queue.isEmpty() && !isTraversalEnd) {\n            val subVisited = HashSet<String>() //记录 k 层访问的 word\n            val size = queue.size\n            repeat(size) {\n                val path = queue.poll() //获取到之前的 path\n                val previousWord = path[path.size - 1] //获取上一层的 word\n                val chars = previousWord.toCharArray() \n                for (i in chars.indices) { //取出每个字符进行暴力遍历\n                    val temp = chars[i] \n                    for (c in 'a'..'z') {\n                        if (c == temp) { //如果 temp 和之前的一致就不需要遍历了，因为其已经在集合中了。\n                            continue\n                        }\n                        chars[i] = c //暴力寻chars 的 neighbor\n                        val nextWord = String(chars)\n                        if (!dict.contains(nextWord) || visited.contains(nextWord)) {\n                            continue\n                        }\n                        val newPath = path.toMutableList() //防止出现集合引用导致出现重复的情况，list 引用问题\n                        newPath.add(nextWord)\n                        if (nextWord == endWord) { //不能直接 return，同层需要遍历完毕\n                            res.add(newPath)\n                            isTraversalEnd = true\n                        }\n                        queue.add(newPath)\n                        subVisited.add(nextWord)\n                    }\n                    chars[i] = temp //暴力遍历完后恢复 chars 的第 i 个字符\n                }\n            }\n            visited.addAll(subVisited) //将 k 访问的 word 添加到 1..k-1层中的 visited 中\n        }\n        return res\n    }\n\n}\n```\n\n## Solution 2\n\n第二种解法是使用的是双向 BFS + DFS. 通过双向 BFS记录每个节点的邻居节点。DFS 根据记录下的邻居进行深搜找到最短路径。\n\n![double bfs 图解](/images/double_bfs.jpg)\n\n双向 bfs 指的是在 BFS 过程中，会先后从不同方向进行 BFS，即从上至下、从下至上;当两个方向节点产生共同节点时，就产生了最短路径。 使用两个集合begin,end记录两个方向访问过的节点，每次从节点数少的集合进行遍历。当begin 节点数目为空时，表明不存在公共节点，直接返回 false。\n\n时间复杂度：$O(k^{\\frac{d}{2}})$, 双向遍历降低了一半树高，每个节点至多有 k 个邻居节点，树高至多为 d\n\n空间复杂度：$O(N)$ N: 节点个数\n\n## Code\n\n```kotlin\nimport java.util.*\nimport kotlin.collections.HashSet\n\nclass Solution {\n    fun findLadders(beginWord: String, endWord: String, wordList: List<String>): List<List<String>> {\n        val dict = HashSet(wordList) //未访问过的节点集合\n        val res: MutableList<List<String>> = mutableListOf()\n        if (!dict.contains(endWord)) {\n            return res\n        }\n        val begin = HashSet<String>()\n        begin.add(beginWord) //从上之下集合\n        val end = HashSet<String>()\n        end.add(endWord) //从下至上集合\n        val map = HashMap<String, MutableList<String>>() //存储每个节点的邻居节点\n        if (doubleBfs(dict, begin, end, map, true)) {\n            dfs(map, res, beginWord, endWord, ArrayDeque())\n        }\n        return res\n    }\n\n    private fun dfs(map: HashMap<String, MutableList<String>>, res: MutableList<List<String>>, beginWord: String, endWord: String, queue: ArrayDeque<String>) {\n        queue.add(beginWord) //beginWord 可能不在集合中，需要单独添加\n        if (beginWord == endWord) {\n            res.add(queue.toList())\n            queue.removeLast()\n            return\n        }\n        if (map.containsKey(beginWord)) {\n            map[beginWord]?.forEach {\n                dfs(map, res, it, endWord, queue)\n            }\n        }\n        queue.removeLast()\n    }\n\n    fun doubleBfs(dict: HashSet<String>, begin: Set<String>, end: Set<String>, map: HashMap<String, MutableList<String>>, isTopDown: Boolean): Boolean { //寻找每个节点的邻居节点\n        if (begin.isEmpty()) { //当一个方向节点数为空仍未找到 中间联通节点时，返回 false\n            return false\n        }\n        if (begin.size > end.size) { // 选取节点数小的方向进行遍历\n            return doubleBfs(dict, end, begin, map, !isTopDown)\n        }\n        dict.removeAll(begin)\n        dict.removeAll(end) //去除已访问节点\n        var isTraversalEnd = false //是否遍历结束\n        val visited = HashSet<String>() //记录本层新增节点（未在 begin 和 end 中出现过）\n        for (word in begin) {\n            val chars = word.toCharArray()\n            for (i in chars.indics) {\n                val temp = chars[i]\n                for (c in 'a'..'z') { //暴力枚举可能的邻居节点\n                    if (c == temp) {\n                        continue\n                    }\n                    chars[i] = c\n                    val neighborWord = String(chars)\n                    val key = if (isTopDown) word else neighborWord //根据访问顺序确定 key,value.确保 key 是从上之下方向中的上面，而value 是下面。\n                    val value = if (isTopDown) neighborWord else word\n                    val neighborWords = map.getOrDefault(key, mutableListOf())\n\n                    if (end.contains(neighborWord)) { //如果有公共节点，遍历完本层即可结束遍历。值得注意的是，后续本层中的公共节点还是可以进入这个 if 循环进行添加\n                        isTraversalEnd = true\n                        neighborWords.add(value)\n                        map[key] = neighborWords\n                    }\n                    if (isTraversalEnd || !dict.contains(neighborWord)) { //如果找到了目标节点或者dict 中不包含该邻居节点，跳过本次循环\n                        continue\n                    }\n                    visited.add(neighborWord)\n                    neighborWords.add(value)\n                    map[key] = neighborWords\n                }\n                chars[i] = temp\n            }\n        }\n        return isTraversalEnd || doubleBfs(dict, visited, end, map, isTopDown) //使用短路或进行判断是否找到公共节点，找到就直接返回，否则继续以本层新增加的节点作为下层的 begin 继续深搜\n    }\n}\n```\n\n\n\n\n\n","source":"_posts/findeLadder.md","raw":"title:     Word Ladder II\ndate: 2020-3-17\ntags: [Leetcode,BFS]\ncategories: algorithm\n\ndescription: 单词接龙 II\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-ladder-ii/\n\n## Solution\n\n给定两个单词，一个作为开始，一个作为结束，还有一个单词列表。然后依次选择单词，只有当前单词到下一个单词只有一个字母不同才能被选择，然后新的单词再作为当前单词，直到选到结束的单词。输出这个的最短路径，如果有多组，则都输出。\n\n一开始是想用回溯来做，深搜过程中判断当前单词和前一个单词和上个单词相差是否为 1，为 1 则进行深搜且回溯，最后将得到的结果集中筛选出最短路径。然而在一个 case 中发现了问题，如果 endWord 出现在中间的话而且 endWord 和之前的 word 相差会大于一就直接 continue 跳过，而后面又没有 endWord，这样会出现漏解的情况。问题出在按数组顺序进行深搜。那遍历完一个元素后应该怎么获取下一个元素进行深搜呢？有没什么办法找到所有和当前 word 相差一的多个 word呢？想想哈，暴力试试。遍历 26 个字母，将每个字母设置为当前word 中每个字母，然后判断设置后的 word 是否在 list 中存在。\n\nLike this, 这样找到他的邻居，也避免深搜中 endWord 在中间的 case。\n\n```kotlin\nprivate ArrayList<String> getNeighbors(String node, Set<String> dict) {\n    ArrayList<String> res = new ArrayList<String>();\n    char chs[] = node.toCharArray();\n\n    for (char ch = 'a'; ch <= 'z'; ch++) {\n        for (int i = 0; i < chs.length; i++) {\n            if (chs[i] == ch)\n                continue;\n            char old_ch = chs[i];\n            chs[i] = ch;\n            if (dict.contains(String.valueOf(chs))) {\n                res.add(String.valueOf(chs));\n            }\n            chs[i] = old_ch;\n        }\n\n    }\n```\n\n可是在数据量大时导致了超时。为什么呢。我在遍历时会遍历很多无谓的分支，比如出现比当前 res 中的 list.size 大时,就直接不需要再遍历下去了。我们可以用一个 min 值记录最小的 list.size。如果 path 超过这个长度时就直接不再遍历下去。满怀欣喜改后还是超时。\n\n![bfs 中重复节点](/images/ladder_bfs_redundance.jpg)\n\n为啥呢？遍历中在不同层会存在一样的节点abc，其实如果在第 K 层我们发现这个节点在第 1..k-1层出现过那该节点就不需要访问了。我们可以使用一个 visited 的 set记录 1..k-1层出现过的节点，访问每一层时使用 visited 进行判断是否出现过，同时将新出现过的节点加入到一个全新的 subVisited 中，在该层访问完后，再将 subVisited 加入到 visited 中。为什么需要多此一举，不直接加入到 visited呢？因为假设在某一层中我们找到了endWord ，如果直接添加进 visited 中，那么后续的同层节点如果也有 endWord，但因为 visited 中已经包含 endWord就会导致无法添加该 path，导致漏解。\n\n此外， 我们还是在寻找 min 时仍旧会遍历一些超长的路径，逐步找出最小的 min。那有没办法一步找出最小的 min 呢？而非逐步对 min 取 min(min, path.size)。 看了题解是用了尘封已久的 BFS，嗨呀，如果是 BFS 的话，就可以逐层遍历直至找到 endWord。\n\n![bfs 图解](/images/ladder_bfs.jpg)\n\n那就不需要用啥子 min 标识了，将 bfs 中queue 里面放path: 从 beginWord节点 到当前word节点前的路径如\n\n\"ab\",\"if\", {\"cd\",\"af\",\"ib\",\"if\"}；\n（1）第一层：[{\"ab\"}]\n（2）第二层：[{\"ab\",\"af\"}、{\"ab\",\"ib\"}]\n（3）第三层：[{\"ab\",\"af\",\"if\"}、{\"ab\",\"ib\",\"if\"}]\n\n遍历 queue，逐个取出同层中的所有 path，再从path 中取出最后一个 word：上层遍历的 word，找出它的邻居，找出其他符合条件的 word 添加进入 一个新的 path 中。这里的条件指的是wordList 中包含该 word 以及visited 中不包含 word。如果找到了 endWord，将 isTraversalEnd 置为 true，将 path 添加进 res 中，然后继续遍历完同层元素即可终止遍历。\n\n因此终止条件应该写为\n\n```kotlin\nwhile(queue.isNotEmpty() && !isTraversalEnd)\n```\n\n其中 chars.indics 指的是数组的IntRange, 即 0..size - 1\n\n时间复杂度：$O(k^d)$, 每个节点至多有 k 个邻居节点，树高至多为 d\n\n空间复杂度：$O(N)$, N: 节点个数\n\n## Code\n\n```kotlin\nimport java.util.*\nimport kotlin.collections.HashSet\n\nclass Solution {\n    fun findLadders(beginWord: String, endWord: String, wordList: List<String>): List<List<String>> {\n        val dict = HashSet(wordList)\n        val res:  MutableList<List<String>> = mutableListOf()\n        if (!dict.contains(endWord)) { //确保能够找到 endWord,否则会死循环\n            return res\n        }\n\n        val queue = ArrayDeque<MutableList<String>>()\n        queue.add(mutableListOf(beginWord)) //存放每层路径\n        val visited = HashSet<String>() //存储 1..k-1层访问过的word\n        visited.add(beginWord)\n        var isTraversalEnd = false //是否找到 endWord\n        while (!queue.isEmpty() && !isTraversalEnd) {\n            val subVisited = HashSet<String>() //记录 k 层访问的 word\n            val size = queue.size\n            repeat(size) {\n                val path = queue.poll() //获取到之前的 path\n                val previousWord = path[path.size - 1] //获取上一层的 word\n                val chars = previousWord.toCharArray() \n                for (i in chars.indices) { //取出每个字符进行暴力遍历\n                    val temp = chars[i] \n                    for (c in 'a'..'z') {\n                        if (c == temp) { //如果 temp 和之前的一致就不需要遍历了，因为其已经在集合中了。\n                            continue\n                        }\n                        chars[i] = c //暴力寻chars 的 neighbor\n                        val nextWord = String(chars)\n                        if (!dict.contains(nextWord) || visited.contains(nextWord)) {\n                            continue\n                        }\n                        val newPath = path.toMutableList() //防止出现集合引用导致出现重复的情况，list 引用问题\n                        newPath.add(nextWord)\n                        if (nextWord == endWord) { //不能直接 return，同层需要遍历完毕\n                            res.add(newPath)\n                            isTraversalEnd = true\n                        }\n                        queue.add(newPath)\n                        subVisited.add(nextWord)\n                    }\n                    chars[i] = temp //暴力遍历完后恢复 chars 的第 i 个字符\n                }\n            }\n            visited.addAll(subVisited) //将 k 访问的 word 添加到 1..k-1层中的 visited 中\n        }\n        return res\n    }\n\n}\n```\n\n## Solution 2\n\n第二种解法是使用的是双向 BFS + DFS. 通过双向 BFS记录每个节点的邻居节点。DFS 根据记录下的邻居进行深搜找到最短路径。\n\n![double bfs 图解](/images/double_bfs.jpg)\n\n双向 bfs 指的是在 BFS 过程中，会先后从不同方向进行 BFS，即从上至下、从下至上;当两个方向节点产生共同节点时，就产生了最短路径。 使用两个集合begin,end记录两个方向访问过的节点，每次从节点数少的集合进行遍历。当begin 节点数目为空时，表明不存在公共节点，直接返回 false。\n\n时间复杂度：$O(k^{\\frac{d}{2}})$, 双向遍历降低了一半树高，每个节点至多有 k 个邻居节点，树高至多为 d\n\n空间复杂度：$O(N)$ N: 节点个数\n\n## Code\n\n```kotlin\nimport java.util.*\nimport kotlin.collections.HashSet\n\nclass Solution {\n    fun findLadders(beginWord: String, endWord: String, wordList: List<String>): List<List<String>> {\n        val dict = HashSet(wordList) //未访问过的节点集合\n        val res: MutableList<List<String>> = mutableListOf()\n        if (!dict.contains(endWord)) {\n            return res\n        }\n        val begin = HashSet<String>()\n        begin.add(beginWord) //从上之下集合\n        val end = HashSet<String>()\n        end.add(endWord) //从下至上集合\n        val map = HashMap<String, MutableList<String>>() //存储每个节点的邻居节点\n        if (doubleBfs(dict, begin, end, map, true)) {\n            dfs(map, res, beginWord, endWord, ArrayDeque())\n        }\n        return res\n    }\n\n    private fun dfs(map: HashMap<String, MutableList<String>>, res: MutableList<List<String>>, beginWord: String, endWord: String, queue: ArrayDeque<String>) {\n        queue.add(beginWord) //beginWord 可能不在集合中，需要单独添加\n        if (beginWord == endWord) {\n            res.add(queue.toList())\n            queue.removeLast()\n            return\n        }\n        if (map.containsKey(beginWord)) {\n            map[beginWord]?.forEach {\n                dfs(map, res, it, endWord, queue)\n            }\n        }\n        queue.removeLast()\n    }\n\n    fun doubleBfs(dict: HashSet<String>, begin: Set<String>, end: Set<String>, map: HashMap<String, MutableList<String>>, isTopDown: Boolean): Boolean { //寻找每个节点的邻居节点\n        if (begin.isEmpty()) { //当一个方向节点数为空仍未找到 中间联通节点时，返回 false\n            return false\n        }\n        if (begin.size > end.size) { // 选取节点数小的方向进行遍历\n            return doubleBfs(dict, end, begin, map, !isTopDown)\n        }\n        dict.removeAll(begin)\n        dict.removeAll(end) //去除已访问节点\n        var isTraversalEnd = false //是否遍历结束\n        val visited = HashSet<String>() //记录本层新增节点（未在 begin 和 end 中出现过）\n        for (word in begin) {\n            val chars = word.toCharArray()\n            for (i in chars.indics) {\n                val temp = chars[i]\n                for (c in 'a'..'z') { //暴力枚举可能的邻居节点\n                    if (c == temp) {\n                        continue\n                    }\n                    chars[i] = c\n                    val neighborWord = String(chars)\n                    val key = if (isTopDown) word else neighborWord //根据访问顺序确定 key,value.确保 key 是从上之下方向中的上面，而value 是下面。\n                    val value = if (isTopDown) neighborWord else word\n                    val neighborWords = map.getOrDefault(key, mutableListOf())\n\n                    if (end.contains(neighborWord)) { //如果有公共节点，遍历完本层即可结束遍历。值得注意的是，后续本层中的公共节点还是可以进入这个 if 循环进行添加\n                        isTraversalEnd = true\n                        neighborWords.add(value)\n                        map[key] = neighborWords\n                    }\n                    if (isTraversalEnd || !dict.contains(neighborWord)) { //如果找到了目标节点或者dict 中不包含该邻居节点，跳过本次循环\n                        continue\n                    }\n                    visited.add(neighborWord)\n                    neighborWords.add(value)\n                    map[key] = neighborWords\n                }\n                chars[i] = temp\n            }\n        }\n        return isTraversalEnd || doubleBfs(dict, visited, end, map, isTopDown) //使用短路或进行判断是否找到公共节点，找到就直接返回，否则继续以本层新增加的节点作为下层的 begin 继续深搜\n    }\n}\n```\n\n\n\n\n\n","slug":"findeLadder","published":1,"updated":"2020-03-21T01:33:27.040Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1a009uqr3l4hxw9zko"},{"title":"maxAreaOfIsland","date":"2018-12-30T16:00:00.000Z","description":"Calculate the max area of island.","_content":"## 题目描述\n  ### Given a non-empty 2D array grid of 0's and 1's, an island is a group of 1's (representing land) connected 4-directionally (horizontal or vertical.) You may assume all four edges of the grid are surrounded by water.Find the maximum area of an island in the given 2D array. (If there is no island, the maximum area is 0.)\n ## Examples\n``` java\nExample 1:\nInput: \n[[0,0,1,0,0,0,0,1,0,0,0,0,0],\n [0,0,0,0,0,0,0,1,1,1,0,0,0],\n [0,1,1,0,1,0,0,0,0,0,0,0,0],\n [0,1,0,0,1,1,0,0,1,0,1,0,0],\n [0,1,0,0,1,1,0,0,1,1,1,0,0],\n [0,0,0,0,0,0,0,0,0,0,1,0,0],\n [0,0,0,0,0,0,0,1,1,1,0,0,0],\n [0,0,0,0,0,0,0,1,1,0,0,0,0]]\n\nOutput: 6 \n\n```\n```java\nExample 2:\nInput: \n[[0,0,0,0,0,0,0,0]]\n\nOutput: 0\n\n```\n```java\nExample 3:\nInput : {0, 1},\n           {1, 1}\nOutput: 3\t\t  \n```\n\n## Solution\n　　　　注意四个方向的DP，还有DFS中为了降低空间复杂度可以置现有的grid[i][j] = 0;时间复杂度O（mn）（m:岛屿个数，n节点数） ，空间复杂度O(1)\n\t\n## Code\n\n```java\nclass Solution {\n public int maxAreaOfIsland(int[][] grid) {                                                     \n     int maxArea = 0;                                                                           \n     for (int i = 0; i < grid.length; i++) {                                                    \n         for (int j = 0; j < grid[i].length; j++) {                                             \n             if (grid[i][j] != 0) {                                                             \n                 maxArea = Math.max(maxArea, DFS(grid, i, j));                                  \n             }                                                                                  \n         }                                                                                      \n     }                                                                                          \n     return maxArea;                                                                            \n }                                                                                              \n                                                                                                \n public int DFS(int[][] grid, int i, int j) {                                                   \n     if (i >= 0 && i < grid.length && j >= 0 && j < grid[i].length && grid[i][j] != 0) {        \n         grid[i][j] = 0;                                                                        \n         return 1 + DFS(grid, i + 1, j) + DFS(grid, i - 1, j) + DFS(grid, i, j - 1) + DFS(grid, i, j+1);\n     }\n     return 0;                                                                                  \n }                                                                                              \n                                                                                                  \n}                                                           \n```","source":"_posts/maxAreaOfIsland date.md","raw":"title: maxAreaOfIsland\ndate: 2018-12-31\ntags: [Leetcode,字节跳动]\ncategories: algorithm \ndescription: Calculate the max area of island.\n---\n## 题目描述\n  ### Given a non-empty 2D array grid of 0's and 1's, an island is a group of 1's (representing land) connected 4-directionally (horizontal or vertical.) You may assume all four edges of the grid are surrounded by water.Find the maximum area of an island in the given 2D array. (If there is no island, the maximum area is 0.)\n ## Examples\n``` java\nExample 1:\nInput: \n[[0,0,1,0,0,0,0,1,0,0,0,0,0],\n [0,0,0,0,0,0,0,1,1,1,0,0,0],\n [0,1,1,0,1,0,0,0,0,0,0,0,0],\n [0,1,0,0,1,1,0,0,1,0,1,0,0],\n [0,1,0,0,1,1,0,0,1,1,1,0,0],\n [0,0,0,0,0,0,0,0,0,0,1,0,0],\n [0,0,0,0,0,0,0,1,1,1,0,0,0],\n [0,0,0,0,0,0,0,1,1,0,0,0,0]]\n\nOutput: 6 \n\n```\n```java\nExample 2:\nInput: \n[[0,0,0,0,0,0,0,0]]\n\nOutput: 0\n\n```\n```java\nExample 3:\nInput : {0, 1},\n           {1, 1}\nOutput: 3\t\t  \n```\n\n## Solution\n　　　　注意四个方向的DP，还有DFS中为了降低空间复杂度可以置现有的grid[i][j] = 0;时间复杂度O（mn）（m:岛屿个数，n节点数） ，空间复杂度O(1)\n\t\n## Code\n\n```java\nclass Solution {\n public int maxAreaOfIsland(int[][] grid) {                                                     \n     int maxArea = 0;                                                                           \n     for (int i = 0; i < grid.length; i++) {                                                    \n         for (int j = 0; j < grid[i].length; j++) {                                             \n             if (grid[i][j] != 0) {                                                             \n                 maxArea = Math.max(maxArea, DFS(grid, i, j));                                  \n             }                                                                                  \n         }                                                                                      \n     }                                                                                          \n     return maxArea;                                                                            \n }                                                                                              \n                                                                                                \n public int DFS(int[][] grid, int i, int j) {                                                   \n     if (i >= 0 && i < grid.length && j >= 0 && j < grid[i].length && grid[i][j] != 0) {        \n         grid[i][j] = 0;                                                                        \n         return 1 + DFS(grid, i + 1, j) + DFS(grid, i - 1, j) + DFS(grid, i, j - 1) + DFS(grid, i, j+1);\n     }\n     return 0;                                                                                  \n }                                                                                              \n                                                                                                  \n}                                                           \n```","slug":"maxAreaOfIsland date","published":1,"updated":"2020-02-13T07:16:09.061Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1b009yqr3l405s5ggs"},{"title":"Power of Four","date":"2020-02-03T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/power-of-four/\n\n\n## Solution\n\n四的倍数不可能为负数；四的倍数里面只有一个一，可以通过 n & (n - 1)判断；但是怎么将 2 和 4 的倍数区分开呢？2 的倍数的其二进制位为 1的位置是偶数，比如 2，4；4 的倍数的其二进制位为 1的位置是奇数，比如 3，5；所以可以 & 0xaaaaaaaa == 0，但lint 提示 0xaaaaaaa 不是 Int，咦 a是 1010,那第31位岂不是为 1了，而 Int 的最大值是 2^31 - 1，所以只有Int 的最大值只能第 30 位为 1.故可以换成 5: 0101; & 0x55555555 != 0.\n\n## Code\n\n```java\nclass Solution {\n    fun isPowerOfFour(num: Int): Boolean {\n        return num > 0 && (num and (num-1) == 0) && (num and 0x55555555) != 0\n    }\n}\n```","source":"_posts/isPowerOfFour.md","raw":"title:   Power of Four\ndate: 2020-2-4\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/power-of-four/\n\n\n## Solution\n\n四的倍数不可能为负数；四的倍数里面只有一个一，可以通过 n & (n - 1)判断；但是怎么将 2 和 4 的倍数区分开呢？2 的倍数的其二进制位为 1的位置是偶数，比如 2，4；4 的倍数的其二进制位为 1的位置是奇数，比如 3，5；所以可以 & 0xaaaaaaaa == 0，但lint 提示 0xaaaaaaa 不是 Int，咦 a是 1010,那第31位岂不是为 1了，而 Int 的最大值是 2^31 - 1，所以只有Int 的最大值只能第 30 位为 1.故可以换成 5: 0101; & 0x55555555 != 0.\n\n## Code\n\n```java\nclass Solution {\n    fun isPowerOfFour(num: Int): Boolean {\n        return num > 0 && (num and (num-1) == 0) && (num and 0x55555555) != 0\n    }\n}\n```","slug":"isPowerOfFour","published":1,"updated":"2020-02-14T02:01:02.857Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1d00a1qr3l7iskfhl4"},{"title":"Letter Case Permutationt","date":"2020-02-20T16:00:00.000Z","description":"字母大小写全排列","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/letter-case-permutation/\n\n\n## Solution\n\n参照： https://leetcode-cn.com/problems/letter-case-permutation/solution/hui-su-fa-c-by-di-wu-2/\n\n基础的回溯思想题，也可以说是深搜，后加上了状态变化。每次深度搜索过后，变化当前字幕的大小写即可。深搜直至达到length 长度停止。\n\n## Code\n\n```java\nclass Solution {\n    fun letterCasePermutation(S: String): List<String> {\n        if (S.isEmpty()) {\n            return listOf()\n        }\n        val list = mutableListOf<String>()\n        dfs(0, StringBuilder(S), list)\n        return list\n    }\n\n    fun dfs(i: Int, s: StringBuilder, list: MutableList<String>) {\n        if (i != s.length) {\n            if (s[i].isLowerCase()) {\n                dfs(i + 1, s, list)\n                s.setCharAt(i, s[i] - 32)\n                dfs(i + 1, s, list)\n            } else if (s[i].isUpperCase()) {\n                dfs(i + 1, s, list)\n                s.setCharAt(i, s[i] + 32)\n                dfs(i + 1, s, list)\n            } else {\n                dfs(i + 1, s, list)\n            }\n        } else {\n            list.add(s.toString())\n        }\n    }\n}\n```","source":"_posts/letterCasePermutation.md","raw":"title:   Letter Case Permutationt\ndate: 2020-2-21\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 字母大小写全排列\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/letter-case-permutation/\n\n\n## Solution\n\n参照： https://leetcode-cn.com/problems/letter-case-permutation/solution/hui-su-fa-c-by-di-wu-2/\n\n基础的回溯思想题，也可以说是深搜，后加上了状态变化。每次深度搜索过后，变化当前字幕的大小写即可。深搜直至达到length 长度停止。\n\n## Code\n\n```java\nclass Solution {\n    fun letterCasePermutation(S: String): List<String> {\n        if (S.isEmpty()) {\n            return listOf()\n        }\n        val list = mutableListOf<String>()\n        dfs(0, StringBuilder(S), list)\n        return list\n    }\n\n    fun dfs(i: Int, s: StringBuilder, list: MutableList<String>) {\n        if (i != s.length) {\n            if (s[i].isLowerCase()) {\n                dfs(i + 1, s, list)\n                s.setCharAt(i, s[i] - 32)\n                dfs(i + 1, s, list)\n            } else if (s[i].isUpperCase()) {\n                dfs(i + 1, s, list)\n                s.setCharAt(i, s[i] + 32)\n                dfs(i + 1, s, list)\n            } else {\n                dfs(i + 1, s, list)\n            }\n        } else {\n            list.add(s.toString())\n        }\n    }\n}\n```","slug":"letterCasePermutation","published":1,"updated":"2020-02-22T03:08:43.754Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1e00a4qr3l38n7aqao"},{"title":"Letter Tile Possibilities","date":"2020-03-25T16:00:00.000Z","description":"活字印刷","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/letter-tile-possibilities/\n\n## Solution\n\n画出递归树\n\n![递归树](/images/traversalTree.png)\n\n括号中的数字表示字母的使用次数，我们使用一个 count 数组记录字母的出现次数，每次遍历 count 数组，找到一个出现次数大于零的字母，使 count[i]减一表示找到访问过该分支字母，然后继续深搜下去，当回溯回来时，count[i]++恢复状态。期间使用 res 来统计集合数目。\n\n## Code\n\n```java\nclass Solution {\n    fun numTilePossibilities(tiles: String): Int {\n        val count = IntArray(26) { 0 }\n        tiles.forEach {\n            count[it - 'A']++\n        }\n        fun backTrack(): Int {\n            var res = 0\n            for (i in count.indices) {\n                if (count[i] <= 0) {\n                    continue\n                }\n                res += 1\n                count[i]--\n                res += backTrack()\n                count[i]++\n            }\n            return res\n        }\n        return backTrack()\n    }\n}\n```","source":"_posts/numTilePossibilities.md","raw":"title:   Letter Tile Possibilities\ndate: 2020-3-26\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 活字印刷\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/letter-tile-possibilities/\n\n## Solution\n\n画出递归树\n\n![递归树](/images/traversalTree.png)\n\n括号中的数字表示字母的使用次数，我们使用一个 count 数组记录字母的出现次数，每次遍历 count 数组，找到一个出现次数大于零的字母，使 count[i]减一表示找到访问过该分支字母，然后继续深搜下去，当回溯回来时，count[i]++恢复状态。期间使用 res 来统计集合数目。\n\n## Code\n\n```java\nclass Solution {\n    fun numTilePossibilities(tiles: String): Int {\n        val count = IntArray(26) { 0 }\n        tiles.forEach {\n            count[it - 'A']++\n        }\n        fun backTrack(): Int {\n            var res = 0\n            for (i in count.indices) {\n                if (count[i] <= 0) {\n                    continue\n                }\n                res += 1\n                count[i]--\n                res += backTrack()\n                count[i]++\n            }\n            return res\n        }\n        return backTrack()\n    }\n}\n```","slug":"numTilePossibilities","published":1,"updated":"2020-03-26T00:31:05.597Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1f00a8qr3lvv40fh0c"},{"title":"Maximum of Absolute Value Expression","date":"2020-02-18T16:00:00.000Z","description":"曼哈顿距离　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/\n\n\n## Solution\n\n参考题解https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/solution/miao-sha-ci-ti-jing-dian-man-ha-dun-ju-chi-suan-fa/\n\n[曼哈顿距离](https://zh.wikipedia.org/wiki/曼哈頓距離)\n\n可以看出这是一个三维的曼哈顿距离，将 arr1中的坐标当为 x,arr2 中的坐标当为 y，进行去绝对值后，共有八种可能。\n\n当我们将第 i项的符号定下来时，那 j 项的符号也就随之定下来了。所以我们先求出在八种可能中每种可能的 i 项之和即 arr1[i] + arr2[i] + i,当然各项还需要乘以各自的符号求出最大值。\n\n接下来，利用求出八种可能中的i项最大和 - 八种可能中 j 项的最大和。并求其最大值。\n\n时间复杂度： O(2^N * N)\n\n空间复杂度：O(2^N * N)\n\n更优解法： https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/solution/python-jie-fa-bao-li-shu-xue-by-jiayangwu/\n\n## Code\n\n```java\nimport kotlin.math.max\n\nclass Solution {\n    val symbol = arrayOf(intArrayOf(1, 1, 1), intArrayOf(1, 1, -1), intArrayOf(1, -1, 1), intArrayOf(-1, 1, 1),\n            intArrayOf(-1, -1, 1), intArrayOf(-1, 1, -1), intArrayOf(1, -1, -1), intArrayOf(-1, -1, -1))\n    var maxI = IntArray(8){ Int.MIN_VALUE }\n    fun maxAbsValExpr(arr1: IntArray, arr2: IntArray): Int {\n        var res = Int.MIN_VALUE\n        for (k in 0 until 8) {\n            for (i in 0 until arr1.size) {\n                maxI[k] = max(maxI[k], i * symbol[k][0] + arr1[i] * symbol[k][1] + arr2[i] * symbol[k][2])\n            }\n        }\n        for (k in 0 until 8) {\n            for (j in 0 until arr1.size) {\n               res = max(res, maxI[k] - j * symbol[k][0] - arr1[j] * symbol[k][1] - arr2[j] * symbol[k][2])\n            }\n        }\n        return res\n    }\n}\n```","source":"_posts/maxAbsValExpr.md","raw":"title:   Maximum of Absolute Value Expression\ndate: 2020-2-19\ntags: [Leetcode,数学]\ncategories: algorithm\n\ndescription: 曼哈顿距离　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/\n\n\n## Solution\n\n参考题解https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/solution/miao-sha-ci-ti-jing-dian-man-ha-dun-ju-chi-suan-fa/\n\n[曼哈顿距离](https://zh.wikipedia.org/wiki/曼哈頓距離)\n\n可以看出这是一个三维的曼哈顿距离，将 arr1中的坐标当为 x,arr2 中的坐标当为 y，进行去绝对值后，共有八种可能。\n\n当我们将第 i项的符号定下来时，那 j 项的符号也就随之定下来了。所以我们先求出在八种可能中每种可能的 i 项之和即 arr1[i] + arr2[i] + i,当然各项还需要乘以各自的符号求出最大值。\n\n接下来，利用求出八种可能中的i项最大和 - 八种可能中 j 项的最大和。并求其最大值。\n\n时间复杂度： O(2^N * N)\n\n空间复杂度：O(2^N * N)\n\n更优解法： https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/solution/python-jie-fa-bao-li-shu-xue-by-jiayangwu/\n\n## Code\n\n```java\nimport kotlin.math.max\n\nclass Solution {\n    val symbol = arrayOf(intArrayOf(1, 1, 1), intArrayOf(1, 1, -1), intArrayOf(1, -1, 1), intArrayOf(-1, 1, 1),\n            intArrayOf(-1, -1, 1), intArrayOf(-1, 1, -1), intArrayOf(1, -1, -1), intArrayOf(-1, -1, -1))\n    var maxI = IntArray(8){ Int.MIN_VALUE }\n    fun maxAbsValExpr(arr1: IntArray, arr2: IntArray): Int {\n        var res = Int.MIN_VALUE\n        for (k in 0 until 8) {\n            for (i in 0 until arr1.size) {\n                maxI[k] = max(maxI[k], i * symbol[k][0] + arr1[i] * symbol[k][1] + arr2[i] * symbol[k][2])\n            }\n        }\n        for (k in 0 until 8) {\n            for (j in 0 until arr1.size) {\n               res = max(res, maxI[k] - j * symbol[k][0] - arr1[j] * symbol[k][1] - arr2[j] * symbol[k][2])\n            }\n        }\n        return res\n    }\n}\n```","slug":"maxAbsValExpr","published":1,"updated":"2020-02-19T04:57:40.470Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1g00abqr3l9gcpwfno"},{"title":"Permutations II","date":"2020-03-01T16:00:00.000Z","description":"不重复的全排列","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/permutations-ii/\n\n## Solution\n\n和之前的[全排列](https://nightxlt.github.io/2019/01/26/Find all possible permutations/)不同的是加了不允许重复，这就需要在进行交换前进行一步判断，如果从 start 到字符 i 前就已经出现了i就不需要进行交互和深搜了，因为i 已经出现过且已经进行了深搜，再深搜下去只会重复。通过异或交换数字时，一定要保证是两个数字，只有一个数字和自己进行交换的话会将该数字变为 0 的。\n\n## Code\n\n```java\nclass Solution {\n    fun permuteUnique(nums: IntArray): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        DFS(nums, 0, res)\n        return res\n    }\n\n    private fun swap(nums: IntArray, m: Int, n: Int) {\n        if (m == n) {//自己和自己交换个鬼呀\n            return\n        }\n        nums[m] = nums[m] xor nums[n]\n        nums[n] = nums[m] xor nums[n]\n        nums[m] = nums[m] xor nums[n]\n    }\n\n    fun DFS(nums: IntArray, start: Int, lists: MutableList<List<Int>>) {\n        if (start == nums.size) {\n            val list = ArrayList<Int>()\n            for (num in nums) {\n                list.add(num)\n            }\n            lists.add(list)\n            return\n        }\n        for (i in start until nums.size) {\n            if (isSwap(nums, start, i)) {//判断 下标从start..i - 1的数字是否有和 nums[i]重复的，重复则不进行交换\n                swap(nums, start, i)\n                DFS(nums, start + 1, lists)\n                swap(nums, start, i)\n            }\n        }\n    }\n\n    fun isSwap(nums: IntArray, start: Int, end: Int): Boolean {\n        for (i in start until end) {\n            if (nums[i] == nums[end]) {\n                return false\n            }\n        }\n        return true\n    }\n}\n```","source":"_posts/permuteUnique.md","raw":"title:   Permutations II\ndate: 2020-3-2\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 不重复的全排列\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/permutations-ii/\n\n## Solution\n\n和之前的[全排列](https://nightxlt.github.io/2019/01/26/Find all possible permutations/)不同的是加了不允许重复，这就需要在进行交换前进行一步判断，如果从 start 到字符 i 前就已经出现了i就不需要进行交互和深搜了，因为i 已经出现过且已经进行了深搜，再深搜下去只会重复。通过异或交换数字时，一定要保证是两个数字，只有一个数字和自己进行交换的话会将该数字变为 0 的。\n\n## Code\n\n```java\nclass Solution {\n    fun permuteUnique(nums: IntArray): List<List<Int>> {\n        val res = mutableListOf<List<Int>>()\n        DFS(nums, 0, res)\n        return res\n    }\n\n    private fun swap(nums: IntArray, m: Int, n: Int) {\n        if (m == n) {//自己和自己交换个鬼呀\n            return\n        }\n        nums[m] = nums[m] xor nums[n]\n        nums[n] = nums[m] xor nums[n]\n        nums[m] = nums[m] xor nums[n]\n    }\n\n    fun DFS(nums: IntArray, start: Int, lists: MutableList<List<Int>>) {\n        if (start == nums.size) {\n            val list = ArrayList<Int>()\n            for (num in nums) {\n                list.add(num)\n            }\n            lists.add(list)\n            return\n        }\n        for (i in start until nums.size) {\n            if (isSwap(nums, start, i)) {//判断 下标从start..i - 1的数字是否有和 nums[i]重复的，重复则不进行交换\n                swap(nums, start, i)\n                DFS(nums, start + 1, lists)\n                swap(nums, start, i)\n            }\n        }\n    }\n\n    fun isSwap(nums: IntArray, start: Int, end: Int): Boolean {\n        for (i in start until end) {\n            if (nums[i] == nums[end]) {\n                return false\n            }\n        }\n        return true\n    }\n}\n```","slug":"permuteUnique","published":1,"updated":"2020-03-08T01:41:44.551Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1h00aeqr3limdnm0ll"},{"title":"Maximum Number of Occurrences of a Substring","date":"2020-02-19T16:00:00.000Z","description":"子串的最大出现次数","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-number-of-occurrences-of-a-substring/\n\n\n## Solution\n\n暴力解决匹配，按照 minSize 进行匹配，但凡 maxSize匹配的其minSize 子串一定也是符合要求的，反过来亦然。如“aababcaab”的结果是 aab,其子串“ab”必然也至少出现了两次，可能大于两次 ，原因是这里还需要加上minSize 的限制确保子串预期一致，故每次遍历以最小滑动窗口进行遍历，降低时间复杂度。\n\n如何保证子串中的不同字母的数目小于等于 maxLetters，通过 set 进行筛选。如果 set 的 size 大于 maxLettters 即不满足条件\n\n在满足条件的情况下，将结果放到 map 中进行存储，最终进行比较子串其出现次数count。\n\n时间复杂度： O(n)\n\n空间复杂度：O(n)\n\n## Code\n\n```java\nclass Solution {\n    fun maxFreq(s: String, maxLetters: Int, minSize: Int, maxSize: Int): Int {\n        if (s.length < maxLetters || s.length < maxSize) {\n            return 0\n        }\n        val map = HashMap<String, Int>()\n        for (i in 0..s.length - minSize) {\n            val substring = s.substring(i, i + minSize)\n            if (isMatch(substring, maxLetters)) {\n                map[substring] = map.getOrDefault(substring, 0) + 1\n            }\n        }\n        return map.maxBy { it.value }?.value ?: 0\n    }\n\n    private fun isMatch(substring: String, maxLetters: Int): Boolean {\n        val set = HashSet<Char>()\n        for (c in substring) {\n            set.add(c)\n            if (set.size > maxLetters) {\n                return false\n            }\n        }\n        return set.size <= maxLetters\n    }\n}\n```","source":"_posts/maxFreq.md","raw":"title:   Maximum Number of Occurrences of a Substring\ndate: 2020-2-20\ntags: [Leetcode,暴力]\ncategories: algorithm\n\ndescription: 子串的最大出现次数\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/maximum-number-of-occurrences-of-a-substring/\n\n\n## Solution\n\n暴力解决匹配，按照 minSize 进行匹配，但凡 maxSize匹配的其minSize 子串一定也是符合要求的，反过来亦然。如“aababcaab”的结果是 aab,其子串“ab”必然也至少出现了两次，可能大于两次 ，原因是这里还需要加上minSize 的限制确保子串预期一致，故每次遍历以最小滑动窗口进行遍历，降低时间复杂度。\n\n如何保证子串中的不同字母的数目小于等于 maxLetters，通过 set 进行筛选。如果 set 的 size 大于 maxLettters 即不满足条件\n\n在满足条件的情况下，将结果放到 map 中进行存储，最终进行比较子串其出现次数count。\n\n时间复杂度： O(n)\n\n空间复杂度：O(n)\n\n## Code\n\n```java\nclass Solution {\n    fun maxFreq(s: String, maxLetters: Int, minSize: Int, maxSize: Int): Int {\n        if (s.length < maxLetters || s.length < maxSize) {\n            return 0\n        }\n        val map = HashMap<String, Int>()\n        for (i in 0..s.length - minSize) {\n            val substring = s.substring(i, i + minSize)\n            if (isMatch(substring, maxLetters)) {\n                map[substring] = map.getOrDefault(substring, 0) + 1\n            }\n        }\n        return map.maxBy { it.value }?.value ?: 0\n    }\n\n    private fun isMatch(substring: String, maxLetters: Int): Boolean {\n        val set = HashSet<Char>()\n        for (c in substring) {\n            set.add(c)\n            if (set.size > maxLetters) {\n                return false\n            }\n        }\n        return set.size <= maxLetters\n    }\n}\n```","slug":"maxFreq","published":1,"updated":"2020-02-20T10:41:43.711Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1i00ahqr3l37bvtjbx"},{"title":"利用队列实现栈","date":"2019-01-30T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Implement the following operations of a stack using queues.\n\npush(x) -- Push element x onto stack.\npop() -- Removes the element on top of the stack.\ntop() -- Get the top element.\nempty() -- Return whether the stack is empty.\n ## Examples\n``` java\nExample 1:\nMyStack stack = new MyStack();\n\nstack.push(1);\nstack.push(2);  \nstack.top();   // returns 2\nstack.pop();   // returns 2\nstack.empty(); // returns false\n```\n## Solution\n　　起初采取是剑指Offer上常规的做法，插入时根据turn的值插到对应队列，pop和peek时将n - 1个元素转移到另一个队列。再返回最后一个元素。参考了别人的代码。原来可以不用turn记录插入弹出队列。如果可以维护一个出队顺序 = 出栈顺序的队列的话那多方便啊。可这是队列呀，不一样对吧。所以用两个栈维护入栈顺序，每添加一个元素x前，先将queue1中的元素先转移到queue2中，再添加x（这时queue1中只有一个元素x）。最后将queue2中的元素转移回来，这样queue1的出队列顺序即是出栈顺序。降低了pop、peek时间复杂度。整个过程入栈和出栈最终都是在queue1中，queue2只是作为一个中转栈。\n## Code\n\n```java\n class MyStack {\n\n  Queue<Integer> q1, q2;\n\n    /**\n     * Initialize your data structure here.\n     */\n    public MyStack() {\n        q1 = new ArrayDeque<>();\n        q2 = new ArrayDeque<>();\n    }\n\n    /**\n     * Push element x to the back of queue.\n     */\n    public void push(int x) {\n        while (!q1.isEmpty()) {\n            q2.offer(q1.poll());\n        }\n        q1.offer(x);\n        while (!q2.isEmpty()) {\n            q1.offer(q2.poll());\n        }\n    }\n\n    /**\n     * Removes the element from in front of queue and returns that element.\n     */\n    public int pop() {\n        return q1.isEmpty() ? -1 : q1.poll();\n    }\n\n    /**\n     * Get the front element.\n     */\n    public int top() {\n        return q1.isEmpty() ? -1 : q1.peek();\n    }\n\n    /**\n     * Returns whether the queue is empty.\n     */\n    public boolean empty() {\n        return q2.isEmpty() && q1.isEmpty();\n    }\n}\n```","source":"_posts/queue implement stack.md","raw":"title: 利用队列实现栈\ndate: 2019-1-31\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Implement the following operations of a stack using queues.\n\npush(x) -- Push element x onto stack.\npop() -- Removes the element on top of the stack.\ntop() -- Get the top element.\nempty() -- Return whether the stack is empty.\n ## Examples\n``` java\nExample 1:\nMyStack stack = new MyStack();\n\nstack.push(1);\nstack.push(2);  \nstack.top();   // returns 2\nstack.pop();   // returns 2\nstack.empty(); // returns false\n```\n## Solution\n　　起初采取是剑指Offer上常规的做法，插入时根据turn的值插到对应队列，pop和peek时将n - 1个元素转移到另一个队列。再返回最后一个元素。参考了别人的代码。原来可以不用turn记录插入弹出队列。如果可以维护一个出队顺序 = 出栈顺序的队列的话那多方便啊。可这是队列呀，不一样对吧。所以用两个栈维护入栈顺序，每添加一个元素x前，先将queue1中的元素先转移到queue2中，再添加x（这时queue1中只有一个元素x）。最后将queue2中的元素转移回来，这样queue1的出队列顺序即是出栈顺序。降低了pop、peek时间复杂度。整个过程入栈和出栈最终都是在queue1中，queue2只是作为一个中转栈。\n## Code\n\n```java\n class MyStack {\n\n  Queue<Integer> q1, q2;\n\n    /**\n     * Initialize your data structure here.\n     */\n    public MyStack() {\n        q1 = new ArrayDeque<>();\n        q2 = new ArrayDeque<>();\n    }\n\n    /**\n     * Push element x to the back of queue.\n     */\n    public void push(int x) {\n        while (!q1.isEmpty()) {\n            q2.offer(q1.poll());\n        }\n        q1.offer(x);\n        while (!q2.isEmpty()) {\n            q1.offer(q2.poll());\n        }\n    }\n\n    /**\n     * Removes the element from in front of queue and returns that element.\n     */\n    public int pop() {\n        return q1.isEmpty() ? -1 : q1.poll();\n    }\n\n    /**\n     * Get the front element.\n     */\n    public int top() {\n        return q1.isEmpty() ? -1 : q1.peek();\n    }\n\n    /**\n     * Returns whether the queue is empty.\n     */\n    public boolean empty() {\n        return q2.isEmpty() && q1.isEmpty();\n    }\n}\n```","slug":"queue implement stack","published":1,"updated":"2020-02-13T07:16:09.061Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1j00akqr3lwwk1kcsg"},{"title":"Pyramid Transition Matrix","date":"2020-02-21T16:00:00.000Z","description":"递归","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/pyramid-transition-matrix/\n\n\n## Solution\n\n既然是先给到的是底层，就先从底层开始搭建。每次我们从底层抽取两个字符选取他们在 allowed 中的对应字符进行搭建上一层，搭建到什么时候为止呢。搭建至上面一层的个数为下层个数减一时开始下一轮递归，以上层字符串作为当前串，置空上层串（新一轮的搭建过程），开始递归，一直`递归`搭建直至顶层个数为 1，而第二层个数为 2 时终止。\n\n怎么记忆 allowed 中的允许字符呢？用一个 map <String, HashSet<Char>>进行记忆，因为一个 String 可能有多个匹配的上方字符，为了防止重复选取 HashSet 进行筛选。\n\n如\nallowed = [\"XXX\", \"XXY\", \"XYX\", \"XYY\", \"YXZ\"]\nhashmap = {'XX': ['X', 'Y'], 'XY': ['X', 'Y'], 'YX': ['Z']}\n\n因为在 HashSet 中存在多个可能不同的上方匹配字符，我们需要遍历所有可能，只要存在一种递归可能搭建成金字塔立即返回为 true.\n\n时间复杂度： O(n^2)\n\n空间复杂度： 未知\n\n## Code\n\n```java\nclass Solution {\n    fun pyramidTransition(bottom: String, allowed: List<String>): Boolean {\n        val map = HashMap<String, HashSet<Char>>()\n        allowed.forEach {\n            if (map[it.substring(0, 2)] == null) {\n                map[it.substring(0, 2)] = HashSet()\n            }\n            map[it.substring(0, 2)]?.add(it[2])//建立底层字符和基层字符的映射关系\n        }\n        return recursion(bottom, \"\", map)\n    }\n//cur:当前字符， above: 上方字符 map：存储底层字符和基层字符的映射关系 \n    private fun recursion(cur: String, above: String, map: java.util.HashMap<String, java.util.HashSet<Char>>): Boolean {\n        if (cur.length == 2 && above.length == 1) {//搭建完毕\n            return true\n        }\n        if (cur.length == above.length + 1) { //上层搭建完毕，开启新一轮搭建\n            return recursion(above, \"\", map)\n        }\n        val pos = above.length\n        val remainString = cur.substring(pos, pos + 2)\n        if (map.containsKey(remainString)) {\n            map[remainString]?.forEach {\n                if (recursion(cur, above + it, map)) {\n                    return true\n                }\n            }\n        }\n        return false\n    }\n}\n```","source":"_posts/pyramidTransition.md","raw":"title:   Pyramid Transition Matrix\ndate: 2020-2-22\ntags: [Leetcode,递归]\ncategories: algorithm\n\ndescription: 递归\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/pyramid-transition-matrix/\n\n\n## Solution\n\n既然是先给到的是底层，就先从底层开始搭建。每次我们从底层抽取两个字符选取他们在 allowed 中的对应字符进行搭建上一层，搭建到什么时候为止呢。搭建至上面一层的个数为下层个数减一时开始下一轮递归，以上层字符串作为当前串，置空上层串（新一轮的搭建过程），开始递归，一直`递归`搭建直至顶层个数为 1，而第二层个数为 2 时终止。\n\n怎么记忆 allowed 中的允许字符呢？用一个 map <String, HashSet<Char>>进行记忆，因为一个 String 可能有多个匹配的上方字符，为了防止重复选取 HashSet 进行筛选。\n\n如\nallowed = [\"XXX\", \"XXY\", \"XYX\", \"XYY\", \"YXZ\"]\nhashmap = {'XX': ['X', 'Y'], 'XY': ['X', 'Y'], 'YX': ['Z']}\n\n因为在 HashSet 中存在多个可能不同的上方匹配字符，我们需要遍历所有可能，只要存在一种递归可能搭建成金字塔立即返回为 true.\n\n时间复杂度： O(n^2)\n\n空间复杂度： 未知\n\n## Code\n\n```java\nclass Solution {\n    fun pyramidTransition(bottom: String, allowed: List<String>): Boolean {\n        val map = HashMap<String, HashSet<Char>>()\n        allowed.forEach {\n            if (map[it.substring(0, 2)] == null) {\n                map[it.substring(0, 2)] = HashSet()\n            }\n            map[it.substring(0, 2)]?.add(it[2])//建立底层字符和基层字符的映射关系\n        }\n        return recursion(bottom, \"\", map)\n    }\n//cur:当前字符， above: 上方字符 map：存储底层字符和基层字符的映射关系 \n    private fun recursion(cur: String, above: String, map: java.util.HashMap<String, java.util.HashSet<Char>>): Boolean {\n        if (cur.length == 2 && above.length == 1) {//搭建完毕\n            return true\n        }\n        if (cur.length == above.length + 1) { //上层搭建完毕，开启新一轮搭建\n            return recursion(above, \"\", map)\n        }\n        val pos = above.length\n        val remainString = cur.substring(pos, pos + 2)\n        if (map.containsKey(remainString)) {\n            map[remainString]?.forEach {\n                if (recursion(cur, above + it, map)) {\n                    return true\n                }\n            }\n        }\n        return false\n    }\n}\n```","slug":"pyramidTransition","published":1,"updated":"2020-02-22T03:10:47.289Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1k00aoqr3lcbr2hpc5"},{"title":"Palindrome Partitioning","date":"2020-03-07T16:00:00.000Z","description":"分割字符串","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/palindrome-partitioning/\n\n## Solution\n\n这道题的结构和全排列的类似，结果中的list中所有字符串按顺序拼接是完整的字符串 s, 保证结果集中包含所有元素，深搜时添加的是一个子串。为了判断这个子串是回文，一开始使用的是每个子串遍历进行比较，后面看了题解在判断是否为回文子串那里采用了最大回文子串的解法，可以使用动态规划进行空间换取时间，预先都遍历好相关数据，使用时直接用 dp 中的数据判断即可，不过当时自己在回文子串那里选用的是中心扩散法，当时自己权衡了下 中心扩散 的空间复杂度是O(1),而 dp 的是 O(n^2)。回忆下dp 求最大回文子串的方法。使用 dp[i] [j]表示 $s_i..s_j$是否是回文子串。当 i..j 长度大于 2时， s[i..i]是否为回文子串其实取决于 s[i + 1..j - 1]是否为回文子串 以及 s[i] == s[j]， 当 i..i 长度小于等于2时，则是 s[i] == s[j]。所以得到其状态转移方程如下：\n\n$$dp[i][j] = \n\\left\\{\\begin{matrix}\ndp[i+1][j - 1]\\&\\&s[i][j] & j - i > 2\\\\ \ns[i] = s[j] & j - i <= 2\n\\end{matrix}\\right.$$\n\n时间复杂度： $O(2^n)$,因为每个数后面均可能发生截断成为子串\n\n空间复杂度：$O(n^2)$\n\n## Code\n\n```java\nimport java.util.*\n\nclass Solution {\n    fun partition(s: String): List<List<String>> {\n        if (s.isEmpty()) {\n            return emptyList()\n        }\n        val queue = ArrayDeque<String>()\n        val res = mutableListOf<List<String>>()\n        val dp = Array(s.length) { BooleanArray(s.length) }\n        for (right in 0 until s.length) {\n            for (left in 0..right) {\n                if (s[right] == s[left] && (right - left <= 2 || dp[left + 1][right - 1])) {\n                    dp[left][right] = true\n                }\n            }\n        }\n        fun dfs(start: Int) {\n            if (start == s.length) {\n                res.add(queue.toList())\n                return\n            }\n            for (i in start until s.length) {\n                if (!dp[start][i]) {\n                    continue\n                }\n                queue.add(s.substring(start, i + 1))\n                dfs(i + 1)\n                queue.removeLast()\n            }\n        }\n        dfs(0)\n        return res\n    }\n}\n```","source":"_posts/partition.md","raw":"title:    Palindrome Partitioning\ndate: 2020-3-8\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 分割字符串\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/palindrome-partitioning/\n\n## Solution\n\n这道题的结构和全排列的类似，结果中的list中所有字符串按顺序拼接是完整的字符串 s, 保证结果集中包含所有元素，深搜时添加的是一个子串。为了判断这个子串是回文，一开始使用的是每个子串遍历进行比较，后面看了题解在判断是否为回文子串那里采用了最大回文子串的解法，可以使用动态规划进行空间换取时间，预先都遍历好相关数据，使用时直接用 dp 中的数据判断即可，不过当时自己在回文子串那里选用的是中心扩散法，当时自己权衡了下 中心扩散 的空间复杂度是O(1),而 dp 的是 O(n^2)。回忆下dp 求最大回文子串的方法。使用 dp[i] [j]表示 $s_i..s_j$是否是回文子串。当 i..j 长度大于 2时， s[i..i]是否为回文子串其实取决于 s[i + 1..j - 1]是否为回文子串 以及 s[i] == s[j]， 当 i..i 长度小于等于2时，则是 s[i] == s[j]。所以得到其状态转移方程如下：\n\n$$dp[i][j] = \n\\left\\{\\begin{matrix}\ndp[i+1][j - 1]\\&\\&s[i][j] & j - i > 2\\\\ \ns[i] = s[j] & j - i <= 2\n\\end{matrix}\\right.$$\n\n时间复杂度： $O(2^n)$,因为每个数后面均可能发生截断成为子串\n\n空间复杂度：$O(n^2)$\n\n## Code\n\n```java\nimport java.util.*\n\nclass Solution {\n    fun partition(s: String): List<List<String>> {\n        if (s.isEmpty()) {\n            return emptyList()\n        }\n        val queue = ArrayDeque<String>()\n        val res = mutableListOf<List<String>>()\n        val dp = Array(s.length) { BooleanArray(s.length) }\n        for (right in 0 until s.length) {\n            for (left in 0..right) {\n                if (s[right] == s[left] && (right - left <= 2 || dp[left + 1][right - 1])) {\n                    dp[left][right] = true\n                }\n            }\n        }\n        fun dfs(start: Int) {\n            if (start == s.length) {\n                res.add(queue.toList())\n                return\n            }\n            for (i in start until s.length) {\n                if (!dp[start][i]) {\n                    continue\n                }\n                queue.add(s.substring(start, i + 1))\n                dfs(i + 1)\n                queue.removeLast()\n            }\n        }\n        dfs(0)\n        return res\n    }\n}\n```","slug":"partition","published":1,"updated":"2020-03-08T03:35:29.045Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1k00arqr3lfl99ve2e"},{"title":"Implement Trie (Prefix Tree)","date":"2020-03-12T16:00:00.000Z","description":"前缀树","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/implement-trie-prefix-tree/\n\n## Solution\n\n[前缀树](https://zh.wikipedia.org/wiki/Trie)有多个树枝，可以用 hashMap 存储其 children 减少多余的存储空间。因为在前缀树中进行 search 一个前缀是需要返回 false 的。比如前缀树中存储 了 apple,我们搜索app 是需要返回 false 的，故当我们遍历给定 word 结束时需要知道前缀树后续是否还有节点。故添加 一个 isFinished 字段进行标识，默认为 false，插入到字符串最后一个字母时会将其置为 true.\n\n插入时间复杂度： $O(m)$, m 为 word长度\n\n空间复杂度： $O(m)$\n\n搜索时间复杂度： $O(m)$\n\n空间复杂度： $O(1)$\n\n查询前缀时间复杂度： $O(m)$\n\n空间复杂度： $O(1)$\n\n## Code\n\n```kotlin\nclass Trie {\n\n    private var children = HashMap<Char, Trie>()\n    private var isFinished = false\n\n    /** Inserts a word into the trie. */\n    fun insert(word: String) {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                cur.children[it] = Trie()\n            }\n            cur = cur.children[it]!!\n        }\n        cur.isFinished = true\n    }\n\n    /** Returns if the word is in the trie. */\n    fun search(word: String): Boolean {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                return false\n            }\n            cur = cur.children[it]!!\n        }\n        return cur.isFinished\n    }\n\n    /** Returns if there is any word in the trie that starts with the given prefix. */\n    fun startsWith(prefix: String): Boolean {\n        var cur = this\n        prefix.forEach {\n            if (!cur.children.containsKey(it)) {\n                return false\n            }\n            cur = cur.children[it]!!\n        }\n        return true\n    }\n}\n```","source":"_posts/prefix_tree.md","raw":"title:    Implement Trie (Prefix Tree)\ndate: 2020-3-13\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 前缀树\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/implement-trie-prefix-tree/\n\n## Solution\n\n[前缀树](https://zh.wikipedia.org/wiki/Trie)有多个树枝，可以用 hashMap 存储其 children 减少多余的存储空间。因为在前缀树中进行 search 一个前缀是需要返回 false 的。比如前缀树中存储 了 apple,我们搜索app 是需要返回 false 的，故当我们遍历给定 word 结束时需要知道前缀树后续是否还有节点。故添加 一个 isFinished 字段进行标识，默认为 false，插入到字符串最后一个字母时会将其置为 true.\n\n插入时间复杂度： $O(m)$, m 为 word长度\n\n空间复杂度： $O(m)$\n\n搜索时间复杂度： $O(m)$\n\n空间复杂度： $O(1)$\n\n查询前缀时间复杂度： $O(m)$\n\n空间复杂度： $O(1)$\n\n## Code\n\n```kotlin\nclass Trie {\n\n    private var children = HashMap<Char, Trie>()\n    private var isFinished = false\n\n    /** Inserts a word into the trie. */\n    fun insert(word: String) {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                cur.children[it] = Trie()\n            }\n            cur = cur.children[it]!!\n        }\n        cur.isFinished = true\n    }\n\n    /** Returns if the word is in the trie. */\n    fun search(word: String): Boolean {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                return false\n            }\n            cur = cur.children[it]!!\n        }\n        return cur.isFinished\n    }\n\n    /** Returns if there is any word in the trie that starts with the given prefix. */\n    fun startsWith(prefix: String): Boolean {\n        var cur = this\n        prefix.forEach {\n            if (!cur.children.containsKey(it)) {\n                return false\n            }\n            cur = cur.children[it]!!\n        }\n        return true\n    }\n}\n```","slug":"prefix_tree","published":1,"updated":"2020-03-22T00:31:32.246Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1l00auqr3lfa4ku0rl"},{"title":"Minimum Flips to Make a OR b Equal to c","date":"2020-02-24T16:00:00.000Z","description":"逐项右移比较","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/minimum-flips-to-make-a-or-b-equal-to-c/\n\n\n## Solution\n\n因为要比较的是a | b == c 最小翻转总和，可以逐项右移得到对应 a,b,c 的对应二进制位。令为 bitA,bitB,bitC。\n\n当 bitC 为 0时，需要 bitA 和 bitB 都为 0,或的结果才会为0，凡bit位为 1就需要翻转。那需要翻转的次数为 bitA + bitB。\n\nbitC 位为1 时，只需要 bitA 和 bitB 中有 1 个为 1 即可，当 bitA，bitB有 1 个为 1 时，就不需要翻转，否则两者都为 0时，需要翻转一次。\n\n## Code\n\n```java\nclass Solution {\n    fun minFlips(a: Int, b: Int, c: Int): Int {\n        var res = 0\n        for (i in 0..31) {\n            val  bitA = (a shr i) and 1\n            val  bitB = (b shr i) and 1\n            val  bitC = (c shr i) and 1\n            res += if (bitC == 0) {\n                bitA + bitB\n            } else {\n                if (bitA + bitB > 0) 0 else 1\n            }\n        }\n        return res\n    }\n}\n```","source":"_posts/minFlips.md","raw":"title:   Minimum Flips to Make a OR b Equal to c\ndate: 2020-2-25\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 逐项右移比较\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/minimum-flips-to-make-a-or-b-equal-to-c/\n\n\n## Solution\n\n因为要比较的是a | b == c 最小翻转总和，可以逐项右移得到对应 a,b,c 的对应二进制位。令为 bitA,bitB,bitC。\n\n当 bitC 为 0时，需要 bitA 和 bitB 都为 0,或的结果才会为0，凡bit位为 1就需要翻转。那需要翻转的次数为 bitA + bitB。\n\nbitC 位为1 时，只需要 bitA 和 bitB 中有 1 个为 1 即可，当 bitA，bitB有 1 个为 1 时，就不需要翻转，否则两者都为 0时，需要翻转一次。\n\n## Code\n\n```java\nclass Solution {\n    fun minFlips(a: Int, b: Int, c: Int): Int {\n        var res = 0\n        for (i in 0..31) {\n            val  bitA = (a shr i) and 1\n            val  bitB = (b shr i) and 1\n            val  bitC = (c shr i) and 1\n            res += if (bitC == 0) {\n                bitA + bitB\n            } else {\n                if (bitA + bitB > 0) 0 else 1\n            }\n        }\n        return res\n    }\n}\n```","slug":"minFlips","published":1,"updated":"2020-02-25T01:51:27.161Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1m00ayqr3l9bkfs8y9"},{"title":"Implement strStr()","date":"2020-01-29T16:00:00.000Z","description":"comparator的一些事","_content":"\n## Problem description\n\nReturn the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.\n\nlinks: https://leetcode-cn.com/problems/implement-strstr/\n\n## Solution\n\n参考：\n\nhttps://www.cnblogs.com/ciyeer/p/9035072.html\n\nhttps://www.cnblogs.com/ciyeer/p/9035072.html\n\nKmp 题目，复习了 Kmp 的相关知识。（想起了 DS 老师讲解这块时费力的身姿...）\n\n以链接中的例子为例。\n\n主串： ababcabcacbab\n\n模式串： abcabac\n\nKmp 算法的核心是找到模式串中当第 j 个位置的字符不匹配时，应该从何处 next[j] 重新开始匹配. 关键是如何找到模式串的abcac next[j].\n\n计算公式\n\n![kmp 计算公式](/images/kmp.png)\n\n公式最下方怎么理解呢？借助一张图\n\n![kmp原理](/images/kmp_principle.png)\n\n当主串中第i 个元素与模式串中的第 j 个元素不同时，这时应当将 j 滑到哪里呢？\n\n首先当主串中第i 个元素与模式串中的第 j 个元素不同时，这意味着 i - j...i-1与1..j-1是相等的。\n\n如果我们能找到一个 最大的K 值满足上图中的条件\n\n即模式串中下标为 1...k-1的元素与j - k .. j-1元素相同，这就意味着下标 1...k-1的元素与 i - k.. i - 1相等。这两块相等就意味着我们可以让模式串滑到 k 处，从 k 这里开始匹配；即 next[j] = k；此外我们希望这个 K 值尽可能的大，因为这样剩余尚需匹配的模式串数目就少。\n\n方便记忆，以匹配串“abcabac”为例求其的next数组。next 的下标从 1开始，j = 0。\n\n```java\n当 j = 0时'a'， 子串已经在最左侧了，无法再往左移动 j 了，应该移动 i元素。 令next[1] = 0作为标识\n\nj = 1时'b'，当第二个元素不相等时，next[2] = 1表示应该与模式串中第一个元素进行比较\n\nj = 2第三个字符 ‘c’ ：由于前一个字符 ‘b’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘b’ 相比较，不相等，变更 j = 2为 next[j] = 1 继续比较；由于 next[1] = 0，结束。 ‘c’ 对应的 next 值为1；（只要循环到 next[1] = 0 ,该字符的 next 值都为 1 ）\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：011\n\n第四个字符 ’a‘ ：由于前一个字符 ‘c’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘c’ 相比较，不相等，继续；由于 next[1] = 0 ，结束。‘a’ 对应的 next 值为 1 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：0111\n\n第五个字符 ’b’ ：由于前一个字符 ‘a’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘a’ 相比较，相等，结束。 ‘b’ 对应的 next 值为：1(前一个字符 ‘a’ 的 next 值) + 1 = 2 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：01112\n\n第六个字符 ‘a’ ：由于前一个字符 ‘b’ 的 next 值为 2，取 T[2] = ‘b’ 和 ‘b’ 相比较，相等，所以结束。‘a’ 对应的 next 值为：2 (前一个字符 ‘b’ 的 next 值) + 1 = 3 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：011123\n\n第七个字符 ‘c’ ：由于前一个字符 ‘a’ 的 next 值为 3 ，取 T[3] = ‘c’ 和 ‘a’ 相比较，不相等，继续；由于 next[3] = 1 ，所以取 T[1] = ‘a’ 和 ‘a’ 比较，相等，结束。‘a’ 对应的 next 值为：1 ( next[3] 的值) + 1 = 2 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：0111232\n```\n\n\n\n## Code\n\n```kotlin\nclass Kmp {\n    lateinit var next: IntArray\n    fun strStr(haystack: String, needle: String): Int {\n        if (haystack.length < needle.length) {\n            return  -1\n        }\n        if (haystack.isEmpty() && haystack == needle) {\n            return 0\n        }\n        initNext(needle)\n        var i = 1\n        var j = 1\n        while (i <= haystack.length && j <= needle.length) {\n            if (j == 0 || haystack[i - 1] == needle[j - 1]) {\n                i++\n                j++\n            } else {\n                j = next[j]\n            }\n        }\n        if (needle.length in 1 until j) {\n            return i - needle.length - 1\n        }\n        return -1\n    }\n\n    private fun initNext(needle: String) {\n        if (needle.isBlank()) {\n            next = IntArray(1){0}\n            return\n        }\n        next = IntArray(needle.length + 1)\n        next[0] = needle.length\n        next[1] = 0\n        var i = 1\n        var j = 0 \n        while (i < next[0]) {\n            if (j == 0 || needle[i - 1] == needle[j - 1]) {\n                next[++i] = ++j\n            } else {\n                j = next[j] //不相等时匹配串滑到对应位置 next[j],j - 1处元素继续和 i-1处元素进行比较\n            }\n        }\n    }\n}\n\nfun main() {\n    print(Kmp().strStr(\"aaasdsdfsdfsdf\", \"abcabac\"))\n}\n```\n\n\n\n\n\n","source":"_posts/strStr_kmp.md","raw":"title: Implement strStr()\ndate: 2020-1-30\ntags: [Leetcode]\ncategories: algorithm\n\ndescription: comparator的一些事\n---\n\n## Problem description\n\nReturn the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack.\n\nlinks: https://leetcode-cn.com/problems/implement-strstr/\n\n## Solution\n\n参考：\n\nhttps://www.cnblogs.com/ciyeer/p/9035072.html\n\nhttps://www.cnblogs.com/ciyeer/p/9035072.html\n\nKmp 题目，复习了 Kmp 的相关知识。（想起了 DS 老师讲解这块时费力的身姿...）\n\n以链接中的例子为例。\n\n主串： ababcabcacbab\n\n模式串： abcabac\n\nKmp 算法的核心是找到模式串中当第 j 个位置的字符不匹配时，应该从何处 next[j] 重新开始匹配. 关键是如何找到模式串的abcac next[j].\n\n计算公式\n\n![kmp 计算公式](/images/kmp.png)\n\n公式最下方怎么理解呢？借助一张图\n\n![kmp原理](/images/kmp_principle.png)\n\n当主串中第i 个元素与模式串中的第 j 个元素不同时，这时应当将 j 滑到哪里呢？\n\n首先当主串中第i 个元素与模式串中的第 j 个元素不同时，这意味着 i - j...i-1与1..j-1是相等的。\n\n如果我们能找到一个 最大的K 值满足上图中的条件\n\n即模式串中下标为 1...k-1的元素与j - k .. j-1元素相同，这就意味着下标 1...k-1的元素与 i - k.. i - 1相等。这两块相等就意味着我们可以让模式串滑到 k 处，从 k 这里开始匹配；即 next[j] = k；此外我们希望这个 K 值尽可能的大，因为这样剩余尚需匹配的模式串数目就少。\n\n方便记忆，以匹配串“abcabac”为例求其的next数组。next 的下标从 1开始，j = 0。\n\n```java\n当 j = 0时'a'， 子串已经在最左侧了，无法再往左移动 j 了，应该移动 i元素。 令next[1] = 0作为标识\n\nj = 1时'b'，当第二个元素不相等时，next[2] = 1表示应该与模式串中第一个元素进行比较\n\nj = 2第三个字符 ‘c’ ：由于前一个字符 ‘b’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘b’ 相比较，不相等，变更 j = 2为 next[j] = 1 继续比较；由于 next[1] = 0，结束。 ‘c’ 对应的 next 值为1；（只要循环到 next[1] = 0 ,该字符的 next 值都为 1 ）\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：011\n\n第四个字符 ’a‘ ：由于前一个字符 ‘c’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘c’ 相比较，不相等，继续；由于 next[1] = 0 ，结束。‘a’ 对应的 next 值为 1 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：0111\n\n第五个字符 ’b’ ：由于前一个字符 ‘a’ 的 next 值为 1 ，取 T[1] = ‘a’ 和 ‘a’ 相比较，相等，结束。 ‘b’ 对应的 next 值为：1(前一个字符 ‘a’ 的 next 值) + 1 = 2 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：01112\n\n第六个字符 ‘a’ ：由于前一个字符 ‘b’ 的 next 值为 2，取 T[2] = ‘b’ 和 ‘b’ 相比较，相等，所以结束。‘a’ 对应的 next 值为：2 (前一个字符 ‘b’ 的 next 值) + 1 = 3 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：011123\n\n第七个字符 ‘c’ ：由于前一个字符 ‘a’ 的 next 值为 3 ，取 T[3] = ‘c’ 和 ‘a’ 相比较，不相等，继续；由于 next[3] = 1 ，所以取 T[1] = ‘a’ 和 ‘a’ 比较，相等，结束。‘a’ 对应的 next 值为：1 ( next[3] 的值) + 1 = 2 ；\n\n模式串T为：          “abcabac”\nnext数组(下标从1开始)：0111232\n```\n\n\n\n## Code\n\n```kotlin\nclass Kmp {\n    lateinit var next: IntArray\n    fun strStr(haystack: String, needle: String): Int {\n        if (haystack.length < needle.length) {\n            return  -1\n        }\n        if (haystack.isEmpty() && haystack == needle) {\n            return 0\n        }\n        initNext(needle)\n        var i = 1\n        var j = 1\n        while (i <= haystack.length && j <= needle.length) {\n            if (j == 0 || haystack[i - 1] == needle[j - 1]) {\n                i++\n                j++\n            } else {\n                j = next[j]\n            }\n        }\n        if (needle.length in 1 until j) {\n            return i - needle.length - 1\n        }\n        return -1\n    }\n\n    private fun initNext(needle: String) {\n        if (needle.isBlank()) {\n            next = IntArray(1){0}\n            return\n        }\n        next = IntArray(needle.length + 1)\n        next[0] = needle.length\n        next[1] = 0\n        var i = 1\n        var j = 0 \n        while (i < next[0]) {\n            if (j == 0 || needle[i - 1] == needle[j - 1]) {\n                next[++i] = ++j\n            } else {\n                j = next[j] //不相等时匹配串滑到对应位置 next[j],j - 1处元素继续和 i-1处元素进行比较\n            }\n        }\n    }\n}\n\nfun main() {\n    print(Kmp().strStr(\"aaasdsdfsdfsdf\", \"abcabac\"))\n}\n```\n\n\n\n\n\n","slug":"strStr_kmp","published":1,"updated":"2020-02-13T07:16:09.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1n00b1qr3l1nuj3h2h"},{"title":"矩形绕原点旋转","date":"2020-03-01T16:00:00.000Z","description":"羞耻呀，貌似是初中知识","_content":"\n# 矩形绕原点顺时针旋转90 度\n\n给定矩形左上角和右下角坐标为$(x_0, y_0, x_1, y_1)$, 绕原点逆时针90 度后为$(y_0, - x_1, y1, - x_0)$。这有一个图形旋转的公式在这里\n\n![rotate_matrix](/images/rotate_matrix.png)\n\n这里面的Θ指的是旋转角度，而$x_0, y_0$指的是旋转前坐标，$x_1,y_1$是旋转后坐标。顺时针旋转 90度，Θ = -90°，因此矩阵运算后即可得到上述结果。\n\n此外，画图分析原点旋转后的图形可采取先将 x轴，y 轴互换，同时此时的 y 轴需要变向，比如互换后的 y 轴是向右的，变向后 y 轴向左，此时，将整个图形顺时针旋转 90°即可得到旋转后的图形。读出对应数值即可。\n\n![coordinate_transformation](/images/coordinate_transformation.jpeg)\n\n正方形绕中心旋转，坐标不变。","source":"_posts/rectangle_rotate.md","raw":"title:   矩形绕原点旋转\ndate: 2020-3-2\ntags: \ncategories: math\n\ndescription: 羞耻呀，貌似是初中知识\n---\n\n# 矩形绕原点顺时针旋转90 度\n\n给定矩形左上角和右下角坐标为$(x_0, y_0, x_1, y_1)$, 绕原点逆时针90 度后为$(y_0, - x_1, y1, - x_0)$。这有一个图形旋转的公式在这里\n\n![rotate_matrix](/images/rotate_matrix.png)\n\n这里面的Θ指的是旋转角度，而$x_0, y_0$指的是旋转前坐标，$x_1,y_1$是旋转后坐标。顺时针旋转 90度，Θ = -90°，因此矩阵运算后即可得到上述结果。\n\n此外，画图分析原点旋转后的图形可采取先将 x轴，y 轴互换，同时此时的 y 轴需要变向，比如互换后的 y 轴是向右的，变向后 y 轴向左，此时，将整个图形顺时针旋转 90°即可得到旋转后的图形。读出对应数值即可。\n\n![coordinate_transformation](/images/coordinate_transformation.jpeg)\n\n正方形绕中心旋转，坐标不变。","slug":"rectangle_rotate","published":1,"updated":"2020-03-02T13:15:27.581Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1o00b4qr3ll0po2ago"},{"title":"Find the contiguous subarray which has the largest sum","date":"2019-01-07T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.\n ## Examples\n``` java\nExample 1:\nInput: [-2,1,-3,4,-1,2,1,-5,4],\nOutput: 6\nExplanation: [4,-1,2,1] has the largest sum = 6.\n```\n\n## Solution\n　　这道题曾在剑指Offer上看过解法，有两种解法\n　　1. DP，做过最直观的DP啦~_~   $$ dp[i] =\\left\\{\n\\begin{aligned}\ndp[i - 1] + nums[i] && \\ f(i - 1)  >= 0 \\&\\& i != 0 \\\\\nnums[i] && \\ f[i - 1] < 0 ||  i == 0 \\\\\n\\end{aligned}\n\\right.\n$$\n　　2. 找规律，记录累加和，当累加和小于0时，说明前面的子数组已构成一个最大和（听着有点别扭哈）。令累加和等于当前值，重新开始累加。\n\n## Code\n\n```java\n/**DP\n     * @param nums\n     * @return the max sum of sub array\n     */\n     public int maxSubArray(int[] nums) {\n        int dp[] = new int[nums.length];\n        dp[0] = nums[0];\n        int maxSum = dp[0];\n        for (int i = 1; i < nums.length; i++) {\n            if (dp[i - 1] > 0) {\n                dp[i] = dp[i - 1] + nums[i];\n            } else {\n                dp[i] = nums[i];\n            }\n            maxSum = Math.max(dp[i], maxSum);\n        }\n        return maxSum;\n    }\n\n```\n```java\n/**Find the law \n     * @param nums\n     * @return the max sum of sub array\n     */\n    public int maxSubArray(int[] nums) {\n        int maxSum = Integer.MIN_VALUE;\n        int curSum = 0;\n        for (int i = 0; i < nums.length; i++) {\n            curSum = (curSum <= 0) ? nums[i] : (nums[i] + curSum);\n            maxSum = Math.max(maxSum, curSum);\n        }\n        return maxSum;\n    }\n\n```","source":"_posts/the contiguous subarray which has the largest sum.md","raw":"title:  Find the contiguous subarray which has the largest sum\ndate: 2019-1-8\ntags: [Leetcode,字节跳动]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.\n ## Examples\n``` java\nExample 1:\nInput: [-2,1,-3,4,-1,2,1,-5,4],\nOutput: 6\nExplanation: [4,-1,2,1] has the largest sum = 6.\n```\n\n## Solution\n　　这道题曾在剑指Offer上看过解法，有两种解法\n　　1. DP，做过最直观的DP啦~_~   $$ dp[i] =\\left\\{\n\\begin{aligned}\ndp[i - 1] + nums[i] && \\ f(i - 1)  >= 0 \\&\\& i != 0 \\\\\nnums[i] && \\ f[i - 1] < 0 ||  i == 0 \\\\\n\\end{aligned}\n\\right.\n$$\n　　2. 找规律，记录累加和，当累加和小于0时，说明前面的子数组已构成一个最大和（听着有点别扭哈）。令累加和等于当前值，重新开始累加。\n\n## Code\n\n```java\n/**DP\n     * @param nums\n     * @return the max sum of sub array\n     */\n     public int maxSubArray(int[] nums) {\n        int dp[] = new int[nums.length];\n        dp[0] = nums[0];\n        int maxSum = dp[0];\n        for (int i = 1; i < nums.length; i++) {\n            if (dp[i - 1] > 0) {\n                dp[i] = dp[i - 1] + nums[i];\n            } else {\n                dp[i] = nums[i];\n            }\n            maxSum = Math.max(dp[i], maxSum);\n        }\n        return maxSum;\n    }\n\n```\n```java\n/**Find the law \n     * @param nums\n     * @return the max sum of sub array\n     */\n    public int maxSubArray(int[] nums) {\n        int maxSum = Integer.MIN_VALUE;\n        int curSum = 0;\n        for (int i = 0; i < nums.length; i++) {\n            curSum = (curSum <= 0) ? nums[i] : (nums[i] + curSum);\n            maxSum = Math.max(maxSum, curSum);\n        }\n        return maxSum;\n    }\n\n```","slug":"the contiguous subarray which has the largest sum","published":1,"updated":"2020-02-13T07:16:09.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1p00b7qr3l7fwucp5e"},{"title":"Bitwise ORs of Subarrays","date":"2020-02-18T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/bitwise-ors-of-subarrays/\n\n\n## Solution\n\nA | B 可能会将 A中的一位或者多位 0 -> 1，不存在 1 -> 0的情况\n\nA，B的最大为 10^9,即最多为 30位, 当 A| B时，至多有 30为从 0变为 1.\n\n A[j]： 表示 从数组下标从 j 处到i处的元素进行或操作结果。\n\n A[i] & A[j]：表示 A[i] 从 A[j]中取出 A[i]的标志位。如果结果等于 A[i], 则表明 A[j]中含有 A[i]所有的二进制 1,就省去了再去进行与操作的步骤。这就是剪枝，通过必要的判断舍去部分的耗时分支执行时间。[剪枝](https://blog.csdn.net/u010700335/article/details/44079069)\n\n## Code\n\n```java\nclass Solution {\n    fun subarrayBitwiseORs(A: IntArray): Int {\n        if (A.size <= 1) {\n            return 1\n        }\n        val res = HashSet<Int>()\n        for (i in 0 until A.size) {\n            res.add(A[i]) //每个数都是一个子数组\n            for (j in i - 1 downTo 0) {\n                if (A[i] and A[j] == A[i]) break\n                A[j] = A[j] or A[i]\n                res.add(A[j])\n            }\n        }\n        return res.size\n    }\n}\n```","source":"_posts/subarrayBitwiseORs.md","raw":"title:   Bitwise ORs of Subarrays\ndate: 2020-2-19\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/bitwise-ors-of-subarrays/\n\n\n## Solution\n\nA | B 可能会将 A中的一位或者多位 0 -> 1，不存在 1 -> 0的情况\n\nA，B的最大为 10^9,即最多为 30位, 当 A| B时，至多有 30为从 0变为 1.\n\n A[j]： 表示 从数组下标从 j 处到i处的元素进行或操作结果。\n\n A[i] & A[j]：表示 A[i] 从 A[j]中取出 A[i]的标志位。如果结果等于 A[i], 则表明 A[j]中含有 A[i]所有的二进制 1,就省去了再去进行与操作的步骤。这就是剪枝，通过必要的判断舍去部分的耗时分支执行时间。[剪枝](https://blog.csdn.net/u010700335/article/details/44079069)\n\n## Code\n\n```java\nclass Solution {\n    fun subarrayBitwiseORs(A: IntArray): Int {\n        if (A.size <= 1) {\n            return 1\n        }\n        val res = HashSet<Int>()\n        for (i in 0 until A.size) {\n            res.add(A[i]) //每个数都是一个子数组\n            for (j in i - 1 downTo 0) {\n                if (A[i] and A[j] == A[i]) break\n                A[j] = A[j] or A[i]\n                res.add(A[j])\n            }\n        }\n        return res.size\n    }\n}\n```","slug":"subarrayBitwiseORs","published":1,"updated":"2020-02-18T01:50:54.996Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1q00bbqr3lx6im6uxq"},{"title":"Reverse Bits LCCI","date":"2020-02-29T16:00:00.000Z","description":"翻转数位","_content":"\n## Problem description\n\n## https://leetcode-cn.com/problems/reverse-bits-lcci/\n\n## Solution\n\n用一个长度为 1000 的数组记录该数组内连续1的长度，最终通过计算 该数组相邻元素的最大值。\n\n## Code\n\n```java\nclass Solution {\n    fun reverseBits(num: Int): Int {\n        var n = num\n        val res = IntArray(1000)\n        var index = 0\n        var max = 0\n        while (n > 0) {\n            if (n and 1 == 1)\n                res[index]++\n            else\n                index++\n            n = n shr 1\n        }\n\n        for (i in 0..index) {\n            if (max < res[i] + res[i + 1] + 1)\n                max = res[i] + res[i + 1] + 1\n        }\n        return max\n    }\n}\n```","source":"_posts/reverseBits.md","raw":"title:   Reverse Bits LCCI\ndate: 2020-3-1\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 翻转数位\n---\n\n## Problem description\n\n## https://leetcode-cn.com/problems/reverse-bits-lcci/\n\n## Solution\n\n用一个长度为 1000 的数组记录该数组内连续1的长度，最终通过计算 该数组相邻元素的最大值。\n\n## Code\n\n```java\nclass Solution {\n    fun reverseBits(num: Int): Int {\n        var n = num\n        val res = IntArray(1000)\n        var index = 0\n        var max = 0\n        while (n > 0) {\n            if (n and 1 == 1)\n                res[index]++\n            else\n                index++\n            n = n shr 1\n        }\n\n        for (i in 0..index) {\n            if (max < res[i] + res[i + 1] + 1)\n                max = res[i] + res[i + 1] + 1\n        }\n        return max\n    }\n}\n```","slug":"reverseBits","published":1,"updated":"2020-03-01T02:11:23.304Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1q00beqr3lfbd1saqc"},{"title":"N-Queens","date":"2020-03-09T16:00:00.000Z","description":"N皇后","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/n-queens/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/n-queens/solution/nhuang-hou-by-leetcode/\n\n经典的八皇后问题，在一个米字中不能有两个皇后。老办法进行深搜逐行遍历，找到 n - 1行表明找到一个可行解，否则如果放置了一个元素A导致下面一行无法进行放置，先恢复状态 移除该元素A,尝试将A 放置到该行的其他位置，继而继续遍历。整理为伪代码即 \n\n```\nfun backtrack(row) {\n\tfor (col in 0 until n)\n\t\tif (isUnderAttack(row, col))//如果该位置不能放 Queue 直接 continue\n\t\t\t\tcontinue;\n\t\taddQueen(row, col)\n\t\tif (row == n)\n\t\t\taddResult()\n\t\telse \n\t\t\tbacktrack(row + 1)\n\t\tremoveQueen(row, col)\n}\n```\n\n其中关键的代码在于怎么判断 isUnderAttack。有两个相关的数学知识\n\n1. 每条主对角线的 row - column 为常数，其 min 为 1 - n, max：n - 1\n2. 每条副对角线的 row + column 为常数，其 min 为 0，max 为 2n - 2\n\n我们需要标识两条对角线上的相应常数值是否有 queen 放置在上面了。我们还需要一个 rows数组 去进行标识某列是否有 queen，不需要去判断同一行是否有两个queen，因为在深搜过程中，i行 j 列添加了 queen 后，便会紧接着深搜下一行的 queen 位置进行放置。如果没找到放置位置，回溯到了 i 行 j 列，在访问 j + 1列前 `注意移除放置在 (i,j)的 queen`。  此外需要一个 queens 数组记录各行queen 的位置便于最后添加 result。\n\n第二天自己回看了提交记录中最优的解决方案，用到了位运算进行判断isUnderAttack 判断。那怎么进行记录呢？使用https://nightxlt.github.io/2020/02/10/Max_Length_Concatenated_String_with_Unique_Characters/\n\n这道题中的位压缩，用一个标志A记录状态，标志A中每一位表示该位置上是否有放置 queen。判断能否放置 queen也相当牛匹， 既然都是某一位是否为 1， 那就三个标志进行分辨右移对应位数（column, row - column + n - 1, row + column，这样一来首位就是标志位。将三个数的首位标志位或一下然后和 1 进行与操作。 结果为1 表明已经放置了 queen。  此外可以通过 xor B进行添加 queen，再次 xor B进行移除 queen。\n\n## Code\n\n```kotlin\nInit:\nclass Solution {\n    private lateinit var rows: BooleanArray\n    private lateinit var mainDig: BooleanArray\n    private lateinit var secDig: BooleanArray\n    private lateinit var queens: IntArray\n    private lateinit var res: MutableList<List<String>>\n    private var n: Int = 0\n\n    fun solveNQueens(n: Int): List<List<String>> {\n        this.n = n\n        res = mutableListOf()\n        rows = BooleanArray(n)\n        queens = IntArray(n)\n        mainDig = BooleanArray(3 * n)//声明为3n是因为后面需要对 row - column 的结果进行放大为正数\n        secDig = BooleanArray(2 * n - 1)\n        backTrack(0)\n        return res\n    }\n\n    private fun backTrack(row: Int) {\n        for (col in 0 until n) {\n            if (isUnderAttack(row, col)) {\n                continue //切记是 continue，并非是 return。因为后续的列可能存在满足条件的元素\n            }\n            addQueen(row, col)\n            if (row == n - 1) {\n                addRes()\n            } else {\n                backTrack(row + 1)\n            }\n            removeQueen(row, col)\n        }\n    }\n\n    private fun addRes() {\n        val rowString = mutableListOf<String>()\n        for (row in 0 until n) {\n            val string = StringBuilder()\n            for (col in 0 until queens[row]) string.append('.')\n            string.append('Q')\n            for (col in queens[row] + 1 until n) string.append('.')\n            rowString.add(string.toString())\n        }\n        res.add(rowString)\n    }\n\n    private fun addQueen(row: Int, col: Int) {\n        rows[col] = true\n        mainDig[row - col + 2 * n] = true\n        secDig[row + col] = true\n        queens[row] = col\n    }\n\n    private fun removeQueen(row: Int, col: Int) {\n        rows[col] = false\n        mainDig[row - col + 2 * n] = false // + 2n放大为正数，那其最大值对应的就是 3n - 1,故空间需要为 3n\n        secDig[row + col] = false\n        queens[row] = 0\n    }\n\n    private fun isUnderAttack(row: Int, col: Int): Boolean { //判断同行，主对角线，副对角线是否放置了 queen\n        return rows[col] || mainDig[row - col + 2 * n] || secDig[row + col]\n    }\n}\n```\n\n\n\n```kotlin\nAdvanced:\nclass Solution {\n\n    private var rows = 0\n    private var mainDig = 0\n    private var secDig = 0\n    private var n = 0\n    private var count = 0\n\n    private fun backTrack(row: Int) {\n        for (col in 0 until n) {\n            val mainDigConstants = row - col + n - 1\n            val secDigConstants = row + col\n            if (rows shr col or (mainDig shr mainDigConstants) or (secDig shr secDigConstants) and 1 != 0) {\n                continue\n            }\n            if (row == n - 1) {\n                count++\n                return\n            }\n            rows = rows xor (1 shl col)\n            mainDig = mainDig xor (1 shl mainDigConstants)\n            secDig = secDig xor (1 shl secDigConstants)\n            backTrack(row + 1)\n            rows = rows xor (1 shl col)\n            mainDig = mainDig xor (1 shl mainDigConstants)\n            secDig = secDig xor (1 shl secDigConstants)\n        }\n    }\n\n    fun totalNQueens(n: Int): Int {\n        this.n = n\n        backTrack(0)\n        return count\n    }\n}\n```\n\n","source":"_posts/solveNQueens.md","raw":"title:     N-Queens\ndate: 2020-3-10\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: N皇后\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/n-queens/\n\n## Solution\n\n参考：https://leetcode-cn.com/problems/n-queens/solution/nhuang-hou-by-leetcode/\n\n经典的八皇后问题，在一个米字中不能有两个皇后。老办法进行深搜逐行遍历，找到 n - 1行表明找到一个可行解，否则如果放置了一个元素A导致下面一行无法进行放置，先恢复状态 移除该元素A,尝试将A 放置到该行的其他位置，继而继续遍历。整理为伪代码即 \n\n```\nfun backtrack(row) {\n\tfor (col in 0 until n)\n\t\tif (isUnderAttack(row, col))//如果该位置不能放 Queue 直接 continue\n\t\t\t\tcontinue;\n\t\taddQueen(row, col)\n\t\tif (row == n)\n\t\t\taddResult()\n\t\telse \n\t\t\tbacktrack(row + 1)\n\t\tremoveQueen(row, col)\n}\n```\n\n其中关键的代码在于怎么判断 isUnderAttack。有两个相关的数学知识\n\n1. 每条主对角线的 row - column 为常数，其 min 为 1 - n, max：n - 1\n2. 每条副对角线的 row + column 为常数，其 min 为 0，max 为 2n - 2\n\n我们需要标识两条对角线上的相应常数值是否有 queen 放置在上面了。我们还需要一个 rows数组 去进行标识某列是否有 queen，不需要去判断同一行是否有两个queen，因为在深搜过程中，i行 j 列添加了 queen 后，便会紧接着深搜下一行的 queen 位置进行放置。如果没找到放置位置，回溯到了 i 行 j 列，在访问 j + 1列前 `注意移除放置在 (i,j)的 queen`。  此外需要一个 queens 数组记录各行queen 的位置便于最后添加 result。\n\n第二天自己回看了提交记录中最优的解决方案，用到了位运算进行判断isUnderAttack 判断。那怎么进行记录呢？使用https://nightxlt.github.io/2020/02/10/Max_Length_Concatenated_String_with_Unique_Characters/\n\n这道题中的位压缩，用一个标志A记录状态，标志A中每一位表示该位置上是否有放置 queen。判断能否放置 queen也相当牛匹， 既然都是某一位是否为 1， 那就三个标志进行分辨右移对应位数（column, row - column + n - 1, row + column，这样一来首位就是标志位。将三个数的首位标志位或一下然后和 1 进行与操作。 结果为1 表明已经放置了 queen。  此外可以通过 xor B进行添加 queen，再次 xor B进行移除 queen。\n\n## Code\n\n```kotlin\nInit:\nclass Solution {\n    private lateinit var rows: BooleanArray\n    private lateinit var mainDig: BooleanArray\n    private lateinit var secDig: BooleanArray\n    private lateinit var queens: IntArray\n    private lateinit var res: MutableList<List<String>>\n    private var n: Int = 0\n\n    fun solveNQueens(n: Int): List<List<String>> {\n        this.n = n\n        res = mutableListOf()\n        rows = BooleanArray(n)\n        queens = IntArray(n)\n        mainDig = BooleanArray(3 * n)//声明为3n是因为后面需要对 row - column 的结果进行放大为正数\n        secDig = BooleanArray(2 * n - 1)\n        backTrack(0)\n        return res\n    }\n\n    private fun backTrack(row: Int) {\n        for (col in 0 until n) {\n            if (isUnderAttack(row, col)) {\n                continue //切记是 continue，并非是 return。因为后续的列可能存在满足条件的元素\n            }\n            addQueen(row, col)\n            if (row == n - 1) {\n                addRes()\n            } else {\n                backTrack(row + 1)\n            }\n            removeQueen(row, col)\n        }\n    }\n\n    private fun addRes() {\n        val rowString = mutableListOf<String>()\n        for (row in 0 until n) {\n            val string = StringBuilder()\n            for (col in 0 until queens[row]) string.append('.')\n            string.append('Q')\n            for (col in queens[row] + 1 until n) string.append('.')\n            rowString.add(string.toString())\n        }\n        res.add(rowString)\n    }\n\n    private fun addQueen(row: Int, col: Int) {\n        rows[col] = true\n        mainDig[row - col + 2 * n] = true\n        secDig[row + col] = true\n        queens[row] = col\n    }\n\n    private fun removeQueen(row: Int, col: Int) {\n        rows[col] = false\n        mainDig[row - col + 2 * n] = false // + 2n放大为正数，那其最大值对应的就是 3n - 1,故空间需要为 3n\n        secDig[row + col] = false\n        queens[row] = 0\n    }\n\n    private fun isUnderAttack(row: Int, col: Int): Boolean { //判断同行，主对角线，副对角线是否放置了 queen\n        return rows[col] || mainDig[row - col + 2 * n] || secDig[row + col]\n    }\n}\n```\n\n\n\n```kotlin\nAdvanced:\nclass Solution {\n\n    private var rows = 0\n    private var mainDig = 0\n    private var secDig = 0\n    private var n = 0\n    private var count = 0\n\n    private fun backTrack(row: Int) {\n        for (col in 0 until n) {\n            val mainDigConstants = row - col + n - 1\n            val secDigConstants = row + col\n            if (rows shr col or (mainDig shr mainDigConstants) or (secDig shr secDigConstants) and 1 != 0) {\n                continue\n            }\n            if (row == n - 1) {\n                count++\n                return\n            }\n            rows = rows xor (1 shl col)\n            mainDig = mainDig xor (1 shl mainDigConstants)\n            secDig = secDig xor (1 shl secDigConstants)\n            backTrack(row + 1)\n            rows = rows xor (1 shl col)\n            mainDig = mainDig xor (1 shl mainDigConstants)\n            secDig = secDig xor (1 shl secDigConstants)\n        }\n    }\n\n    fun totalNQueens(n: Int): Int {\n        this.n = n\n        backTrack(0)\n        return count\n    }\n}\n```\n\n","slug":"solveNQueens","published":1,"updated":"2020-03-12T07:08:41.008Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1r00bhqr3lo06bj7f3"},{"title":"二叉搜索树转换双向链表","date":"2019-02-22T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### 输入一棵二叉搜索树，现在要将该二叉搜索树转换成一个排序的双向链表。而且在转换的过程中，不能创建任何新的结点，只能调整树中的结点指针的指向来实现。\n ## Examples\nInput: \n![enter description here](/images/AVL.jpg)\nOutput:\n![enter description here](/images/B_T_D.jpg)\n## Solution\n　　采用分治的思想，假设根节点的左右子树已被排成了双向链表，只需要把根节点left指针指向左子树所构成的双向链表末尾节点leftLast（即中序遍历左子树的最后一个节点）。若leftLast非空则leftLast.right = root.\n  右子树操作类似。找到右子树的中序遍历的第一个节点root .right = rightFirst; 若rightFirst非空则rightFirst.left = root; \n  此外一个值得注意的问题是Java中的拷贝问题。在记录左右侧中序遍历最后一个节点和第一个节点时。在函数调用后，leftLast仍旧为空。事实上root.left != null..下一篇博文会给出答案。\n\n## Code\n\n```java\n public class Solution {\n    private TreeNode mLastNode;\n\n    public static class TreeNode {\n        int val;\n        TreeNode left;\n        TreeNode right;\n\n        TreeNode(int x) {\n            val = x;\n            left = null;\n            right = null;\n        }\n    }\n\n    public TreeNode convert(TreeNode root) {\n        if (root == null) {\n            return root;\n        }\n        mLastNode = null;\n        convertNode(root);\n\n        root = mLastNode;\n        while (root != null && root.left != null) {\n            root = root.left;\n        }\n        return root;\n    }\n\n    private void convertNode(TreeNode root) {\n\n        if (root == null) {\n            return;\n        }\n\n        if (root.left != null) {\n            convertNode(root.left);\n        }\n\n        root.left = mLastNode;\n\n        if (mLastNode != null) {\n            mLastNode.right = root;\n        }\n\n        mLastNode = root;\n\n        if (root.right != null) {\n            convertNode(root.right);\n        }\n    }\n\n    public static void main(String[] args) {\n        TreeNode root = new TreeNode(2);\n        root.left = new TreeNode(1);\n        root.right = new TreeNode(3);\n        new Solution().convert(root);\n    }\n}\n```","source":"_posts/二叉搜索树转换双向链表.md","raw":"title: 二叉搜索树转换双向链表\ndate: 2019-2-23\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### 输入一棵二叉搜索树，现在要将该二叉搜索树转换成一个排序的双向链表。而且在转换的过程中，不能创建任何新的结点，只能调整树中的结点指针的指向来实现。\n ## Examples\nInput: \n![enter description here](/images/AVL.jpg)\nOutput:\n![enter description here](/images/B_T_D.jpg)\n## Solution\n　　采用分治的思想，假设根节点的左右子树已被排成了双向链表，只需要把根节点left指针指向左子树所构成的双向链表末尾节点leftLast（即中序遍历左子树的最后一个节点）。若leftLast非空则leftLast.right = root.\n  右子树操作类似。找到右子树的中序遍历的第一个节点root .right = rightFirst; 若rightFirst非空则rightFirst.left = root; \n  此外一个值得注意的问题是Java中的拷贝问题。在记录左右侧中序遍历最后一个节点和第一个节点时。在函数调用后，leftLast仍旧为空。事实上root.left != null..下一篇博文会给出答案。\n\n## Code\n\n```java\n public class Solution {\n    private TreeNode mLastNode;\n\n    public static class TreeNode {\n        int val;\n        TreeNode left;\n        TreeNode right;\n\n        TreeNode(int x) {\n            val = x;\n            left = null;\n            right = null;\n        }\n    }\n\n    public TreeNode convert(TreeNode root) {\n        if (root == null) {\n            return root;\n        }\n        mLastNode = null;\n        convertNode(root);\n\n        root = mLastNode;\n        while (root != null && root.left != null) {\n            root = root.left;\n        }\n        return root;\n    }\n\n    private void convertNode(TreeNode root) {\n\n        if (root == null) {\n            return;\n        }\n\n        if (root.left != null) {\n            convertNode(root.left);\n        }\n\n        root.left = mLastNode;\n\n        if (mLastNode != null) {\n            mLastNode.right = root;\n        }\n\n        mLastNode = root;\n\n        if (root.right != null) {\n            convertNode(root.right);\n        }\n    }\n\n    public static void main(String[] args) {\n        TreeNode root = new TreeNode(2);\n        root.left = new TreeNode(1);\n        root.right = new TreeNode(3);\n        new Solution().convert(root);\n    }\n}\n```","slug":"二叉搜索树转换双向链表","published":1,"updated":"2020-02-13T07:16:09.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1s00bkqr3lusjmw6o5"},{"title":"事件分发源码解析","date":"2019-02-03T16:00:00.000Z","description":"两周的bug解决之路","_content":"## Activity分发\n事件最先传递给Activity，Activity通过dispatchTouchEvent分发出去\n```java\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n            onUserInteraction();\n        }\n        if (getWindow().superDispatchTouchEvent(ev)) {\n            return true;\n        }\n        return onTouchEvent(ev);\n    }\n```\nActivity将事件交由window分发。若返回true，表明事件已被处理，否则调用Activity自己的onTouchEvent().Window是个抽象类，PhoneWindow是其唯一的实现类。\n## Window分发\n```java\n@Override\n    public boolean superDispatchTouchEvent(MotionEvent event) {\n        return mDecor.superDispatchTouchEvent(event);\n    }\n\t\n```\nWindow分发给了顶层DecorView。\n## 顶级View的分发\nDecorView 是FrameLayout，会将事件分发给ViewGroup\n```java\npublic class DecorView extends FrameLayout implements RootViewSurfaceTaker, WindowCallbacks {\n\n    public boolean superDispatchTouchEvent(MotionEvent event) {\n        return super.dispatchTouchEvent(event);//Invoke ViewGroup's dispatchTouchEvent()\n    }\n}\n```\n对ViewGroup 的dispatchTouchEvent逐段分析\n```java\n@Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n   ...\n     if (onFilterTouchEventForSecurity(ev)) {\n            final int action = ev.getAction();\n            final int actionMasked = action & MotionEvent.ACTION_MASK;\n\n            // Handle an initial down.\n            if (actionMasked == MotionEvent.ACTION_DOWN) {\n                // Throw away all previous state when starting a new touch gesture.\n                // The framework may have dropped the up or cancel event for the previous gesture\n                // due to an app switch, ANR, or some other state change.\n                cancelAndClearTouchTargets(ev);\n                resetTouchState();\n            }\n            // Check for interception.\n            final boolean intercepted;\n            if (actionMasked == MotionEvent.ACTION_DOWN\n                    || mFirstTouchTarget != null) {\n                final boolean disallowIntercept = (mGroupFlags & FLAG_DISALLOW_INTERCEPT) != 0;\n                if (!disallowIntercept) {\n                    intercepted = onInterceptTouchEvent(ev);\n                    ev.setAction(action); // restore action in case it was changed\n                } else {\n                    intercepted = false;\n                }\n            } else {\n                // There are no touch targets and this action is not an initial down\n                // so this view group continues to intercept touches.\n                intercepted = true;\n            }\n```\nViewGroup会在ACTION_DOWN到来时做重置操作resetTouchState()重置FLAG_DISALLOW_INTERCEPT.   因而当子View设置了FLAG_DISALLOW_INTERCEPT，ViewGroup仅可以拦截到ACTION_DOWN点击事件,ViewGroup会在两种情况决定拦截事件actionMasked == MotionEvent.ACTION_DOWN  || mFirstTouchTarget != null。 mFirstTouchTarget是 First touch target in the linked list of touch targets. ;TouchTarget是一个View的链表，用来记录TouchView事件涉及的View链表。而mFirstTouchTarget是记录首次Touch事件涉及的View。那就好理解啦。如果触摸的那个位置没有子View则mFirstTouchTarget为null，那么ViewGroup处理当前事件。且同一序列的其它事件亦交由它处理。因为actionMasked == MotionEvent.ACTION_DOWN.\n由此可得出ViewGroup在拦截事件后，后续的点击事件会默认交由它处理，不再调用onInterceptTouchEvent。\n故 onInterceptTouchEvent并非每次都会调用，而dispatchTouchEvent会\n当ViewGroup不拦截时，事件向下分发给子View\n```java\nif (!canceled && !intercepted) {\n...\n                    final int childrenCount = mChildrenCount;\n                    if (newTouchTarget == null && childrenCount != 0) {\n                        final float x = ev.getX(actionIndex);\n                        final float y = ev.getY(actionIndex);\n                        // Find a child that can receive the event.\n                        // Scan children from front to back.\n                        final ArrayList<View> preorderedList = buildTouchDispatchChildList();\n                        final boolean customOrder = preorderedList == null\n                                && isChildrenDrawingOrderEnabled();\n                        final View[] children = mChildren;\n                        for (int i = childrenCount - 1; i >= 0; i--) {\n                            final int childIndex = getAndVerifyPreorderedIndex(\n                                    childrenCount, i, customOrder);\n                            final View child = getAndVerifyPreorderedView(\n                                    preorderedList, children, childIndex);\n\n                            // If there is a view that has accessibility focus we want it\n                            // to get the event first and if not handled we will perform a\n                            // normal dispatch. We may do a double iteration but this is\n                            // safer given the timeframe.\n                            if (childWithAccessibilityFocus != null) {\n                                if (childWithAccessibilityFocus != child) {\n                                    continue;\n                                }\n                                childWithAccessibilityFocus = null;\n                                i = childrenCount - 1;\n                            }\n\n                            if (!canViewReceivePointerEvents(child)\n                                    || !isTransformedTouchPointInView(x, y, child, null)) {\n                                ev.setTargetAccessibilityFocus(false);\n                                continue;\n                            }\n\n                            newTouchTarget = getTouchTarget(child);\n                            if (newTouchTarget != null) {\n                                // Child is already receiving touch within its bounds.\n                                // Give it the new pointer in addition to the ones it is handling.\n                                newTouchTarget.pointerIdBits |= idBitsToAssign;\n                                break;\n                            }\n\n                            resetCancelNextUpFlag(child);\n                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {\n                                // Child wants to receive touch within its bounds.\n                                mLastTouchDownTime = ev.getDownTime();\n                                if (preorderedList != null) {\n                                    // childIndex points into presorted list, find original index\n                                    for (int j = 0; j < childrenCount; j++) {\n                                        if (children[childIndex] == mChildren[j]) {\n                                            mLastTouchDownIndex = j;\n                                            break;\n                                        }\n                                    }\n                                } else {\n                                    mLastTouchDownIndex = childIndex;\n                                }\n                                mLastTouchDownX = ev.getX();\n                                mLastTouchDownY = ev.getY();\n                                newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\n                            }\n\n                            // The accessibility focus didn't handle the event, so clear\n                            // the flag and do a normal dispatch to all children.\n                            ev.setTargetAccessibilityFocus(false);\n                        }\n                        if (preorderedList != null) preorderedList.clear();\n                    }\n\t\t\t\t\t...\n\t\t\t｝\n```\n遍历所有子View，判断其是否能够收到点击事件——1. 子View能否收到点击事件 2. 点击事件的坐标是否落在子View的区域内。在如下的dispatchTransformedTouchEvent中实际调用的就是子View的dispatchEvent\n```java\n    /**\n     * Transforms a motion event into the coordinate space of a particular child view,\n     * filters out irrelevant pointer ids, and overrides its action if necessary.\n     * If child is null, assumes the MotionEvent will be sent to this ViewGroup instead.\n     */\n    private boolean dispatchTransformedTouchEvent(MotionEvent event, boolean cancel,\n            View child, int desiredPointerIdBits) {\n        final boolean handled;\n\n        // Canceling motions is a special case.  We don't need to perform any transformations\n        // or filtering.  The important part is the action, not the contents.\n        final int oldAction = event.getAction();\n        if (cancel || oldAction == MotionEvent.ACTION_CANCEL) {\n            event.setAction(MotionEvent.ACTION_CANCEL);\n            if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n            } else {\n                handled = child.dispatchTouchEvent(event);\n            }\n            event.setAction(oldAction);\n            return handled;\n        }\n\n```\n若子View的dispatchTouchEvent返回true，mFirstTouchEvent会被赋值，然后break。\n```java\n newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\nprivate TouchTarget addTouchTarget(@NonNull View child, int pointerIdBits) {\n        final TouchTarget target = TouchTarget.obtain(child, pointerIdBits);\n        target.next = mFirstTouchTarget;\n        mFirstTouchTarget = target;\n        return target;\n    }\n```\n当该事件最终未被子View合适地的处理有两种情况。\n1. ViewGroup没有子View\n2. 子View的dispatchTouchEvent()返回了false(常见)\n```java\n            if (mFirstTouchTarget == null) {\n                // No touch targets so treat this as an ordinary view.\n                handled = dispatchTransformedTouchEvent(ev, canceled, null,\n                        TouchTarget.ALL_POINTER_IDS);\n            }\n\t\t\t...\n\t\t\t    if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n```\n将事件重新交由父元素View处理，且同一事件序列的后续事件不会再交给它处理。下面看View是如何处理\n\n## View对点击事件的处理\n这里View不包含ViewGroup\n```java\n    public boolean dispatchTouchEvent(MotionEvent event) {\n      ...\n        boolean result = false;\n\n        if (onFilterTouchEventForSecurity(event)) {\n            if ((mViewFlags & ENABLED_MASK) == ENABLED && handleScrollBarDragging(event)) {\n                result = true;\n            }\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n     ...\n        return result;\n    }\n\n```\n实现判断onTouchListener中的onTouch（）若返回为true,就不会调用onTouchEvent()，这样可以方便在Activity等外界直接setOnTouchListener().进入onTouchEvent()\n```java\n    public boolean onTouchEvent(MotionEvent event) {\n...\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if ((viewFlags & ENABLED_MASK) == DISABLED) {\n            if (action == MotionEvent.ACTION_UP && (mPrivateFlags & PFLAG_PRESSED) != 0) {\n                setPressed(false);\n            }\n            mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n            // A disabled view that is clickable still consumes the touch\n            // events, it just doesn't respond to them.\n            return clickable;\n        ｝\n\t\t...\n\t\t}\n```\n注释解释了在View不可用状态下，但View是可点击的，View仍旧会消耗这个事件。\n```java\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if (clickable || (viewFlags & TOOLTIP) == TOOLTIP) {\n            switch (action) {\n                case MotionEvent.ACTION_UP:\n                    mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n                    if ((viewFlags & TOOLTIP) == TOOLTIP) {\n                        handleTooltipUp();\n                    }\n                    if (!clickable) {\n                        removeTapCallback();\n                        removeLongPressCallback();\n                        mInContextButtonPress = false;\n                        mHasPerformedLongPress = false;\n                        mIgnoreNextUpEvent = false;\n                        break;\n                    }\n                    boolean prepressed = (mPrivateFlags & PFLAG_PREPRESSED) != 0;\n                    if ((mPrivateFlags & PFLAG_PRESSED) != 0 || prepressed) {\n                        // take focus if we don't have it already and we should in\n                        // touch mode.\n                        boolean focusTaken = false;\n                        if (isFocusable() && isFocusableInTouchMode() && !isFocused()) {\n                            focusTaken = requestFocus();\n                        }\n\n                        if (prepressed) {\n                            // The button is being released before we actually\n                            // showed it as pressed.  Make it show the pressed\n                            // state now (before scheduling the click) to ensure\n                            // the user sees it.\n                            setPressed(true, x, y);\n                        }\n\n                        if (!mHasPerformedLongPress && !mIgnoreNextUpEvent) {\n                            // This is a tap, so remove the longpress check\n                            removeLongPressCallback();\n\n                            // Only perform take click actions if we were in the pressed state\n                            if (!focusTaken) {\n                                // Use a Runnable and post this rather than calling\n                                // performClick directly. This lets other visual state\n                                // of the view update before click actions start.\n                                if (mPerformClick == null) {\n                                    mPerformClick = new PerformClick();\n                                }\n                                if (!post(mPerformClick)) {\n                                    performClick();\n                                }\n                            }\n                        }\n                    break;              \n            }\n            return true;\n        }\n```\n只有子View的CLICKABLE、LONG_CLICKABLE，CONTEXT_CLICKABLE，TOOLTIP有一个为true它就会返回true消耗该事件。当ACTION_UP时会调用performClick().\n```java\n    public boolean performClick() {\n        final boolean result;\n        final ListenerInfo li = mListenerInfo;\n        if (li != null && li.mOnClickListener != null) {\n            playSoundEffect(SoundEffectConstants.CLICK);\n            li.mOnClickListener.onClick(this);\n            result = true;\n        } else {\n            result = false;\n        }\n\n        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);\n\n        notifyEnterOrExitForAutoFillIfNeeded(true);\n\n        return result;\n    }\n\n```\n在performClick()若onClickListener不为空，则调用onClick()","source":"_posts/事件分发源码解析.md","raw":"title:  事件分发源码解析\ndate: 2019-2-4\ntags: [Android,View事件分发,源码解析]\ncategories: Android开发艺术探索\ndescription: 两周的bug解决之路\n---\n## Activity分发\n事件最先传递给Activity，Activity通过dispatchTouchEvent分发出去\n```java\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n            onUserInteraction();\n        }\n        if (getWindow().superDispatchTouchEvent(ev)) {\n            return true;\n        }\n        return onTouchEvent(ev);\n    }\n```\nActivity将事件交由window分发。若返回true，表明事件已被处理，否则调用Activity自己的onTouchEvent().Window是个抽象类，PhoneWindow是其唯一的实现类。\n## Window分发\n```java\n@Override\n    public boolean superDispatchTouchEvent(MotionEvent event) {\n        return mDecor.superDispatchTouchEvent(event);\n    }\n\t\n```\nWindow分发给了顶层DecorView。\n## 顶级View的分发\nDecorView 是FrameLayout，会将事件分发给ViewGroup\n```java\npublic class DecorView extends FrameLayout implements RootViewSurfaceTaker, WindowCallbacks {\n\n    public boolean superDispatchTouchEvent(MotionEvent event) {\n        return super.dispatchTouchEvent(event);//Invoke ViewGroup's dispatchTouchEvent()\n    }\n}\n```\n对ViewGroup 的dispatchTouchEvent逐段分析\n```java\n@Override\n    public boolean dispatchTouchEvent(MotionEvent ev) {\n   ...\n     if (onFilterTouchEventForSecurity(ev)) {\n            final int action = ev.getAction();\n            final int actionMasked = action & MotionEvent.ACTION_MASK;\n\n            // Handle an initial down.\n            if (actionMasked == MotionEvent.ACTION_DOWN) {\n                // Throw away all previous state when starting a new touch gesture.\n                // The framework may have dropped the up or cancel event for the previous gesture\n                // due to an app switch, ANR, or some other state change.\n                cancelAndClearTouchTargets(ev);\n                resetTouchState();\n            }\n            // Check for interception.\n            final boolean intercepted;\n            if (actionMasked == MotionEvent.ACTION_DOWN\n                    || mFirstTouchTarget != null) {\n                final boolean disallowIntercept = (mGroupFlags & FLAG_DISALLOW_INTERCEPT) != 0;\n                if (!disallowIntercept) {\n                    intercepted = onInterceptTouchEvent(ev);\n                    ev.setAction(action); // restore action in case it was changed\n                } else {\n                    intercepted = false;\n                }\n            } else {\n                // There are no touch targets and this action is not an initial down\n                // so this view group continues to intercept touches.\n                intercepted = true;\n            }\n```\nViewGroup会在ACTION_DOWN到来时做重置操作resetTouchState()重置FLAG_DISALLOW_INTERCEPT.   因而当子View设置了FLAG_DISALLOW_INTERCEPT，ViewGroup仅可以拦截到ACTION_DOWN点击事件,ViewGroup会在两种情况决定拦截事件actionMasked == MotionEvent.ACTION_DOWN  || mFirstTouchTarget != null。 mFirstTouchTarget是 First touch target in the linked list of touch targets. ;TouchTarget是一个View的链表，用来记录TouchView事件涉及的View链表。而mFirstTouchTarget是记录首次Touch事件涉及的View。那就好理解啦。如果触摸的那个位置没有子View则mFirstTouchTarget为null，那么ViewGroup处理当前事件。且同一序列的其它事件亦交由它处理。因为actionMasked == MotionEvent.ACTION_DOWN.\n由此可得出ViewGroup在拦截事件后，后续的点击事件会默认交由它处理，不再调用onInterceptTouchEvent。\n故 onInterceptTouchEvent并非每次都会调用，而dispatchTouchEvent会\n当ViewGroup不拦截时，事件向下分发给子View\n```java\nif (!canceled && !intercepted) {\n...\n                    final int childrenCount = mChildrenCount;\n                    if (newTouchTarget == null && childrenCount != 0) {\n                        final float x = ev.getX(actionIndex);\n                        final float y = ev.getY(actionIndex);\n                        // Find a child that can receive the event.\n                        // Scan children from front to back.\n                        final ArrayList<View> preorderedList = buildTouchDispatchChildList();\n                        final boolean customOrder = preorderedList == null\n                                && isChildrenDrawingOrderEnabled();\n                        final View[] children = mChildren;\n                        for (int i = childrenCount - 1; i >= 0; i--) {\n                            final int childIndex = getAndVerifyPreorderedIndex(\n                                    childrenCount, i, customOrder);\n                            final View child = getAndVerifyPreorderedView(\n                                    preorderedList, children, childIndex);\n\n                            // If there is a view that has accessibility focus we want it\n                            // to get the event first and if not handled we will perform a\n                            // normal dispatch. We may do a double iteration but this is\n                            // safer given the timeframe.\n                            if (childWithAccessibilityFocus != null) {\n                                if (childWithAccessibilityFocus != child) {\n                                    continue;\n                                }\n                                childWithAccessibilityFocus = null;\n                                i = childrenCount - 1;\n                            }\n\n                            if (!canViewReceivePointerEvents(child)\n                                    || !isTransformedTouchPointInView(x, y, child, null)) {\n                                ev.setTargetAccessibilityFocus(false);\n                                continue;\n                            }\n\n                            newTouchTarget = getTouchTarget(child);\n                            if (newTouchTarget != null) {\n                                // Child is already receiving touch within its bounds.\n                                // Give it the new pointer in addition to the ones it is handling.\n                                newTouchTarget.pointerIdBits |= idBitsToAssign;\n                                break;\n                            }\n\n                            resetCancelNextUpFlag(child);\n                            if (dispatchTransformedTouchEvent(ev, false, child, idBitsToAssign)) {\n                                // Child wants to receive touch within its bounds.\n                                mLastTouchDownTime = ev.getDownTime();\n                                if (preorderedList != null) {\n                                    // childIndex points into presorted list, find original index\n                                    for (int j = 0; j < childrenCount; j++) {\n                                        if (children[childIndex] == mChildren[j]) {\n                                            mLastTouchDownIndex = j;\n                                            break;\n                                        }\n                                    }\n                                } else {\n                                    mLastTouchDownIndex = childIndex;\n                                }\n                                mLastTouchDownX = ev.getX();\n                                mLastTouchDownY = ev.getY();\n                                newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\n                            }\n\n                            // The accessibility focus didn't handle the event, so clear\n                            // the flag and do a normal dispatch to all children.\n                            ev.setTargetAccessibilityFocus(false);\n                        }\n                        if (preorderedList != null) preorderedList.clear();\n                    }\n\t\t\t\t\t...\n\t\t\t｝\n```\n遍历所有子View，判断其是否能够收到点击事件——1. 子View能否收到点击事件 2. 点击事件的坐标是否落在子View的区域内。在如下的dispatchTransformedTouchEvent中实际调用的就是子View的dispatchEvent\n```java\n    /**\n     * Transforms a motion event into the coordinate space of a particular child view,\n     * filters out irrelevant pointer ids, and overrides its action if necessary.\n     * If child is null, assumes the MotionEvent will be sent to this ViewGroup instead.\n     */\n    private boolean dispatchTransformedTouchEvent(MotionEvent event, boolean cancel,\n            View child, int desiredPointerIdBits) {\n        final boolean handled;\n\n        // Canceling motions is a special case.  We don't need to perform any transformations\n        // or filtering.  The important part is the action, not the contents.\n        final int oldAction = event.getAction();\n        if (cancel || oldAction == MotionEvent.ACTION_CANCEL) {\n            event.setAction(MotionEvent.ACTION_CANCEL);\n            if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n            } else {\n                handled = child.dispatchTouchEvent(event);\n            }\n            event.setAction(oldAction);\n            return handled;\n        }\n\n```\n若子View的dispatchTouchEvent返回true，mFirstTouchEvent会被赋值，然后break。\n```java\n newTouchTarget = addTouchTarget(child, idBitsToAssign);\n                                alreadyDispatchedToNewTouchTarget = true;\n                                break;\nprivate TouchTarget addTouchTarget(@NonNull View child, int pointerIdBits) {\n        final TouchTarget target = TouchTarget.obtain(child, pointerIdBits);\n        target.next = mFirstTouchTarget;\n        mFirstTouchTarget = target;\n        return target;\n    }\n```\n当该事件最终未被子View合适地的处理有两种情况。\n1. ViewGroup没有子View\n2. 子View的dispatchTouchEvent()返回了false(常见)\n```java\n            if (mFirstTouchTarget == null) {\n                // No touch targets so treat this as an ordinary view.\n                handled = dispatchTransformedTouchEvent(ev, canceled, null,\n                        TouchTarget.ALL_POINTER_IDS);\n            }\n\t\t\t...\n\t\t\t    if (child == null) {\n                handled = super.dispatchTouchEvent(event);\n```\n将事件重新交由父元素View处理，且同一事件序列的后续事件不会再交给它处理。下面看View是如何处理\n\n## View对点击事件的处理\n这里View不包含ViewGroup\n```java\n    public boolean dispatchTouchEvent(MotionEvent event) {\n      ...\n        boolean result = false;\n\n        if (onFilterTouchEventForSecurity(event)) {\n            if ((mViewFlags & ENABLED_MASK) == ENABLED && handleScrollBarDragging(event)) {\n                result = true;\n            }\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n     ...\n        return result;\n    }\n\n```\n实现判断onTouchListener中的onTouch（）若返回为true,就不会调用onTouchEvent()，这样可以方便在Activity等外界直接setOnTouchListener().进入onTouchEvent()\n```java\n    public boolean onTouchEvent(MotionEvent event) {\n...\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if ((viewFlags & ENABLED_MASK) == DISABLED) {\n            if (action == MotionEvent.ACTION_UP && (mPrivateFlags & PFLAG_PRESSED) != 0) {\n                setPressed(false);\n            }\n            mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n            // A disabled view that is clickable still consumes the touch\n            // events, it just doesn't respond to them.\n            return clickable;\n        ｝\n\t\t...\n\t\t}\n```\n注释解释了在View不可用状态下，但View是可点击的，View仍旧会消耗这个事件。\n```java\n        final boolean clickable = ((viewFlags & CLICKABLE) == CLICKABLE\n                || (viewFlags & LONG_CLICKABLE) == LONG_CLICKABLE)\n                || (viewFlags & CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;\n\n        if (clickable || (viewFlags & TOOLTIP) == TOOLTIP) {\n            switch (action) {\n                case MotionEvent.ACTION_UP:\n                    mPrivateFlags3 &= ~PFLAG3_FINGER_DOWN;\n                    if ((viewFlags & TOOLTIP) == TOOLTIP) {\n                        handleTooltipUp();\n                    }\n                    if (!clickable) {\n                        removeTapCallback();\n                        removeLongPressCallback();\n                        mInContextButtonPress = false;\n                        mHasPerformedLongPress = false;\n                        mIgnoreNextUpEvent = false;\n                        break;\n                    }\n                    boolean prepressed = (mPrivateFlags & PFLAG_PREPRESSED) != 0;\n                    if ((mPrivateFlags & PFLAG_PRESSED) != 0 || prepressed) {\n                        // take focus if we don't have it already and we should in\n                        // touch mode.\n                        boolean focusTaken = false;\n                        if (isFocusable() && isFocusableInTouchMode() && !isFocused()) {\n                            focusTaken = requestFocus();\n                        }\n\n                        if (prepressed) {\n                            // The button is being released before we actually\n                            // showed it as pressed.  Make it show the pressed\n                            // state now (before scheduling the click) to ensure\n                            // the user sees it.\n                            setPressed(true, x, y);\n                        }\n\n                        if (!mHasPerformedLongPress && !mIgnoreNextUpEvent) {\n                            // This is a tap, so remove the longpress check\n                            removeLongPressCallback();\n\n                            // Only perform take click actions if we were in the pressed state\n                            if (!focusTaken) {\n                                // Use a Runnable and post this rather than calling\n                                // performClick directly. This lets other visual state\n                                // of the view update before click actions start.\n                                if (mPerformClick == null) {\n                                    mPerformClick = new PerformClick();\n                                }\n                                if (!post(mPerformClick)) {\n                                    performClick();\n                                }\n                            }\n                        }\n                    break;              \n            }\n            return true;\n        }\n```\n只有子View的CLICKABLE、LONG_CLICKABLE，CONTEXT_CLICKABLE，TOOLTIP有一个为true它就会返回true消耗该事件。当ACTION_UP时会调用performClick().\n```java\n    public boolean performClick() {\n        final boolean result;\n        final ListenerInfo li = mListenerInfo;\n        if (li != null && li.mOnClickListener != null) {\n            playSoundEffect(SoundEffectConstants.CLICK);\n            li.mOnClickListener.onClick(this);\n            result = true;\n        } else {\n            result = false;\n        }\n\n        sendAccessibilityEvent(AccessibilityEvent.TYPE_VIEW_CLICKED);\n\n        notifyEnterOrExitForAutoFillIfNeeded(true);\n\n        return result;\n    }\n\n```\n在performClick()若onClickListener不为空，则调用onClick()","slug":"事件分发源码解析","published":1,"updated":"2020-02-13T07:16:09.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1t00bnqr3loozp6saw"},{"title":"Total Hamming Distance","date":"2020-02-02T16:00:00.000Z","description":"　","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/total-hamming-distance/\n\n\n## Solution\n\n一开始直接暴力 O(n^2)果然超时了, `横向逐个比较行不通，换成竖的试试。` \n\n2 :  0010\n\n4:   0100\n\n14: 1110\n\n海明码距离指的是两个数字的二进制数对应位不同的数量，竖着理解为 第i位 有 x 个 1，y 个 0，其不同的数量为 x * y, 以第三位为例，分别是 0，0，1。1个 1,两个 0。 其不同的数目为2。\n\n我们需要一个 30位的数组去记录每一位的 1 的数目，因为题目中最大的数为 2^30，时间复杂度为 O(N * lgC) C 为数组中最大的数。空间复杂度为O(lgC)\n\nr对于横向比较走不下去时，可以尝试从竖向出发进行解决问题。类似的还有多链表合并的那道题目\n\n## Code\n\n```java\nclass TotalHammingDistance {\n    fun totalHammingDistance(nums: IntArray): Int {\n        if (nums.isEmpty()) {\n            return 0\n        }\n        var res = 0\n        var bins = IntArray(30)\n        for (num in nums) {\n            var n = num;\n            var i = 0\n            while (n != 0) {\n                bins[i++] += (n and 1)\n                n = n shr 1\n            }\n        }\n        for (bin in bins) {\n            res += bin * (nums.size - bin)\n        }\n        return res\n    }\n}\n```","source":"_posts/totalHammingDistance.md","raw":"title:  Total Hamming Distance\ndate: 2020-2-3\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 　\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/total-hamming-distance/\n\n\n## Solution\n\n一开始直接暴力 O(n^2)果然超时了, `横向逐个比较行不通，换成竖的试试。` \n\n2 :  0010\n\n4:   0100\n\n14: 1110\n\n海明码距离指的是两个数字的二进制数对应位不同的数量，竖着理解为 第i位 有 x 个 1，y 个 0，其不同的数量为 x * y, 以第三位为例，分别是 0，0，1。1个 1,两个 0。 其不同的数目为2。\n\n我们需要一个 30位的数组去记录每一位的 1 的数目，因为题目中最大的数为 2^30，时间复杂度为 O(N * lgC) C 为数组中最大的数。空间复杂度为O(lgC)\n\nr对于横向比较走不下去时，可以尝试从竖向出发进行解决问题。类似的还有多链表合并的那道题目\n\n## Code\n\n```java\nclass TotalHammingDistance {\n    fun totalHammingDistance(nums: IntArray): Int {\n        if (nums.isEmpty()) {\n            return 0\n        }\n        var res = 0\n        var bins = IntArray(30)\n        for (num in nums) {\n            var n = num;\n            var i = 0\n            while (n != 0) {\n                bins[i++] += (n and 1)\n                n = n shr 1\n            }\n        }\n        for (bin in bins) {\n            res += bin * (nums.size - bin)\n        }\n        return res\n    }\n}\n```","slug":"totalHammingDistance","published":1,"updated":"2020-02-13T07:14:48.767Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1u00bqqr3l1yr2yzvq"},{"title":"二叉树中和为某一特定值的路径","date":"2019-02-21T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### 题目：输入一棵二叉树和一个整数,打印出二叉树中结点值的和为输入整数的所有路径.从树的根结点开始往下一直到叶结点所经过的结点形成一条路径.\n ## Examples\n``` java\nExample 1:\nInput:\n          1\n      /         \\\n\t  2          3\n       \\\n        5                       ,        8\nOutput:[\"1->2->5\"]\t\t\n```\n## Solution\n　　采用递归的方法，在字符串中处理->注意可以先增加数字，再当左子树或右子树不为空时，增加->.\n\n## Code\n\n```java\n    public List<String> binaryTreePaths(TreeNode root, int sum) {\n        List<String> list = new ArrayList<>();\n\n        if (root == null) {\n            return list;\n        }\n\n        binaryTreepath(list, root, \"\", 0, sum);\n\n        return list;\n    }\n\n     public void binaryTreepath(List<String> list, TreeNode root, String s, int curSum, int sum) {\n\n        curSum += root.val;\n        s += root.val;\n\n        if (root.left != null) {\n            binaryTreepath(list, root.left, s + \"->\", curSum, sum);\n        }\n        if (root.right != null) {\n            binaryTreepath(list, root.right, s + \"->\", curSum, sum);\n        }\n        if (root.left == null && root.right == null && curSum == sum) {\n            list.add(s);\n            return;\n        }\n    }\n\n```","source":"_posts/二叉树中和为某一特定值的路径.md","raw":"title: 二叉树中和为某一特定值的路径\ndate: 2019-2-22\ntags: [Leetcode]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### 题目：输入一棵二叉树和一个整数,打印出二叉树中结点值的和为输入整数的所有路径.从树的根结点开始往下一直到叶结点所经过的结点形成一条路径.\n ## Examples\n``` java\nExample 1:\nInput:\n          1\n      /         \\\n\t  2          3\n       \\\n        5                       ,        8\nOutput:[\"1->2->5\"]\t\t\n```\n## Solution\n　　采用递归的方法，在字符串中处理->注意可以先增加数字，再当左子树或右子树不为空时，增加->.\n\n## Code\n\n```java\n    public List<String> binaryTreePaths(TreeNode root, int sum) {\n        List<String> list = new ArrayList<>();\n\n        if (root == null) {\n            return list;\n        }\n\n        binaryTreepath(list, root, \"\", 0, sum);\n\n        return list;\n    }\n\n     public void binaryTreepath(List<String> list, TreeNode root, String s, int curSum, int sum) {\n\n        curSum += root.val;\n        s += root.val;\n\n        if (root.left != null) {\n            binaryTreepath(list, root.left, s + \"->\", curSum, sum);\n        }\n        if (root.right != null) {\n            binaryTreepath(list, root.right, s + \"->\", curSum, sum);\n        }\n        if (root.left == null && root.right == null && curSum == sum) {\n            list.add(s);\n            return;\n        }\n    }\n\n```","slug":"二叉树中和为某一特定值的路径","published":1,"updated":"2020-02-13T07:16:09.062Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1v00btqr3lg3cszy9q"},{"title":"代理","date":"2016-04-22T16:00:00.000Z","description":"运行时创建一个实现了一组给定接口的新类","_content":"\n## 创建代理对象\n\n```java\npackage proxy;\n\nimport java.lang.reflect.*;\nimport java.util.*;\n\n\npublic class ProxyTest\n{\n   public static void main(String[] args)\n   {\n      Object[] elements = new Object[1000];\n\n   \n      for (int i = 0; i < elements.length; i++)\n      {\n         Integer value = i + 1;\n         InvocationHandler handler = new TraceHandler(value);\n         Object proxy = Proxy.newProxyInstance(null, new Class[] { Comparable.class } , handler);//（ClassLoader,Class对象数组，InvocationHandler）\n         elements[i] = proxy;\n      }\n\n      // construct a random integer\n      Integer key = new Random().nextInt(elements.length) + 1;\n\n      // search for the key\n      int result = Arrays.binarySearch(elements, key);//会获取到elements中的Comparable接口，调用compareTo()，而在compareTo()中调用了代理对象的InvocationHandler的invoke()\n\n      // print match if found\n      if (result >= 0) System.out.println(elements[result]);\n   }\n}\n\n/**\n * An invocation handler that prints out the method name and parameters, then\n * invokes the original method\n */\nclass TraceHandler implements InvocationHandler\n{\n   private Object target;\n\n   /**\n    * Constructs a TraceHandler\n    * @param t the implicit parameter of the method call\n    */\n   public TraceHandler(Object t)\n   {\n      target = t;\n   }\n\n   public Object invoke(Object proxy, Method m, Object[] args) throws Throwable\n   {\n      // print implicit argument\n      System.out.print(target);\n      // print method name\n      System.out.print(\".\" + m.getName() + \"(\");\n      // print explicit arguments\n      if (args != null)\n      {\n         for (int i = 0; i < args.length; i++)\n         {\n            System.out.print(args[i]);\n            if (i < args.length - 1) System.out.print(\", \");\n         }\n      }\n      System.out.println(\")\");\n\n      // invoke actual method\n      return m.invoke(target, args);\n   }\n}\n\n```\n\n  代理类通过提供一个invocation handler(其实现了InnovationHandler接口，该函数接口只有一个invoke(object proxy，Method method,Object[] args)),只要调用代理对象的方法，invocation handler的invoke()都会被调用。\n\n## 代理类的特性\n\n  代理类是在程序运行过程中创建的，所有同参数构造出来的代理类只会得到同一个代理类。可通过getProxyClass()获得这个类。","source":"_posts/代理.md","raw":"title: 代理\ndate: 2016-04-23 00:00:00\ntags: [Java]\ncategories: Java核心技术\ndescription: 运行时创建一个实现了一组给定接口的新类\n---\n\n## 创建代理对象\n\n```java\npackage proxy;\n\nimport java.lang.reflect.*;\nimport java.util.*;\n\n\npublic class ProxyTest\n{\n   public static void main(String[] args)\n   {\n      Object[] elements = new Object[1000];\n\n   \n      for (int i = 0; i < elements.length; i++)\n      {\n         Integer value = i + 1;\n         InvocationHandler handler = new TraceHandler(value);\n         Object proxy = Proxy.newProxyInstance(null, new Class[] { Comparable.class } , handler);//（ClassLoader,Class对象数组，InvocationHandler）\n         elements[i] = proxy;\n      }\n\n      // construct a random integer\n      Integer key = new Random().nextInt(elements.length) + 1;\n\n      // search for the key\n      int result = Arrays.binarySearch(elements, key);//会获取到elements中的Comparable接口，调用compareTo()，而在compareTo()中调用了代理对象的InvocationHandler的invoke()\n\n      // print match if found\n      if (result >= 0) System.out.println(elements[result]);\n   }\n}\n\n/**\n * An invocation handler that prints out the method name and parameters, then\n * invokes the original method\n */\nclass TraceHandler implements InvocationHandler\n{\n   private Object target;\n\n   /**\n    * Constructs a TraceHandler\n    * @param t the implicit parameter of the method call\n    */\n   public TraceHandler(Object t)\n   {\n      target = t;\n   }\n\n   public Object invoke(Object proxy, Method m, Object[] args) throws Throwable\n   {\n      // print implicit argument\n      System.out.print(target);\n      // print method name\n      System.out.print(\".\" + m.getName() + \"(\");\n      // print explicit arguments\n      if (args != null)\n      {\n         for (int i = 0; i < args.length; i++)\n         {\n            System.out.print(args[i]);\n            if (i < args.length - 1) System.out.print(\", \");\n         }\n      }\n      System.out.println(\")\");\n\n      // invoke actual method\n      return m.invoke(target, args);\n   }\n}\n\n```\n\n  代理类通过提供一个invocation handler(其实现了InnovationHandler接口，该函数接口只有一个invoke(object proxy，Method method,Object[] args)),只要调用代理对象的方法，invocation handler的invoke()都会被调用。\n\n## 代理类的特性\n\n  代理类是在程序运行过程中创建的，所有同参数构造出来的代理类只会得到同一个代理类。可通过getProxyClass()获得这个类。","slug":"代理","published":1,"updated":"2020-02-13T07:16:09.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1x00bwqr3l86t48zps"},{"title":"卷积神经网络工作原理","date":"2019-02-14T16:00:00.000Z","description":"　　","_content":"## 概念\n![enter description here](/images/CNN.PNG)\n卷积神经网络即根据一张输入图片进行判断输出结果的中间黑箱。\n![enter description here](/images/CNN-2.PNG)\n无论其经过若干次基本处理，仍旧能识别出对应图像\n## 提取原图特征——卷积\n![enter description here](/images/feature-1.PNG)\n以灰度图像为例亮的地方为1，暗的为-1.那么计算机是如何识别即使是旋转过的X呢？这就是卷积的操作了。\n用卷积核在原图上滑动，进行卷积运算，得到特征图feature map。\n卷积的本质：将原图中符合卷积核特征的特征提取出来，展示在feature map里面。卷积核进行卷积可以得到与卷积核特征一致的featuremap。\n如果原图是X，卷积核是X，那么卷积核在原图上卷积运算之后生成的feature map也是X。\n如果原图是O，卷积核是O，那么卷积核在原图上卷积运算之后生成的feature map也是O。\n如果原图是O，卷积核是X，那么卷积核在原图上卷积运算之后生成的feature map就是乱码。\n权值共享：卷积核扫过整张图片的过程中，卷积核参数不变。\n\n下图的动画中，绿色表示原图像素值，红色数字表示卷积核中的参数，黄色表示卷积核在原图上滑动。右图表示卷积运算之后生成的feature map。\n![enter description here](/images/feature-2.gif)\n下图展示了RGB三个通道图片的卷积运算过程，共有两组卷积核，每组卷积核都有三个filter分别与原图的RGB三个通道进行卷积。每组卷积核各自生成一个feature map。\n![enter description here](/images/feature-3.jpg)\n> 原图最外圈补0：zero padding,便于提取图像边缘的特征\n\n局部连接：feature map上每个值仅对应着原图的一小块区域，原图上的这块局部区域称作感受野（receptive field）。局部连接的思想，受启发于生物学里面的视觉系统，视觉皮层的神经元就是局部接受信息的。\n![enter description here](/images/feature-4.jpg)\n## 池化（下采样）：保留特征的同时压缩数据量\n池化（Pooling）也叫做下采样（subsampling），用一个像素代替原图上邻近的若干像素，在保留feature map特征的同时压缩其大小。\n池化的作用：\n- 防止数据爆炸，节省运算量和运算时间。\n- 防止过拟合、过学习。\n池化可采取最大值和平均值来压缩大小\n![enter description here](/images/pooling.jpg)\n\n## 正则化：降低复杂模型的复杂度\n在这里字符识别中采用relu激活函数max(0,x)进行抹零操作。因为矩阵中有较多的0可以方便运算。\n\n## 重复\n![enter description here](/images/layer.PNG)\n将上述三个操作排列组合后重复若干次\n\n## 全连接：最终通过加权计算得出结果\n全连接层（可多层）：输出的每个神经元都和上一层每一个神经元连接。\n\n卷积核的数量、大小、移动步长、补0的圈数是事先人为根据经验指定的，全连接层隐藏层的层数、神经元个数也是人为根据经验指定的（这叫做超参数），但其内部的参数是训练出来的。\n![enter description here](/images/all-connection.PNG)\n## 损失函数\n计算神经网络的推测结果与图片真实标签的差距，构造损失函数，训练的目标就是将找到损失函数的最小值。\n## 随机梯度下降\n在减小损失函数的过程中，采用步步为营的方法，单个样本单个样本输入进行优化，而不是将全部样本计算之后再统一优化。虽然个别样本会出偏差，但随着样本数量增加，仍旧能够逐渐逼近损失函数最小值。\n## 反向传播（Backpropagation）\n通过求导找到损失函数的最小值，再一层一层反馈回去修改卷积核参数和全连接参数。","source":"_posts/卷积神经网络工作原理.md","raw":"title: 卷积神经网络工作原理\ndate: 2019-2-15\ntags: [Machine Learning]\ncategories: Machine Learning\ndescription: 　　\n---\n## 概念\n![enter description here](/images/CNN.PNG)\n卷积神经网络即根据一张输入图片进行判断输出结果的中间黑箱。\n![enter description here](/images/CNN-2.PNG)\n无论其经过若干次基本处理，仍旧能识别出对应图像\n## 提取原图特征——卷积\n![enter description here](/images/feature-1.PNG)\n以灰度图像为例亮的地方为1，暗的为-1.那么计算机是如何识别即使是旋转过的X呢？这就是卷积的操作了。\n用卷积核在原图上滑动，进行卷积运算，得到特征图feature map。\n卷积的本质：将原图中符合卷积核特征的特征提取出来，展示在feature map里面。卷积核进行卷积可以得到与卷积核特征一致的featuremap。\n如果原图是X，卷积核是X，那么卷积核在原图上卷积运算之后生成的feature map也是X。\n如果原图是O，卷积核是O，那么卷积核在原图上卷积运算之后生成的feature map也是O。\n如果原图是O，卷积核是X，那么卷积核在原图上卷积运算之后生成的feature map就是乱码。\n权值共享：卷积核扫过整张图片的过程中，卷积核参数不变。\n\n下图的动画中，绿色表示原图像素值，红色数字表示卷积核中的参数，黄色表示卷积核在原图上滑动。右图表示卷积运算之后生成的feature map。\n![enter description here](/images/feature-2.gif)\n下图展示了RGB三个通道图片的卷积运算过程，共有两组卷积核，每组卷积核都有三个filter分别与原图的RGB三个通道进行卷积。每组卷积核各自生成一个feature map。\n![enter description here](/images/feature-3.jpg)\n> 原图最外圈补0：zero padding,便于提取图像边缘的特征\n\n局部连接：feature map上每个值仅对应着原图的一小块区域，原图上的这块局部区域称作感受野（receptive field）。局部连接的思想，受启发于生物学里面的视觉系统，视觉皮层的神经元就是局部接受信息的。\n![enter description here](/images/feature-4.jpg)\n## 池化（下采样）：保留特征的同时压缩数据量\n池化（Pooling）也叫做下采样（subsampling），用一个像素代替原图上邻近的若干像素，在保留feature map特征的同时压缩其大小。\n池化的作用：\n- 防止数据爆炸，节省运算量和运算时间。\n- 防止过拟合、过学习。\n池化可采取最大值和平均值来压缩大小\n![enter description here](/images/pooling.jpg)\n\n## 正则化：降低复杂模型的复杂度\n在这里字符识别中采用relu激活函数max(0,x)进行抹零操作。因为矩阵中有较多的0可以方便运算。\n\n## 重复\n![enter description here](/images/layer.PNG)\n将上述三个操作排列组合后重复若干次\n\n## 全连接：最终通过加权计算得出结果\n全连接层（可多层）：输出的每个神经元都和上一层每一个神经元连接。\n\n卷积核的数量、大小、移动步长、补0的圈数是事先人为根据经验指定的，全连接层隐藏层的层数、神经元个数也是人为根据经验指定的（这叫做超参数），但其内部的参数是训练出来的。\n![enter description here](/images/all-connection.PNG)\n## 损失函数\n计算神经网络的推测结果与图片真实标签的差距，构造损失函数，训练的目标就是将找到损失函数的最小值。\n## 随机梯度下降\n在减小损失函数的过程中，采用步步为营的方法，单个样本单个样本输入进行优化，而不是将全部样本计算之后再统一优化。虽然个别样本会出偏差，但随着样本数量增加，仍旧能够逐渐逼近损失函数最小值。\n## 反向传播（Backpropagation）\n通过求导找到损失函数的最小值，再一层一层反馈回去修改卷积核参数和全连接参数。","slug":"卷积神经网络工作原理","published":1,"updated":"2020-02-13T07:16:09.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1x00bzqr3l45oyopvf"},{"title":"Word Search","date":"2020-03-06T16:00:00.000Z","description":"单词搜索","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-search/\n\n## Solution\n\n参考 ：https://leetcode-cn.com/problems/word-search/solution/de-acjing-li-zong-jie-yi-xia-zhe-ge-you-de-dfshui-/\n\n这和一年前做过的最大岛屿数量那道题很类似，朝四个方向进行遍历。不过那道题更像深搜，这道题更像是回溯。两题的共同点是开始进行深搜前需要改变当前节点状态防止重复访问。\n\n不同点这道题遍历完四个方向后需要恢复状态，避免其他节点访问到该节点时状态异常（被置为‘ ’）。恢复状态是回溯中独有的一个特征。`回溯需要保证访问节点前后状态一致。`牛匹的是题解中不使用多余空间进行存储访问过的字符串，仅需累计比较当前 word[cur]和 board[row] [column] 一致判断即可得到之前的节点也是一致的。此外我们访问节点的 cur 是从 0 until word.length，当心越界\n\n这道题的剪枝\n\n1.  || 短路或，当找到一个正确结果后，就不需要再进行深搜\n2. 当前元素 word 中的元素和 board 的对应元素是否一致，如果不一致，及早结束后续无谓比较\n\n时间复杂度：  $O(m \\* n  \\* 4 \\* l)$ ,m*n 是 board 的大小， board 上每个点都会被访问到，4：每个顶点有四个邻居，l: word.length, 至多深搜至word.length 次。\n\n空间复杂度：$O(1)$\n\n## Code\n\n```java\nclass Solution {\n    fun exist(board: Array<CharArray>, word: String): Boolean {\n        if (board.isEmpty()) {\n            return false\n        }\n        fun dfs(row: Int, column: Int, cur: Int): Boolean {\n            if (word[cur] != board[row][column]) {\n                return false\n            }\n            if (cur == word.length - 1) {\n                return true\n            }\n            val c = board[row][column]\n            board[row][column] = ' '\n            val res = (column < board[0].size - 1 && dfs(row, column + 1, cur + 1))\n                    || (row < board.size - 1 && dfs(row + 1, column, cur + 1))\n                    || (row > 0 && dfs(row - 1, column, cur + 1))\n                    || (column > 0 && dfs(row, column - 1, cur + 1))\n            board[row][column] = c\n            return res\n        }\n        for (i in 0 until board.size) {\n            for (j in 0 until board[0].size) {\n                if (dfs(i, j, 0)) {\n                    return true\n                }\n            }\n        }\n        return false\n    }\n}\n```","source":"_posts/word_search.md","raw":"title:    Word Search\ndate: 2020-3-7\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 单词搜索\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-search/\n\n## Solution\n\n参考 ：https://leetcode-cn.com/problems/word-search/solution/de-acjing-li-zong-jie-yi-xia-zhe-ge-you-de-dfshui-/\n\n这和一年前做过的最大岛屿数量那道题很类似，朝四个方向进行遍历。不过那道题更像深搜，这道题更像是回溯。两题的共同点是开始进行深搜前需要改变当前节点状态防止重复访问。\n\n不同点这道题遍历完四个方向后需要恢复状态，避免其他节点访问到该节点时状态异常（被置为‘ ’）。恢复状态是回溯中独有的一个特征。`回溯需要保证访问节点前后状态一致。`牛匹的是题解中不使用多余空间进行存储访问过的字符串，仅需累计比较当前 word[cur]和 board[row] [column] 一致判断即可得到之前的节点也是一致的。此外我们访问节点的 cur 是从 0 until word.length，当心越界\n\n这道题的剪枝\n\n1.  || 短路或，当找到一个正确结果后，就不需要再进行深搜\n2. 当前元素 word 中的元素和 board 的对应元素是否一致，如果不一致，及早结束后续无谓比较\n\n时间复杂度：  $O(m \\* n  \\* 4 \\* l)$ ,m*n 是 board 的大小， board 上每个点都会被访问到，4：每个顶点有四个邻居，l: word.length, 至多深搜至word.length 次。\n\n空间复杂度：$O(1)$\n\n## Code\n\n```java\nclass Solution {\n    fun exist(board: Array<CharArray>, word: String): Boolean {\n        if (board.isEmpty()) {\n            return false\n        }\n        fun dfs(row: Int, column: Int, cur: Int): Boolean {\n            if (word[cur] != board[row][column]) {\n                return false\n            }\n            if (cur == word.length - 1) {\n                return true\n            }\n            val c = board[row][column]\n            board[row][column] = ' '\n            val res = (column < board[0].size - 1 && dfs(row, column + 1, cur + 1))\n                    || (row < board.size - 1 && dfs(row + 1, column, cur + 1))\n                    || (row > 0 && dfs(row - 1, column, cur + 1))\n                    || (column > 0 && dfs(row, column - 1, cur + 1))\n            board[row][column] = c\n            return res\n        }\n        for (i in 0 until board.size) {\n            for (j in 0 until board[0].size) {\n                if (dfs(i, j, 0)) {\n                    return true\n                }\n            }\n        }\n        return false\n    }\n}\n```","slug":"word_search","published":1,"updated":"2020-03-07T04:47:23.087Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1y00c3qr3lltftey43"},{"title":"XOR Queries of a Subarray","date":"2020-02-22T16:00:00.000Z","description":"前 n 项和异或","_content":"\n## Problem description\n\n  ### https://leetcode-cn.com/problems/xor-queries-of-a-subarray/\n\n\n## Solution\n\n参考https://leetcode-cn.com/problems/xor-queries-of-a-subarray/solution/zi-shu-zu-yi-huo-cha-xun-by-leetcode-solution/\n\n令 pre 记录 arr 中的前 n - 1项异或和，\n\n```\npre[i] = arr[0] ^ arr[1] ^ ... ^ arr[i - 1]\n```\n\n那么可以得到\n\n```\npre[Li] ^ pre[Ri + 1] = (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[0] ^ ... ^ arr[Ri]) //Ri + 1将第 Ri 纳入到异或范围内\n                      = (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[Li] ^ ... ^ arr[Ri]) \n                      = arr[Li] ^ ... ^ arr[Ri]\n```\n\n确保角标不要有问题，pre 是从 1..arr.size, 而 query 内的取值是 0..arr.size-1. \n\n## Code\n\n```java\nclass Solution {\n    fun xorQueries(arr: IntArray, queries: Array<IntArray>): IntArray {\n        val pre = IntArray(arr.size + 1)\n        pre[0] = 0\n        arr.forEachIndexed { index, num ->\n            pre[index + 1] = pre[index] xor num\n        }\n        val res = IntArray(queries.size)\n        queries.forEachIndexed { index, query ->\n            res[index] = pre[query[0]]  xor pre[query[1] + 1]\n        }\n        return res\n    }\n}\n```","source":"_posts/xorQueries.md","raw":"title:   XOR Queries of a Subarray\ndate: 2020-2-23\ntags: [Leetcode,位运算]\ncategories: algorithm\n\ndescription: 前 n 项和异或\n---\n\n## Problem description\n\n  ### https://leetcode-cn.com/problems/xor-queries-of-a-subarray/\n\n\n## Solution\n\n参考https://leetcode-cn.com/problems/xor-queries-of-a-subarray/solution/zi-shu-zu-yi-huo-cha-xun-by-leetcode-solution/\n\n令 pre 记录 arr 中的前 n - 1项异或和，\n\n```\npre[i] = arr[0] ^ arr[1] ^ ... ^ arr[i - 1]\n```\n\n那么可以得到\n\n```\npre[Li] ^ pre[Ri + 1] = (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[0] ^ ... ^ arr[Ri]) //Ri + 1将第 Ri 纳入到异或范围内\n                      = (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[0] ^ ... ^ arr[Li - 1]) ^ (arr[Li] ^ ... ^ arr[Ri]) \n                      = arr[Li] ^ ... ^ arr[Ri]\n```\n\n确保角标不要有问题，pre 是从 1..arr.size, 而 query 内的取值是 0..arr.size-1. \n\n## Code\n\n```java\nclass Solution {\n    fun xorQueries(arr: IntArray, queries: Array<IntArray>): IntArray {\n        val pre = IntArray(arr.size + 1)\n        pre[0] = 0\n        arr.forEachIndexed { index, num ->\n            pre[index + 1] = pre[index] xor num\n        }\n        val res = IntArray(queries.size)\n        queries.forEachIndexed { index, query ->\n            res[index] = pre[query[0]]  xor pre[query[1] + 1]\n        }\n        return res\n    }\n}\n```","slug":"xorQueries","published":1,"updated":"2020-02-27T01:57:39.367Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay1z00c7qr3lx1c6om3a"},{"title":"Word Search II","date":"2020-03-13T16:00:00.000Z","description":"单词搜索 II","_content":"\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-search-ii/\n\n## Solution\n\n尽管使用上题的代码逐个遍历，可以通过但执行用时太大了。怎么进行优化呢？目前的解题思路是通过将 words 中每个 word在 board 中深搜，那可以在一次深搜过程中找到所有的 word 吗？答案是可以的，不过需要使用一个 `前缀树`作为数据结构存储 word.\n\n关于前缀树的定义，可参考：https://nightxlt.github.io/2020/03/13/prefix_tree/\n\n为了方便添加 word 在前缀树的结构上进行了两处调整\n\n1. 去除了搜索功能，因为本题需要进行逐步深搜\n2. 使用字符串 word 字段记录该树枝上的完整字符串 替代 标识字符结束字段，这样可以更方便在遍历到一个字符串时，直接进行添加。\n\n每当遍历到 board 的一个字符时判断其是否在树中存在。不存在则直接返回。为了避免判断 an和 ang 时的重复遍历前缀树，我们在深搜时将子节点做为新一轮深搜的起始节点。\n\n时间复杂度：  $O(m \\* n  \\* 4 \\* l)$ ,m*n 是 board 的大小， board 上每个点都会被访问到，4：每个顶点有四个邻居，l: max( words[i].length), 至多深搜至max( words[i].length) 次。\n\n空间复杂度：$O(k)$ k: words.size\n\n## Code\n\n```java\nclass Solution {\n    fun dfs(board: Array<CharArray>, node: Trie, row: Int, column: Int, res: MutableList<String>) {\n        if (row < 0 || row == board.size || column < 0 || column == board[row].size) {\n            return\n        }\n        val c = board[row][column]\n        if (c == '.' || !node.children.containsKey(c)) {\n            return\n        }\n        var trieNode = node\n        trieNode.children[c]?.run {\n            trieNode = this\n        }\n        trieNode.word?.run { //如果当前 board 已匹配到一个 word，添加其进入 res，并将其置空防止重复添加\n            res.add(this)\n            trieNode.word = null\n        }\n        board[row][column] = '.'\n        dfs(board, trieNode, row, column + 1, res) //将子节点作为新一轮深搜起点\n        dfs(board, trieNode, row - 1, column, res)\n        dfs(board, trieNode, row + 1, column, res)\n        dfs(board, trieNode, row, column - 1, res)\n        board[row][column] = c\n    }\n\n    fun findWords(board: Array<CharArray>, words: Array<String>): List<String> {\n        if (board.isEmpty() || words.isEmpty()) {\n            return emptyList()\n        }\n        val res = mutableListOf<String>()\n        val root = Trie()\n        words.forEach {\n            root.insert(it)\n        }\n        for (i in 0 until board.size) {\n            for (j in 0 until board[0].size) {\n                dfs(board, root, i, j, res)\n            }\n        }\n        return res\n    }\n\n}\nclass Trie {\n\n    var children = HashMap<Char, Trie>()\n    var word: String? = null\n\n    /** Inserts a word into the trie. */\n    fun insert(word: String) {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                cur.children[it] = Trie()\n            }\n            cur = cur.children[it]!!\n        }\n        cur.word = word\n    }\n}\n```","source":"_posts/word_search2.md","raw":"title:    Word Search II\ndate: 2020-3-14\ntags: [Leetcode,回溯]\ncategories: algorithm\n\ndescription: 单词搜索 II\n---\n\n## Problem description\n\nhttps://leetcode-cn.com/problems/word-search-ii/\n\n## Solution\n\n尽管使用上题的代码逐个遍历，可以通过但执行用时太大了。怎么进行优化呢？目前的解题思路是通过将 words 中每个 word在 board 中深搜，那可以在一次深搜过程中找到所有的 word 吗？答案是可以的，不过需要使用一个 `前缀树`作为数据结构存储 word.\n\n关于前缀树的定义，可参考：https://nightxlt.github.io/2020/03/13/prefix_tree/\n\n为了方便添加 word 在前缀树的结构上进行了两处调整\n\n1. 去除了搜索功能，因为本题需要进行逐步深搜\n2. 使用字符串 word 字段记录该树枝上的完整字符串 替代 标识字符结束字段，这样可以更方便在遍历到一个字符串时，直接进行添加。\n\n每当遍历到 board 的一个字符时判断其是否在树中存在。不存在则直接返回。为了避免判断 an和 ang 时的重复遍历前缀树，我们在深搜时将子节点做为新一轮深搜的起始节点。\n\n时间复杂度：  $O(m \\* n  \\* 4 \\* l)$ ,m*n 是 board 的大小， board 上每个点都会被访问到，4：每个顶点有四个邻居，l: max( words[i].length), 至多深搜至max( words[i].length) 次。\n\n空间复杂度：$O(k)$ k: words.size\n\n## Code\n\n```java\nclass Solution {\n    fun dfs(board: Array<CharArray>, node: Trie, row: Int, column: Int, res: MutableList<String>) {\n        if (row < 0 || row == board.size || column < 0 || column == board[row].size) {\n            return\n        }\n        val c = board[row][column]\n        if (c == '.' || !node.children.containsKey(c)) {\n            return\n        }\n        var trieNode = node\n        trieNode.children[c]?.run {\n            trieNode = this\n        }\n        trieNode.word?.run { //如果当前 board 已匹配到一个 word，添加其进入 res，并将其置空防止重复添加\n            res.add(this)\n            trieNode.word = null\n        }\n        board[row][column] = '.'\n        dfs(board, trieNode, row, column + 1, res) //将子节点作为新一轮深搜起点\n        dfs(board, trieNode, row - 1, column, res)\n        dfs(board, trieNode, row + 1, column, res)\n        dfs(board, trieNode, row, column - 1, res)\n        board[row][column] = c\n    }\n\n    fun findWords(board: Array<CharArray>, words: Array<String>): List<String> {\n        if (board.isEmpty() || words.isEmpty()) {\n            return emptyList()\n        }\n        val res = mutableListOf<String>()\n        val root = Trie()\n        words.forEach {\n            root.insert(it)\n        }\n        for (i in 0 until board.size) {\n            for (j in 0 until board[0].size) {\n                dfs(board, root, i, j, res)\n            }\n        }\n        return res\n    }\n\n}\nclass Trie {\n\n    var children = HashMap<Char, Trie>()\n    var word: String? = null\n\n    /** Inserts a word into the trie. */\n    fun insert(word: String) {\n        var cur = this\n        word.forEach {\n            if (!cur.children.containsKey(it)) {\n                cur.children[it] = Trie()\n            }\n            cur = cur.children[it]!!\n        }\n        cur.word = word\n    }\n}\n```","slug":"word_search2","published":1,"updated":"2020-03-14T03:34:13.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2000caqr3l15d5pun5"},{"title":"和为S的连续正数序列","date":"2019-03-07T16:00:00.000Z","description":"双指针","_content":"## Problem description\n  ### 输入一个正数s,打印出所有和为s的连续正数序列（至少含有两个数）。例如输入15，由于1+2+3+4+5=4+5+6=7+8=15；所以打印出三个连续序列1~5,4~6,7~8；\n\n## Solution\n从递增数组中两个数和为s的数得到启示，我们也可以设置两个指针，一个指向当前序列的最小的数，一个指向当前序列最大的数。\n\n设置mid变量，赋值为(1+s)/2，因为和为s的序列至少包括两个数，所以只需small指针遍历到s即可\n\n1. 设置两个指针，一个为small指向当前正数序列中最小的数，一个为big指向当前正数序列中最大的数；\n2. 若是当前的正数序列之和大于S，那么缩小序列范围，让small指针不停往前走，直到等于S或者small > mid；\n3. 若是当前的正数序列之和小于S，那么扩大序列范围，让big指针不停往前走，直到和为S停止；\n\n\n\n## Code\n```java\n void findContinuousSequence(int s) {\n        if (s < 3) {\n            return;\n        }\n        int small = 1;\n        int big = 2;\n        int mid = (1 + s) / 2;\n        int curSum = small + big;//当前和不从0开始计算\n        while (small < mid) {\n            if (curSum == s) {//加上small后和是否相等\n                print(small, big);\n            }\n            while (curSum > s && small < mid) {\n                curSum -= small;\n                small++;\n                if (curSum == s) {//减去small后和是否相等\n                    print(small, big);\n                }\n            }\n            big++;\n            curSum += big;\n        }\n    }\n\t    void print(int small, int big) {\n        StringBuilder s = new StringBuilder();\n        for (int i = small; i <= big; i++) {\n            s.append(i).append(\" \");\n        }\n        System.out.println(s.toString());\n    }\n\n```","source":"_posts/和为S的连续正数序列.md","raw":"title: 和为S的连续正数序列\ndate: 2019-3-8\ntags: [Leetcode,剑指Offer]\ncategories: algorithm\ndescription: 双指针\n---\n## Problem description\n  ### 输入一个正数s,打印出所有和为s的连续正数序列（至少含有两个数）。例如输入15，由于1+2+3+4+5=4+5+6=7+8=15；所以打印出三个连续序列1~5,4~6,7~8；\n\n## Solution\n从递增数组中两个数和为s的数得到启示，我们也可以设置两个指针，一个指向当前序列的最小的数，一个指向当前序列最大的数。\n\n设置mid变量，赋值为(1+s)/2，因为和为s的序列至少包括两个数，所以只需small指针遍历到s即可\n\n1. 设置两个指针，一个为small指向当前正数序列中最小的数，一个为big指向当前正数序列中最大的数；\n2. 若是当前的正数序列之和大于S，那么缩小序列范围，让small指针不停往前走，直到等于S或者small > mid；\n3. 若是当前的正数序列之和小于S，那么扩大序列范围，让big指针不停往前走，直到和为S停止；\n\n\n\n## Code\n```java\n void findContinuousSequence(int s) {\n        if (s < 3) {\n            return;\n        }\n        int small = 1;\n        int big = 2;\n        int mid = (1 + s) / 2;\n        int curSum = small + big;//当前和不从0开始计算\n        while (small < mid) {\n            if (curSum == s) {//加上small后和是否相等\n                print(small, big);\n            }\n            while (curSum > s && small < mid) {\n                curSum -= small;\n                small++;\n                if (curSum == s) {//减去small后和是否相等\n                    print(small, big);\n                }\n            }\n            big++;\n            curSum += big;\n        }\n    }\n\t    void print(int small, int big) {\n        StringBuilder s = new StringBuilder();\n        for (int i = small; i <= big; i++) {\n            s.append(i).append(\" \");\n        }\n        System.out.println(s.toString());\n    }\n\n```","slug":"和为S的连续正数序列","published":1,"updated":"2020-02-13T07:16:09.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2100cdqr3ljopyhf53"},{"title":"dx.jar is missing","date":"2015-07-02T16:00:00.000Z","description":"Android Studio Build 报错：dx.jar is missing","_content":"# Bug代码：\nError:Execution failed for task ':app:transformClassesWithDexForDebug'. > com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: dx.jar is missing\n 报错的原因：\n ```该项目的buildTools太低了，把它改大一点就Ok了。Like this!```\n\n ![build gradle配置文件](http://img.blog.csdn.net/20170220195157052?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzMyOTkyODc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/导入新项目安装在真机时出现dex.jar is missing错误.md","raw":"title: dx.jar is missing\ndate: 2015-07-03 00:00:00\ntags: [Android,Bug调试]\ncategories: Android\ndescription: \"Android Studio Build 报错：dx.jar is missing\"\n---\n# Bug代码：\nError:Execution failed for task ':app:transformClassesWithDexForDebug'. > com.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: dx.jar is missing\n 报错的原因：\n ```该项目的buildTools太低了，把它改大一点就Ok了。Like this!```\n\n ![build gradle配置文件](http://img.blog.csdn.net/20170220195157052?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzMyOTkyODc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"导入新项目安装在真机时出现dex.jar is missing错误","published":1,"updated":"2020-02-13T07:16:09.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2200cgqr3lxlihd069"},{"title":"对象拷贝","date":"2019-02-22T16:00:00.000Z","description":"　　","_content":"## 对象拷贝\n对象拷贝(Object Copy)就是将一个对象的属性拷贝到另一个有着相同类类型的对象中去。在程序中拷贝对象是很常见的，主要是为了在新的上下文环境中复用对象的部分或全部数据。Java中有三种类型的对象拷贝：浅拷贝(Shallow Copy)、深拷贝(Deep Copy)、延迟拷贝(Lazy Copy)。\n### 浅拷贝\n浅拷贝是按位拷贝对象，它会创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值；如果属性是内存地址（引用类型），拷贝的就是内存地址 ，因此如果其中一个对象改变了这个地址，就会影响到另一个对象。\n![enter description here](/images/shallow_copy.png)\n在上图中，SourceObject有一个int类型的属性 “field1”和一个引用类型属性”refObj”（引用ContainedObject类型的对象）。当对SourceObject做浅拷贝时，创建了CopiedObject，它有一个包含”field1”拷贝值的属性”field2”以及仍指向refObj本身的引用。由于”field1”是基本类型，所以只是将它的值拷贝给”field2”，但是由于”refObj”是一个引用类型, 所以CopiedObject指向”refObj”相同的地址。因此对SourceObject中的”refObj”所做的任何改变都会影响到CopiedObject。\n实现浅拷贝：\n```java\npublic class Student implements Cloneable { \n   // 对象引用 \n   private Subject subj; \n   private String name; \n   public Student(String s, String sub) { \n      name = s; \n      subj = new Subject(sub); \n   } \n   public Subject getSubj() { \n      return subj; \n   } \n   public String getName() { \n      return name; \n   } \n   public void setName(String s) { \n      name = s; \n   } \n   /** \n    *  重写clone()方法 \n    * @return \n    */ \n   public Object clone() { \n      //浅拷贝 \n      try { \n         // 直接调用父类的clone()方法\n         return super.clone(); \n      } catch (CloneNotSupportedException e) { \n         return null; \n      } \n   } \n}\n```\n### 深拷贝\n深拷贝会拷贝所有的属性,并拷贝属性指向的动态分配的内存。当对象和它所引用的对象一起拷贝时即发生深拷贝。深拷贝相比于浅拷贝速度较慢并且花销较大。\n![enter description here](/images/Deep_copy.png)\n实现深拷贝：\n```java\npublic class Student implements Cloneable { \n   // 对象引用 \n   private Subject subj; \n   private String name; \n   public Student(String s, String sub) { \n      name = s; \n      subj = new Subject(sub); \n   } \n   public Subject getSubj() { \n      return subj; \n   } \n   public String getName() { \n      return name; \n   } \n   public void setName(String s) { \n      name = s; \n   } \n   /** \n    * 重写clone()方法 \n    * \n    * @return \n    */ \n   public Object clone() { \n      // 深拷贝，创建拷贝类的一个新对象，这样就和原始对象相互独立\n      Student s = new Student(name, subj.getName()); \n      return s; \n   } \n}\n```\n## 对象和对象的引用\n对象一般存储在堆中，而引用存储在速度更快的堆栈中。\n```java\n   class Vehicle {\n\n       int passengers;      \n\n       int fuelcap;\n\n       int mpg;\n\n }\n```\n用这个类创建对象，   Vehicle veh1 = new Vehicle();\n上述操作分为四步\n1. “new Vehicle”，是以Vehicle类为模板，在堆空间里创建一个Vehicle对象\n2. 末尾的()意味着，在对象创建后，立即调用Vehicle类的构造函数，对刚生成的对象进行初始化。\n3. 左边的“Vehicle veh 1”在栈内创建了一个Vehicle类引用变量。所谓Vehicle类引用，就是可以用来指向Vehicle对象的对象引用。\n4. =”操作符使对象引用指向刚创建的那个Vehicle对象。\n\n上述操作等价于Vehicle veh1; veh1 = new Vehicle();\n\n那么 Vehicle veh2；  veh2 = veh1;首先创建一个Vehicle对象引用vehicle，然后将veh1引用复制给veh2引用。veh2就指向veh1所指向的对象。那么问题是第一个new Vehicle对象呢？它已成为垃圾回收机制的处理对象。至于什么时候真正被回收，那要看垃圾回收机制的心情了。\n## 引用引发的问题\n回到上篇博文的问题，首先为了简化理解用String进行等价替换复现问题。\n```java\n    public void app(String s) {\n        String str = \"sdf\";\n        s = str;\n    }\n\tpublic static void main(String[] args) {\n        String s = null;\n        new Solution().app(s);\n        System.out.println(s);\n    }\n```\n\n猜猜输出是什么？sdf吗？天真。还是null.\n真是哔了。。为囊子呢？这个就是因为引用引发的问题。\n用图来说明。\n开始传参后，创建了S(形)引用并指向null关键字。\n![enter description here](/images/copy_start.PNG)\n执行S(形) = str后\n![enter description here](/images/copy_then.PNG)\n可以看出执行 S(形) = str 操作后， S(形）引用指向了“sdf”。而S(实)仍坚定的指向null。=号操作会复制引用，S(形)会指向str所指向的对象。\n在JAVA里，“=”不能被看成是一个赋值语句，它不是在把一个对象赋给另外一个对象，它的执行过程实质上是将右边对象的地址传给了左边的引用，使得左边的引用指向了右边的对象。JAVA表面上看起来没有指针，但它的引用其实质就是一个指针，引用里面存放的并不是对象，而是该对象的地址，使得该引用指向了对象。在JAVA里，“=”语句不应该被翻译成赋值语句，因为它所执行的确实不是一个赋值的过程，而是一个传地址的过程，被译成赋值语句会造成很多误解，译得不准确。\n## 总结\nJava传参的问题，并且它的标准答案是Java只有一种参数传递方式：那就是按值传递，即Java中传递任何东西都是传值。如果传入方法的是基本类型的东西，你就得到此基本类型的一份拷贝。如果是传递引用，就得到引用的拷贝。","source":"_posts/对象拷贝.md","raw":"title: 对象拷贝\ndate: 2019-2-23\ntags: [Java]\ncategories: Java编程思想\ndescription: 　　\n---\n## 对象拷贝\n对象拷贝(Object Copy)就是将一个对象的属性拷贝到另一个有着相同类类型的对象中去。在程序中拷贝对象是很常见的，主要是为了在新的上下文环境中复用对象的部分或全部数据。Java中有三种类型的对象拷贝：浅拷贝(Shallow Copy)、深拷贝(Deep Copy)、延迟拷贝(Lazy Copy)。\n### 浅拷贝\n浅拷贝是按位拷贝对象，它会创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值；如果属性是内存地址（引用类型），拷贝的就是内存地址 ，因此如果其中一个对象改变了这个地址，就会影响到另一个对象。\n![enter description here](/images/shallow_copy.png)\n在上图中，SourceObject有一个int类型的属性 “field1”和一个引用类型属性”refObj”（引用ContainedObject类型的对象）。当对SourceObject做浅拷贝时，创建了CopiedObject，它有一个包含”field1”拷贝值的属性”field2”以及仍指向refObj本身的引用。由于”field1”是基本类型，所以只是将它的值拷贝给”field2”，但是由于”refObj”是一个引用类型, 所以CopiedObject指向”refObj”相同的地址。因此对SourceObject中的”refObj”所做的任何改变都会影响到CopiedObject。\n实现浅拷贝：\n```java\npublic class Student implements Cloneable { \n   // 对象引用 \n   private Subject subj; \n   private String name; \n   public Student(String s, String sub) { \n      name = s; \n      subj = new Subject(sub); \n   } \n   public Subject getSubj() { \n      return subj; \n   } \n   public String getName() { \n      return name; \n   } \n   public void setName(String s) { \n      name = s; \n   } \n   /** \n    *  重写clone()方法 \n    * @return \n    */ \n   public Object clone() { \n      //浅拷贝 \n      try { \n         // 直接调用父类的clone()方法\n         return super.clone(); \n      } catch (CloneNotSupportedException e) { \n         return null; \n      } \n   } \n}\n```\n### 深拷贝\n深拷贝会拷贝所有的属性,并拷贝属性指向的动态分配的内存。当对象和它所引用的对象一起拷贝时即发生深拷贝。深拷贝相比于浅拷贝速度较慢并且花销较大。\n![enter description here](/images/Deep_copy.png)\n实现深拷贝：\n```java\npublic class Student implements Cloneable { \n   // 对象引用 \n   private Subject subj; \n   private String name; \n   public Student(String s, String sub) { \n      name = s; \n      subj = new Subject(sub); \n   } \n   public Subject getSubj() { \n      return subj; \n   } \n   public String getName() { \n      return name; \n   } \n   public void setName(String s) { \n      name = s; \n   } \n   /** \n    * 重写clone()方法 \n    * \n    * @return \n    */ \n   public Object clone() { \n      // 深拷贝，创建拷贝类的一个新对象，这样就和原始对象相互独立\n      Student s = new Student(name, subj.getName()); \n      return s; \n   } \n}\n```\n## 对象和对象的引用\n对象一般存储在堆中，而引用存储在速度更快的堆栈中。\n```java\n   class Vehicle {\n\n       int passengers;      \n\n       int fuelcap;\n\n       int mpg;\n\n }\n```\n用这个类创建对象，   Vehicle veh1 = new Vehicle();\n上述操作分为四步\n1. “new Vehicle”，是以Vehicle类为模板，在堆空间里创建一个Vehicle对象\n2. 末尾的()意味着，在对象创建后，立即调用Vehicle类的构造函数，对刚生成的对象进行初始化。\n3. 左边的“Vehicle veh 1”在栈内创建了一个Vehicle类引用变量。所谓Vehicle类引用，就是可以用来指向Vehicle对象的对象引用。\n4. =”操作符使对象引用指向刚创建的那个Vehicle对象。\n\n上述操作等价于Vehicle veh1; veh1 = new Vehicle();\n\n那么 Vehicle veh2；  veh2 = veh1;首先创建一个Vehicle对象引用vehicle，然后将veh1引用复制给veh2引用。veh2就指向veh1所指向的对象。那么问题是第一个new Vehicle对象呢？它已成为垃圾回收机制的处理对象。至于什么时候真正被回收，那要看垃圾回收机制的心情了。\n## 引用引发的问题\n回到上篇博文的问题，首先为了简化理解用String进行等价替换复现问题。\n```java\n    public void app(String s) {\n        String str = \"sdf\";\n        s = str;\n    }\n\tpublic static void main(String[] args) {\n        String s = null;\n        new Solution().app(s);\n        System.out.println(s);\n    }\n```\n\n猜猜输出是什么？sdf吗？天真。还是null.\n真是哔了。。为囊子呢？这个就是因为引用引发的问题。\n用图来说明。\n开始传参后，创建了S(形)引用并指向null关键字。\n![enter description here](/images/copy_start.PNG)\n执行S(形) = str后\n![enter description here](/images/copy_then.PNG)\n可以看出执行 S(形) = str 操作后， S(形）引用指向了“sdf”。而S(实)仍坚定的指向null。=号操作会复制引用，S(形)会指向str所指向的对象。\n在JAVA里，“=”不能被看成是一个赋值语句，它不是在把一个对象赋给另外一个对象，它的执行过程实质上是将右边对象的地址传给了左边的引用，使得左边的引用指向了右边的对象。JAVA表面上看起来没有指针，但它的引用其实质就是一个指针，引用里面存放的并不是对象，而是该对象的地址，使得该引用指向了对象。在JAVA里，“=”语句不应该被翻译成赋值语句，因为它所执行的确实不是一个赋值的过程，而是一个传地址的过程，被译成赋值语句会造成很多误解，译得不准确。\n## 总结\nJava传参的问题，并且它的标准答案是Java只有一种参数传递方式：那就是按值传递，即Java中传递任何东西都是传值。如果传入方法的是基本类型的东西，你就得到此基本类型的一份拷贝。如果是传递引用，就得到引用的拷贝。","slug":"对象拷贝","published":1,"updated":"2020-02-13T07:16:09.063Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2300cjqr3lobo6a4wo"},{"title":"左旋转字符串","date":"2019-03-09T16:00:00.000Z","description":"这道题好 像15年电科的编程题诶","_content":"## Problem description\n  ### 字符串的左旋转操作是把字符串前面的若干个字符转移到字符串的尾部。请定义一个函数实现字符串左旋转操作的功能。\n ## Examples\n``` java\nExample 1:\nInput:abcdefg, 2\nOutput:cdefgab\n```\n## Solution\nK对length进行取余，减少计算量。\n1. 先旋转前k个字符串\n2. 再旋转剩余字符串\n3. 全体旋转一次\n\n## Code\n\n```java\n     void reverse(char[] s, int low, int high) {\n\n        if (s == null || s.length <= 1 || low > high) {\n            return;\n        }\n        char c;\n        while (low < high) {\n            c = s[low];\n            s[low] = s[high];\n            s[high] = c;\n            low++;\n            high--;\n        }\n    }\n    private void leftRotateString(char[] str, int k) {\n        if (str == null || str.length <= 1) {\n            return;\n        }\n\n        k %= str.length;\n\n        reverse(str, 0, k - 1);\n        reverse(str, k, str.length - 1);\n        reverse(str, 0, str.length - 1);\n    }\n\n```","source":"_posts/左旋转字符串.md","raw":"title: 左旋转字符串\ndate: 2019-3-10\ntags: [Leetcode,剑指Offer]\ncategories: algorithm\ndescription: 这道题好 像15年电科的编程题诶\n---\n## Problem description\n  ### 字符串的左旋转操作是把字符串前面的若干个字符转移到字符串的尾部。请定义一个函数实现字符串左旋转操作的功能。\n ## Examples\n``` java\nExample 1:\nInput:abcdefg, 2\nOutput:cdefgab\n```\n## Solution\nK对length进行取余，减少计算量。\n1. 先旋转前k个字符串\n2. 再旋转剩余字符串\n3. 全体旋转一次\n\n## Code\n\n```java\n     void reverse(char[] s, int low, int high) {\n\n        if (s == null || s.length <= 1 || low > high) {\n            return;\n        }\n        char c;\n        while (low < high) {\n            c = s[low];\n            s[low] = s[high];\n            s[high] = c;\n            low++;\n            high--;\n        }\n    }\n    private void leftRotateString(char[] str, int k) {\n        if (str == null || str.length <= 1) {\n            return;\n        }\n\n        k %= str.length;\n\n        reverse(str, 0, k - 1);\n        reverse(str, k, str.length - 1);\n        reverse(str, 0, str.length - 1);\n    }\n\n```","slug":"左旋转字符串","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2400cnqr3llytu4ej1"},{"title":"手势密码源码解析","date":"2019-02-27T16:00:00.000Z","description":"仿支付宝的手势解锁","_content":"参考自[高仿支付宝解锁](https://github.com/sym900728/LockPattern)\n## 构造\n一个九宫格View + View的指示器标识已选单元\n\n## LockPatternView\n\n### 构造函数以及成员变量\n```java\n  private float movingX, movingY;//记录移动x,y\n  //onTouchEvent中记录当前状态\n  private boolean isActionMove = false;\n  private boolean isActionDown = false;//default action down is false\n  private boolean isActionUp = true;//default action up is true\n\n  private int width, height;//onMeasure中获取View的宽和高\n  private int cellRadius, cellInnerRadius;//单个点的外圆半径以及内圆半径\n  \n  private int cellBoxWidth, cellBoxHeight;//单个宽和高\n  //in stealth mode (default is false)\n  private boolean mInStealthMode = false;//隐藏模式\n  //haptic feed back (default is false)\n  private boolean mEnableHapticFeedback = false;//震动反馈\n  //set delay time\n  private long delayTime = 600L;//重绘延迟事件\n  //set lock\n  private boolean isLock = false;//锁定画布，禁止绘制\n  //set offset to the boundary\n  private int offset = 10;//外边距，相当于margin = 5\n  //draw view used paint\n  private Paint defaultPaint, selectPaint, errorPaint;\n  \n  //draw triangle\n  private Path trianglePath;//三角形绘制\n  private Matrix triangleMatrix;\n//Key object, which are used for drawing circle ,line ,and triangle\n  private Cell[][] mCells = new Cell[3][3];// 九宫格九个对象\n  private List<Cell> sCells = new ArrayList<Cell>();//记录选中单元\n  private OnPatternListener patterListener;// 实现Indicator与View的绑定\n\n  private static final double CONSTANT_COS_30 = Math.cos(Math.toRadians(30));// cos(/Π / 6)\n//The runnable used for clear pattern mode\n  private Runnable mClearPatternRunnable = new Runnable() {\n    public void run() {\n      isLock = false;\n    }\n  };\n```\n### 主要类和成员方法\nCell类\n```java\n\n  public class Cell {\n\n    private int x;// the x position of circle's center point\n    private int y;// the y position of circle's center point\n    private int row;// the cell in which row\n    private int column;// the cell in which column\n    private int index;// the cell value(1-9)\n    private int status = STATE_NORMAL;//default status\n\n    //default status\n    public static final int STATE_NORMAL = 0;\n    //checked status\n    public static final int STATE_CHECK = 1;\n    //checked error status\n    public static final int STATE_CHECK_ERROR = 2;\n\n    public static final int STATE_PRESSED = 3;\n...\n  }\n\n```\n手势密码状态\n```java\n /**\n   * the display mode of the pattern\n   * 手势密码状态\n   */\n  public enum DisplayMode {\n    //show default pattern (the default pattern is initialize status)\n    DEFAULT,\n    //show selected pattern normal\n    NORMAL,\n    //show selected pattern error\n    ERROR;\n  }\n\n```\n\n```java\n  /**\n   * initialize cell size (include circle radius, inner circle radius,\n   * cell box width, cell box height)\n   */\n  private void initCellSize() {\n    this.cellRadius = (this.width - offset * 2) / 4 / 2;\n    this.cellInnerRadius = this.cellRadius / 3;\n    this.cellBoxWidth = (this.width - offset * 2) / 3;\n    this.cellBoxHeight = (this.height - offset * 2) / 3;\n  }\n  /**\n   * initialize nine cells\n   */\n  private void init9Cells() {\n    //the distance between the center of two circles\n    int distance = this.cellBoxWidth + this.cellBoxWidth / 2 - this.cellRadius;\n    for (int i = 0; i < 3; i++) {\n      for (int j = 0; j < 3; j++) {\n        mCells[i][j] = new Cell(distance * j + cellRadius + offset,\n            distance * i + cellRadius + offset, i, j, 3 * i + j + 1);\n      }\n    }\n  }\n\n```\n九宫格中的每一个点的半径相当于 （宽度 - 外边距 ）/ 8，为什么处以8呢？因为水平上有三个圆，每个圆有两条半径，共有6条，再加上三个圆中间两个间距。故8条，其余同理\n\nonMeasure方法\n```java\n//必须重写onMeasured获得正确的宽高，再重绘\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    getMeasuredHeight();\n    this.width = getMeasuredWidth();\n    this.height = getMeasuredHeight();\n    if (width != height) {\n      throw new IllegalArgumentException(\"the width must be equals height\");\n    }\n    this.initCellSize();\n    this.set9CellsSize();\n    this.invalidate();\n  }\n    /**\n   * set nine cells size\n   */\n  private void set9CellsSize() {\n    int distance = this.cellBoxWidth + this.cellBoxWidth / 2 - this.cellRadius;\n    for (int i = 0; i < 3; i++) {\n      for (int j = 0; j < 3; j++) {\n        mCells[i][j].setX(distance * j + cellRadius + offset);\n        mCells[i][j].setY(distance * i + cellRadius + offset);\n      }\n    }\n  }\n\n```\n绘制三角形\n```java\n  private void drawTriangle(Cell preCell, Cell nextCell, Canvas canvas, Paint paint) {\n    float distance = LockPatternUtil.getDistanceBetweenTwoPoints\n        (preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY());\n    float x = this.cellInnerRadius * 2 / distance * (nextCell.getX() - preCell.getX()) + preCell.getX();//(2/3 * R)*cosθ + x\n    float y = this.cellInnerRadius * 2 / distance * (nextCell.getY() - preCell.getY()) + preCell.getY();\n\n    float angleX = LockPatternUtil.getAngleLineIntersectX(\n        preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY(), distance);\n    float angleY = LockPatternUtil.getAngleLineIntersectY(\n        preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY(), distance);\n    float x1, y1, x2, y2;\n    //slide right down\n    if (angleX >= 0 && angleX <= 90 && angleY >= 0 && angleY <= 90) {\n      x1 = x - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleX - 30)));\n      y1 = y - (float) (cellInnerRadius * Math.sin(Math.toRadians(angleX - 30)));\n      x2 = x - (float) (cellInnerRadius * Math.sin(Math.toRadians(angleY - 30)));\n      y2 = y - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleY - 30)));\n    }\n    //slide right up\n    else if (angleX >= 0 && angleX <= 90 && angleY > 90 && angleY <= 180) {\n      x1 = x - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleX + 30)));\n      y1 = y + (float) (cellInnerRadius * Math.sin(Math.toRadians(angleX + 30)));\n      x2 = x - (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleY + 30)));\n      y2 = y + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleY + 30)));\n    }\n    //slide left up\n    else if (angleX > 90 && angleX <= 180 && angleY >= 90 && angleY < 180) {\n      x1 = x + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleX - 30)));\n      y1 = y + (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleX - 30)));\n      x2 = x + (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleY - 30)));\n      y2 = y + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleY - 30)));\n    }\n    //slide left down\n    else {\n      x1 = x + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleX + 30)));\n      y1 = y - (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleX + 30)));\n      x2 = x + (float) (cellInnerRadius * Math.sin(Math.toRadians(angleY + 30)));\n      y2 = y - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleY + 30)));\n    }\n    trianglePath.reset();\n    trianglePath.moveTo(x, y);\n    trianglePath.lineTo(x1, y1);\n    trianglePath.lineTo(x2, y2);\n    trianglePath.close();\n    canvas.drawPath(trianglePath, paint);\n  }\n\n```\n\n1. 先求出两点之间距离distance\n2. 定出三角形起始 x,y 。 x =   float x = this.cellInnerRadius * 2 / distance * (nextCell.getX() - preCell.getX()) + preCell.getX();//(2/3 * R) * cosθ,θ为直线与x轴夹角。y同理\n3. 获得直线与x轴，y轴的夹角θ与δ，从而定出方向\n4. 根据方向，定出其余两个点\n5. 连接线段，绘制三角形\n\n根据两点之间距离与半径关系判断是否选中某个点\n```java\n  private Cell checkSelectCell(float x, float y) {\n    for (int i = 0; i < mCells.length; i++) {\n      for (int j = 0; j < mCells[i].length; j++) {\n        Cell cell = mCells[i][j];\n        if (LockPatternUtil.checkInRound(cell.x, cell.y, this.cellRadius, x, y, -10)) {\n          return cell;\n        }\n      }\n    }\n    return null;\n  }\n\n```\n### 核心算法\n在onTouchEvent中监听事件，进行对应处理\n```java\n@SuppressLint(\"ClickableViewAccessibility\")\n  @Override\n  public boolean onTouchEvent(MotionEvent event) {\n    getParent().requestDisallowInterceptTouchEvent(true);\n    float ex = event.getX();\n    float ey = event.getY();\n    if (!isLock) {\n      switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n          handleActionDown(ex, ey);\n          break;\n        case MotionEvent.ACTION_MOVE:\n          handleActionMove(ex, ey);\n          break;\n        case MotionEvent.ACTION_UP:\n          handleActionUp();\n          break;\n      }\n    }\n    return true;\n  }\n```\n#### down\n```java\nprivate void handleActionDown(float ex, float ey) {\n    isActionMove = false;\n    isActionDown = true;\n    isActionUp = false;\n\n    this.setPattern(DisplayMode.DEFAULT);\n\n    if (this.patterListener != null) {\n      this.patterListener.onPatternStart();\n    }\n\n    Cell cell = checkSelectCell(ex, ey);\n    if (cell != null) {\n      addSelectedCell(cell);\n    }\n  }\n```\n1. 置标志位\n2. 设置当前模式为默认\n3. 回调监听器预处理\n4.  加入起始点\n5.  重绘\n\n#### move\n```java\n  private void handleActionMove(float ex, float ey) {\n    isActionMove = true;\n    movingX = ex;\n    movingY = ey;\n    Cell cell = checkSelectCell(ex, ey);\n    if (cell != null) {\n      addSelectedCell(cell);\n    }\n    this.setPattern(DisplayMode.NORMAL);\n  }\n```\n1. 置标志位\n2. 判断是否选中该点，是则加入该点\n3. 设置当前模式为常规状态并开始重绘\n\n#### up\n```java\nprivate void handleActionUp() {\n    isActionMove = false;\n    isActionUp = true;\n    isActionDown = false;\n\n    this.setPattern(DisplayMode.NORMAL);\n\n    if (this.patterListener != null) {\n      this.patterListener.onPatternComplete(sCells);\n    }\n  }\n```\n#### 重绘\n每次设置模式后自动重绘，如果设置隐藏路径，即不重绘。\n```java\n  public void setPattern(DisplayMode mode) {\n    switch (mode) {\n      case DEFAULT:\n        for (Cell cell : sCells) {\n          cell.setStatus(Cell.STATE_NORMAL);\n        }\n        sCells.clear();\n        break;\n      case NORMAL:\n        break;\n      case ERROR:\n        for (Cell cell : sCells) {\n          cell.setStatus(Cell.STATE_CHECK_ERROR);\n        }\n        break;\n    }\n    this.handleStealthMode();\n  }\n\n  /**\n   * handle the stealth mode (if true: do not post invalidate; false: post invalidate)\n   */\n  private void handleStealthMode() {\n    if (!mInStealthMode) {\n      this.postInvalidate();\n    }\n  }\n```\n```java\n  @Override\n  protected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    this.drawToCanvas(canvas);\n  }\n\n  private void drawToCanvas(Canvas canvas) {\n\n    for (int i = 0; i < mCells.length; i++) {\n      for (int j = 0; j < mCells[i].length; j++) {\n        switch (mCells[i][j].getStatus()) {\n          case Cell.STATE_CHECK: {\n            selectPaint.setStyle(Style.FILL);\n            selectPaint.setColor(getResources().getColor(R.color.color_red_fde7ec));\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.selectPaint);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.defaultPaint);\n            selectPaint.setColor(getResources().getColor(R.color.pink));\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.selectPaint);\n          }\n          break;\n          case Cell.STATE_NORMAL: {\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.defaultPaint);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.selectPaint);\n          }\n          break;\n          case Cell.STATE_CHECK_ERROR: {\n            errorPaint.setStyle(Style.STROKE);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.errorPaint);\n            errorPaint.setStyle(Style.FILL);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.errorPaint);\n          }\n          break;\n          default:\n            break;\n        }\n      }\n    }\n\n    if (sCells.size() > 0) {\n      //temporary cell: at the beginning the cell is the first of sCells\n      Cell tempCell = sCells.get(0);\n\n      for (int i = 1; i < sCells.size(); i++) {\n        Cell cell = sCells.get(i);\n        if (cell.getStatus() == Cell.STATE_CHECK) {\n          drawLineIncludeCircle(tempCell, cell, canvas, selectPaint);\n          drawTriangle(tempCell, cell, canvas, selectPaint);\n        } else if (cell.getStatus() == Cell.STATE_CHECK_ERROR) {\n          drawLineIncludeCircle(tempCell, cell, canvas, errorPaint);\n          drawTriangle(tempCell, cell, canvas, selectPaint);\n        }\n        tempCell = cell;\n      }\n\n      if (isActionMove && !isActionUp) {\n        this.drawLineFollowFinger(tempCell, canvas, selectPaint);\n      }\n    }\n  }\n```\n1. 根据mCells状态绘制点\n2. 按照sCells依次重绘线和三角形\n3. 若正在滑动，取出最后一个连接上的点与正常滑动的点划线\n\n## LockPatternIndicator\n刷新状态，更新UI\n```java\n\tpublic void setIndicator(List<LockPatternView.Cell> cells) {\n\t\tfor(LockPatternView.Cell cell : cells) {\n\t\t\tfor(int i = 0; i < mIndicatorCells.length; i++) {\n\t\t\t\tfor(int j = 0; j < mIndicatorCells[i].length; j++) {\n\t\t\t\t\tif (cell.getIndex() == mIndicatorCells[i][j].getIndex()) {\n\t\t\t\t\t\n\t\t\t\t\t\tmIndicatorCells[i][j].setStatus(IndicatorCell.STATE_CHECK);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.postInvalidate();\n\t}\n\t\n\t\n\tprivate void drawToCanvas(Canvas canvas) {\n\t\tfor(int i = 0; i < mIndicatorCells.length; i++) {\n\t\t\tfor(int j = 0; j < mIndicatorCells[i].length; j++) {\n\t\t\t\tif(mIndicatorCells[i][j].getStatus() == IndicatorCell.STATE_NORMAL) {\n\t\t\t\t\tcanvas.drawCircle(mIndicatorCells[i][j].getX(), mIndicatorCells[i][j].getY(), radius, defaultPaint);\n\t\t\t\t} else if(mIndicatorCells[i][j].getStatus() == IndicatorCell.STATE_CHECK) {\n\t\t\t\t\tcanvas.drawCircle(mIndicatorCells[i][j].getX(), mIndicatorCells[i][j].getY(), radius, selectPaint);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n```\n1. 根据传入的Cells设置自己的mIndicatorCells状态\n2. 重绘\n\n","source":"_posts/手势密码源码解析.md","raw":"title: 手势密码源码解析\ndate: 2019-2-28\ntags: [Android,自定义View,源码解析]\ncategories: Android开发艺术探索\ndescription: 仿支付宝的手势解锁\n---\n参考自[高仿支付宝解锁](https://github.com/sym900728/LockPattern)\n## 构造\n一个九宫格View + View的指示器标识已选单元\n\n## LockPatternView\n\n### 构造函数以及成员变量\n```java\n  private float movingX, movingY;//记录移动x,y\n  //onTouchEvent中记录当前状态\n  private boolean isActionMove = false;\n  private boolean isActionDown = false;//default action down is false\n  private boolean isActionUp = true;//default action up is true\n\n  private int width, height;//onMeasure中获取View的宽和高\n  private int cellRadius, cellInnerRadius;//单个点的外圆半径以及内圆半径\n  \n  private int cellBoxWidth, cellBoxHeight;//单个宽和高\n  //in stealth mode (default is false)\n  private boolean mInStealthMode = false;//隐藏模式\n  //haptic feed back (default is false)\n  private boolean mEnableHapticFeedback = false;//震动反馈\n  //set delay time\n  private long delayTime = 600L;//重绘延迟事件\n  //set lock\n  private boolean isLock = false;//锁定画布，禁止绘制\n  //set offset to the boundary\n  private int offset = 10;//外边距，相当于margin = 5\n  //draw view used paint\n  private Paint defaultPaint, selectPaint, errorPaint;\n  \n  //draw triangle\n  private Path trianglePath;//三角形绘制\n  private Matrix triangleMatrix;\n//Key object, which are used for drawing circle ,line ,and triangle\n  private Cell[][] mCells = new Cell[3][3];// 九宫格九个对象\n  private List<Cell> sCells = new ArrayList<Cell>();//记录选中单元\n  private OnPatternListener patterListener;// 实现Indicator与View的绑定\n\n  private static final double CONSTANT_COS_30 = Math.cos(Math.toRadians(30));// cos(/Π / 6)\n//The runnable used for clear pattern mode\n  private Runnable mClearPatternRunnable = new Runnable() {\n    public void run() {\n      isLock = false;\n    }\n  };\n```\n### 主要类和成员方法\nCell类\n```java\n\n  public class Cell {\n\n    private int x;// the x position of circle's center point\n    private int y;// the y position of circle's center point\n    private int row;// the cell in which row\n    private int column;// the cell in which column\n    private int index;// the cell value(1-9)\n    private int status = STATE_NORMAL;//default status\n\n    //default status\n    public static final int STATE_NORMAL = 0;\n    //checked status\n    public static final int STATE_CHECK = 1;\n    //checked error status\n    public static final int STATE_CHECK_ERROR = 2;\n\n    public static final int STATE_PRESSED = 3;\n...\n  }\n\n```\n手势密码状态\n```java\n /**\n   * the display mode of the pattern\n   * 手势密码状态\n   */\n  public enum DisplayMode {\n    //show default pattern (the default pattern is initialize status)\n    DEFAULT,\n    //show selected pattern normal\n    NORMAL,\n    //show selected pattern error\n    ERROR;\n  }\n\n```\n\n```java\n  /**\n   * initialize cell size (include circle radius, inner circle radius,\n   * cell box width, cell box height)\n   */\n  private void initCellSize() {\n    this.cellRadius = (this.width - offset * 2) / 4 / 2;\n    this.cellInnerRadius = this.cellRadius / 3;\n    this.cellBoxWidth = (this.width - offset * 2) / 3;\n    this.cellBoxHeight = (this.height - offset * 2) / 3;\n  }\n  /**\n   * initialize nine cells\n   */\n  private void init9Cells() {\n    //the distance between the center of two circles\n    int distance = this.cellBoxWidth + this.cellBoxWidth / 2 - this.cellRadius;\n    for (int i = 0; i < 3; i++) {\n      for (int j = 0; j < 3; j++) {\n        mCells[i][j] = new Cell(distance * j + cellRadius + offset,\n            distance * i + cellRadius + offset, i, j, 3 * i + j + 1);\n      }\n    }\n  }\n\n```\n九宫格中的每一个点的半径相当于 （宽度 - 外边距 ）/ 8，为什么处以8呢？因为水平上有三个圆，每个圆有两条半径，共有6条，再加上三个圆中间两个间距。故8条，其余同理\n\nonMeasure方法\n```java\n//必须重写onMeasured获得正确的宽高，再重绘\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    getMeasuredHeight();\n    this.width = getMeasuredWidth();\n    this.height = getMeasuredHeight();\n    if (width != height) {\n      throw new IllegalArgumentException(\"the width must be equals height\");\n    }\n    this.initCellSize();\n    this.set9CellsSize();\n    this.invalidate();\n  }\n    /**\n   * set nine cells size\n   */\n  private void set9CellsSize() {\n    int distance = this.cellBoxWidth + this.cellBoxWidth / 2 - this.cellRadius;\n    for (int i = 0; i < 3; i++) {\n      for (int j = 0; j < 3; j++) {\n        mCells[i][j].setX(distance * j + cellRadius + offset);\n        mCells[i][j].setY(distance * i + cellRadius + offset);\n      }\n    }\n  }\n\n```\n绘制三角形\n```java\n  private void drawTriangle(Cell preCell, Cell nextCell, Canvas canvas, Paint paint) {\n    float distance = LockPatternUtil.getDistanceBetweenTwoPoints\n        (preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY());\n    float x = this.cellInnerRadius * 2 / distance * (nextCell.getX() - preCell.getX()) + preCell.getX();//(2/3 * R)*cosθ + x\n    float y = this.cellInnerRadius * 2 / distance * (nextCell.getY() - preCell.getY()) + preCell.getY();\n\n    float angleX = LockPatternUtil.getAngleLineIntersectX(\n        preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY(), distance);\n    float angleY = LockPatternUtil.getAngleLineIntersectY(\n        preCell.getX(), preCell.getY(), nextCell.getX(), nextCell.getY(), distance);\n    float x1, y1, x2, y2;\n    //slide right down\n    if (angleX >= 0 && angleX <= 90 && angleY >= 0 && angleY <= 90) {\n      x1 = x - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleX - 30)));\n      y1 = y - (float) (cellInnerRadius * Math.sin(Math.toRadians(angleX - 30)));\n      x2 = x - (float) (cellInnerRadius * Math.sin(Math.toRadians(angleY - 30)));\n      y2 = y - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleY - 30)));\n    }\n    //slide right up\n    else if (angleX >= 0 && angleX <= 90 && angleY > 90 && angleY <= 180) {\n      x1 = x - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleX + 30)));\n      y1 = y + (float) (cellInnerRadius * Math.sin(Math.toRadians(angleX + 30)));\n      x2 = x - (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleY + 30)));\n      y2 = y + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleY + 30)));\n    }\n    //slide left up\n    else if (angleX > 90 && angleX <= 180 && angleY >= 90 && angleY < 180) {\n      x1 = x + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleX - 30)));\n      y1 = y + (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleX - 30)));\n      x2 = x + (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleY - 30)));\n      y2 = y + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleY - 30)));\n    }\n    //slide left down\n    else {\n      x1 = x + (float) (cellInnerRadius * Math.cos(Math.toRadians(180 - angleX + 30)));\n      y1 = y - (float) (cellInnerRadius * Math.sin(Math.toRadians(180 - angleX + 30)));\n      x2 = x + (float) (cellInnerRadius * Math.sin(Math.toRadians(angleY + 30)));\n      y2 = y - (float) (cellInnerRadius * Math.cos(Math.toRadians(angleY + 30)));\n    }\n    trianglePath.reset();\n    trianglePath.moveTo(x, y);\n    trianglePath.lineTo(x1, y1);\n    trianglePath.lineTo(x2, y2);\n    trianglePath.close();\n    canvas.drawPath(trianglePath, paint);\n  }\n\n```\n\n1. 先求出两点之间距离distance\n2. 定出三角形起始 x,y 。 x =   float x = this.cellInnerRadius * 2 / distance * (nextCell.getX() - preCell.getX()) + preCell.getX();//(2/3 * R) * cosθ,θ为直线与x轴夹角。y同理\n3. 获得直线与x轴，y轴的夹角θ与δ，从而定出方向\n4. 根据方向，定出其余两个点\n5. 连接线段，绘制三角形\n\n根据两点之间距离与半径关系判断是否选中某个点\n```java\n  private Cell checkSelectCell(float x, float y) {\n    for (int i = 0; i < mCells.length; i++) {\n      for (int j = 0; j < mCells[i].length; j++) {\n        Cell cell = mCells[i][j];\n        if (LockPatternUtil.checkInRound(cell.x, cell.y, this.cellRadius, x, y, -10)) {\n          return cell;\n        }\n      }\n    }\n    return null;\n  }\n\n```\n### 核心算法\n在onTouchEvent中监听事件，进行对应处理\n```java\n@SuppressLint(\"ClickableViewAccessibility\")\n  @Override\n  public boolean onTouchEvent(MotionEvent event) {\n    getParent().requestDisallowInterceptTouchEvent(true);\n    float ex = event.getX();\n    float ey = event.getY();\n    if (!isLock) {\n      switch (event.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n          handleActionDown(ex, ey);\n          break;\n        case MotionEvent.ACTION_MOVE:\n          handleActionMove(ex, ey);\n          break;\n        case MotionEvent.ACTION_UP:\n          handleActionUp();\n          break;\n      }\n    }\n    return true;\n  }\n```\n#### down\n```java\nprivate void handleActionDown(float ex, float ey) {\n    isActionMove = false;\n    isActionDown = true;\n    isActionUp = false;\n\n    this.setPattern(DisplayMode.DEFAULT);\n\n    if (this.patterListener != null) {\n      this.patterListener.onPatternStart();\n    }\n\n    Cell cell = checkSelectCell(ex, ey);\n    if (cell != null) {\n      addSelectedCell(cell);\n    }\n  }\n```\n1. 置标志位\n2. 设置当前模式为默认\n3. 回调监听器预处理\n4.  加入起始点\n5.  重绘\n\n#### move\n```java\n  private void handleActionMove(float ex, float ey) {\n    isActionMove = true;\n    movingX = ex;\n    movingY = ey;\n    Cell cell = checkSelectCell(ex, ey);\n    if (cell != null) {\n      addSelectedCell(cell);\n    }\n    this.setPattern(DisplayMode.NORMAL);\n  }\n```\n1. 置标志位\n2. 判断是否选中该点，是则加入该点\n3. 设置当前模式为常规状态并开始重绘\n\n#### up\n```java\nprivate void handleActionUp() {\n    isActionMove = false;\n    isActionUp = true;\n    isActionDown = false;\n\n    this.setPattern(DisplayMode.NORMAL);\n\n    if (this.patterListener != null) {\n      this.patterListener.onPatternComplete(sCells);\n    }\n  }\n```\n#### 重绘\n每次设置模式后自动重绘，如果设置隐藏路径，即不重绘。\n```java\n  public void setPattern(DisplayMode mode) {\n    switch (mode) {\n      case DEFAULT:\n        for (Cell cell : sCells) {\n          cell.setStatus(Cell.STATE_NORMAL);\n        }\n        sCells.clear();\n        break;\n      case NORMAL:\n        break;\n      case ERROR:\n        for (Cell cell : sCells) {\n          cell.setStatus(Cell.STATE_CHECK_ERROR);\n        }\n        break;\n    }\n    this.handleStealthMode();\n  }\n\n  /**\n   * handle the stealth mode (if true: do not post invalidate; false: post invalidate)\n   */\n  private void handleStealthMode() {\n    if (!mInStealthMode) {\n      this.postInvalidate();\n    }\n  }\n```\n```java\n  @Override\n  protected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    this.drawToCanvas(canvas);\n  }\n\n  private void drawToCanvas(Canvas canvas) {\n\n    for (int i = 0; i < mCells.length; i++) {\n      for (int j = 0; j < mCells[i].length; j++) {\n        switch (mCells[i][j].getStatus()) {\n          case Cell.STATE_CHECK: {\n            selectPaint.setStyle(Style.FILL);\n            selectPaint.setColor(getResources().getColor(R.color.color_red_fde7ec));\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.selectPaint);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.defaultPaint);\n            selectPaint.setColor(getResources().getColor(R.color.pink));\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.selectPaint);\n          }\n          break;\n          case Cell.STATE_NORMAL: {\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.defaultPaint);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.selectPaint);\n          }\n          break;\n          case Cell.STATE_CHECK_ERROR: {\n            errorPaint.setStyle(Style.STROKE);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellRadius, this.errorPaint);\n            errorPaint.setStyle(Style.FILL);\n            canvas.drawCircle(mCells[i][j].getX(), mCells[i][j].getY(),\n                this.cellInnerRadius / 3, this.errorPaint);\n          }\n          break;\n          default:\n            break;\n        }\n      }\n    }\n\n    if (sCells.size() > 0) {\n      //temporary cell: at the beginning the cell is the first of sCells\n      Cell tempCell = sCells.get(0);\n\n      for (int i = 1; i < sCells.size(); i++) {\n        Cell cell = sCells.get(i);\n        if (cell.getStatus() == Cell.STATE_CHECK) {\n          drawLineIncludeCircle(tempCell, cell, canvas, selectPaint);\n          drawTriangle(tempCell, cell, canvas, selectPaint);\n        } else if (cell.getStatus() == Cell.STATE_CHECK_ERROR) {\n          drawLineIncludeCircle(tempCell, cell, canvas, errorPaint);\n          drawTriangle(tempCell, cell, canvas, selectPaint);\n        }\n        tempCell = cell;\n      }\n\n      if (isActionMove && !isActionUp) {\n        this.drawLineFollowFinger(tempCell, canvas, selectPaint);\n      }\n    }\n  }\n```\n1. 根据mCells状态绘制点\n2. 按照sCells依次重绘线和三角形\n3. 若正在滑动，取出最后一个连接上的点与正常滑动的点划线\n\n## LockPatternIndicator\n刷新状态，更新UI\n```java\n\tpublic void setIndicator(List<LockPatternView.Cell> cells) {\n\t\tfor(LockPatternView.Cell cell : cells) {\n\t\t\tfor(int i = 0; i < mIndicatorCells.length; i++) {\n\t\t\t\tfor(int j = 0; j < mIndicatorCells[i].length; j++) {\n\t\t\t\t\tif (cell.getIndex() == mIndicatorCells[i][j].getIndex()) {\n\t\t\t\t\t\n\t\t\t\t\t\tmIndicatorCells[i][j].setStatus(IndicatorCell.STATE_CHECK);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.postInvalidate();\n\t}\n\t\n\t\n\tprivate void drawToCanvas(Canvas canvas) {\n\t\tfor(int i = 0; i < mIndicatorCells.length; i++) {\n\t\t\tfor(int j = 0; j < mIndicatorCells[i].length; j++) {\n\t\t\t\tif(mIndicatorCells[i][j].getStatus() == IndicatorCell.STATE_NORMAL) {\n\t\t\t\t\tcanvas.drawCircle(mIndicatorCells[i][j].getX(), mIndicatorCells[i][j].getY(), radius, defaultPaint);\n\t\t\t\t} else if(mIndicatorCells[i][j].getStatus() == IndicatorCell.STATE_CHECK) {\n\t\t\t\t\tcanvas.drawCircle(mIndicatorCells[i][j].getX(), mIndicatorCells[i][j].getY(), radius, selectPaint);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n```\n1. 根据传入的Cells设置自己的mIndicatorCells状态\n2. 重绘\n\n","slug":"手势密码源码解析","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2500crqr3lbmvlnflr"},{"title":"平衡二叉树的判断","date":"2019-03-05T16:00:00.000Z","description":"指针讷，指针","_content":"## Problem description\n  ### 输入一棵二叉树的根结点，判断该树是不是平衡二叉树。如果某二叉树中任意结点的左右子树的深度相差不超过1 ，那么它就是一棵平衡二叉树。\n ## Examples\n``` java\nExample 1:\nInput:[3,9,20,null,null,15,7]\nOutput: true\n```\n## Solution\n思路是采用递归的后序遍历，避免重复访问子树。因为浅拷贝的存在，导致传入的参数一旦赋值，实参并不会跟着发生变化。我想了很久怎么实现指针的引用，竟然还想到写一个返回类封装.....\n`数组` 是个好东西讷！它传入的引用一旦发生改变，形参所指向的地址的数据也同样会发生改变。总觉得还遇到过这样的处理方法一次。`谨记，谨记，谨记。`\n\n## Code\n\n```java\n class Solution {\n      public boolean isBalanced(TreeNode root) {\n        if (root == null) {\n            return true;\n        }\n        return isBalanced(root, new int[1]);\n    }\n\n    public boolean isBalanced(TreeNode root, int[] depth) {\n        if (root == null) {\n            depth[0] = 0;\n            return true;\n        }\n\n        int[] left = new int[1];\n        int[] right = new int[1];\n\n        if (isBalanced(root.left, left) && isBalanced(root.right, right)) {\n            int d = Math.abs(left[0] - right[0]);\n            if (d <= 1) {\n                depth[0] = 1 + ((left[0] > right[0]) ? left[0] : right[0]);\n                return true;\n            }\n        }\n        return false;\n    }\n}\n```","source":"_posts/平衡二叉树的判断.md","raw":"title: 平衡二叉树的判断\ndate: 2019-3-6\ntags: [Leetcode,剑指Offer]\ncategories: algorithm\ndescription: 指针讷，指针\n---\n## Problem description\n  ### 输入一棵二叉树的根结点，判断该树是不是平衡二叉树。如果某二叉树中任意结点的左右子树的深度相差不超过1 ，那么它就是一棵平衡二叉树。\n ## Examples\n``` java\nExample 1:\nInput:[3,9,20,null,null,15,7]\nOutput: true\n```\n## Solution\n思路是采用递归的后序遍历，避免重复访问子树。因为浅拷贝的存在，导致传入的参数一旦赋值，实参并不会跟着发生变化。我想了很久怎么实现指针的引用，竟然还想到写一个返回类封装.....\n`数组` 是个好东西讷！它传入的引用一旦发生改变，形参所指向的地址的数据也同样会发生改变。总觉得还遇到过这样的处理方法一次。`谨记，谨记，谨记。`\n\n## Code\n\n```java\n class Solution {\n      public boolean isBalanced(TreeNode root) {\n        if (root == null) {\n            return true;\n        }\n        return isBalanced(root, new int[1]);\n    }\n\n    public boolean isBalanced(TreeNode root, int[] depth) {\n        if (root == null) {\n            depth[0] = 0;\n            return true;\n        }\n\n        int[] left = new int[1];\n        int[] right = new int[1];\n\n        if (isBalanced(root.left, left) && isBalanced(root.right, right)) {\n            int d = Math.abs(left[0] - right[0]);\n            if (d <= 1) {\n                depth[0] = 1 + ((left[0] > right[0]) ? left[0] : right[0]);\n                return true;\n            }\n        }\n        return false;\n    }\n}\n```","slug":"平衡二叉树的判断","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2600cuqr3l9bx14dvw"},{"title":"把数组排成最小的数","date":"2019-02-26T16:00:00.000Z","description":"comparator的一些事","_content":"## Problem description\n  ### 输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。例如输入数组 {3，32，321}，则打印出这三个数字能排成的最小数字为 321323。\n## Solution\n直接拼接数字的话比较会存在溢出问题，曲线解决。转换为字符串。比较时用comparator。关于comparator的compare（）正常s1 > s2返回大于0的数，这是递增排序。若s1 > s2返回小于0 的数，递减排列。\n关于lambda表达式： x -> 2 * x  接收一个参数(数字类型),返回其2倍的值  只有一行代码时省略了\n\n## Code\n```java\n    public String PrintMinNumber(int[] numbers) {\n        if (numbers == null || numbers.length == 0)\n            return \"\";\n        int n = numbers.length;\n        String[] nums = new String[n];\n        for (int i = 0; i < n; i++)\n            nums[i] = numbers[i] + \"\";\n        Arrays.sort(nums, (s1, s2) -> (s1 + s2).compareTo(s2 + s1));\n        StringBuilder ret = new StringBuilder();\n        for (String str : nums)\n            ret.append(str);\n        return ret.toString();\n    }\n```","source":"_posts/把数组排成最小的数.md","raw":"title: 把数组排成最小的数\ndate: 2019-2-27\ntags: [Leetcode]\ncategories: algorithm\ndescription: comparator的一些事\n---\n## Problem description\n  ### 输入一个正整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。例如输入数组 {3，32，321}，则打印出这三个数字能排成的最小数字为 321323。\n## Solution\n直接拼接数字的话比较会存在溢出问题，曲线解决。转换为字符串。比较时用comparator。关于comparator的compare（）正常s1 > s2返回大于0的数，这是递增排序。若s1 > s2返回小于0 的数，递减排列。\n关于lambda表达式： x -> 2 * x  接收一个参数(数字类型),返回其2倍的值  只有一行代码时省略了\n\n## Code\n```java\n    public String PrintMinNumber(int[] numbers) {\n        if (numbers == null || numbers.length == 0)\n            return \"\";\n        int n = numbers.length;\n        String[] nums = new String[n];\n        for (int i = 0; i < n; i++)\n            nums[i] = numbers[i] + \"\";\n        Arrays.sort(nums, (s1, s2) -> (s1 + s2).compareTo(s2 + s1));\n        StringBuilder ret = new StringBuilder();\n        for (String str : nums)\n            ret.append(str);\n        return ret.toString();\n    }\n```","slug":"把数组排成最小的数","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2800cyqr3lrg2d8p2k"},{"title":"手撕HashMap","date":"2019-01-28T16:00:00.000Z","description":"真香","_content":"## 数据结构\n### 位桶 + 链表 + 红黑树\n\n```java\n//Node是单向链表，它实现了Map.Entry接口\nstatic class Node<k,v> implements Map.Entry<k,v> {\n    final int hash;\n    final K key;\n    V value;\n    Node<k,v> next;\n    //构造函数Hash值 键 值 下一个节点\n    Node(int hash, K key, V value, Node<k,v> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n \n    public final K getKey()        { return key; }\n    public final V getValue()      { return value; }\n    public final String toString() { return key + = + value; }\n \n    public final int hashCode() {\n        return Objects.hashCode(key) ^ Objects.hashCode(value);\n    }\n \n    public final V setValue(V newValue) {\n        V oldValue = value;\n        value = newValue;\n        return oldValue;\n    }\n    //判断两个node是否相等,若key和value都相等，返回true。可以与自身比较为true\n    public final boolean equals(Object o) {\n        if (o == this)\n            return true;\n        if (o instanceof Map.Entry) {\n            Map.Entry<!--?,?--> e = (Map.Entry<!--?,?-->)o;\n            if (Objects.equals(key, e.getKey()) &&\n                Objects.equals(value, e.getValue()))\n                return true;\n        }\n        return false;\n    }\n}\n```\n\n```java\ntransient Node<k,v>[] table;//存储位桶的数组。\n```\n\n```java\n//红黑树\nstatic final class TreeNode<k,v> extends LinkedHashMap.LinkedHashMapEntry<K,V> {//LinkedHashMap.LinkedHashMapEntry<K,V>  继承 Node<K,V>\n    TreeNode<k,v> parent;  // 父节点\n    TreeNode<k,v> left; //左子树\n    TreeNode<k,v> right;//右子树\n    TreeNode<k,v> prev;    // needed to unlink next upon deletion\n    boolean red;    //颜色属性\n    TreeNode(int hash, K key, V val, Node<k,v> next) {\n        super(hash, key, val, next);\n    }\n \n    //返回当前节点的根节点\n    final TreeNode<k,v> root() {\n        for (TreeNode<k,v> r = this, p;;) {\n            if ((p = r.parent) == null)\n                return r;\n            r = p;\n        }\n    }\n```\n## 工作机制\n![hashMap](/images/HashMap.png)\nBucket为Hash值相同的元素集合。通过Hash函数计算出元素放置位置。若无冲突直接插入。有冲突则当桶的上的结点数大于TREEIFY_THRESHOLD时且table中结点数目大于MIN_TREEIFY_CAPACITY会转成红黑树。当桶上的结点数小于UNTREEIFY_THRESHOLD时树转链表。再插入结点。 数据结构转换时，是以table中hash函数所在的第一个节点开始转换。\n## 成员变量\n```java\npublic class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>, Cloneable, Serializable {\n    // 默认的初始容量是16\n    static final int DEFAULT_INITIAL_CAPACITY = 1 << 4;   \n    // 最大容量\n    static final int MAXIMUM_CAPACITY = 1 << 30; \n    // 默认的填充因子\n    static final float DEFAULT_LOAD_FACTOR = 0.75f;\n    // 当桶(bucket)上的结点数大于这个值时会转成红黑树\n    static final int TREEIFY_THRESHOLD = 8; \n    // 当桶(bucket)上的结点数小于这个值时树转链表\n    static final int UNTREEIFY_THRESHOLD = 6;\n    // 桶中结构转化为红黑树对应的table的最小大小\n    static final int MIN_TREEIFY_CAPACITY = 64;\n    // 存储元素的数组，总是2的幂次倍\n    transient Node<k,v>[] table; \n    // 存放具体元素的集\n    transient Set<map.entry<k,v>> entrySet;\n    // 存放元素的个数，注意这个不等于数组的长度。\n    transient int size;\n    // 每次扩容和更改map结构的计数器\n    transient int modCount;   \n    // 临界值 当实际大小(容量*填充因子)超过临界值时，会进行扩容\n    int threshold;\n    // 填充因子\n    final float loadFactor;\n}\n```\n## 构造函数\n```java\npublic HashMap(int initialCapacity, float loadFactor) {\n    // 初始容量不能小于0，否则报错\n    if (initialCapacity < 0)\n        throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                            initialCapacity);\n    // 初始容量不能大于最大值，否则为最大值\n    if (initialCapacity > MAXIMUM_CAPACITY)\n        initialCapacity = MAXIMUM_CAPACITY;\n    // 填充因子不能小于或等于0，不能为非数字\n    if (loadFactor <= 0 || Float.isNaN(loadFactor))\n        throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                            loadFactor);\n    // 初始化填充因子                                        \n    this.loadFactor = loadFactor;\n    // 初始化threshold大小\n    this.threshold = tableSizeFor(initialCapacity);    \n}\npublic HashMap(int initialCapacity) {\n    this(initialCapacity, DEFAULT_LOAD_FACTOR);\n}\n \n//构造函数3\npublic HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n \n//构造函数4用m的元素初始化散列映射\npublic HashMap(Map<!--? extends K, ? extends V--> m) {\n    this.loadFactor = DEFAULT_LOAD_FACTOR;\n    putMapEntries(m, false);\n}\n\n```\n\ntableSizeFor(initialCapacity)返回大于等于initialCapacity的最小的二次幂数值。如capacity为9.返回16.\n```java\nstatic final int tableSizeFor(int cap) {\n        int n = cap - 1;\n        n |= n >>> 1;//>>> 操作符表示无符号右移，高位取0。\n        n |= n >>> 2;\n        n |= n >>> 4;\n        n |= n >>> 8;\n        n |= n >>> 16;\n        return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;\n    }\n```\n ## 重要成员函数\n ```java\n static final int hash(Object key) {\n    int h;\n    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n}\n//获取key对应所在tab的位置\ni = (n - 1) & hash（key）\n ```\n\n```java\npublic V get(Object key) {\n    Node<k,v> e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n}\n \n \nfinal Node<k,v> getNode(int hash, Object key) {\n    Node<k,v>[] tab; Node<k,v> first, e; int n; K k;\n    //hash & (length-1)得到对象的保存位\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            //如果第一个节点是TreeNode,说明采用的是数组+红黑树结构处理冲突\n            //遍历红黑树，得到节点值\n            if (first instanceof TreeNode)\n                return ((TreeNode<k,v>)first).getTreeNode(hash, key);\n            //链表结构处理\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n```\n```java\n   public V put(K key, V value) {\n       return putVal(hash(key), key, value, false, true);\n   }\n /* putVal\n 1判断键值对数组tab[]是否为空或为null，否则resize()；\n\n2根据键值key计算hash值得到插入的数组索引i，如果tab[i]==null，直接新建节点添加，否则转入3\n\n3判断当前数组中处理hash冲突的方式为链表还是红黑树(check第一个节点类型即可),分别处理。\n */\n   final V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n                  boolean evict) {\n       Node<k,v>[] tab; Node<k,v> p; int n, i;\n       //如果tab为空或长度为0，则分配内存resize()\n       if ((tab = table) == null || (n = tab.length) == 0)\n           n = (tab = resize()).length;\n       //(n - 1) & hash找到put位置，如果为空,则直接put\n       if ((p = tab[i = (n - 1) & hash]) == null)\n           tab[i] = newNode(hash, key, value, null);\n       else {\n           Node<k,v> e; K k;\n           //第一节节点hash值同，且key值与插入key相同\n           if (p.hash == hash &&((k = p.key) == key || (key != null && key.equals(k))))\n               e = p;\n           else if (p instanceof TreeNode)//属于红黑树处理冲突\n               e = ((TreeNode<k,v>)p).putTreeVal(this, tab, hash, key, value);\n           else {\n               //链表处理冲突\n               for (int binCount = 0; ; ++binCount) {\n                   //p第一次指向表头,以后依次后移\n                   if ((e = p.next) == null) {\n                       //e为空，表示已到表尾也没有找到key值相同节点，则新建节点\n                       p.next = newNode(hash, key, value, null);\n                       //新增节点后如果节点个数到达阈值，则将链表转换为红黑树\n                       if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                           treeifyBin(tab, hash);\n                       break;\n                   }\n                   //容许null==null\n                   if (e.hash == hash &&((k = e.key) == key || (key != null && key.equals(k))))\n                       break;\n                   p = e;//更新p指向下一个节点\n               }\n           }\n           //更新hash值和key值均相同的节点Value值\n           if (e != null) { // existing mapping for key\n               V oldValue = e.value;\n               if (!onlyIfAbsent || oldValue == null)\n                   e.value = value;\n               afterNodeAccess(e);\n               return oldValue;\n           }\n       }\n       ++modCount;\n       if (++size > threshold)\n           resize();\n       afterNodeInsertion(evict);\n       return null;\n   }\n```\nresize分为两步:(oldCap：原数组长度， newCap：新数组长度)\n1. 将newTable扩充为两倍的table\n2. 重新计算index，把节点再放到新的bucket中\n之所以重新计算index，是因为数组长度变化可能导致元素的所在index变化\n若仅有一个节点，则index = e.hash & (newCap - 1);\n若多于一个节点，以链表为例，\n获取每个bucket中的节点e, 判断（e.hash & oldCap) == 0，是的话则放置在原索引位置 j ，否则放置到 j + oldCap;\n\n```java\nfinal Node<K,V>[] resize() {\n    // 当前table保存\n    Node<K,V>[] oldTab = table;\n    // 保存table大小\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    // 保存当前阈值 \n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    // 之前table大小大于0\n    if (oldCap > 0) {\n        // 之前table大于最大容量\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            // 阈值为最大整形\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        // 容量翻倍，使用左移，效率更高\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n            oldCap >= DEFAULT_INITIAL_CAPACITY)\n            // 阈值翻倍\n            newThr = oldThr << 1; // double threshold\n    }\n    // 之前阈值大于0\n    else if (oldThr > 0)\n        newCap = oldThr;\n    // oldCap = 0并且oldThr = 0，使用缺省值（如使用HashMap()构造函数，之后再插入一个元素会调用resize函数，会进入这一步）\n    else {           \n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    // 新阈值为0\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n    // 初始化table\n    Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    // 之前的table已经初始化过\n    if (oldTab != null) {\n        // 复制元素，重新进行hash\n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    // 将同一桶中的元素根据(e.hash & oldCap)是否为0进行分割，分成两个不同的链表，完成rehash\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n","source":"_posts/手撕HashMap.md","raw":"title: 手撕HashMap\ndate: 2019-1-29\ntags: [Java]\ncategories: JavaAPI\ndescription: 真香\n---\n## 数据结构\n### 位桶 + 链表 + 红黑树\n\n```java\n//Node是单向链表，它实现了Map.Entry接口\nstatic class Node<k,v> implements Map.Entry<k,v> {\n    final int hash;\n    final K key;\n    V value;\n    Node<k,v> next;\n    //构造函数Hash值 键 值 下一个节点\n    Node(int hash, K key, V value, Node<k,v> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n \n    public final K getKey()        { return key; }\n    public final V getValue()      { return value; }\n    public final String toString() { return key + = + value; }\n \n    public final int hashCode() {\n        return Objects.hashCode(key) ^ Objects.hashCode(value);\n    }\n \n    public final V setValue(V newValue) {\n        V oldValue = value;\n        value = newValue;\n        return oldValue;\n    }\n    //判断两个node是否相等,若key和value都相等，返回true。可以与自身比较为true\n    public final boolean equals(Object o) {\n        if (o == this)\n            return true;\n        if (o instanceof Map.Entry) {\n            Map.Entry<!--?,?--> e = (Map.Entry<!--?,?-->)o;\n            if (Objects.equals(key, e.getKey()) &&\n                Objects.equals(value, e.getValue()))\n                return true;\n        }\n        return false;\n    }\n}\n```\n\n```java\ntransient Node<k,v>[] table;//存储位桶的数组。\n```\n\n```java\n//红黑树\nstatic final class TreeNode<k,v> extends LinkedHashMap.LinkedHashMapEntry<K,V> {//LinkedHashMap.LinkedHashMapEntry<K,V>  继承 Node<K,V>\n    TreeNode<k,v> parent;  // 父节点\n    TreeNode<k,v> left; //左子树\n    TreeNode<k,v> right;//右子树\n    TreeNode<k,v> prev;    // needed to unlink next upon deletion\n    boolean red;    //颜色属性\n    TreeNode(int hash, K key, V val, Node<k,v> next) {\n        super(hash, key, val, next);\n    }\n \n    //返回当前节点的根节点\n    final TreeNode<k,v> root() {\n        for (TreeNode<k,v> r = this, p;;) {\n            if ((p = r.parent) == null)\n                return r;\n            r = p;\n        }\n    }\n```\n## 工作机制\n![hashMap](/images/HashMap.png)\nBucket为Hash值相同的元素集合。通过Hash函数计算出元素放置位置。若无冲突直接插入。有冲突则当桶的上的结点数大于TREEIFY_THRESHOLD时且table中结点数目大于MIN_TREEIFY_CAPACITY会转成红黑树。当桶上的结点数小于UNTREEIFY_THRESHOLD时树转链表。再插入结点。 数据结构转换时，是以table中hash函数所在的第一个节点开始转换。\n## 成员变量\n```java\npublic class HashMap<K,V> extends AbstractMap<K,V> implements Map<K,V>, Cloneable, Serializable {\n    // 默认的初始容量是16\n    static final int DEFAULT_INITIAL_CAPACITY = 1 << 4;   \n    // 最大容量\n    static final int MAXIMUM_CAPACITY = 1 << 30; \n    // 默认的填充因子\n    static final float DEFAULT_LOAD_FACTOR = 0.75f;\n    // 当桶(bucket)上的结点数大于这个值时会转成红黑树\n    static final int TREEIFY_THRESHOLD = 8; \n    // 当桶(bucket)上的结点数小于这个值时树转链表\n    static final int UNTREEIFY_THRESHOLD = 6;\n    // 桶中结构转化为红黑树对应的table的最小大小\n    static final int MIN_TREEIFY_CAPACITY = 64;\n    // 存储元素的数组，总是2的幂次倍\n    transient Node<k,v>[] table; \n    // 存放具体元素的集\n    transient Set<map.entry<k,v>> entrySet;\n    // 存放元素的个数，注意这个不等于数组的长度。\n    transient int size;\n    // 每次扩容和更改map结构的计数器\n    transient int modCount;   \n    // 临界值 当实际大小(容量*填充因子)超过临界值时，会进行扩容\n    int threshold;\n    // 填充因子\n    final float loadFactor;\n}\n```\n## 构造函数\n```java\npublic HashMap(int initialCapacity, float loadFactor) {\n    // 初始容量不能小于0，否则报错\n    if (initialCapacity < 0)\n        throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                            initialCapacity);\n    // 初始容量不能大于最大值，否则为最大值\n    if (initialCapacity > MAXIMUM_CAPACITY)\n        initialCapacity = MAXIMUM_CAPACITY;\n    // 填充因子不能小于或等于0，不能为非数字\n    if (loadFactor <= 0 || Float.isNaN(loadFactor))\n        throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                            loadFactor);\n    // 初始化填充因子                                        \n    this.loadFactor = loadFactor;\n    // 初始化threshold大小\n    this.threshold = tableSizeFor(initialCapacity);    \n}\npublic HashMap(int initialCapacity) {\n    this(initialCapacity, DEFAULT_LOAD_FACTOR);\n}\n \n//构造函数3\npublic HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n \n//构造函数4用m的元素初始化散列映射\npublic HashMap(Map<!--? extends K, ? extends V--> m) {\n    this.loadFactor = DEFAULT_LOAD_FACTOR;\n    putMapEntries(m, false);\n}\n\n```\n\ntableSizeFor(initialCapacity)返回大于等于initialCapacity的最小的二次幂数值。如capacity为9.返回16.\n```java\nstatic final int tableSizeFor(int cap) {\n        int n = cap - 1;\n        n |= n >>> 1;//>>> 操作符表示无符号右移，高位取0。\n        n |= n >>> 2;\n        n |= n >>> 4;\n        n |= n >>> 8;\n        n |= n >>> 16;\n        return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;\n    }\n```\n ## 重要成员函数\n ```java\n static final int hash(Object key) {\n    int h;\n    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n}\n//获取key对应所在tab的位置\ni = (n - 1) & hash（key）\n ```\n\n```java\npublic V get(Object key) {\n    Node<k,v> e;\n    return (e = getNode(hash(key), key)) == null ? null : e.value;\n}\n \n \nfinal Node<k,v> getNode(int hash, Object key) {\n    Node<k,v>[] tab; Node<k,v> first, e; int n; K k;\n    //hash & (length-1)得到对象的保存位\n    if ((tab = table) != null && (n = tab.length) > 0 &&\n        (first = tab[(n - 1) & hash]) != null) {\n        if (first.hash == hash && // always check first node\n            ((k = first.key) == key || (key != null && key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            //如果第一个节点是TreeNode,说明采用的是数组+红黑树结构处理冲突\n            //遍历红黑树，得到节点值\n            if (first instanceof TreeNode)\n                return ((TreeNode<k,v>)first).getTreeNode(hash, key);\n            //链表结构处理\n            do {\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n```\n```java\n   public V put(K key, V value) {\n       return putVal(hash(key), key, value, false, true);\n   }\n /* putVal\n 1判断键值对数组tab[]是否为空或为null，否则resize()；\n\n2根据键值key计算hash值得到插入的数组索引i，如果tab[i]==null，直接新建节点添加，否则转入3\n\n3判断当前数组中处理hash冲突的方式为链表还是红黑树(check第一个节点类型即可),分别处理。\n */\n   final V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n                  boolean evict) {\n       Node<k,v>[] tab; Node<k,v> p; int n, i;\n       //如果tab为空或长度为0，则分配内存resize()\n       if ((tab = table) == null || (n = tab.length) == 0)\n           n = (tab = resize()).length;\n       //(n - 1) & hash找到put位置，如果为空,则直接put\n       if ((p = tab[i = (n - 1) & hash]) == null)\n           tab[i] = newNode(hash, key, value, null);\n       else {\n           Node<k,v> e; K k;\n           //第一节节点hash值同，且key值与插入key相同\n           if (p.hash == hash &&((k = p.key) == key || (key != null && key.equals(k))))\n               e = p;\n           else if (p instanceof TreeNode)//属于红黑树处理冲突\n               e = ((TreeNode<k,v>)p).putTreeVal(this, tab, hash, key, value);\n           else {\n               //链表处理冲突\n               for (int binCount = 0; ; ++binCount) {\n                   //p第一次指向表头,以后依次后移\n                   if ((e = p.next) == null) {\n                       //e为空，表示已到表尾也没有找到key值相同节点，则新建节点\n                       p.next = newNode(hash, key, value, null);\n                       //新增节点后如果节点个数到达阈值，则将链表转换为红黑树\n                       if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                           treeifyBin(tab, hash);\n                       break;\n                   }\n                   //容许null==null\n                   if (e.hash == hash &&((k = e.key) == key || (key != null && key.equals(k))))\n                       break;\n                   p = e;//更新p指向下一个节点\n               }\n           }\n           //更新hash值和key值均相同的节点Value值\n           if (e != null) { // existing mapping for key\n               V oldValue = e.value;\n               if (!onlyIfAbsent || oldValue == null)\n                   e.value = value;\n               afterNodeAccess(e);\n               return oldValue;\n           }\n       }\n       ++modCount;\n       if (++size > threshold)\n           resize();\n       afterNodeInsertion(evict);\n       return null;\n   }\n```\nresize分为两步:(oldCap：原数组长度， newCap：新数组长度)\n1. 将newTable扩充为两倍的table\n2. 重新计算index，把节点再放到新的bucket中\n之所以重新计算index，是因为数组长度变化可能导致元素的所在index变化\n若仅有一个节点，则index = e.hash & (newCap - 1);\n若多于一个节点，以链表为例，\n获取每个bucket中的节点e, 判断（e.hash & oldCap) == 0，是的话则放置在原索引位置 j ，否则放置到 j + oldCap;\n\n```java\nfinal Node<K,V>[] resize() {\n    // 当前table保存\n    Node<K,V>[] oldTab = table;\n    // 保存table大小\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    // 保存当前阈值 \n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    // 之前table大小大于0\n    if (oldCap > 0) {\n        // 之前table大于最大容量\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            // 阈值为最大整形\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        // 容量翻倍，使用左移，效率更高\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n            oldCap >= DEFAULT_INITIAL_CAPACITY)\n            // 阈值翻倍\n            newThr = oldThr << 1; // double threshold\n    }\n    // 之前阈值大于0\n    else if (oldThr > 0)\n        newCap = oldThr;\n    // oldCap = 0并且oldThr = 0，使用缺省值（如使用HashMap()构造函数，之后再插入一个元素会调用resize函数，会进入这一步）\n    else {           \n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    // 新阈值为0\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n    // 初始化table\n    Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    // 之前的table已经初始化过\n    if (oldTab != null) {\n        // 复制元素，重新进行hash\n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    // 将同一桶中的元素根据(e.hash & oldCap)是否为0进行分割，分成两个不同的链表，完成rehash\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n","slug":"手撕HashMap","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2900d1qr3l7cmm6t6k"},{"title":"拍照，图册选取，截图的心路历程","date":"2019-04-18T16:00:00.000Z","description":"我想在Anki上添加一个截图功能，适配的很蛋疼","_content":"## 背景\n考研过程中使用了Anki，不能不感叹这款神器的牛皮，尽管自己尚未开发出这款App的全部功能，但它已经将我的英语词汇和写作往前面推了一些。感叹和由衷地感激这款遍布全球的项目的伟大，我也想为这个项目做些什么。首先就是想完成考研中咒骂了无数次的坑，怎么不自带一个截图功能。后哦来！我总算懂的这个坑因何无人来填。TMD，适配太难受了。尤其是小米和华为这两个行业巨头（中指），系统定制化太过严重，为了提升用户体验，篡改了很多原生Intent设置，不得不写出很多冗余代码只为适配这些独特机型，呵呵，MMP， 在墙内，原生的无法使用必须定制化这可以理解，定制化的系统更加方便国内用户的使用，这毫无疑问，在全球怕是再没有那个国家像中国的Android这样友好的用户体验，一切以用户为核心，从利益出发。这也导致在国内碎片话严重的令人发指，以及各种千奇百怪的保活策略和有意思的白名单。哎呀，现在强盗收保护费都收的那么理直气壮吗？ 我记得一次在面试招XX银行时的时候我遇到这么一个问题，请问你怎么实现保活？emmmm，哈哈哈哈。\n## 顺利完成裁剪任务\t\n历时两天我完成了裁剪功能的添加。想想也还是有点小激动的，马上成为34个国家app的贡献者之一啦！代码如下：\n```java\npublic class BasicImageFieldController extends FieldControllerBase implements IFieldController {\n\n    private static final int ACTIVITY_SELECT_IMAGE = 1;\n    private static final int ACTIVITY_TAKE_PICTURE = 2;\n    private static final int ACTIVITY_CROP_PICTURE = 3;\n    private static final int IMAGE_SAVE_MAX_WIDTH = 1920;\n\n    private ImageView mImagePreview;\n \n    private int showCropButton = 0;\n\n   \n    @Override\n    public void createUI(Context context, LinearLayout layout) {\n        mImagePreview = new ImageView(mActivity);\n        mLinearLayout = layout;\n        DisplayMetrics metrics = getDisplayMetrics();\n\n        int height = metrics.heightPixels;\n        int width = metrics.widthPixels;\n\n        LinearLayout.LayoutParams p = new LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,\n                android.view.ViewGroup.LayoutParams.WRAP_CONTENT);\n        setPreviewImage(mField.getImagePath(), getMaxImageSize());\n        mImagePreview.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\n        mImagePreview.setAdjustViewBounds(true);\n\n        mImagePreview.setMaxHeight((int) Math.round(height * 0.4));\n        mImagePreview.setMaxWidth((int) Math.round(width * 0.6));\n\n        Button mBtnGallery = new Button(mActivity);\n        mBtnGallery.setText(gtxt(R.string.multimedia_editor_image_field_editing_galery));\n        mBtnGallery.setOnClickListener(v -> {\n            Intent i = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            mActivity.startActivityForResultWithoutAnimation(i, ACTIVITY_SELECT_IMAGE);\n        });\n\n        Button mBtnCamera = new Button(mActivity);\n        mBtnCamera.setText(gtxt(R.string.multimedia_editor_image_field_editing_photo));\n        mBtnCamera.setOnClickListener(v -> {\n            Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            File image;\n            File storageDir;\n            String timeStamp = new SimpleDateFormat(\"yyyyMMddHHmmss\", Locale.US).format(new Date());\n            try {\n                storageDir = mActivity.getCacheDir();\n                image = File.createTempFile(\"img_\" + timeStamp, \".jpg\", storageDir);\n                mTempImagePath = image.getPath();\n                Uri uriSavedImage = FileProvider.getUriForFile(mActivity,\n                        mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                        image);\n\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, uriSavedImage);\n                if (cameraIntent.resolveActivity(context.getPackageManager()) != null) {\n                    mActivity.startActivityForResultWithoutAnimation(cameraIntent, ACTIVITY_TAKE_PICTURE);\n                }\n                else {\n                    Timber.w(\"Device has a camera, but no app to handle ACTION_IMAGE_CAPTURE Intent\");\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            mBtnCamera.setVisibility(View.INVISIBLE);\n        }\n\n        // Some hardware has no camera or reports yes but has zero (e.g., cheap devices, and Chromebook emulator)\n        if ((!context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA) &&\n                !context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FRONT)) ||\n                (CompatHelper.getCompat().getCameraCount() < 1)) {\n            mBtnCamera.setVisibility(View.INVISIBLE);\n        }\n\n        layout.addView(mImagePreview, ViewGroup.LayoutParams.MATCH_PARENT, p);\n        layout.addView(mBtnGallery, ViewGroup.LayoutParams.MATCH_PARENT);\n        layout.addView(mBtnCamera, ViewGroup.LayoutParams.MATCH_PARENT);\n    }\n\n\n    private String gtxt(int id) {\n        return mActivity.getText(id).toString();\n    }\n\n\n    private DisplayMetrics getDisplayMetrics() {\n        if (mMetrics == null) {\n            mMetrics = new DisplayMetrics();\n            mActivity.getWindowManager().getDefaultDisplay().getMetrics(mMetrics);\n        }\n        return mMetrics;\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        // ignore RESULT_CANCELED but handle image select and take\n        if (resultCode == Activity.RESULT_CANCELED) {\n            return;\n        }\n        if (requestCode == ACTIVITY_SELECT_IMAGE) {\n            handleSelectImageResult(data);\n        } else if (requestCode == ACTIVITY_TAKE_PICTURE) {\n            handleTakePictureResult();\n        }else if (requestCode == ACTIVITY_CROP_PICTURE) {\n            handleCropResult(data);\n        }\n\n        showCropButton++;\n\n        if (showCropButton == 1) {\n            Button cropBtn = new Button(mActivity);\n            cropBtn.setText(gtxt(R.string.crop_button));\n            cropBtn.setOnClickListener(v -> {\n                File file = new File(mTempImagePath);\n                Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n                photoCrop(uri);\n            });\n            mLinearLayout.addView(cropBtn);\n        }\n    }\n\n\n    private String rotateAndCompress(String inPath) {\n        // Set the rotation of the camera image and save as png\n        File f = new File(inPath);\n        // use same filename but with png extension for output file\n        String outPath = inPath.substring(0, inPath.lastIndexOf(\".\")) + \".png\";\n        // Load into a bitmap with max size of 1920 pixels and rotate if necessary\n        Bitmap b = BitmapUtil.decodeFile(f, IMAGE_SAVE_MAX_WIDTH);\n        FileOutputStream out = null;\n        try {\n            out = new FileOutputStream(outPath);\n            b = ExifUtil.rotateFromCamera(f, b);\n            b.compress(Bitmap.CompressFormat.PNG, 90, out);\n            f.delete();\n            return outPath;\n        } catch (FileNotFoundException e) {\n            Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            return inPath;\n        } finally {\n            try {\n                if (out != null) {\n                    out.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    private void setPreviewImage(String imagePath, int maxsize) {\n        if (imagePath != null && !imagePath.equals(\"\")) {\n            File f = new File(imagePath);\n            Bitmap b = BitmapUtil.decodeFile(f, maxsize);\n            b = ExifUtil.rotateFromCamera(f, b);\n            mImagePreview.setImageBitmap(b);\n        }\n    }\n\n\n    @Override\n    public void onDestroy() {\n        ImageView imageView = mImagePreview;\n        BitmapUtil.freeImageView(imageView);\n        showCropButton = 0;\n    }\n\n\n    /**\n     * Standard system crop intent\n     * @param uri\n     */\n\n    public void photoCrop(Uri uri) {\n        Intent intent = new Intent(\"com.android.camera.action.CROP\");\n        intent.setDataAndType(uri, \"image/*\");\n        intent.putExtra(\"crop\", \"true\");\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        intent.putExtra(\"return-data\", true);\n        mActivity.startActivityForResultWithoutAnimation(intent, ACTIVITY_CROP_PICTURE);\n    }\n\n    private void showCropDialog(Uri uri) {\n        new MaterialDialog.Builder(mActivity)\n                .content(R.string.crop_image)\n                .positiveText(R.string.dialog_ok)\n                .negativeText(R.string.dialog_cancel)\n                .onPositive((dialog, which) -> {\n                    photoCrop(uri);\n                })\n                .build().show();\n    }\n\n    private void writeCropImage(Bitmap cropImage) {\n\n        if (cropImage != null) {\n\n            FileOutputStream out = null;\n            File storageDir = mActivity.getCacheDir();\n\n            String fileName = mTempImagePath.substring(mTempImagePath.lastIndexOf(\"/\") + 1, mTempImagePath.lastIndexOf(\".\"));\n\n            if (!fileName.contains(\"crop\")) {\n                fileName += \"_crop\";\n            }\n\n            String outPath = storageDir.getAbsolutePath() + \"/\" + fileName + \".png\";\n\n            try {\n                out = new FileOutputStream(outPath);\n                cropImage.compress(Bitmap.CompressFormat.PNG, 90, out);\n                mField.setImagePath(outPath);\n                mField.setHasTemporaryMedia(true);\n                mTempImagePath = outPath;\n            } catch (FileNotFoundException e) {\n                Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            } finally {\n                try {\n                    if (out != null) {\n                        out.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void handleSelectImageResult(Intent data) {\n        Uri selectedImage = data.getData();\n        // Timber.d(selectedImage.toString());\n        String[] filePathColumn = { MediaColumns.DATA };\n\n        Cursor cursor = mActivity.getContentResolver().query(selectedImage, filePathColumn, null, null, null);\n        cursor.moveToFirst();\n\n        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n        String filePath = cursor.getString(columnIndex);\n        cursor.close();\n\n        mField.setImagePath(filePath);\n        setPreviewImage(filePath, getMaxImageSize());\n        mTempImagePath = filePath;\n        showCropDialog(selectedImage);\n    }\n\n    private void handleTakePictureResult() {\n        String imagePath = rotateAndCompress(mTempImagePath);\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(true);\n        setPreviewImage(imagePath, getMaxImageSize());\n        mTempImagePath = imagePath;\n        File file = new File(imagePath);\n        Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n        showCropDialog(uri);\n    }\n\n\n    private void handleCropResult(Intent data) {\n        Bundle bundle = data.getExtras();\n\n        if (bundle != null) {\n            Bitmap b = bundle.getParcelable(\"data\");\n            mImagePreview.setImageBitmap(b);\n            writeCropImage(b);\n        }\n    }\n}\n\n```\nFilePath文件\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<paths>\n    <external-cache-path path=\"export/\" name=\"export-directory\" />\n    <cache-path path=\"/\" name=\"cache-directory\" />\n    <external-path path=\".\" name=\"photos\" />\n</paths>\n\n```\n然而适配的并不顺利，小米和华为直接闪退，网上查了下，小米和华为不支持裁剪直接返回Bitmap，想想也是哈，毕竟Binder支持1MB的大小交互，而且闪退时的Error也有出现Binder的影子。想办法解决，那没返回值，像拍照一样直接传入写入的uri让系统裁剪程序向该Uri进行写入，再进行读取岂不妙哉。\n\n## 失望\n我又一次失败了，TMD，咋一直报安全异常呢\n```java\nWriting exception to parcel\n    java.lang.SecurityException: Permission Denial: writing androidx.core.content.FileProvider uri content://com.ichi2.anki.apkgfileprovider/cache-directory/img_201904190726581247673844.jpg from pid=3207, uid=10008 requires the provider be exported, or grantUriPermission()\n        at android.content.ContentProvider.enforceWritePermissionInner(ContentProvider.java:682)\n        at android.content.ContentProvider$Transport.enforceWritePermission(ContentProvider.java:497)\n        at android.content.ContentProvider$Transport.enforceFilePermission(ContentProvider.java:469)\n        at android.content.ContentProvider$Transport.openAssetFile(ContentProvider.java:384)\n        at android.content.ContentProviderNative.onTransact(ContentProviderNative.java:262)\n        at android.os.Binder.execTransact(Binder.java:565)\n```\n代码我写的不错啊！有条有理，章法清晰的复制粘贴。\n\n```java\npublic class BasicImageFieldController extends FieldControllerBase implements IFieldController {\n\n...\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        // ignore RESULT_CANCELED but handle image select and take\n        if (resultCode == Activity.RESULT_CANCELED) {\n            return;\n        }\n        if (requestCode == ACTIVITY_SELECT_IMAGE) {\n            handleSelectImageResult(data);\n        } else if (requestCode == ACTIVITY_TAKE_PICTURE) {\n            handleTakePictureResult();\n        }else if (requestCode == ACTIVITY_CROP_PICTURE) {\n            File cropFile=new File(mTempImagePath);\n            Uri cropUri = FileProvider.getUriForFile(mActivity,\n                    mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                    cropFile);\n            handleCropResult(cropUri);\n        }\n\n        showCropButton++;\n\n        if (showCropButton == 1) {\n            Button cropBtn = new Button(mActivity);\n            cropBtn.setText(gtxt(R.string.crop_button));\n            cropBtn.setOnClickListener(v -> {\n                File file = new File(mTempImagePath);\n                Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n                photoCrop(uri);\n            });\n            mLinearLayout.addView(cropBtn);\n        }\n    }\n\n\n\n    public void photoCrop(Uri uri) {\n        File image;\n        File storageDir;\n        String timeStamp = new SimpleDateFormat(\"yyyyMMddHHmmss\", Locale.US).format(new Date());\n        storageDir = mActivity.getCacheDir();\n        try {\n            image = File.createTempFile(\"img_\" + timeStamp, \".jpg\", storageDir);\n            mTempImagePath = image.getPath();\n            Uri cropUri = Uri.fromFile(image);\n            mField.setImagePath(mTempImagePath);\n            mField.setHasTemporaryMedia(true);\n\n            Intent intent = new Intent(\"com.android.camera.action.CROP\");\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {\n                //添加这一句表示对目标应用临时授权该Uri所代表的文件\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            }\n            intent.setDataAndType(uri, \"image/*\");\n            intent.putExtra(\"aspectX\", 1); // 裁剪框比例\n            intent.putExtra(\"aspectY\", 1);\n            intent.putExtra(\"outputX\", 300); // 输出图片大小\n            intent.putExtra(\"outputY\", 300);\n            intent.putExtra(\"scale\", true);\n            intent.putExtra(\"return-data\", false);\n\n\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, cropUri);\n            intent.putExtra(\"outputFormat\", Bitmap.CompressFormat.JPEG.toString());\n            intent.putExtra(\"noFaceDetection\", true); // no face detection\n            mActivity.startActivityForResultWithoutAnimation(intent, ACTIVITY_CROP_PICTURE);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void showCropDialog(Uri uri) {\n        new MaterialDialog.Builder(mActivity)\n                .content(R.string.crop_image)\n                .positiveText(R.string.dialog_ok)\n                .negativeText(R.string.dialog_cancel)\n                .onPositive((dialog, which) -> {\n                    photoCrop(uri);\n                })\n                .build().show();\n    }\n\n    private void writeCropImage(Bitmap cropImage) {\n\n        if (cropImage != null) {\n\n            FileOutputStream out = null;\n            File storageDir = mActivity.getCacheDir();\n\n            String fileName = mTempImagePath.substring(mTempImagePath.lastIndexOf(\"/\") + 1, mTempImagePath.lastIndexOf(\".\"));\n\n            if (!fileName.contains(\"crop\")) {\n                fileName += \"_crop\";\n            }\n\n            String outPath = storageDir.getAbsolutePath() + \"/\" + fileName + \".png\";\n\n            try {\n                out = new FileOutputStream(outPath);\n                cropImage.compress(Bitmap.CompressFormat.PNG, 90, out);\n                mField.setImagePath(outPath);\n                mField.setHasTemporaryMedia(true);\n                mTempImagePath = outPath;\n            } catch (FileNotFoundException e) {\n                Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            } finally {\n                try {\n                    if (out != null) {\n                        out.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void handleSelectImageResult(Intent data) {\n        Uri selectedImage = getImageUri(mActivity, data);\n        setPreviewImage(mTempImagePath, getMaxImageSize());\n        showCropDialog(selectedImage);\n    }\n\n    private void handleTakePictureResult() {\n        String imagePath = rotateAndCompress(mTempImagePath);\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(true);\n        setPreviewImage(imagePath, getMaxImageSize());\n        mTempImagePath = imagePath;\n        File file = new File(imagePath);\n        Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n        showCropDialog(uri);\n    }\n\n\n    private void handleCropResult(Uri uri) {\n        if (uri != null) {\n            Bitmap photo = null;\n            try {\n                photo = BitmapFactory.decodeStream(mActivity.getContentResolver().openInputStream(uri));\n                //mImagePreview.setImageBitmap(photo);\n                writeCropImage(photo);\n                setPreviewImage(mTempImagePath, getMaxImageSize());\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            Timber.i(\"\");\n        }\n    }\n\n    private Uri getImageUri(Context context,Intent data){\n        String imagePath = null;\n        Uri uri = data.getData();\n        if(Build.VERSION.SDK_INT >= 19){\n            if(DocumentsContract.isDocumentUri(context,uri)){\n                String docId = DocumentsContract.getDocumentId(uri);\n                if(\"com.android.providers.media.documents\".equals(uri.getAuthority())){\n                    String id = docId.split(\":\")[1];\n                    String selection = MediaStore.Images.Media._ID+\"=\"+id;\n                    imagePath = getImagePath(context,MediaStore.Images.Media.EXTERNAL_CONTENT_URI,selection);\n                }else if(\"com.android.providers.downloads.documents\".equals(uri.getAuthority())){\n                    Uri contentUri = ContentUris.withAppendedId(Uri.parse(\"content://downloads/public_downloads\"),Long.valueOf(docId));\n                    imagePath = getImagePath(context,contentUri,null);\n                }\n            }else if(\"content\".equalsIgnoreCase(uri.getScheme())){\n                imagePath = getImagePath(context,uri,null);\n            }else if(\"file\".equalsIgnoreCase(uri.getScheme())){\n                imagePath = uri.getPath();\n            }\n        }else{\n            uri= data.getData();\n            imagePath = getImagePath(context,uri,null);\n        }\n        File file = new File(imagePath);\n        mTempImagePath = imagePath;\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(false);\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {\n            uri = FileProvider.getUriForFile(context,\n                    mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                    file);\n        } else {\n            uri = Uri.fromFile(file);\n        }\n\n        return uri;\n    }\n\n    private String getImagePath(Context context,Uri uri, String selection) {\n        String path = null;\n        Cursor cursor = context.getContentResolver().query(uri,null,selection,null,null);\n        if(cursor != null){\n            if(cursor.moveToFirst()){\n                path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA));\n            }\n            cursor.close();\n        }\n        return path;\n    }\n}\n\n```\n对比了下参考代码，唯一的区别的就是我是选择当前的app的缓存目录作为输出uri，而参考代码则是选择sdcard的外存目录的指定文件夹作为目录，于是我死马当作活马医狠下心选择外存作为写入uri. 还别说，真香\n\n## 扒开云雾见月明\n为什么同样是将缓存目录作为写入uri,而照相机可以成功写入，而裁剪功能却不行，会报安全异常，权限非法。分析异常可以看出是FileProvider没有授权，然而哈，我已经在FilePath进行了注册，而且拍照功能是可以正常运行的。至今仍是懵逼中。为毛同样的输出Uri，拍照Intent可以写入，而Crop Intent却不行。神奇诶。而且这个并非是定制化的锅，我在官方模拟器测过同样会报这个error，由此可见是系统rom的Crop Intent处理与Take Photo Intent不同。算是一个遗留下的坑以后看系统源码来填。\n\n","source":"_posts/拍照，图册选取，截图的心路历程.md","raw":"title: 拍照，图册选取，截图的心路历程\ndate: 2019-4-19\ntags: [Android]\ncategories: Anki开发\ndescription: 我想在Anki上添加一个截图功能，适配的很蛋疼\n---\n## 背景\n考研过程中使用了Anki，不能不感叹这款神器的牛皮，尽管自己尚未开发出这款App的全部功能，但它已经将我的英语词汇和写作往前面推了一些。感叹和由衷地感激这款遍布全球的项目的伟大，我也想为这个项目做些什么。首先就是想完成考研中咒骂了无数次的坑，怎么不自带一个截图功能。后哦来！我总算懂的这个坑因何无人来填。TMD，适配太难受了。尤其是小米和华为这两个行业巨头（中指），系统定制化太过严重，为了提升用户体验，篡改了很多原生Intent设置，不得不写出很多冗余代码只为适配这些独特机型，呵呵，MMP， 在墙内，原生的无法使用必须定制化这可以理解，定制化的系统更加方便国内用户的使用，这毫无疑问，在全球怕是再没有那个国家像中国的Android这样友好的用户体验，一切以用户为核心，从利益出发。这也导致在国内碎片话严重的令人发指，以及各种千奇百怪的保活策略和有意思的白名单。哎呀，现在强盗收保护费都收的那么理直气壮吗？ 我记得一次在面试招XX银行时的时候我遇到这么一个问题，请问你怎么实现保活？emmmm，哈哈哈哈。\n## 顺利完成裁剪任务\t\n历时两天我完成了裁剪功能的添加。想想也还是有点小激动的，马上成为34个国家app的贡献者之一啦！代码如下：\n```java\npublic class BasicImageFieldController extends FieldControllerBase implements IFieldController {\n\n    private static final int ACTIVITY_SELECT_IMAGE = 1;\n    private static final int ACTIVITY_TAKE_PICTURE = 2;\n    private static final int ACTIVITY_CROP_PICTURE = 3;\n    private static final int IMAGE_SAVE_MAX_WIDTH = 1920;\n\n    private ImageView mImagePreview;\n \n    private int showCropButton = 0;\n\n   \n    @Override\n    public void createUI(Context context, LinearLayout layout) {\n        mImagePreview = new ImageView(mActivity);\n        mLinearLayout = layout;\n        DisplayMetrics metrics = getDisplayMetrics();\n\n        int height = metrics.heightPixels;\n        int width = metrics.widthPixels;\n\n        LinearLayout.LayoutParams p = new LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,\n                android.view.ViewGroup.LayoutParams.WRAP_CONTENT);\n        setPreviewImage(mField.getImagePath(), getMaxImageSize());\n        mImagePreview.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\n        mImagePreview.setAdjustViewBounds(true);\n\n        mImagePreview.setMaxHeight((int) Math.round(height * 0.4));\n        mImagePreview.setMaxWidth((int) Math.round(width * 0.6));\n\n        Button mBtnGallery = new Button(mActivity);\n        mBtnGallery.setText(gtxt(R.string.multimedia_editor_image_field_editing_galery));\n        mBtnGallery.setOnClickListener(v -> {\n            Intent i = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            mActivity.startActivityForResultWithoutAnimation(i, ACTIVITY_SELECT_IMAGE);\n        });\n\n        Button mBtnCamera = new Button(mActivity);\n        mBtnCamera.setText(gtxt(R.string.multimedia_editor_image_field_editing_photo));\n        mBtnCamera.setOnClickListener(v -> {\n            Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            File image;\n            File storageDir;\n            String timeStamp = new SimpleDateFormat(\"yyyyMMddHHmmss\", Locale.US).format(new Date());\n            try {\n                storageDir = mActivity.getCacheDir();\n                image = File.createTempFile(\"img_\" + timeStamp, \".jpg\", storageDir);\n                mTempImagePath = image.getPath();\n                Uri uriSavedImage = FileProvider.getUriForFile(mActivity,\n                        mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                        image);\n\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, uriSavedImage);\n                if (cameraIntent.resolveActivity(context.getPackageManager()) != null) {\n                    mActivity.startActivityForResultWithoutAnimation(cameraIntent, ACTIVITY_TAKE_PICTURE);\n                }\n                else {\n                    Timber.w(\"Device has a camera, but no app to handle ACTION_IMAGE_CAPTURE Intent\");\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        if (ContextCompat.checkSelfPermission(context, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            mBtnCamera.setVisibility(View.INVISIBLE);\n        }\n\n        // Some hardware has no camera or reports yes but has zero (e.g., cheap devices, and Chromebook emulator)\n        if ((!context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA) &&\n                !context.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_FRONT)) ||\n                (CompatHelper.getCompat().getCameraCount() < 1)) {\n            mBtnCamera.setVisibility(View.INVISIBLE);\n        }\n\n        layout.addView(mImagePreview, ViewGroup.LayoutParams.MATCH_PARENT, p);\n        layout.addView(mBtnGallery, ViewGroup.LayoutParams.MATCH_PARENT);\n        layout.addView(mBtnCamera, ViewGroup.LayoutParams.MATCH_PARENT);\n    }\n\n\n    private String gtxt(int id) {\n        return mActivity.getText(id).toString();\n    }\n\n\n    private DisplayMetrics getDisplayMetrics() {\n        if (mMetrics == null) {\n            mMetrics = new DisplayMetrics();\n            mActivity.getWindowManager().getDefaultDisplay().getMetrics(mMetrics);\n        }\n        return mMetrics;\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        // ignore RESULT_CANCELED but handle image select and take\n        if (resultCode == Activity.RESULT_CANCELED) {\n            return;\n        }\n        if (requestCode == ACTIVITY_SELECT_IMAGE) {\n            handleSelectImageResult(data);\n        } else if (requestCode == ACTIVITY_TAKE_PICTURE) {\n            handleTakePictureResult();\n        }else if (requestCode == ACTIVITY_CROP_PICTURE) {\n            handleCropResult(data);\n        }\n\n        showCropButton++;\n\n        if (showCropButton == 1) {\n            Button cropBtn = new Button(mActivity);\n            cropBtn.setText(gtxt(R.string.crop_button));\n            cropBtn.setOnClickListener(v -> {\n                File file = new File(mTempImagePath);\n                Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n                photoCrop(uri);\n            });\n            mLinearLayout.addView(cropBtn);\n        }\n    }\n\n\n    private String rotateAndCompress(String inPath) {\n        // Set the rotation of the camera image and save as png\n        File f = new File(inPath);\n        // use same filename but with png extension for output file\n        String outPath = inPath.substring(0, inPath.lastIndexOf(\".\")) + \".png\";\n        // Load into a bitmap with max size of 1920 pixels and rotate if necessary\n        Bitmap b = BitmapUtil.decodeFile(f, IMAGE_SAVE_MAX_WIDTH);\n        FileOutputStream out = null;\n        try {\n            out = new FileOutputStream(outPath);\n            b = ExifUtil.rotateFromCamera(f, b);\n            b.compress(Bitmap.CompressFormat.PNG, 90, out);\n            f.delete();\n            return outPath;\n        } catch (FileNotFoundException e) {\n            Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            return inPath;\n        } finally {\n            try {\n                if (out != null) {\n                    out.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    private void setPreviewImage(String imagePath, int maxsize) {\n        if (imagePath != null && !imagePath.equals(\"\")) {\n            File f = new File(imagePath);\n            Bitmap b = BitmapUtil.decodeFile(f, maxsize);\n            b = ExifUtil.rotateFromCamera(f, b);\n            mImagePreview.setImageBitmap(b);\n        }\n    }\n\n\n    @Override\n    public void onDestroy() {\n        ImageView imageView = mImagePreview;\n        BitmapUtil.freeImageView(imageView);\n        showCropButton = 0;\n    }\n\n\n    /**\n     * Standard system crop intent\n     * @param uri\n     */\n\n    public void photoCrop(Uri uri) {\n        Intent intent = new Intent(\"com.android.camera.action.CROP\");\n        intent.setDataAndType(uri, \"image/*\");\n        intent.putExtra(\"crop\", \"true\");\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        intent.putExtra(\"return-data\", true);\n        mActivity.startActivityForResultWithoutAnimation(intent, ACTIVITY_CROP_PICTURE);\n    }\n\n    private void showCropDialog(Uri uri) {\n        new MaterialDialog.Builder(mActivity)\n                .content(R.string.crop_image)\n                .positiveText(R.string.dialog_ok)\n                .negativeText(R.string.dialog_cancel)\n                .onPositive((dialog, which) -> {\n                    photoCrop(uri);\n                })\n                .build().show();\n    }\n\n    private void writeCropImage(Bitmap cropImage) {\n\n        if (cropImage != null) {\n\n            FileOutputStream out = null;\n            File storageDir = mActivity.getCacheDir();\n\n            String fileName = mTempImagePath.substring(mTempImagePath.lastIndexOf(\"/\") + 1, mTempImagePath.lastIndexOf(\".\"));\n\n            if (!fileName.contains(\"crop\")) {\n                fileName += \"_crop\";\n            }\n\n            String outPath = storageDir.getAbsolutePath() + \"/\" + fileName + \".png\";\n\n            try {\n                out = new FileOutputStream(outPath);\n                cropImage.compress(Bitmap.CompressFormat.PNG, 90, out);\n                mField.setImagePath(outPath);\n                mField.setHasTemporaryMedia(true);\n                mTempImagePath = outPath;\n            } catch (FileNotFoundException e) {\n                Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            } finally {\n                try {\n                    if (out != null) {\n                        out.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void handleSelectImageResult(Intent data) {\n        Uri selectedImage = data.getData();\n        // Timber.d(selectedImage.toString());\n        String[] filePathColumn = { MediaColumns.DATA };\n\n        Cursor cursor = mActivity.getContentResolver().query(selectedImage, filePathColumn, null, null, null);\n        cursor.moveToFirst();\n\n        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n        String filePath = cursor.getString(columnIndex);\n        cursor.close();\n\n        mField.setImagePath(filePath);\n        setPreviewImage(filePath, getMaxImageSize());\n        mTempImagePath = filePath;\n        showCropDialog(selectedImage);\n    }\n\n    private void handleTakePictureResult() {\n        String imagePath = rotateAndCompress(mTempImagePath);\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(true);\n        setPreviewImage(imagePath, getMaxImageSize());\n        mTempImagePath = imagePath;\n        File file = new File(imagePath);\n        Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n        showCropDialog(uri);\n    }\n\n\n    private void handleCropResult(Intent data) {\n        Bundle bundle = data.getExtras();\n\n        if (bundle != null) {\n            Bitmap b = bundle.getParcelable(\"data\");\n            mImagePreview.setImageBitmap(b);\n            writeCropImage(b);\n        }\n    }\n}\n\n```\nFilePath文件\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<paths>\n    <external-cache-path path=\"export/\" name=\"export-directory\" />\n    <cache-path path=\"/\" name=\"cache-directory\" />\n    <external-path path=\".\" name=\"photos\" />\n</paths>\n\n```\n然而适配的并不顺利，小米和华为直接闪退，网上查了下，小米和华为不支持裁剪直接返回Bitmap，想想也是哈，毕竟Binder支持1MB的大小交互，而且闪退时的Error也有出现Binder的影子。想办法解决，那没返回值，像拍照一样直接传入写入的uri让系统裁剪程序向该Uri进行写入，再进行读取岂不妙哉。\n\n## 失望\n我又一次失败了，TMD，咋一直报安全异常呢\n```java\nWriting exception to parcel\n    java.lang.SecurityException: Permission Denial: writing androidx.core.content.FileProvider uri content://com.ichi2.anki.apkgfileprovider/cache-directory/img_201904190726581247673844.jpg from pid=3207, uid=10008 requires the provider be exported, or grantUriPermission()\n        at android.content.ContentProvider.enforceWritePermissionInner(ContentProvider.java:682)\n        at android.content.ContentProvider$Transport.enforceWritePermission(ContentProvider.java:497)\n        at android.content.ContentProvider$Transport.enforceFilePermission(ContentProvider.java:469)\n        at android.content.ContentProvider$Transport.openAssetFile(ContentProvider.java:384)\n        at android.content.ContentProviderNative.onTransact(ContentProviderNative.java:262)\n        at android.os.Binder.execTransact(Binder.java:565)\n```\n代码我写的不错啊！有条有理，章法清晰的复制粘贴。\n\n```java\npublic class BasicImageFieldController extends FieldControllerBase implements IFieldController {\n\n...\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        // ignore RESULT_CANCELED but handle image select and take\n        if (resultCode == Activity.RESULT_CANCELED) {\n            return;\n        }\n        if (requestCode == ACTIVITY_SELECT_IMAGE) {\n            handleSelectImageResult(data);\n        } else if (requestCode == ACTIVITY_TAKE_PICTURE) {\n            handleTakePictureResult();\n        }else if (requestCode == ACTIVITY_CROP_PICTURE) {\n            File cropFile=new File(mTempImagePath);\n            Uri cropUri = FileProvider.getUriForFile(mActivity,\n                    mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                    cropFile);\n            handleCropResult(cropUri);\n        }\n\n        showCropButton++;\n\n        if (showCropButton == 1) {\n            Button cropBtn = new Button(mActivity);\n            cropBtn.setText(gtxt(R.string.crop_button));\n            cropBtn.setOnClickListener(v -> {\n                File file = new File(mTempImagePath);\n                Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n                photoCrop(uri);\n            });\n            mLinearLayout.addView(cropBtn);\n        }\n    }\n\n\n\n    public void photoCrop(Uri uri) {\n        File image;\n        File storageDir;\n        String timeStamp = new SimpleDateFormat(\"yyyyMMddHHmmss\", Locale.US).format(new Date());\n        storageDir = mActivity.getCacheDir();\n        try {\n            image = File.createTempFile(\"img_\" + timeStamp, \".jpg\", storageDir);\n            mTempImagePath = image.getPath();\n            Uri cropUri = Uri.fromFile(image);\n            mField.setImagePath(mTempImagePath);\n            mField.setHasTemporaryMedia(true);\n\n            Intent intent = new Intent(\"com.android.camera.action.CROP\");\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {\n                //添加这一句表示对目标应用临时授权该Uri所代表的文件\n                intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            }\n            intent.setDataAndType(uri, \"image/*\");\n            intent.putExtra(\"aspectX\", 1); // 裁剪框比例\n            intent.putExtra(\"aspectY\", 1);\n            intent.putExtra(\"outputX\", 300); // 输出图片大小\n            intent.putExtra(\"outputY\", 300);\n            intent.putExtra(\"scale\", true);\n            intent.putExtra(\"return-data\", false);\n\n\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, cropUri);\n            intent.putExtra(\"outputFormat\", Bitmap.CompressFormat.JPEG.toString());\n            intent.putExtra(\"noFaceDetection\", true); // no face detection\n            mActivity.startActivityForResultWithoutAnimation(intent, ACTIVITY_CROP_PICTURE);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void showCropDialog(Uri uri) {\n        new MaterialDialog.Builder(mActivity)\n                .content(R.string.crop_image)\n                .positiveText(R.string.dialog_ok)\n                .negativeText(R.string.dialog_cancel)\n                .onPositive((dialog, which) -> {\n                    photoCrop(uri);\n                })\n                .build().show();\n    }\n\n    private void writeCropImage(Bitmap cropImage) {\n\n        if (cropImage != null) {\n\n            FileOutputStream out = null;\n            File storageDir = mActivity.getCacheDir();\n\n            String fileName = mTempImagePath.substring(mTempImagePath.lastIndexOf(\"/\") + 1, mTempImagePath.lastIndexOf(\".\"));\n\n            if (!fileName.contains(\"crop\")) {\n                fileName += \"_crop\";\n            }\n\n            String outPath = storageDir.getAbsolutePath() + \"/\" + fileName + \".png\";\n\n            try {\n                out = new FileOutputStream(outPath);\n                cropImage.compress(Bitmap.CompressFormat.PNG, 90, out);\n                mField.setImagePath(outPath);\n                mField.setHasTemporaryMedia(true);\n                mTempImagePath = outPath;\n            } catch (FileNotFoundException e) {\n                Timber.e(e, \"Error in BasicImageFieldController.rotateAndCompress()\");\n            } finally {\n                try {\n                    if (out != null) {\n                        out.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void handleSelectImageResult(Intent data) {\n        Uri selectedImage = getImageUri(mActivity, data);\n        setPreviewImage(mTempImagePath, getMaxImageSize());\n        showCropDialog(selectedImage);\n    }\n\n    private void handleTakePictureResult() {\n        String imagePath = rotateAndCompress(mTempImagePath);\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(true);\n        setPreviewImage(imagePath, getMaxImageSize());\n        mTempImagePath = imagePath;\n        File file = new File(imagePath);\n        Uri uri = FileProvider.getUriForFile(mActivity, mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\", file);\n        showCropDialog(uri);\n    }\n\n\n    private void handleCropResult(Uri uri) {\n        if (uri != null) {\n            Bitmap photo = null;\n            try {\n                photo = BitmapFactory.decodeStream(mActivity.getContentResolver().openInputStream(uri));\n                //mImagePreview.setImageBitmap(photo);\n                writeCropImage(photo);\n                setPreviewImage(mTempImagePath, getMaxImageSize());\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            Timber.i(\"\");\n        }\n    }\n\n    private Uri getImageUri(Context context,Intent data){\n        String imagePath = null;\n        Uri uri = data.getData();\n        if(Build.VERSION.SDK_INT >= 19){\n            if(DocumentsContract.isDocumentUri(context,uri)){\n                String docId = DocumentsContract.getDocumentId(uri);\n                if(\"com.android.providers.media.documents\".equals(uri.getAuthority())){\n                    String id = docId.split(\":\")[1];\n                    String selection = MediaStore.Images.Media._ID+\"=\"+id;\n                    imagePath = getImagePath(context,MediaStore.Images.Media.EXTERNAL_CONTENT_URI,selection);\n                }else if(\"com.android.providers.downloads.documents\".equals(uri.getAuthority())){\n                    Uri contentUri = ContentUris.withAppendedId(Uri.parse(\"content://downloads/public_downloads\"),Long.valueOf(docId));\n                    imagePath = getImagePath(context,contentUri,null);\n                }\n            }else if(\"content\".equalsIgnoreCase(uri.getScheme())){\n                imagePath = getImagePath(context,uri,null);\n            }else if(\"file\".equalsIgnoreCase(uri.getScheme())){\n                imagePath = uri.getPath();\n            }\n        }else{\n            uri= data.getData();\n            imagePath = getImagePath(context,uri,null);\n        }\n        File file = new File(imagePath);\n        mTempImagePath = imagePath;\n        mField.setImagePath(imagePath);\n        mField.setHasTemporaryMedia(false);\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N) {\n            uri = FileProvider.getUriForFile(context,\n                    mActivity.getApplicationContext().getPackageName() + \".apkgfileprovider\",\n                    file);\n        } else {\n            uri = Uri.fromFile(file);\n        }\n\n        return uri;\n    }\n\n    private String getImagePath(Context context,Uri uri, String selection) {\n        String path = null;\n        Cursor cursor = context.getContentResolver().query(uri,null,selection,null,null);\n        if(cursor != null){\n            if(cursor.moveToFirst()){\n                path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA));\n            }\n            cursor.close();\n        }\n        return path;\n    }\n}\n\n```\n对比了下参考代码，唯一的区别的就是我是选择当前的app的缓存目录作为输出uri，而参考代码则是选择sdcard的外存目录的指定文件夹作为目录，于是我死马当作活马医狠下心选择外存作为写入uri. 还别说，真香\n\n## 扒开云雾见月明\n为什么同样是将缓存目录作为写入uri,而照相机可以成功写入，而裁剪功能却不行，会报安全异常，权限非法。分析异常可以看出是FileProvider没有授权，然而哈，我已经在FilePath进行了注册，而且拍照功能是可以正常运行的。至今仍是懵逼中。为毛同样的输出Uri，拍照Intent可以写入，而Crop Intent却不行。神奇诶。而且这个并非是定制化的锅，我在官方模拟器测过同样会报这个error，由此可见是系统rom的Crop Intent处理与Take Photo Intent不同。算是一个遗留下的坑以后看系统源码来填。\n\n","slug":"拍照，图册选取，截图的心路历程","published":1,"updated":"2020-02-13T07:16:09.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2a00d4qr3l964lpq2h"},{"title":"数组中的K个最大元素","date":"2019-03-21T16:00:00.000Z","description":"Heap Sort","_content":"## Problem description\n  ### 给定一个数组nums,取出其中最大的K个数\n\n## Solution\n1. 直接Arrays.sort，取出最后K个数\n2. 采取优先级队列(小顶堆实现)\n3. 自己用大顶堆实现\n## Code\n```java\n //2\n class Solution {\n    public int[] findKLargest(int[] nums, int k) {\n        Queue<Integer> max = new PriorityQueue<Integer>();\n        for (int n : nums) {\n            if (max.size() < k) max.offer(n);//构造k个数的优先队列，最小\n            else if (n > max.peek()) {\n                max.poll();\n                max.offer(n);\n            }\n        }\n        int[] res = new int[k];\n        for (int i = 0; i < k; i++) {\n            res[i] = max.poll();\n        }\n        return res;\n    }\n}\n```\n\n```java\n class Solution {\n     public int[] findKLargest(int[] nums, int k) {\n        if (nums == null || nums.length <= 1) {\n            return nums;\n        }\n        buildMaxHeap(nums);\n        int[] res = new int[k];\n        for (int i = nums.length - 1; i > nums.length - 1 - k; i--) {\n            swap(nums, i, 0);\n            res[nums.length - i - 1] = nums[i];\n            maxHeap(nums, 0, i - 1);\n        }\n        return res;\n    }\n\n    private void buildMaxHeap(int[] nums) {\n        for (int i = nums.length / 2; i >= 0; i--) {\n            maxHeap(nums, i, nums.length);\n        }\n    }\n\n    private void maxHeap(int[] nums, int index, int length) {\n\n        int left = 2 * index + 1;\n\n        if (left < length && left + 1 < length && nums[left] < nums[left + 1]) {\n            left++;\n        }\n        if (left < length && nums[index] < nums[left]) {\n            swap(nums, index, left);\n            maxHeap(nums, left, length);\n        }\n    }\n\n    private void swap(int[] nums, int i, int j) {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n}\n```\n","source":"_posts/数组中的K个最大元素.md","raw":"title: 数组中的K个最大元素\ndate: 2019-3-22\ntags: [Leetcode]\ncategories: algorithm\ndescription: Heap Sort\n---\n## Problem description\n  ### 给定一个数组nums,取出其中最大的K个数\n\n## Solution\n1. 直接Arrays.sort，取出最后K个数\n2. 采取优先级队列(小顶堆实现)\n3. 自己用大顶堆实现\n## Code\n```java\n //2\n class Solution {\n    public int[] findKLargest(int[] nums, int k) {\n        Queue<Integer> max = new PriorityQueue<Integer>();\n        for (int n : nums) {\n            if (max.size() < k) max.offer(n);//构造k个数的优先队列，最小\n            else if (n > max.peek()) {\n                max.poll();\n                max.offer(n);\n            }\n        }\n        int[] res = new int[k];\n        for (int i = 0; i < k; i++) {\n            res[i] = max.poll();\n        }\n        return res;\n    }\n}\n```\n\n```java\n class Solution {\n     public int[] findKLargest(int[] nums, int k) {\n        if (nums == null || nums.length <= 1) {\n            return nums;\n        }\n        buildMaxHeap(nums);\n        int[] res = new int[k];\n        for (int i = nums.length - 1; i > nums.length - 1 - k; i--) {\n            swap(nums, i, 0);\n            res[nums.length - i - 1] = nums[i];\n            maxHeap(nums, 0, i - 1);\n        }\n        return res;\n    }\n\n    private void buildMaxHeap(int[] nums) {\n        for (int i = nums.length / 2; i >= 0; i--) {\n            maxHeap(nums, i, nums.length);\n        }\n    }\n\n    private void maxHeap(int[] nums, int index, int length) {\n\n        int left = 2 * index + 1;\n\n        if (left < length && left + 1 < length && nums[left] < nums[left + 1]) {\n            left++;\n        }\n        if (left < length && nums[index] < nums[left]) {\n            swap(nums, index, left);\n            maxHeap(nums, left, length);\n        }\n    }\n\n    private void swap(int[] nums, int i, int j) {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n}\n```\n","slug":"数组中的K个最大元素","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2b00d8qr3logd0tm8a"},{"title":"数组中的逆序对","date":"2019-03-01T16:00:00.000Z","description":"狗甩的牛客","_content":"## Problem description\n  ### 在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组,求出这个数组中的逆序对的总数P。并将P对1000000007取模的结果输出。 即输出P%1000000007\n ## Examples\n``` java\nExample 1:\nInput: 1,2,3,4,5,6,7,0\nOutput: 7\n```\n```java\nExample 2:\nInput: 7,6,5,4\nOutput: 5\n```\n## Solution\n完全没有思路，汗~\n分治呀，分治呀，小伙计。\n![merge_sort](/images/merge_sort.png)\n把数组分解为两个子数组，递归直至数组被拆分成两个为1的子数组。合并子数组同时统计逆序对。统计后需要将统计后的数组排序，防止统计重复。\n嗨呀！这不就是归并大兄弟嘛，先求出左边已排好序的逆序数，再求出右边已排好序的逆序数，最后合并时求左右两组中的逆序数。\n合并时需要注意归并排序的特征，在统计逆序数时，前面数组array[i] > 后面数组的array[j]时，那么因为左右两边均是有序数组。那么mid~j处的右侧数组数据必然都小于i。所以count += j - mid;\n最后天杀的牛客哟，竟然数据会溢出，你放个Int返回值干啥\n\n## Code\n```java\n     public int InversePairs(int[] array) {\n        if (array == null || array.length == 0) {\n            return 0;\n        }\n\n        int[] copy = new int[array.length];\n        return mergeSort(array, copy, 0, array.length - 1);\n    }\n\n    public int mergeSort(int[] array, int[] copy, int low, int high) {\n        if (low < high) {\n            int length = (high - low) >> 1;\n            int left = mergeSort(array, copy, low, low + length) % 1000000007;\n            int right = mergeSort(array, copy, low + length + 1, high) % 1000000007;\n            int mid = merge(array, copy, low, low + length, high) % 1000000007;\n            return (left + right + mid) % 1000000007;\n        }\n        return 0;\n    }\n\n    private int merge(int[] array, int[] copy, int low, int mid, int high) {\n        for (int i = low; i <= high; i++) {\n            copy[i] = array[i];\n        }\n        int i = mid, j = high, k = high;\n        int count = 0;\n        while (i >= low && j > mid) {\n            if (copy[i] > copy[j]) {\n                array[k--] = copy[i--];\n                count += j - mid;\n                if (count >= 1000000007)//数值过大求余\n                {\n                    count %= 1000000007;\n                }\n            } else {\n                array[k--] = copy[j--];\n            }\n        }\n\n        while (i >= low) {\n            array[k--] = copy[i--];\n        }\n        while (j > mid) {\n            array[k--] = copy[j--];\n        }\n        return count;\n    }\n```","source":"_posts/数组中的逆序对.md","raw":"title: 数组中的逆序对\ndate: 2019-3-2\ntags: [Leetcode]\ncategories: algorithm\ndescription: 狗甩的牛客\n---\n## Problem description\n  ### 在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组,求出这个数组中的逆序对的总数P。并将P对1000000007取模的结果输出。 即输出P%1000000007\n ## Examples\n``` java\nExample 1:\nInput: 1,2,3,4,5,6,7,0\nOutput: 7\n```\n```java\nExample 2:\nInput: 7,6,5,4\nOutput: 5\n```\n## Solution\n完全没有思路，汗~\n分治呀，分治呀，小伙计。\n![merge_sort](/images/merge_sort.png)\n把数组分解为两个子数组，递归直至数组被拆分成两个为1的子数组。合并子数组同时统计逆序对。统计后需要将统计后的数组排序，防止统计重复。\n嗨呀！这不就是归并大兄弟嘛，先求出左边已排好序的逆序数，再求出右边已排好序的逆序数，最后合并时求左右两组中的逆序数。\n合并时需要注意归并排序的特征，在统计逆序数时，前面数组array[i] > 后面数组的array[j]时，那么因为左右两边均是有序数组。那么mid~j处的右侧数组数据必然都小于i。所以count += j - mid;\n最后天杀的牛客哟，竟然数据会溢出，你放个Int返回值干啥\n\n## Code\n```java\n     public int InversePairs(int[] array) {\n        if (array == null || array.length == 0) {\n            return 0;\n        }\n\n        int[] copy = new int[array.length];\n        return mergeSort(array, copy, 0, array.length - 1);\n    }\n\n    public int mergeSort(int[] array, int[] copy, int low, int high) {\n        if (low < high) {\n            int length = (high - low) >> 1;\n            int left = mergeSort(array, copy, low, low + length) % 1000000007;\n            int right = mergeSort(array, copy, low + length + 1, high) % 1000000007;\n            int mid = merge(array, copy, low, low + length, high) % 1000000007;\n            return (left + right + mid) % 1000000007;\n        }\n        return 0;\n    }\n\n    private int merge(int[] array, int[] copy, int low, int mid, int high) {\n        for (int i = low; i <= high; i++) {\n            copy[i] = array[i];\n        }\n        int i = mid, j = high, k = high;\n        int count = 0;\n        while (i >= low && j > mid) {\n            if (copy[i] > copy[j]) {\n                array[k--] = copy[i--];\n                count += j - mid;\n                if (count >= 1000000007)//数值过大求余\n                {\n                    count %= 1000000007;\n                }\n            } else {\n                array[k--] = copy[j--];\n            }\n        }\n\n        while (i >= low) {\n            array[k--] = copy[i--];\n        }\n        while (j > mid) {\n            array[k--] = copy[j--];\n        }\n        return count;\n    }\n```","slug":"数组中的逆序对","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2c00dbqr3lbzx0pwtw"},{"title":"盛最多水的容器","date":"2019-01-17T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### Given n non-negative integers a1, a2, ..., an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.\n ## Examples\n``` java\nExample 1:\nInput: [1,8,6,2,5,4,8,3,7]\nOutput: 49\n```\n## Solution\n　　自己起初想以双指针从两头向中间逼近。但困惑于low、high的指针移动。我知道面积取决与最短板的长度。但是也还有宽度不是........然后用了双层遍历，做是做出来了，但是特别耗时。参考网上代码，与我起初想法一致，向中间逼近，在指针移动时，采取移动最短指针，尽管面积 = 长度 * 宽度，但是面积取决于最短板，而且在移动过程中我们维护一个最大面积变量记录最大面积。可将宽度考虑其中。\n\n## Code\n\n```java\n     public int maxArea(int[] height) {\n        int maxArea = Integer.MIN_VALUE;\n        int low = 0, high = height.length - 1;\n        while (low < high) {\n            int area = Math.min(height[low], height[high]) * (high - low);\n            maxArea = Math.max(area, maxArea);\n            if (height[low] <= height[high]) {\n                low++;\n            } else {\n                high--;\n            }\n        }\n        return maxArea;\n    }\n\n```","source":"_posts/盛最多水的容器.md","raw":"title:  盛最多水的容器\ndate: 2019-1-18\ntags: [Leetcode,腾讯]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### Given n non-negative integers a1, a2, ..., an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water.\n ## Examples\n``` java\nExample 1:\nInput: [1,8,6,2,5,4,8,3,7]\nOutput: 49\n```\n## Solution\n　　自己起初想以双指针从两头向中间逼近。但困惑于low、high的指针移动。我知道面积取决与最短板的长度。但是也还有宽度不是........然后用了双层遍历，做是做出来了，但是特别耗时。参考网上代码，与我起初想法一致，向中间逼近，在指针移动时，采取移动最短指针，尽管面积 = 长度 * 宽度，但是面积取决于最短板，而且在移动过程中我们维护一个最大面积变量记录最大面积。可将宽度考虑其中。\n\n## Code\n\n```java\n     public int maxArea(int[] height) {\n        int maxArea = Integer.MIN_VALUE;\n        int low = 0, high = height.length - 1;\n        while (low < high) {\n            int area = Math.min(height[low], height[high]) * (high - low);\n            maxArea = Math.max(area, maxArea);\n            if (height[low] <= height[high]) {\n                low++;\n            } else {\n                high--;\n            }\n        }\n        return maxArea;\n    }\n\n```","slug":"盛最多水的容器","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2d00deqr3l3g61zdqd"},{"title":"翻转单词顺序","date":"2019-03-09T16:00:00.000Z","description":"翻转吧,pikaqiu","_content":"## Problem description\n  ### 输入一个英文句子，翻转句子中单词的顺序，但单词内字的顺序不变。为简单起见，标点符号和普通字母一样处理。要求空间复杂度为O(1)\n ## Examples\n``` java\nExample 1:\nInput: I am a student.\nOutput: student. a am I\n```\n## Solution\n曾听黄工讲过这道题，当时自己的做法是，以“ ”作为分割符得到String[] str，然后用一个StringBuilder逆向遍历数组添加字符串即可。但这样空间复杂度就为O(n)\nO（1）的话可以这么做，首先全部逆序一次，然后再将每个单词逆序一次即可。emmmmmm,怎么逆序单词呢？ 双指针是个好东西。双指针low,high均从0开始，默认先让high走，直至high所指向的字符为‘ ’时，逆序（low, high - 1）之间的字符，再让low = ++high;\n当low所指向字符为空格时，low和high一起 ++。\n\n## Code\n```java\n     void reverse(char[] s, int low, int high) {\n\n        if (s == null || s.length <= 1 || low > high) {\n            return;\n        }\n        char c;\n        while (low < high) {\n            c = s[low];\n            s[low] = s[high];\n            s[high] = c;\n            low++;\n            high--;\n        }\n    }\n    String reverseSentence(char[] data) {//char比String更好处理，如果是String的话，还需要StringBuilder封装，空间复杂度为O(1)\n        if (data == null || data.length <= 1) {\n            return \"\";\n        }\n\n        int length = data.length;\n        int low = 0, high = length - 1;\n        reverse(data, low, high);\n\n        high = 0;\n        char begin;\n        while (low < length) {\n            begin = data[low];\n\n            if (begin == ' ') {\n                low++;\n                high++;\n            } else if (high == length || data[high] == ' ') {\n                reverse(data, low, --high);\n                high += 2;\n                low = high;\n            } else {\n                high++;\n            }\n        }\n        return data.toString();\n    }\n```","source":"_posts/翻转单词顺序.md","raw":"title: 翻转单词顺序\ndate: 2019-3-10\ntags: [Leetcode,剑指Offer]\ncategories: algorithm\ndescription: 翻转吧,pikaqiu\n---\n## Problem description\n  ### 输入一个英文句子，翻转句子中单词的顺序，但单词内字的顺序不变。为简单起见，标点符号和普通字母一样处理。要求空间复杂度为O(1)\n ## Examples\n``` java\nExample 1:\nInput: I am a student.\nOutput: student. a am I\n```\n## Solution\n曾听黄工讲过这道题，当时自己的做法是，以“ ”作为分割符得到String[] str，然后用一个StringBuilder逆向遍历数组添加字符串即可。但这样空间复杂度就为O(n)\nO（1）的话可以这么做，首先全部逆序一次，然后再将每个单词逆序一次即可。emmmmmm,怎么逆序单词呢？ 双指针是个好东西。双指针low,high均从0开始，默认先让high走，直至high所指向的字符为‘ ’时，逆序（low, high - 1）之间的字符，再让low = ++high;\n当low所指向字符为空格时，low和high一起 ++。\n\n## Code\n```java\n     void reverse(char[] s, int low, int high) {\n\n        if (s == null || s.length <= 1 || low > high) {\n            return;\n        }\n        char c;\n        while (low < high) {\n            c = s[low];\n            s[low] = s[high];\n            s[high] = c;\n            low++;\n            high--;\n        }\n    }\n    String reverseSentence(char[] data) {//char比String更好处理，如果是String的话，还需要StringBuilder封装，空间复杂度为O(1)\n        if (data == null || data.length <= 1) {\n            return \"\";\n        }\n\n        int length = data.length;\n        int low = 0, high = length - 1;\n        reverse(data, low, high);\n\n        high = 0;\n        char begin;\n        while (low < length) {\n            begin = data[low];\n\n            if (begin == ' ') {\n                low++;\n                high++;\n            } else if (high == length || data[high] == ' ') {\n                reverse(data, low, --high);\n                high += 2;\n                low = high;\n            } else {\n                high++;\n            }\n        }\n        return data.toString();\n    }\n```","slug":"翻转单词顺序","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2e00diqr3lr419p3w4"},{"title":"数组中重复的数字","date":"2019-02-27T16:00:00.000Z","description":"　　","_content":"## Problem description\n  ### 在一个长度为 n 的数组里的所有数字都在 0 到 n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字是重复的，也不知道每个数字重复几次。请找出数组中任意一个重复的数字。\n ## Examples\n``` java\nExample 1:\nInput:\n{2, 3, 1, 0, 2, 5}\nOutput:2\n```\n## Solution\n要求是时间复杂度 O(N)，空间复杂度 O(1)。因此不能使用排序的方法，也不能使用额外的标记数组。\n\n对于这种数组元素在 [0, n-1] 范围内的问题，可以将值为 i 的元素调整到第 i 个位置上进行求解。这样就可以重复的元素必然会多次调整至同一位置。有并查集的思想。\n\n以 (2, 3, 1, 0, 2, 5) 为例，遍历到位置 4 时，该位置上的数为 2，但是第 2 个位置上已经有一个 2 的值了，因此可以知道 2 重复：\n\n![enter description here](/images/dupilicate_num.gif)\n## Code\n```java\n    public boolean duplicate( int[] nums, int length, int[] duplication) {\n        if (nums == null || length == 0) {\n            return false;\n        }\n        for (int i = 0; i < length; i++) {\n            while (nums[i] != i) {//Traverse nums[i] == i\n                if (nums[i] == nums[nums[i]]) {\n                    duplication[0] = nums[i];\n                    return true;\n                }\n                swap(nums,i, nums[i]);\n            }\n        }\n        return false;\n    }\n\n    private void swap(int[] nums, int i, int j) {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n```","source":"_posts/数组中重复的数字.md","raw":"title: 数组中重复的数字\ndate: 2019-2-28\ntags: [Leetcode]\ncategories: algorithm\ndescription: 　　\n---\n## Problem description\n  ### 在一个长度为 n 的数组里的所有数字都在 0 到 n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字是重复的，也不知道每个数字重复几次。请找出数组中任意一个重复的数字。\n ## Examples\n``` java\nExample 1:\nInput:\n{2, 3, 1, 0, 2, 5}\nOutput:2\n```\n## Solution\n要求是时间复杂度 O(N)，空间复杂度 O(1)。因此不能使用排序的方法，也不能使用额外的标记数组。\n\n对于这种数组元素在 [0, n-1] 范围内的问题，可以将值为 i 的元素调整到第 i 个位置上进行求解。这样就可以重复的元素必然会多次调整至同一位置。有并查集的思想。\n\n以 (2, 3, 1, 0, 2, 5) 为例，遍历到位置 4 时，该位置上的数为 2，但是第 2 个位置上已经有一个 2 的值了，因此可以知道 2 重复：\n\n![enter description here](/images/dupilicate_num.gif)\n## Code\n```java\n    public boolean duplicate( int[] nums, int length, int[] duplication) {\n        if (nums == null || length == 0) {\n            return false;\n        }\n        for (int i = 0; i < length; i++) {\n            while (nums[i] != i) {//Traverse nums[i] == i\n                if (nums[i] == nums[nums[i]]) {\n                    duplication[0] = nums[i];\n                    return true;\n                }\n                swap(nums,i, nums[i]);\n            }\n        }\n        return false;\n    }\n\n    private void swap(int[] nums, int i, int j) {\n        int t = nums[i];\n        nums[i] = nums[j];\n        nums[j] = t;\n    }\n```","slug":"数组中重复的数字","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2g00dlqr3lyisi379k"},{"title":"自定义View","date":"2019-02-20T16:00:00.000Z","description":"兜兜转转，还是回到了这","_content":"## 自定义View的分类\n1. 继承View重写onDraw方法。这种方法主要用于实现一些不规则的效果，即这种效果不方便通过布局的组合方式来达到，往往需要静态或者动态地显示一些不规则的图形。这种方式需要重写onDraw方法，同时需要自己支持wrap_content，并且padding也需要自己处理。\n2. 继承ViewGroup派生特殊的Layout。这种方法主要用于实现自定义的布局。需要处理ViewGroup和子View的测量和布局。\n3. 继承特定的View(比如TextView)。这种方法比较常见，一般是用于扩展某种已有的View的功能，比如TextView。\n4. 继承特定的ViewGroup(比如LinearLayout)。这种效果看起来很像几种View组合在一起的时候，可以采用这种方法实现，不用处理ViewGroup的测量和布局。\n\n## 注意事项\n1. 让View支持wrap_content.在onMeasure()中对MeasureSpec.AT_MOST进行处理\n2. 如果有必要，让你的View支持padding。在onDraw（）中考虑padding.\n3. 尽量不要在View中使用Handler，View.post（）可替代\n4. View中如果有线程或者动画，需要及时在View#onDetachedFromWindow停止\n5. View带有滑动嵌套情形时，需要处理好滑动冲突\n\n## 继承View重写onDraw方法\n实例. CircleView:wrap_content与padding适配\n```java\npublic class CircleView extends View {\n\n  private int mColor = Color.RED;\n  private Paint mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);\n\n  public CircleView(Context context) {\n    super(context);\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs) {\n    this(context, attrs, 0);\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CircleView);\n    mColor = a.getColor(R.styleable.CircleView_circle_color, Color.RED);\n    a.recycle();\n    init();\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n    super(context, attrs, defStyleAttr, defStyleRes);\n    init();\n  }\n\n  private void init() {\n    mPaint.setColor(mColor);\n  }\n\n  @Override protected void onDraw(Canvas canvas) {\n\n    super.onDraw(canvas);\n\n    final int paddingLeft = getPaddingLeft();\n    final int paddingRight = getPaddingRight();\n    final int paddingTop = getPaddingTop();\n    final int paddingBottom = getPaddingBottom();\n\n    int width = getWidth() - paddingLeft - paddingRight;\n    int height = getHeight() - paddingBottom - paddingTop;\n    int radius = Math.min(width, height) / 2;\n\n    canvas.drawCircle(paddingLeft + width / 2, paddingTop + height / 2, radius, mPaint);\n  }\n\n  @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int widthSize = MeasureSpec.getSize(widthMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    int heightSize = MeasureSpec.getSize(heightMeasureSpec);\n    if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(200, 200);//Default width and height\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(200, heightSize);\n    } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(widthSize, 200);\n    }\n  }\n}\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <com.hdu.night.scrollconflicts.CircleView android:layout_width=\"wrap_content\"\n                                              android:layout_height=\"100dp\"\n                                              android:layout_margin=\"20dp\"\n                                              android:padding=\"20dp\"\n                                              android:background=\"#000000\"\n                                              app:circle_color=\"@color/colorPrimary\"\n                                              app:layout_constraintLeft_toLeftOf=\"parent\"\n                                              app:layout_constraintRight_toRightOf=\"parent\"\n                                              app:layout_constraintTop_toTopOf=\"parent\"/>\n\n</android.support.constraint.ConstraintLayout>\n```\n```xml\n//attrs.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"CircleView\">\n        <attr name=\"circle_color\" format=\"color\"/>\n    </declare-styleable>\n</resources>\n```\n## 继承特定的ViewGroup派生特殊的Layout\n实例2. HorizontalViewEx再回顾：onMeasure() + onDraw()\n先假设所有子View都是等宽高的。\n### onMeasure()\n```java\n@Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int measuredWidth = 0;\n    int measuredHeight = 0;\n    final int childCount = getChildCount();\n    measureChildren(widthMeasureSpec, heightMeasureSpec);////measure all children view width and height.\n\n    int widthSpaceSize = MeasureSpec.getSize(widthMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int heightSpaceSize = MeasureSpec.getSize(heightMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    if (childCount == 0) {// If ViewGroup has not  child, the size of viewGroup will be 0  \n      setMeasuredDimension(0, 0);\n    } else if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {//Handle wrap_content\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(measuredWidth, measuredHeight);\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      setMeasuredDimension(measuredWidth, heightSpaceSize);\n    } else if(heightSpecMode == MeasureSpec.AT_MOST){\n      final View childView = getChildAt(0);\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(widthSpaceSize, measuredHeight);\n    }\n  }\n```\n\n### onLayout()\n```java\n@Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    int childLeft = 0;\n    final int childCount = getChildCount();\n    mChildrenSize = childCount;\n\n    for (int i = 0; i < childCount; i++) {//Traverse all child and put them at a right place\n      final View childView = getChildAt(i);\n      if (childView.getVisibility() != View.GONE) {\n        final int childWidth = childView.getMeasuredWidth();\n        mChildWidth = childWidth;\n        childView.layout(childLeft, 0, childLeft + childWidth,\n            childView.getMeasuredHeight());//(l,t,r,b)\n        childLeft += childWidth;\n      }\n    }\n  }\n```","source":"_posts/自定义View.md","raw":"title: 自定义View\ndate: 2019-2-21\ntags: [Android,View的工作原理]\ncategories: Android开发艺术探索\ndescription: 兜兜转转，还是回到了这\n---\n## 自定义View的分类\n1. 继承View重写onDraw方法。这种方法主要用于实现一些不规则的效果，即这种效果不方便通过布局的组合方式来达到，往往需要静态或者动态地显示一些不规则的图形。这种方式需要重写onDraw方法，同时需要自己支持wrap_content，并且padding也需要自己处理。\n2. 继承ViewGroup派生特殊的Layout。这种方法主要用于实现自定义的布局。需要处理ViewGroup和子View的测量和布局。\n3. 继承特定的View(比如TextView)。这种方法比较常见，一般是用于扩展某种已有的View的功能，比如TextView。\n4. 继承特定的ViewGroup(比如LinearLayout)。这种效果看起来很像几种View组合在一起的时候，可以采用这种方法实现，不用处理ViewGroup的测量和布局。\n\n## 注意事项\n1. 让View支持wrap_content.在onMeasure()中对MeasureSpec.AT_MOST进行处理\n2. 如果有必要，让你的View支持padding。在onDraw（）中考虑padding.\n3. 尽量不要在View中使用Handler，View.post（）可替代\n4. View中如果有线程或者动画，需要及时在View#onDetachedFromWindow停止\n5. View带有滑动嵌套情形时，需要处理好滑动冲突\n\n## 继承View重写onDraw方法\n实例. CircleView:wrap_content与padding适配\n```java\npublic class CircleView extends View {\n\n  private int mColor = Color.RED;\n  private Paint mPaint = new Paint(Paint.ANTI_ALIAS_FLAG);\n\n  public CircleView(Context context) {\n    super(context);\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs) {\n    this(context, attrs, 0);\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CircleView);\n    mColor = a.getColor(R.styleable.CircleView_circle_color, Color.RED);\n    a.recycle();\n    init();\n  }\n\n  public CircleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n    super(context, attrs, defStyleAttr, defStyleRes);\n    init();\n  }\n\n  private void init() {\n    mPaint.setColor(mColor);\n  }\n\n  @Override protected void onDraw(Canvas canvas) {\n\n    super.onDraw(canvas);\n\n    final int paddingLeft = getPaddingLeft();\n    final int paddingRight = getPaddingRight();\n    final int paddingTop = getPaddingTop();\n    final int paddingBottom = getPaddingBottom();\n\n    int width = getWidth() - paddingLeft - paddingRight;\n    int height = getHeight() - paddingBottom - paddingTop;\n    int radius = Math.min(width, height) / 2;\n\n    canvas.drawCircle(paddingLeft + width / 2, paddingTop + height / 2, radius, mPaint);\n  }\n\n  @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int widthSize = MeasureSpec.getSize(widthMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    int heightSize = MeasureSpec.getSize(heightMeasureSpec);\n    if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(200, 200);//Default width and height\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(200, heightSize);\n    } else if (heightSpecMode == MeasureSpec.AT_MOST) {\n      setMeasuredDimension(widthSize, 200);\n    }\n  }\n}\n```\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <com.hdu.night.scrollconflicts.CircleView android:layout_width=\"wrap_content\"\n                                              android:layout_height=\"100dp\"\n                                              android:layout_margin=\"20dp\"\n                                              android:padding=\"20dp\"\n                                              android:background=\"#000000\"\n                                              app:circle_color=\"@color/colorPrimary\"\n                                              app:layout_constraintLeft_toLeftOf=\"parent\"\n                                              app:layout_constraintRight_toRightOf=\"parent\"\n                                              app:layout_constraintTop_toTopOf=\"parent\"/>\n\n</android.support.constraint.ConstraintLayout>\n```\n```xml\n//attrs.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"CircleView\">\n        <attr name=\"circle_color\" format=\"color\"/>\n    </declare-styleable>\n</resources>\n```\n## 继承特定的ViewGroup派生特殊的Layout\n实例2. HorizontalViewEx再回顾：onMeasure() + onDraw()\n先假设所有子View都是等宽高的。\n### onMeasure()\n```java\n@Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    int measuredWidth = 0;\n    int measuredHeight = 0;\n    final int childCount = getChildCount();\n    measureChildren(widthMeasureSpec, heightMeasureSpec);////measure all children view width and height.\n\n    int widthSpaceSize = MeasureSpec.getSize(widthMeasureSpec);\n    int widthSpecMode = MeasureSpec.getMode(widthMeasureSpec);\n    int heightSpaceSize = MeasureSpec.getSize(heightMeasureSpec);\n    int heightSpecMode = MeasureSpec.getMode(heightMeasureSpec);\n    if (childCount == 0) {// If ViewGroup has not  child, the size of viewGroup will be 0  \n      setMeasuredDimension(0, 0);\n    } else if (widthSpecMode == MeasureSpec.AT_MOST && heightSpecMode == MeasureSpec.AT_MOST) {//Handle wrap_content\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(measuredWidth, measuredHeight);\n    } else if (widthSpecMode == MeasureSpec.AT_MOST) {\n      final View childView = getChildAt(0);\n      measuredWidth = childView.getMeasuredWidth() * childCount;\n      setMeasuredDimension(measuredWidth, heightSpaceSize);\n    } else if(heightSpecMode == MeasureSpec.AT_MOST){\n      final View childView = getChildAt(0);\n      measuredHeight = childView.getMeasuredHeight();\n      setMeasuredDimension(widthSpaceSize, measuredHeight);\n    }\n  }\n```\n\n### onLayout()\n```java\n@Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    int childLeft = 0;\n    final int childCount = getChildCount();\n    mChildrenSize = childCount;\n\n    for (int i = 0; i < childCount; i++) {//Traverse all child and put them at a right place\n      final View childView = getChildAt(i);\n      if (childView.getVisibility() != View.GONE) {\n        final int childWidth = childView.getMeasuredWidth();\n        mChildWidth = childWidth;\n        childView.layout(childLeft, 0, childLeft + childWidth,\n            childView.getMeasuredHeight());//(l,t,r,b)\n        childLeft += childWidth;\n      }\n    }\n  }\n```","slug":"自定义View","published":1,"updated":"2020-02-13T07:16:09.065Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2h00doqr3lmqec1w2m"},{"title":"RTTI","date":"2016-01-03T16:00:00.000Z","description":"Runtime type identification 运行时类型信息","_content":"## Java中的RTTI\n\n  RTTI可以在程序运行时发现和使用类型信息；传统的RTTI，在编译期和运行期已经知道了所有的类型。举个栗子，在数组中存放类A的实例，在A对象放入数组中时会进行向上转型为Object，取出时会自动将结果转型为A.在Java中所有的类型转换都是在运行时进行正确性检查的，即在运行时识别一个对象的类型。\n\n## Class对象\n\n  `Class对象`是RTTI中的核心,Class对象是一个特殊对象，其包含了与类有关的信息，可创建类的所有的“常规”对象（PS:即通过new出来的对象）。Java通过Class对象执行RTTI。\n\n  `每个类都有一个Class对象`，每经编译一个新类时都会产生一个Class对象。JVM通过`类加载器子系统`来生成该对象。所有的类都是在对其第一次使用时，动态地加载到JVM中。当程序创建第一个对类的静态引用时，就会加载这个类。即使构造方法没有使用static关键字。第一次使用new创建类的新对象也会被当作对类的静态成员的引用。\n\n  类加载器会首先检查类的Class对象是否已经加载。若未加载，默认的类加载器就会根据类名查找.class文件。一旦类的Class对象被载入内存，它就会被用来创建这个类的所有对象。\n\n```java\n\t\ttry {\n            Class.forName(\"springapp.domain.Product\");\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n```\n\n  public static Class<?> forName(String className)是Class类的一个static成员。其返回是一个Class对象的引用，该引用对应着传入的className。如果该Product还未被加载就加载它，在加载类Product时，`Product的static{}`会被执行。如果找不到要加载的类，则会抛出异常ClassNotFoundException。\n\n```java\n\n        try {\n            Class c=Class.forName(\"springapp.domain.Product\");\n            System.out.println(\"ClassName: \" + c.getName() + \"\\nSimpleName: \" + c.getSimpleName() + \"\\nCanonical name: \" + c.getCanonicalName());\n            Product p= (Product) c.newInstance();//创建实例\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InstantiationException e) {\n            e.printStackTrace();\n        }\n\n```\n\n![输出结果](/images/RTTI.png)\n\n  其中 class.newInstance()创建的类必须带有默认的构造方法。\n\n### 类字面常量\n\n  类字面变量：用于生成对Class对象的引用。使用方法：类名.class。使用.class创建Class引用时，不会自动地初始化Class对象，其初始化被延迟到对静态方法（构造方法隐式是静态的）或者非常数静态域（即静态变量）进行首次引用时才执行。\n\n```java\n\nclass CI {\n    public static Random sRandom = new Random(47);\n    public static void main(String[] args) throws ClassNotFoundException {\n        Class initable = I1.class;\n        System.out.println(\"After creating initble ref \");\n        System.out.println(I1.sfinal);\n        System.out.println(I1.sfinal2);\n        Class initable3 = Class.forName(\"springapp.domain.I3\");\n        System.out.println(\"After creating Initable3 ref\");\n        System.out.println(I3.sNonfinal);\n    }\n}\n\nclass I1 {\n    static final int sfinal = 47;\n    static final int sfinal2 = CI.sRandom.nextInt(1000);\n    static{\n        System.out.println(\"I1\");\n    }\n}\nclass I3 {\n    static final int sNonfinal = 74;\n    static{\n        System.out.println(\"I3\");\n    }\n}\n\n```\n\n![输出结果](/images/5-2.png)\n\n  从输出可以看出，仅使用.class是不会初始化类的引用，而Class.forName立即就对类的引用进行了初始化。如果一个static变量被声明为final常量，那么这个读取这个值也并不需要初始化Class。static fianl 是`编译期常量`,如果一个static不是final的变量，对其进行访问时，要先进行链接(为静态域分配空间)和初始化(初始化该存储空间)。\n\n### 泛化的Class引用\n\n  泛化的Class引用：使用泛型限定Class对象的类型。\n\n```java\n  \t\t Class<Integer> integerClass = int.class;\n       // integerClass = double.class;非法转换\n        Class<?> intClass = int.class;\n        intClass = double.class;\n        Class<I1> i=I1.class;\n        Class<? extends I1> i1 = I1.class;\n        Class<? super I1> i2 = i.getSuperclass();\n```\n\n  其中Class<?>的?表示通配符，意味着一个非具体的类引用。<? extends A>限定是A的子类，<? super A>限定是A的父类。\n\n### 类型转换前先检查\n\n  (1)强转，通过RTTI保证正确性，如果转换出错抛出ClassCastException\n\n  (2)转换前先通过A instanceof B/B.isInstance(A)询问 A对象是否从属于B的实例，如果是，再进行转换。\n\n```java\n        Class<? extends I1> i1 = I1.class;\n        I1 f = new I1();\n        if (f instanceof List) {\n            System.out.println(\"true\");\n        }\n\n        if (i1.isInstance(f)) {\n            System.out.println(\"true\");\n        }\n```\n\n\n### 反射\n\n  反射：用来在运行时分析类。\n\n  反射可用来：\n\n  1. 在运行时分析类\n  2. 在运行时查看对象\n  3. 实现通用的数组操作代码\n  4. 使用Method对象（类比于C++中的函数指针）\n\n#### 利用反射分析类\n\n  在reflect包中有三个类Field、Method、Constructor可用来获取类的对应成员变量、方法、构造方法。具体操作如下所示：\n\n```java\npackage reflection;\n\nimport java.util.*;\nimport java.lang.reflect.*;\n\n\npublic class ReflectionTest\n{\n   public static void main(String[] args)\n   {\n      // read class name from command line args or user input\n      String name;\n      if (args.length > 0) name = args[0];\n      else\n      {\n         Scanner in = new Scanner(System.in);\n         System.out.println(\"Enter class name (e.g. java.util.Date): \");\n         name = in.next();\n      }\n\n      try\n      {\n         // print class name and superclass name (if != Object)\n         Class cl = Class.forName(name);\n         Class supercl = cl.getSuperclass();\n         String modifiers = Modifier.toString(cl.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");\n         System.out.print(\"class \" + name);\n         if (supercl != null && supercl != Object.class) System.out.print(\" extends \"\n               + supercl.getName());\n\n         System.out.print(\"\\n{\\n\");\n         printConstructors(cl);\n         System.out.println();\n         printMethods(cl);\n         System.out.println();\n         printFields(cl);\n         System.out.println(\"}\");\n      }\n      catch (ClassNotFoundException e)\n      {\n         e.printStackTrace();\n      }\n      System.exit(0);\n   }\n\n   /**\n    * Prints all constructors of a class\n    * @param cl a class\n    */\n   public static void printConstructors(Class cl)\n   {\n      Constructor[] constructors = cl.getDeclaredConstructors();//获取所有构造方法，如果方法中没有Declared，则不能获取私有构造方法\n\n      for (Constructor c : constructors)\n      {\n         String name = c.getName();\n         System.out.print(\"   \");\n         String modifiers = Modifier.toString(c.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.print(name + \"(\");\n\n         // print parameter types\n         Class[] paramTypes = c.getParameterTypes();\n         for (int j = 0; j < paramTypes.length; j++)\n         {\n            if (j > 0) System.out.print(\", \");\n            System.out.print(paramTypes[j].getName());\n         }\n         System.out.println(\");\");\n      }\n   }\n\n   /**\n    * Prints all methods of a class\n    * @param cl a class\n    */\n   public static void printMethods(Class cl)\n   {\n      Method[] methods = cl.getDeclaredMethods();//获取这个类/接口的所有方法\n\n      for (Method m : methods)\n      {\n         Class retType = m.getReturnType();//获取返回值\n         String name = m.getName();//获取方法名\n\n         System.out.print(\"   \");\n         // print modifiers, return type and method name\n         String modifiers = Modifier.toString(m.getModifiers());//获取方法修饰符\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.print(retType.getName() + \" \" + name + \"(\");\n\n         // print parameter types\n         Class[] paramTypes = m.getParameterTypes();//获取方法参数类型\n         for (int j = 0; j < paramTypes.length; j++)\n         {\n            if (j > 0) System.out.print(\", \");\n            System.out.print(paramTypes[j].getName());\n         }\n         System.out.println(\");\");\n      }\n   }\n\n   /**\n    * Prints all fields of a class\n    * @param cl a class\n    */\n   public static void printFields(Class cl)\n   {\n      Field[] fields = cl.getDeclaredFields();//获取该类所有成员变量\n\n      for (Field f : fields)\n      {\n         Class type = f.getType();\n         String name = f.getName();\n         System.out.print(\"   \");\n         String modifiers = Modifier.toString(f.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.println(type.getName() + \" \" + name + \";\");\n      }\n   }\n}\n\n```  \n\n  值得注意的是Field、Method、Constructor在使用.get/.set访问时只能获取设置可访问的成员变量，如public等，如果想要覆盖访问控制可以调用AccessibleObject.setAccessible(AccessibleObject[],boolean);\n  \n#### 反射编写泛型数组代码\n\n```java\npackage arrays;\n\nimport java.lang.reflect.*;\nimport java.util.*;\n\n\npublic class CopyOfTest\n{\n   public static void main(String[] args)\n   {\n      int[] a = { 1, 2, 3 };\n      a = (int[]) goodCopyOf(a, 10);\n      System.out.println(Arrays.toString(a));\n\n      String[] b = { \"Tom\", \"Dick\", \"Harry\" };\n      b = (String[]) goodCopyOf(b, 10);\n      System.out.println(Arrays.toString(b));\n\n      System.out.println(\"The following call will generate an exception.\");\n      b = (String[]) badCopyOf(b, 10);\n   }\n\n   /**\n    * This method attempts to grow an array by allocating a new array and copying all elements.\n    * @param a the array to grow\n    * @param newLength the new length\n    * @return a larger array that contains all elements of a. However, the returned array has \n    * type Object[], not the same type as a\n    */\n   public static Object[] badCopyOf(Object[] a, int newLength) // not useful\n  //一个从一开始就是Object[]的数组是不能够向下转型为其它类型数组的，故需要在一开始创建与原数组类型相同的数组\n   {\n      Object[] newArray = new Object[newLength];\n      System.arraycopy(a, 0, newArray, 0, Math.min(a.length, newLength));\n      return newArray;\n   }\n\n   /**\n    * This method grows an array by allocating a new array of the same type and\n    * copying all elements.\n    * @param a the array to grow. This can be an object array or a primitive\n    * type array\n    * @return a larger array that contains all elements of a.\n    */\n   public static Object goodCopyOf(Object a, int newLength) \n   {\n      Class cl = a.getClass();\n      if (!cl.isArray()) return null;\n      Class componentType = cl.getComponentType();//获取数据类型\n      int length = Array.getLength(a);\n      Object newArray = Array.newInstance(componentType, newLength);\n      System.arraycopy(a, 0, newArray, 0, Math.min(length, newLength));\n      return newArray;\n   }\n}\n\n```\n\n#### 调用任意方法\n\n```java\npackage methods;\n\nimport java.lang.reflect.*;\n\n\npublic class MethodTableTest\n{\n   public static void main(String[] args) throws Exception\n   {\n      // get method pointers to the square and sqrt methods\n      Method square = MethodTableTest.class.getMethod(\"square\", double.class);\n      Method sqrt = Math.class.getMethod(\"sqrt\", double.class);//第一个参数为方法名，后面若干变量为方法参数类型\n\n      // print tables of x- and y-values\n\n      printTable(1, 10, 10, square);\n      printTable(1, 10, 10, sqrt);\n   }\n\n   /**\n    * Returns the square of a number\n    * @param x a number\n    * @return x squared\n    */\n   public static double square(double x)\n   {\n      return x * x;\n   }\n\n   /**\n    * Prints a table with x- and y-values for a method\n    * @param from the lower bound for the x-values\n    * @param to the upper bound for the x-values\n    * @param n the number of rows in the table\n    * @param f a method with a double parameter and double return value\n    */\n   public static void printTable(double from, double to, int n, Method f)\n   {\n      // print out the method as table header\n      System.out.println(f);\n\n      double dx = (to - from) / (n - 1);\n\n      for (double x = from; x <= to; x += dx)\n      {\n         try\n         {\n            double y = (Double) f.invoke(null, x);//调用当前封装在Method中的方法，如果是静态方法，第一个参数隐式参数传null，后面若干变量为方法参数。\n            System.out.printf(\"%10.4f | %10.4f%n\", x, y);\n         }\n         catch (Exception e)\n         {\n            e.printStackTrace();\n         }\n      }\n   }\n}\n\n```\n","source":"_posts/运行时类型信息.md","raw":"title: RTTI\ndate: 2016-01-04 00:00:00\ntags: [Java]\ncategories: Thinking in Java\ndescription: Runtime type identification 运行时类型信息\n---\n## Java中的RTTI\n\n  RTTI可以在程序运行时发现和使用类型信息；传统的RTTI，在编译期和运行期已经知道了所有的类型。举个栗子，在数组中存放类A的实例，在A对象放入数组中时会进行向上转型为Object，取出时会自动将结果转型为A.在Java中所有的类型转换都是在运行时进行正确性检查的，即在运行时识别一个对象的类型。\n\n## Class对象\n\n  `Class对象`是RTTI中的核心,Class对象是一个特殊对象，其包含了与类有关的信息，可创建类的所有的“常规”对象（PS:即通过new出来的对象）。Java通过Class对象执行RTTI。\n\n  `每个类都有一个Class对象`，每经编译一个新类时都会产生一个Class对象。JVM通过`类加载器子系统`来生成该对象。所有的类都是在对其第一次使用时，动态地加载到JVM中。当程序创建第一个对类的静态引用时，就会加载这个类。即使构造方法没有使用static关键字。第一次使用new创建类的新对象也会被当作对类的静态成员的引用。\n\n  类加载器会首先检查类的Class对象是否已经加载。若未加载，默认的类加载器就会根据类名查找.class文件。一旦类的Class对象被载入内存，它就会被用来创建这个类的所有对象。\n\n```java\n\t\ttry {\n            Class.forName(\"springapp.domain.Product\");\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n```\n\n  public static Class<?> forName(String className)是Class类的一个static成员。其返回是一个Class对象的引用，该引用对应着传入的className。如果该Product还未被加载就加载它，在加载类Product时，`Product的static{}`会被执行。如果找不到要加载的类，则会抛出异常ClassNotFoundException。\n\n```java\n\n        try {\n            Class c=Class.forName(\"springapp.domain.Product\");\n            System.out.println(\"ClassName: \" + c.getName() + \"\\nSimpleName: \" + c.getSimpleName() + \"\\nCanonical name: \" + c.getCanonicalName());\n            Product p= (Product) c.newInstance();//创建实例\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InstantiationException e) {\n            e.printStackTrace();\n        }\n\n```\n\n![输出结果](/images/RTTI.png)\n\n  其中 class.newInstance()创建的类必须带有默认的构造方法。\n\n### 类字面常量\n\n  类字面变量：用于生成对Class对象的引用。使用方法：类名.class。使用.class创建Class引用时，不会自动地初始化Class对象，其初始化被延迟到对静态方法（构造方法隐式是静态的）或者非常数静态域（即静态变量）进行首次引用时才执行。\n\n```java\n\nclass CI {\n    public static Random sRandom = new Random(47);\n    public static void main(String[] args) throws ClassNotFoundException {\n        Class initable = I1.class;\n        System.out.println(\"After creating initble ref \");\n        System.out.println(I1.sfinal);\n        System.out.println(I1.sfinal2);\n        Class initable3 = Class.forName(\"springapp.domain.I3\");\n        System.out.println(\"After creating Initable3 ref\");\n        System.out.println(I3.sNonfinal);\n    }\n}\n\nclass I1 {\n    static final int sfinal = 47;\n    static final int sfinal2 = CI.sRandom.nextInt(1000);\n    static{\n        System.out.println(\"I1\");\n    }\n}\nclass I3 {\n    static final int sNonfinal = 74;\n    static{\n        System.out.println(\"I3\");\n    }\n}\n\n```\n\n![输出结果](/images/5-2.png)\n\n  从输出可以看出，仅使用.class是不会初始化类的引用，而Class.forName立即就对类的引用进行了初始化。如果一个static变量被声明为final常量，那么这个读取这个值也并不需要初始化Class。static fianl 是`编译期常量`,如果一个static不是final的变量，对其进行访问时，要先进行链接(为静态域分配空间)和初始化(初始化该存储空间)。\n\n### 泛化的Class引用\n\n  泛化的Class引用：使用泛型限定Class对象的类型。\n\n```java\n  \t\t Class<Integer> integerClass = int.class;\n       // integerClass = double.class;非法转换\n        Class<?> intClass = int.class;\n        intClass = double.class;\n        Class<I1> i=I1.class;\n        Class<? extends I1> i1 = I1.class;\n        Class<? super I1> i2 = i.getSuperclass();\n```\n\n  其中Class<?>的?表示通配符，意味着一个非具体的类引用。<? extends A>限定是A的子类，<? super A>限定是A的父类。\n\n### 类型转换前先检查\n\n  (1)强转，通过RTTI保证正确性，如果转换出错抛出ClassCastException\n\n  (2)转换前先通过A instanceof B/B.isInstance(A)询问 A对象是否从属于B的实例，如果是，再进行转换。\n\n```java\n        Class<? extends I1> i1 = I1.class;\n        I1 f = new I1();\n        if (f instanceof List) {\n            System.out.println(\"true\");\n        }\n\n        if (i1.isInstance(f)) {\n            System.out.println(\"true\");\n        }\n```\n\n\n### 反射\n\n  反射：用来在运行时分析类。\n\n  反射可用来：\n\n  1. 在运行时分析类\n  2. 在运行时查看对象\n  3. 实现通用的数组操作代码\n  4. 使用Method对象（类比于C++中的函数指针）\n\n#### 利用反射分析类\n\n  在reflect包中有三个类Field、Method、Constructor可用来获取类的对应成员变量、方法、构造方法。具体操作如下所示：\n\n```java\npackage reflection;\n\nimport java.util.*;\nimport java.lang.reflect.*;\n\n\npublic class ReflectionTest\n{\n   public static void main(String[] args)\n   {\n      // read class name from command line args or user input\n      String name;\n      if (args.length > 0) name = args[0];\n      else\n      {\n         Scanner in = new Scanner(System.in);\n         System.out.println(\"Enter class name (e.g. java.util.Date): \");\n         name = in.next();\n      }\n\n      try\n      {\n         // print class name and superclass name (if != Object)\n         Class cl = Class.forName(name);\n         Class supercl = cl.getSuperclass();\n         String modifiers = Modifier.toString(cl.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");\n         System.out.print(\"class \" + name);\n         if (supercl != null && supercl != Object.class) System.out.print(\" extends \"\n               + supercl.getName());\n\n         System.out.print(\"\\n{\\n\");\n         printConstructors(cl);\n         System.out.println();\n         printMethods(cl);\n         System.out.println();\n         printFields(cl);\n         System.out.println(\"}\");\n      }\n      catch (ClassNotFoundException e)\n      {\n         e.printStackTrace();\n      }\n      System.exit(0);\n   }\n\n   /**\n    * Prints all constructors of a class\n    * @param cl a class\n    */\n   public static void printConstructors(Class cl)\n   {\n      Constructor[] constructors = cl.getDeclaredConstructors();//获取所有构造方法，如果方法中没有Declared，则不能获取私有构造方法\n\n      for (Constructor c : constructors)\n      {\n         String name = c.getName();\n         System.out.print(\"   \");\n         String modifiers = Modifier.toString(c.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.print(name + \"(\");\n\n         // print parameter types\n         Class[] paramTypes = c.getParameterTypes();\n         for (int j = 0; j < paramTypes.length; j++)\n         {\n            if (j > 0) System.out.print(\", \");\n            System.out.print(paramTypes[j].getName());\n         }\n         System.out.println(\");\");\n      }\n   }\n\n   /**\n    * Prints all methods of a class\n    * @param cl a class\n    */\n   public static void printMethods(Class cl)\n   {\n      Method[] methods = cl.getDeclaredMethods();//获取这个类/接口的所有方法\n\n      for (Method m : methods)\n      {\n         Class retType = m.getReturnType();//获取返回值\n         String name = m.getName();//获取方法名\n\n         System.out.print(\"   \");\n         // print modifiers, return type and method name\n         String modifiers = Modifier.toString(m.getModifiers());//获取方法修饰符\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.print(retType.getName() + \" \" + name + \"(\");\n\n         // print parameter types\n         Class[] paramTypes = m.getParameterTypes();//获取方法参数类型\n         for (int j = 0; j < paramTypes.length; j++)\n         {\n            if (j > 0) System.out.print(\", \");\n            System.out.print(paramTypes[j].getName());\n         }\n         System.out.println(\");\");\n      }\n   }\n\n   /**\n    * Prints all fields of a class\n    * @param cl a class\n    */\n   public static void printFields(Class cl)\n   {\n      Field[] fields = cl.getDeclaredFields();//获取该类所有成员变量\n\n      for (Field f : fields)\n      {\n         Class type = f.getType();\n         String name = f.getName();\n         System.out.print(\"   \");\n         String modifiers = Modifier.toString(f.getModifiers());\n         if (modifiers.length() > 0) System.out.print(modifiers + \" \");         \n         System.out.println(type.getName() + \" \" + name + \";\");\n      }\n   }\n}\n\n```  \n\n  值得注意的是Field、Method、Constructor在使用.get/.set访问时只能获取设置可访问的成员变量，如public等，如果想要覆盖访问控制可以调用AccessibleObject.setAccessible(AccessibleObject[],boolean);\n  \n#### 反射编写泛型数组代码\n\n```java\npackage arrays;\n\nimport java.lang.reflect.*;\nimport java.util.*;\n\n\npublic class CopyOfTest\n{\n   public static void main(String[] args)\n   {\n      int[] a = { 1, 2, 3 };\n      a = (int[]) goodCopyOf(a, 10);\n      System.out.println(Arrays.toString(a));\n\n      String[] b = { \"Tom\", \"Dick\", \"Harry\" };\n      b = (String[]) goodCopyOf(b, 10);\n      System.out.println(Arrays.toString(b));\n\n      System.out.println(\"The following call will generate an exception.\");\n      b = (String[]) badCopyOf(b, 10);\n   }\n\n   /**\n    * This method attempts to grow an array by allocating a new array and copying all elements.\n    * @param a the array to grow\n    * @param newLength the new length\n    * @return a larger array that contains all elements of a. However, the returned array has \n    * type Object[], not the same type as a\n    */\n   public static Object[] badCopyOf(Object[] a, int newLength) // not useful\n  //一个从一开始就是Object[]的数组是不能够向下转型为其它类型数组的，故需要在一开始创建与原数组类型相同的数组\n   {\n      Object[] newArray = new Object[newLength];\n      System.arraycopy(a, 0, newArray, 0, Math.min(a.length, newLength));\n      return newArray;\n   }\n\n   /**\n    * This method grows an array by allocating a new array of the same type and\n    * copying all elements.\n    * @param a the array to grow. This can be an object array or a primitive\n    * type array\n    * @return a larger array that contains all elements of a.\n    */\n   public static Object goodCopyOf(Object a, int newLength) \n   {\n      Class cl = a.getClass();\n      if (!cl.isArray()) return null;\n      Class componentType = cl.getComponentType();//获取数据类型\n      int length = Array.getLength(a);\n      Object newArray = Array.newInstance(componentType, newLength);\n      System.arraycopy(a, 0, newArray, 0, Math.min(length, newLength));\n      return newArray;\n   }\n}\n\n```\n\n#### 调用任意方法\n\n```java\npackage methods;\n\nimport java.lang.reflect.*;\n\n\npublic class MethodTableTest\n{\n   public static void main(String[] args) throws Exception\n   {\n      // get method pointers to the square and sqrt methods\n      Method square = MethodTableTest.class.getMethod(\"square\", double.class);\n      Method sqrt = Math.class.getMethod(\"sqrt\", double.class);//第一个参数为方法名，后面若干变量为方法参数类型\n\n      // print tables of x- and y-values\n\n      printTable(1, 10, 10, square);\n      printTable(1, 10, 10, sqrt);\n   }\n\n   /**\n    * Returns the square of a number\n    * @param x a number\n    * @return x squared\n    */\n   public static double square(double x)\n   {\n      return x * x;\n   }\n\n   /**\n    * Prints a table with x- and y-values for a method\n    * @param from the lower bound for the x-values\n    * @param to the upper bound for the x-values\n    * @param n the number of rows in the table\n    * @param f a method with a double parameter and double return value\n    */\n   public static void printTable(double from, double to, int n, Method f)\n   {\n      // print out the method as table header\n      System.out.println(f);\n\n      double dx = (to - from) / (n - 1);\n\n      for (double x = from; x <= to; x += dx)\n      {\n         try\n         {\n            double y = (Double) f.invoke(null, x);//调用当前封装在Method中的方法，如果是静态方法，第一个参数隐式参数传null，后面若干变量为方法参数。\n            System.out.printf(\"%10.4f | %10.4f%n\", x, y);\n         }\n         catch (Exception e)\n         {\n            e.printStackTrace();\n         }\n      }\n   }\n}\n\n```\n","slug":"运行时类型信息","published":1,"updated":"2020-02-13T07:16:09.066Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck8npay2j00drqr3lhv2jd9dm"}],"PostAsset":[],"PostCategory":[{"post_id":"ck8npaxxw0004qr3laspro957","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxy9000gqr3l7ddy7dd6"},{"post_id":"ck8npaxy00006qr3ldqt1elxa","category_id":"ck8npaxy7000cqr3lnwts2wnv","_id":"ck8npaxyc000nqr3lnngr7oaz"},{"post_id":"ck8npaxya000jqr3ldlwyqkvc","category_id":"ck8npaxy7000cqr3lnwts2wnv","_id":"ck8npaxyf000tqr3l368bknt2"},{"post_id":"ck8npaxy30009qr3ljf5lmrrm","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxyh000yqr3lcg6c8evh"},{"post_id":"ck8npaxyb000lqr3li1wewdd5","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyi0011qr3llvw33sa2"},{"post_id":"ck8npaxyd000qqr3lyt31cvie","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyj0016qr3l1oev2luu"},{"post_id":"ck8npaxy4000aqr3lau7r6ng3","category_id":"ck8npaxyc000oqr3lxrahwgjv","_id":"ck8npaxyk0019qr3l7v31f2i2"},{"post_id":"ck8npaxye000sqr3luexupb91","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxym001eqr3lcc1wttqy"},{"post_id":"ck8npaxy6000bqr3lt9670via","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxyn001hqr3l4lu8sjn2"},{"post_id":"ck8npaxy7000eqr3loufs6hdq","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxyo001mqr3lu43z6b6l"},{"post_id":"ck8npaxyk0018qr3l0d29ad50","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyp001pqr3l3boxcw21"},{"post_id":"ck8npaxyl001dqr3l7t14gdhf","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxyq001tqr3l2lkxslfz"},{"post_id":"ck8npaxy8000fqr3ldsqd41c0","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxys001xqr3lht7mbg0y"},{"post_id":"ck8npaxym001gqr3le74cpkai","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyt0021qr3ligikylmh"},{"post_id":"ck8npaxyn001lqr3lr1zvoqur","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyu0025qr3lz3am65pa"},{"post_id":"ck8npaxyo001oqr3lfi5s0s1l","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyv0028qr3l5x7pwd3a"},{"post_id":"ck8npaxyg000xqr3l0zezryp5","category_id":"ck8npaxyn001kqr3lgulxz0wr","_id":"ck8npaxyx002dqr3lv9jkt7ms"},{"post_id":"ck8npaxyq001sqr3lceyvz1ev","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxyx002gqr3ln3kmddwi"},{"post_id":"ck8npaxyh0010qr3lcfejfl3k","category_id":"ck8npaxyq001uqr3llheatdbk","_id":"ck8npaxyy002kqr3l8v21a948"},{"post_id":"ck8npaxyt0020qr3ln79o0duz","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz0002nqr3lpug7nh68"},{"post_id":"ck8npaxyu0024qr3l0byctuwr","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz1002rqr3l43r7ou9m"},{"post_id":"ck8npaxyj0015qr3lw582xt5f","category_id":"ck8npaxyu0023qr3lw5vg03g4","_id":"ck8npaxz2002uqr3lcy8975dw"},{"post_id":"ck8npaxyv0027qr3l5nhdzqrr","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz3002yqr3l1hcgvecv"},{"post_id":"ck8npaxyw002cqr3lfdehihwu","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz40032qr3lnsw0wixo"},{"post_id":"ck8npaxys001wqr3l8u0or19c","category_id":"ck8npaxyw002bqr3lgm1a2gv3","_id":"ck8npaxz60036qr3lj9kbgupq"},{"post_id":"ck8npaxyx002fqr3le67ehjvf","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz7003aqr3l5sjwkjgt"},{"post_id":"ck8npaxyy002jqr3ls1sf804g","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz8003eqr3lufnzo0pi"},{"post_id":"ck8npaxyz002mqr3ldngj93mh","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxz9003hqr3l0kcd4ba9"},{"post_id":"ck8npaxz0002qqr3l5fszgb0x","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxza003lqr3lxhx9mo1f"},{"post_id":"ck8npaxz3002xqr3lm9o9dwmq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzb003pqr3lo789s0r6"},{"post_id":"ck8npaxz50035qr3ldgohccer","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzd003tqr3l6sfqtvk8"},{"post_id":"ck8npaxz1002tqr3le6h4ruo7","category_id":"ck8npaxz40030qr3l1jwku2l7","_id":"ck8npaxze003wqr3l86qfpb8l"},{"post_id":"ck8npaxz60038qr3lgpvk1yey","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxzf0040qr3lre7ef59l"},{"post_id":"ck8npaxz7003dqr3lk7k61jga","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxzf0043qr3lbis6kvk0"},{"post_id":"ck8npaxz40031qr3lb5o8m5xi","category_id":"ck8npaxz70039qr3lcrhw6num","_id":"ck8npaxzg0046qr3ljk5suea1"},{"post_id":"ck8npaxz9003kqr3lblvwzond","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzh004bqr3lg9zjxgd7"},{"post_id":"ck8npaxzb003oqr3lssaltnav","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzi004eqr3l6stcl71z"},{"post_id":"ck8npaxzc003sqr3lc5req59p","category_id":"ck8npaxy7000cqr3lnwts2wnv","_id":"ck8npaxzj004jqr3l2kqr30qb"},{"post_id":"ck8npaxz8003gqr3l7oy476hc","category_id":"ck8npaxzb003nqr3l11kckpja","_id":"ck8npaxzk004mqr3lrmxm23k1"},{"post_id":"ck8npaxzd003vqr3lit9j6l6y","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzm004qqr3l4tkunjg9"},{"post_id":"ck8npaxze003zqr3lb1ptsy8o","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzm004tqr3lpzuxt73f"},{"post_id":"ck8npaxzh004aqr3lz4xvk00k","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzo004xqr3lesrvjmzd"},{"post_id":"ck8npaxzi004dqr3leuecmbce","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzp0050qr3l5wvtq8hm"},{"post_id":"ck8npaxzf0042qr3lto0b6jd9","category_id":"ck8npaxzh0049qr3lu8ecf980","_id":"ck8npaxzq0054qr3lr6pmojat"},{"post_id":"ck8npaxzj004hqr3lloplibzy","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzr0057qr3li7ih96xa"},{"post_id":"ck8npaxzk004lqr3lxzgaqtmq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzs005bqr3lhj3wnr9y"},{"post_id":"ck8npaxzg0045qr3lcbqz9ka7","category_id":"ck8npaxzh0049qr3lu8ecf980","_id":"ck8npaxzt005eqr3l5wg0rozf"},{"post_id":"ck8npaxzl004pqr3lk3hdpvhr","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzu005hqr3lwefzb1xx"},{"post_id":"ck8npaxzm004sqr3lpgrhqjum","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxzv005lqr3l91m0iyji"},{"post_id":"ck8npaxzo004wqr3l5tcimf42","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npaxzw005oqr3la5c10xxt"},{"post_id":"ck8npaxzp004zqr3l489wyd1t","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxzx005sqr3l092ith1c"},{"post_id":"ck8npaxzq0053qr3l0llqxpan","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npaxzy005vqr3les8wbxf5"},{"post_id":"ck8npaxzr0056qr3ll3sge09y","category_id":"ck8npaxyw002bqr3lgm1a2gv3","_id":"ck8npaxzz005zqr3l0ah5pfh6"},{"post_id":"ck8npaxzs005aqr3l7yv3saax","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay000062qr3l23zw8ooj"},{"post_id":"ck8npaxzt005dqr3lvwvacckj","category_id":"ck8npaxyw002bqr3lgm1a2gv3","_id":"ck8npay010067qr3lddxra0zk"},{"post_id":"ck8npaxzt005gqr3ld3cmpy8l","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay02006aqr3lakhljevj"},{"post_id":"ck8npaxzu005kqr3l5sb8s0dc","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay03006dqr3ln44hntx8"},{"post_id":"ck8npaxzv005nqr3l7g0ejdfh","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay04006hqr3lsgygfm72"},{"post_id":"ck8npaxzw005rqr3lh4yhilj7","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay05006kqr3lpaaxcbz0"},{"post_id":"ck8npaxzx005uqr3ljp4064ng","category_id":"ck8npaxyu0023qr3lw5vg03g4","_id":"ck8npay06006oqr3l7759w6et"},{"post_id":"ck8npaxzz0061qr3ltzt6iwhs","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay06006rqr3lexatdb2u"},{"post_id":"ck8npay010066qr3l0g1f3jmp","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay07006vqr3lwbbrrs6w"},{"post_id":"ck8npay020069qr3llzbv0gul","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay08006yqr3lpjeddx27"},{"post_id":"ck8npaxzy005yqr3lmg7c3wqm","category_id":"ck8npay000064qr3lku2wq91r","_id":"ck8npay090072qr3li537e3lt"},{"post_id":"ck8npay02006cqr3ljvhisj3k","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0a0075qr3lnowbdm7u"},{"post_id":"ck8npay03006gqr3ldr5rcg4s","category_id":"ck8npaxyw002bqr3lgm1a2gv3","_id":"ck8npay0b0078qr3lhxs3yzti"},{"post_id":"ck8npay04006jqr3l6m3vgghz","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0c007bqr3lp73rbimc"},{"post_id":"ck8npay05006nqr3llxa57o0i","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0d007fqr3lp8mqdyxj"},{"post_id":"ck8npay06006qqr3l479syxzt","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0e007jqr3le28b1tw6"},{"post_id":"ck8npay08006xqr3led9a2fol","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0f007nqr3ltss565o9"},{"post_id":"ck8npay090071qr3l5qlcy0vg","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0g007qqr3lfohdshtr"},{"post_id":"ck8npay0a0074qr3ll98uclxz","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0h007tqr3lzxkknfya"},{"post_id":"ck8npay07006uqr3l614xo9fp","category_id":"ck8npay090070qr3ldr63yox3","_id":"ck8npay0i007wqr3llugftb45"},{"post_id":"ck8npay0a0077qr3lixh3fj0i","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay0j007zqr3l9csip7kx"},{"post_id":"ck8npay0d007eqr3lw5uqkk31","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0k0082qr3lgw4bur7o"},{"post_id":"ck8npay0e007iqr3lu3bmyqal","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0l0085qr3lx1fxrx2q"},{"post_id":"ck8npay0f007lqr3l082maomy","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0m0088qr3lv88qq5og"},{"post_id":"ck8npay0b007aqr3l6uqm1fbz","category_id":"ck8npay0d007hqr3ledqj4pcl","_id":"ck8npay0p008dqr3loleojnnx"},{"post_id":"ck8npay0g007pqr3lv0bgef3x","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0s008gqr3l1on0l0kj"},{"post_id":"ck8npay0g007sqr3l8jwo6qtx","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0t008jqr3l36g7hoio"},{"post_id":"ck8npay0h007vqr3lynff43jc","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0v008mqr3l9xdezw2q"},{"post_id":"ck8npay0i007yqr3leiuhnznq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0w008pqr3lfvnlc1w3"},{"post_id":"ck8npay0k0081qr3lm19iruzi","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0x008sqr3l3uuz43o4"},{"post_id":"ck8npay0m0087qr3lpb9qwsbq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay0y008wqr3ldrnwvxzt"},{"post_id":"ck8npay0n008cqr3l6gwgd3o9","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay10008zqr3lwm0c6p1i"},{"post_id":"ck8npay0q008fqr3l1mqvret3","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay110093qr3lgeyjy1i0"},{"post_id":"ck8npay0l0084qr3l1a4ny165","category_id":"ck8npay0m008aqr3lifjt5c67","_id":"ck8npay120096qr3lryxjwj3h"},{"post_id":"ck8npay0t008iqr3l14z5reqs","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay130099qr3lpj40is76"},{"post_id":"ck8npay0u008lqr3lmvryrt3j","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay15009dqr3llsrg66xj"},{"post_id":"ck8npay0v008oqr3lgw105qlk","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay16009gqr3l0y66z0we"},{"post_id":"ck8npay0w008rqr3lte157ewy","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay17009jqr3liv7vgktc"},{"post_id":"ck8npay0y008vqr3ldrfjpirk","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay18009mqr3lx0zvbc55"},{"post_id":"ck8npay0z008yqr3lkj3eekw6","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay18009pqr3lfqs640ga"},{"post_id":"ck8npay100091qr3lmdzyo9ty","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1a009sqr3ltkeutzd7"},{"post_id":"ck8npay110095qr3labz5tdc5","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1a009vqr3linp5utqa"},{"post_id":"ck8npay130098qr3lfjfclmfu","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1c009zqr3le8mu7nys"},{"post_id":"ck8npay14009cqr3l5xthv823","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1e00a2qr3lisxj69kr"},{"post_id":"ck8npay15009fqr3l4218fdmr","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1f00a6qr3lmhbdj7w7"},{"post_id":"ck8npay16009iqr3l8ptq61nk","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1g00a9qr3lhtimg26o"},{"post_id":"ck8npay17009lqr3llq9ppjzt","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1g00acqr3l2qt25h99"},{"post_id":"ck8npay18009oqr3lr30di6aq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1h00afqr3lruxmg0j2"},{"post_id":"ck8npay19009rqr3lbyzmax09","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1i00aiqr3lyhy4qd3s"},{"post_id":"ck8npay1a009uqr3l4hxw9zko","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1j00alqr3lrsiq15c4"},{"post_id":"ck8npay1b009yqr3l405s5ggs","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1k00apqr3lr5ghoxhe"},{"post_id":"ck8npay1d00a1qr3l7iskfhl4","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1l00asqr3l5sek3qte"},{"post_id":"ck8npay1e00a4qr3l38n7aqao","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1m00awqr3lecv92f2v"},{"post_id":"ck8npay1f00a8qr3lvv40fh0c","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1n00azqr3lvichx9sb"},{"post_id":"ck8npay1g00abqr3l9gcpwfno","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1o00b2qr3lk4lz5jw4"},{"post_id":"ck8npay1h00aeqr3limdnm0ll","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1o00b5qr3lhh22pzgg"},{"post_id":"ck8npay1i00ahqr3l37bvtjbx","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1p00b8qr3learptd27"},{"post_id":"ck8npay1j00akqr3lwwk1kcsg","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1q00bcqr3l4u2eyo3n"},{"post_id":"ck8npay1k00aoqr3lcbr2hpc5","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1r00bfqr3ljffqpy05"},{"post_id":"ck8npay1k00arqr3lfl99ve2e","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1s00biqr3l80l1mbkm"},{"post_id":"ck8npay1l00auqr3lfa4ku0rl","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1t00blqr3lkl2l1c26"},{"post_id":"ck8npay1m00ayqr3l9bkfs8y9","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1t00boqr3lwktmn8ys"},{"post_id":"ck8npay1n00b1qr3l1nuj3h2h","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1u00brqr3l0cmi7kfm"},{"post_id":"ck8npay1p00b7qr3l7fwucp5e","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1v00buqr3lup2aa456"},{"post_id":"ck8npay1q00bbqr3lx6im6uxq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1x00bxqr3lzbmnj6d1"},{"post_id":"ck8npay1q00beqr3lfbd1saqc","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay1y00c0qr3lk8miuljz"},{"post_id":"ck8npay1o00b4qr3ll0po2ago","category_id":"ck8npay1p00baqr3lzlppzoh7","_id":"ck8npay1z00c4qr3lv0zul043"},{"post_id":"ck8npay1r00bhqr3lo06bj7f3","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2000c8qr3ll5v3pu6q"},{"post_id":"ck8npay1s00bkqr3lusjmw6o5","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2100cbqr3l8oszdl75"},{"post_id":"ck8npay1t00bnqr3loozp6saw","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay2200ceqr3l2wpk482s"},{"post_id":"ck8npay1u00bqqr3l1yr2yzvq","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2300chqr3ly2cmy7i6"},{"post_id":"ck8npay1v00btqr3lg3cszy9q","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2400ckqr3lpwbv5bwf"},{"post_id":"ck8npay1x00bzqr3l45oyopvf","category_id":"ck8npay0d007hqr3ledqj4pcl","_id":"ck8npay2500coqr3lk17ge36a"},{"post_id":"ck8npay1y00c3qr3lltftey43","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2600csqr3lwybn9gpb"},{"post_id":"ck8npay1z00c7qr3lx1c6om3a","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2700cvqr3lu80wywkj"},{"post_id":"ck8npay1x00bwqr3l86t48zps","category_id":"ck8npay1y00c2qr3lkzkkrmv6","_id":"ck8npay2900czqr3lqqkwuupy"},{"post_id":"ck8npay2000caqr3l15d5pun5","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2a00d2qr3le3e43c71"},{"post_id":"ck8npay2100cdqr3ljopyhf53","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2a00d5qr3lb3ama824"},{"post_id":"ck8npay2200cgqr3lxlihd069","category_id":"ck8npaxyu0023qr3lw5vg03g4","_id":"ck8npay2c00d9qr3llvvrf0sl"},{"post_id":"ck8npay2400cnqr3llytu4ej1","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2d00dcqr3ljgaddo4w"},{"post_id":"ck8npay2500crqr3lbmvlnflr","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay2e00dgqr3lev1l26r7"},{"post_id":"ck8npay2600cuqr3l9bx14dvw","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2f00djqr3l124m1xlz"},{"post_id":"ck8npay2300cjqr3lobo6a4wo","category_id":"ck8npay2500cqqr3lhewr9y3q","_id":"ck8npay2h00dmqr3lsnci3oa3"},{"post_id":"ck8npay2800cyqr3lrg2d8p2k","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2i00dpqr3lsvfttgm5"},{"post_id":"ck8npay2b00d8qr3logd0tm8a","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2j00dsqr3l1kbx5twe"},{"post_id":"ck8npay2c00dbqr3lbzx0pwtw","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2k00duqr3l6m83jbi1"},{"post_id":"ck8npay2900d1qr3l7cmm6t6k","category_id":"ck8npay2b00d7qr3llvmuphz1","_id":"ck8npay2k00dwqr3la9jjhe4x"},{"post_id":"ck8npay2d00deqr3l3g61zdqd","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2k00dyqr3l5ce6z16a"},{"post_id":"ck8npay2e00diqr3lr419p3w4","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2k00e0qr3levsphlfl"},{"post_id":"ck8npay2a00d4qr3l964lpq2h","category_id":"ck8npay2e00dfqr3ln3mkyw3x","_id":"ck8npay2k00e2qr3lndi06xzt"},{"post_id":"ck8npay2g00dlqr3lyisi379k","category_id":"ck8npaxy10007qr3lx1gc4ywv","_id":"ck8npay2k00e4qr3lmhyu0lp6"},{"post_id":"ck8npay2h00doqr3lmqec1w2m","category_id":"ck8npaxy9000hqr3llv0wxx2v","_id":"ck8npay2l00e6qr3lkv801xqp"},{"post_id":"ck8npay2j00drqr3lhv2jd9dm","category_id":"ck8npaxz40030qr3l1jwku2l7","_id":"ck8npay2l00e8qr3lnvperela"}],"PostTag":[{"post_id":"ck8npaxxw0004qr3laspro957","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyb000kqr3lrzdwm91l"},{"post_id":"ck8npaxxw0004qr3laspro957","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxyb000mqr3lpuyrzyq5"},{"post_id":"ck8npaxya000jqr3ldlwyqkvc","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxye000rqr3lgb39t1jz"},{"post_id":"ck8npaxy00006qr3ldqt1elxa","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyf000uqr3l9elvgih1"},{"post_id":"ck8npaxyb000lqr3li1wewdd5","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyh000zqr3l07dmuypn"},{"post_id":"ck8npaxyb000lqr3li1wewdd5","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxyi0012qr3l6phprt0z"},{"post_id":"ck8npaxy30009qr3ljf5lmrrm","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyk0017qr3l1yg5ogbr"},{"post_id":"ck8npaxye000sqr3luexupb91","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyk001aqr3luo5vlcpg"},{"post_id":"ck8npaxye000sqr3luexupb91","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxym001fqr3leshgj9px"},{"post_id":"ck8npaxy4000aqr3lau7r6ng3","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyn001iqr3l7ra9y8de"},{"post_id":"ck8npaxyj0015qr3lw582xt5f","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyo001nqr3lm9zyzld8"},{"post_id":"ck8npaxy6000bqr3lt9670via","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyp001qqr3lavwrw9u3"},{"post_id":"ck8npaxyk0018qr3l0d29ad50","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyr001vqr3l9uhig6h1"},{"post_id":"ck8npaxyk0018qr3l0d29ad50","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxys001yqr3lc8bjwhsl"},{"post_id":"ck8npaxyn001lqr3lr1zvoqur","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyt0022qr3lzepte4ee"},{"post_id":"ck8npaxyn001lqr3lr1zvoqur","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxyu0026qr3l29eh8zny"},{"post_id":"ck8npaxy7000eqr3loufs6hdq","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyv002aqr3l6ftm002g"},{"post_id":"ck8npaxy7000eqr3loufs6hdq","tag_id":"ck8npaxyn001jqr3lvhajee88","_id":"ck8npaxyx002eqr3lhltueq97"},{"post_id":"ck8npaxy8000fqr3ldsqd41c0","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxyy002hqr3lx1vxtmip"},{"post_id":"ck8npaxyt0020qr3ln79o0duz","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxyz002lqr3lqbiebj41"},{"post_id":"ck8npaxyt0020qr3ln79o0duz","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxz0002oqr3lqxb0u0q8"},{"post_id":"ck8npaxyu0024qr3l0byctuwr","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxz1002sqr3l5z10espc"},{"post_id":"ck8npaxyu0024qr3l0byctuwr","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxz2002vqr3lbi7xma5s"},{"post_id":"ck8npaxyd000qqr3lyt31cvie","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxz3002zqr3lnhwl1kyk"},{"post_id":"ck8npaxyd000qqr3lyt31cvie","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npaxz40033qr3lynploo4o"},{"post_id":"ck8npaxyw002cqr3lfdehihwu","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxz60037qr3l6werg6xi"},{"post_id":"ck8npaxyw002cqr3lfdehihwu","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxz7003bqr3lruhm4w1z"},{"post_id":"ck8npaxyx002fqr3le67ehjvf","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxz8003fqr3l653bqy06"},{"post_id":"ck8npaxyx002fqr3le67ehjvf","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxz9003iqr3lvmj3qcyk"},{"post_id":"ck8npaxyy002jqr3ls1sf804g","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxza003mqr3lfoj4gfm1"},{"post_id":"ck8npaxyy002jqr3ls1sf804g","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npaxzc003qqr3ltzkato18"},{"post_id":"ck8npaxyg000xqr3l0zezryp5","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npaxzd003uqr3l1xn2py5b"},{"post_id":"ck8npaxyg000xqr3l0zezryp5","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npaxze003xqr3le3jla3uz"},{"post_id":"ck8npaxyz002mqr3ldngj93mh","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzf0041qr3lus26o8mp"},{"post_id":"ck8npaxyz002mqr3ldngj93mh","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxzf0044qr3lamj71bf6"},{"post_id":"ck8npaxz0002qqr3l5fszgb0x","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzh0048qr3l0xeuzmoi"},{"post_id":"ck8npaxz0002qqr3l5fszgb0x","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxzi004cqr3lfk8nrgti"},{"post_id":"ck8npaxyh0010qr3lcfejfl3k","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npaxzi004fqr3lnn7291ht"},{"post_id":"ck8npaxz1002tqr3le6h4ruo7","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npaxzj004kqr3lxcz3rfc4"},{"post_id":"ck8npaxz3002xqr3lm9o9dwmq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzk004nqr3lce4mzjqu"},{"post_id":"ck8npaxz3002xqr3lm9o9dwmq","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxzm004rqr3lg6ozzgpk"},{"post_id":"ck8npaxyl001dqr3l7t14gdhf","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxzm004uqr3lde4roors"},{"post_id":"ck8npaxyl001dqr3l7t14gdhf","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npaxzo004yqr3lkmnfshl3"},{"post_id":"ck8npaxz40031qr3lb5o8m5xi","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxzp0051qr3luqd1py10"},{"post_id":"ck8npaxz50035qr3ldgohccer","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzq0055qr3lkkm0xvun"},{"post_id":"ck8npaxz50035qr3ldgohccer","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npaxzr0058qr3lilrypcfv"},{"post_id":"ck8npaxym001gqr3le74cpkai","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npaxzs005cqr3lsjai0474"},{"post_id":"ck8npaxz60038qr3lgpvk1yey","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npaxzt005fqr3lvoiraojy"},{"post_id":"ck8npaxyo001oqr3lfi5s0s1l","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzu005jqr3lez79jddi"},{"post_id":"ck8npaxyo001oqr3lfi5s0s1l","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npaxzv005mqr3l08kq3mw7"},{"post_id":"ck8npaxz9003kqr3lblvwzond","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzw005pqr3lvjf6zojm"},{"post_id":"ck8npaxz9003kqr3lblvwzond","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npaxzx005tqr3lmer4bnh3"},{"post_id":"ck8npaxyq001sqr3lceyvz1ev","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npaxzy005wqr3lp4ysh1xp"},{"post_id":"ck8npaxyq001sqr3lceyvz1ev","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npaxzz0060qr3lxcscditd"},{"post_id":"ck8npaxzb003oqr3lssaltnav","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay000063qr3ldhx5wazl"},{"post_id":"ck8npaxzb003oqr3lssaltnav","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay010068qr3ls6z6xyc1"},{"post_id":"ck8npaxzc003sqr3lc5req59p","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay02006bqr3l9mupbsws"},{"post_id":"ck8npaxys001wqr3l8u0or19c","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay03006fqr3l0m6aa88g"},{"post_id":"ck8npaxys001wqr3l8u0or19c","tag_id":"ck8npaxzc003rqr3lxa4jasee","_id":"ck8npay04006iqr3lsc51yt45"},{"post_id":"ck8npaxze003zqr3lb1ptsy8o","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay05006lqr3lj6w9z0eh"},{"post_id":"ck8npaxze003zqr3lb1ptsy8o","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay06006pqr3lui4g8d2t"},{"post_id":"ck8npaxyv0027qr3l5nhdzqrr","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay07006sqr3ltomxs72l"},{"post_id":"ck8npaxyv0027qr3l5nhdzqrr","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay07006wqr3ln0guufx0"},{"post_id":"ck8npaxzh004aqr3lz4xvk00k","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay08006zqr3l7257wktt"},{"post_id":"ck8npaxzh004aqr3lz4xvk00k","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay090073qr3l3wtlvpt9"},{"post_id":"ck8npaxz7003dqr3lk7k61jga","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay0a0076qr3lvzcle1pb"},{"post_id":"ck8npaxz7003dqr3lk7k61jga","tag_id":"ck8npaxzg0047qr3lc3091nw7","_id":"ck8npay0b0079qr3lopbfvxuj"},{"post_id":"ck8npaxzi004dqr3leuecmbce","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0c007cqr3l2mvmkf0n"},{"post_id":"ck8npaxzi004dqr3leuecmbce","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay0d007gqr3ldt7988cg"},{"post_id":"ck8npaxzj004hqr3lloplibzy","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0e007kqr3le7jk01rl"},{"post_id":"ck8npaxzj004hqr3lloplibzy","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay0f007oqr3lvogjh2rb"},{"post_id":"ck8npaxz8003gqr3l7oy476hc","tag_id":"ck8npaxzi004gqr3lxi28eahw","_id":"ck8npay0g007rqr3lbgavz3o0"},{"post_id":"ck8npaxzk004lqr3lxzgaqtmq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0h007uqr3lf4qkia0k"},{"post_id":"ck8npaxzk004lqr3lxzgaqtmq","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay0i007xqr3l24ts2non"},{"post_id":"ck8npaxzl004pqr3lk3hdpvhr","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0j0080qr3l79nf1670"},{"post_id":"ck8npaxzl004pqr3lk3hdpvhr","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay0k0083qr3l32fk50ox"},{"post_id":"ck8npaxzd003vqr3lit9j6l6y","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0l0086qr3lwhtxsdw8"},{"post_id":"ck8npaxzd003vqr3lit9j6l6y","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay0m0089qr3lar30r1pc"},{"post_id":"ck8npaxzm004sqr3lpgrhqjum","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay0p008eqr3lf7olqb61"},{"post_id":"ck8npaxzo004wqr3l5tcimf42","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay0s008hqr3lji2k51zg"},{"post_id":"ck8npaxzo004wqr3l5tcimf42","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay0u008kqr3l840ezbv3"},{"post_id":"ck8npaxzf0042qr3lto0b6jd9","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay0v008nqr3lrtdhh86x"},{"post_id":"ck8npaxzf0042qr3lto0b6jd9","tag_id":"ck8npaxzn004vqr3l090ye0vo","_id":"ck8npay0w008qqr3lgvdul5f6"},{"post_id":"ck8npaxzq0053qr3l0llqxpan","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay0x008tqr3l9pjed5wf"},{"post_id":"ck8npaxzq0053qr3l0llqxpan","tag_id":"ck8npaxyn001jqr3lvhajee88","_id":"ck8npay0y008xqr3lhs2xpayk"},{"post_id":"ck8npaxzg0045qr3lcbqz9ka7","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay100090qr3lmzuqqjaj"},{"post_id":"ck8npaxzg0045qr3lcbqz9ka7","tag_id":"ck8npaxzn004vqr3l090ye0vo","_id":"ck8npay110094qr3lqqvenlty"},{"post_id":"ck8npaxzr0056qr3ll3sge09y","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay120097qr3lxefbpimg"},{"post_id":"ck8npaxzt005dqr3lvwvacckj","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay14009aqr3lki5n97u8"},{"post_id":"ck8npaxzp004zqr3l489wyd1t","tag_id":"ck8npaxzs0059qr3l2npdm59v","_id":"ck8npay15009eqr3l5g4phwa2"},{"post_id":"ck8npaxzw005rqr3lh4yhilj7","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay16009hqr3lx7i2q3xe"},{"post_id":"ck8npaxzw005rqr3lh4yhilj7","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay17009kqr3ltkgz8z09"},{"post_id":"ck8npaxzs005aqr3l7yv3saax","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay18009nqr3lz7ac62fo"},{"post_id":"ck8npaxzs005aqr3l7yv3saax","tag_id":"ck8npaxzu005iqr3lyggaepkp","_id":"ck8npay18009qqr3l2ey4h6ts"},{"post_id":"ck8npaxzs005aqr3l7yv3saax","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay1a009tqr3ldaj7i03n"},{"post_id":"ck8npaxzx005uqr3ljp4064ng","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1b009wqr3lkud1vz75"},{"post_id":"ck8npaxzy005yqr3lmg7c3wqm","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1d00a0qr3lt8p9vxha"},{"post_id":"ck8npaxzt005gqr3ld3cmpy8l","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1e00a3qr3lta6ep3aj"},{"post_id":"ck8npaxzt005gqr3ld3cmpy8l","tag_id":"ck8npaxzy005xqr3lkkc9tyb5","_id":"ck8npay1f00a7qr3lm6uromzh"},{"post_id":"ck8npaxzt005gqr3ld3cmpy8l","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npay1g00aaqr3l5kxfukgm"},{"post_id":"ck8npaxzz0061qr3ltzt6iwhs","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1g00adqr3lrebskbwx"},{"post_id":"ck8npaxzz0061qr3ltzt6iwhs","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay1h00agqr3lfmvpr16s"},{"post_id":"ck8npay010066qr3l0g1f3jmp","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1i00ajqr3lw5kihwne"},{"post_id":"ck8npaxzu005kqr3l5sb8s0dc","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1j00amqr3l0fsuqjnr"},{"post_id":"ck8npaxzu005kqr3l5sb8s0dc","tag_id":"ck8npay000065qr3lg76jftsi","_id":"ck8npay1k00aqqr3lq7dkp1my"},{"post_id":"ck8npay02006cqr3ljvhisj3k","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1l00atqr3lrui63oau"},{"post_id":"ck8npay02006cqr3ljvhisj3k","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay1m00axqr3lky1wi2ia"},{"post_id":"ck8npay03006gqr3ldr5rcg4s","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1n00b0qr3lu12smhb6"},{"post_id":"ck8npay03006gqr3ldr5rcg4s","tag_id":"ck8npaxzc003rqr3lxa4jasee","_id":"ck8npay1o00b3qr3lsdmajmp8"},{"post_id":"ck8npaxzv005nqr3l7g0ejdfh","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1o00b6qr3l61d9e2pg"},{"post_id":"ck8npaxzv005nqr3l7g0ejdfh","tag_id":"ck8npay03006eqr3lna49cuvx","_id":"ck8npay1p00b9qr3lmeiydwuu"},{"post_id":"ck8npay04006jqr3l6m3vgghz","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1q00bdqr3l62i9siwv"},{"post_id":"ck8npay04006jqr3l6m3vgghz","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay1r00bgqr3ly6jvioom"},{"post_id":"ck8npay05006nqr3llxa57o0i","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1s00bjqr3l6tu09cf3"},{"post_id":"ck8npay05006nqr3llxa57o0i","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay1t00bmqr3lbm5u74rq"},{"post_id":"ck8npay06006qqr3l479syxzt","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay1t00bpqr3lges8hjws"},{"post_id":"ck8npay06006qqr3l479syxzt","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay1u00bsqr3lx1ev25lm"},{"post_id":"ck8npay07006uqr3l614xo9fp","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay1v00bvqr3lkk6wdvkb"},{"post_id":"ck8npay07006uqr3l614xo9fp","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npay1x00byqr3l42c2duf2"},{"post_id":"ck8npay020069qr3llzbv0gul","tag_id":"ck8npay05006mqr3lqps8gnw0","_id":"ck8npay1y00c1qr3l0dukfzzj"},{"post_id":"ck8npay020069qr3llzbv0gul","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay1z00c5qr3ltzdu272h"},{"post_id":"ck8npay08006xqr3led9a2fol","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2000c9qr3lgslcveam"},{"post_id":"ck8npay08006xqr3led9a2fol","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2100ccqr3lzey2fxzn"},{"post_id":"ck8npay090071qr3l5qlcy0vg","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2200cfqr3lpatn0e3w"},{"post_id":"ck8npay090071qr3l5qlcy0vg","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2300ciqr3lkkh5teu4"},{"post_id":"ck8npay0a0074qr3ll98uclxz","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2400clqr3l3px02poq"},{"post_id":"ck8npay0a0074qr3ll98uclxz","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2500cpqr3lx1e8lodw"},{"post_id":"ck8npay0d007eqr3lw5uqkk31","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2600ctqr3ly7ef204q"},{"post_id":"ck8npay0d007eqr3lw5uqkk31","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2700cwqr3lezfhmd1s"},{"post_id":"ck8npay0e007iqr3lu3bmyqal","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2900d0qr3lwcqnx9tz"},{"post_id":"ck8npay0e007iqr3lu3bmyqal","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2a00d3qr3lb7q9kcvh"},{"post_id":"ck8npay0a0077qr3lixh3fj0i","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2a00d6qr3l4yqxtvh9"},{"post_id":"ck8npay0a0077qr3lixh3fj0i","tag_id":"ck8npay0c007dqr3lxi5i3v0h","_id":"ck8npay2c00daqr3lbnbyi3kj"},{"post_id":"ck8npay0a0077qr3lixh3fj0i","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npay2d00ddqr3lr3af49hn"},{"post_id":"ck8npay0f007lqr3l082maomy","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2e00dhqr3lrexr8bod"},{"post_id":"ck8npay0f007lqr3l082maomy","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2f00dkqr3lwp1q8fef"},{"post_id":"ck8npay0g007pqr3lv0bgef3x","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2h00dnqr3lsjv82c71"},{"post_id":"ck8npay0g007pqr3lv0bgef3x","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2i00dqqr3l8r1pfx9i"},{"post_id":"ck8npay0b007aqr3l6uqm1fbz","tag_id":"ck8npay0f007mqr3lqxvo9rh7","_id":"ck8npay2j00dtqr3l3gzrxvqr"},{"post_id":"ck8npay0g007sqr3l8jwo6qtx","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2k00dvqr3lm40m0mpg"},{"post_id":"ck8npay0g007sqr3l8jwo6qtx","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2k00dxqr3l2kn6bvdr"},{"post_id":"ck8npay0h007vqr3lynff43jc","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2k00dzqr3lxt6cp84c"},{"post_id":"ck8npay0i007yqr3leiuhnznq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2k00e1qr3lfenadw8b"},{"post_id":"ck8npay0i007yqr3leiuhnznq","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2k00e3qr3lhxez5p3c"},{"post_id":"ck8npay0k0081qr3lm19iruzi","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2k00e5qr3lh52ntpb2"},{"post_id":"ck8npay0k0081qr3lm19iruzi","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2l00e7qr3lchjflr5d"},{"post_id":"ck8npay0m0087qr3lpb9qwsbq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00e9qr3l6su3ukg6"},{"post_id":"ck8npay0m0087qr3lpb9qwsbq","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2l00eaqr3lk6jlh5fa"},{"post_id":"ck8npay0n008cqr3l6gwgd3o9","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00ebqr3lmxjcnez0"},{"post_id":"ck8npay0n008cqr3l6gwgd3o9","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2l00ecqr3laotzwp5n"},{"post_id":"ck8npay0q008fqr3l1mqvret3","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00edqr3ldgnaswsa"},{"post_id":"ck8npay0q008fqr3l1mqvret3","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2l00eeqr3lgd5g913h"},{"post_id":"ck8npay0l0084qr3l1a4ny165","tag_id":"ck8npay0m008bqr3l7hwcp57c","_id":"ck8npay2l00efqr3lzk5a6i89"},{"post_id":"ck8npay0t008iqr3l14z5reqs","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00egqr3lwydgz8qt"},{"post_id":"ck8npay0t008iqr3l14z5reqs","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay2l00ehqr3l20ags67g"},{"post_id":"ck8npay0u008lqr3lmvryrt3j","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00eiqr3llgwmyb1j"},{"post_id":"ck8npay0u008lqr3lmvryrt3j","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2l00ejqr3lf6sevx7i"},{"post_id":"ck8npay0y008vqr3ldrfjpirk","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00ekqr3lrlotiunk"},{"post_id":"ck8npay0y008vqr3ldrfjpirk","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2l00elqr3ltl2rkhdg"},{"post_id":"ck8npay0z008yqr3lkj3eekw6","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00emqr3lnxhxzb7l"},{"post_id":"ck8npay0z008yqr3lkj3eekw6","tag_id":"ck8npaxzu005iqr3lyggaepkp","_id":"ck8npay2l00enqr3l3alo9ta5"},{"post_id":"ck8npay0v008oqr3lgw105qlk","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2l00eoqr3lxfy3fv0m"},{"post_id":"ck8npay0v008oqr3lgw105qlk","tag_id":"ck8npay0x008uqr3lzmp2b2ht","_id":"ck8npay2l00epqr3l9tn2c961"},{"post_id":"ck8npay110095qr3labz5tdc5","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2l00eqqr3lx71gr8cq"},{"post_id":"ck8npay110095qr3labz5tdc5","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2l00erqr3ljnsx637t"},{"post_id":"ck8npay0w008rqr3lte157ewy","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2l00esqr3lkd96e3zl"},{"post_id":"ck8npay0w008rqr3lte157ewy","tag_id":"ck8npay110092qr3l8ahfqfvh","_id":"ck8npay2m00etqr3lag3z6lit"},{"post_id":"ck8npay130098qr3lfjfclmfu","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00euqr3ld1215q39"},{"post_id":"ck8npay130098qr3lfjfclmfu","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2m00evqr3lzq76ir6k"},{"post_id":"ck8npay14009cqr3l5xthv823","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00ewqr3lsz9aximk"},{"post_id":"ck8npay14009cqr3l5xthv823","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2m00exqr3lyb37dmcp"},{"post_id":"ck8npay100091qr3lmdzyo9ty","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00eyqr3lo5a16vnd"},{"post_id":"ck8npay100091qr3lmdzyo9ty","tag_id":"ck8npay14009bqr3l20rcbdjh","_id":"ck8npay2m00ezqr3le5de97tl"},{"post_id":"ck8npay15009fqr3l4218fdmr","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f0qr3lqes56zyi"},{"post_id":"ck8npay16009iqr3l8ptq61nk","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f1qr3ldy28vdnt"},{"post_id":"ck8npay16009iqr3l8ptq61nk","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2m00f2qr3l47gnpmzh"},{"post_id":"ck8npay17009lqr3llq9ppjzt","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f3qr3l2az7t89m"},{"post_id":"ck8npay17009lqr3llq9ppjzt","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2m00f4qr3lg55d0ok8"},{"post_id":"ck8npay18009oqr3lr30di6aq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f5qr3lv559e370"},{"post_id":"ck8npay18009oqr3lr30di6aq","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2m00f6qr3l5k7440y6"},{"post_id":"ck8npay1b009yqr3l405s5ggs","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f7qr3looxtwqt9"},{"post_id":"ck8npay1b009yqr3l405s5ggs","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2m00f8qr3lby7bv10c"},{"post_id":"ck8npay1d00a1qr3l7iskfhl4","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00f9qr3limejdnsm"},{"post_id":"ck8npay1d00a1qr3l7iskfhl4","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2m00faqr3lo07sa6br"},{"post_id":"ck8npay19009rqr3lbyzmax09","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00fbqr3llh460aoo"},{"post_id":"ck8npay19009rqr3lbyzmax09","tag_id":"ck8npay1b009xqr3ls19eg6zr","_id":"ck8npay2m00fcqr3lou0h95r1"},{"post_id":"ck8npay1e00a4qr3l38n7aqao","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00fdqr3l52f06b11"},{"post_id":"ck8npay1e00a4qr3l38n7aqao","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2m00feqr3low7okwv2"},{"post_id":"ck8npay1f00a8qr3lvv40fh0c","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2m00ffqr3lvgo7y4tw"},{"post_id":"ck8npay1f00a8qr3lvv40fh0c","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2m00fgqr3lvq8pbvi8"},{"post_id":"ck8npay1a009uqr3l4hxw9zko","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fhqr3l1jpkjjyk"},{"post_id":"ck8npay1a009uqr3l4hxw9zko","tag_id":"ck8npay1e00a5qr3l77m9s48k","_id":"ck8npay2n00fiqr3lmkpkxsv8"},{"post_id":"ck8npay1g00abqr3l9gcpwfno","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fjqr3lgypzfp8g"},{"post_id":"ck8npay1g00abqr3l9gcpwfno","tag_id":"ck8npay14009bqr3l20rcbdjh","_id":"ck8npay2n00fkqr3lwirh6w9j"},{"post_id":"ck8npay1h00aeqr3limdnm0ll","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00flqr3lpa7ela2m"},{"post_id":"ck8npay1h00aeqr3limdnm0ll","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2n00fmqr3lkox8nreh"},{"post_id":"ck8npay1j00akqr3lwwk1kcsg","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fnqr3l0ju94u80"},{"post_id":"ck8npay1j00akqr3lwwk1kcsg","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2n00foqr3ljcaprfzf"},{"post_id":"ck8npay1k00arqr3lfl99ve2e","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fpqr3lmm87qwfx"},{"post_id":"ck8npay1k00arqr3lfl99ve2e","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2n00fqqr3llov96i12"},{"post_id":"ck8npay1i00ahqr3l37bvtjbx","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00frqr3lnkmak521"},{"post_id":"ck8npay1i00ahqr3l37bvtjbx","tag_id":"ck8npay1k00anqr3l0qp17xrb","_id":"ck8npay2n00fsqr3lvs3mjhp5"},{"post_id":"ck8npay1l00auqr3lfa4ku0rl","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00ftqr3lqo8p7xwm"},{"post_id":"ck8npay1l00auqr3lfa4ku0rl","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2n00fuqr3loxowftde"},{"post_id":"ck8npay1m00ayqr3l9bkfs8y9","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fvqr3lsgqqrseu"},{"post_id":"ck8npay1m00ayqr3l9bkfs8y9","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2n00fwqr3lnkv4xd2h"},{"post_id":"ck8npay1k00aoqr3lcbr2hpc5","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fxqr3l5tybk3v5"},{"post_id":"ck8npay1k00aoqr3lcbr2hpc5","tag_id":"ck8npay1m00avqr3lzwh0xqhq","_id":"ck8npay2n00fyqr3lu2lxvzyh"},{"post_id":"ck8npay1n00b1qr3l1nuj3h2h","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00fzqr3l6qme16y6"},{"post_id":"ck8npay1p00b7qr3l7fwucp5e","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00g0qr3lm3q33vab"},{"post_id":"ck8npay1p00b7qr3l7fwucp5e","tag_id":"ck8npaxy7000dqr3lursx9ez8","_id":"ck8npay2n00g1qr3lwrzp3obu"},{"post_id":"ck8npay1q00bbqr3lx6im6uxq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00g2qr3l2mujiw68"},{"post_id":"ck8npay1q00bbqr3lx6im6uxq","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2n00g3qr3lngobs610"},{"post_id":"ck8npay1q00beqr3lfbd1saqc","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2n00g4qr3lmfodtqcq"},{"post_id":"ck8npay1q00beqr3lfbd1saqc","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2o00g5qr3lnegci36n"},{"post_id":"ck8npay1r00bhqr3lo06bj7f3","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00g6qr3lui099ciy"},{"post_id":"ck8npay1r00bhqr3lo06bj7f3","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2o00g7qr3l2bthn3vj"},{"post_id":"ck8npay1s00bkqr3lusjmw6o5","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00g8qr3ljrlhhoov"},{"post_id":"ck8npay1s00bkqr3lusjmw6o5","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2o00g9qr3lcdareoki"},{"post_id":"ck8npay1t00bnqr3loozp6saw","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2o00gaqr3lby20gt1v"},{"post_id":"ck8npay1t00bnqr3loozp6saw","tag_id":"ck8npay0x008uqr3lzmp2b2ht","_id":"ck8npay2o00gbqr3ldl3lg4b7"},{"post_id":"ck8npay1t00bnqr3loozp6saw","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npay2o00gcqr3lgpbs2pdq"},{"post_id":"ck8npay1u00bqqr3l1yr2yzvq","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00gdqr3l4zsryyec"},{"post_id":"ck8npay1u00bqqr3l1yr2yzvq","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2o00geqr3lgaffmltz"},{"post_id":"ck8npay1v00btqr3lg3cszy9q","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00gfqr3l5js209ga"},{"post_id":"ck8npay1x00bwqr3l86t48zps","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npay2o00ggqr3l6cc88ox9"},{"post_id":"ck8npay1y00c3qr3lltftey43","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00ghqr3l7hjdublg"},{"post_id":"ck8npay1y00c3qr3lltftey43","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2o00giqr3ly8gr7vov"},{"post_id":"ck8npay1z00c7qr3lx1c6om3a","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00gjqr3l2ajfxpor"},{"post_id":"ck8npay1z00c7qr3lx1c6om3a","tag_id":"ck8npaxze003yqr3l1scqduom","_id":"ck8npay2o00gkqr3la8u6bqqz"},{"post_id":"ck8npay2000caqr3l15d5pun5","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00glqr3lir3lca4e"},{"post_id":"ck8npay2000caqr3l15d5pun5","tag_id":"ck8npaxzw005qqr3l3kk5l9hh","_id":"ck8npay2o00gmqr3lkj8o62ad"},{"post_id":"ck8npay1x00bzqr3l45oyopvf","tag_id":"ck8npay1z00c6qr3lcamgdj2m","_id":"ck8npay2o00gnqr3liax3c3r6"},{"post_id":"ck8npay2100cdqr3ljopyhf53","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00goqr3l5o9h6n06"},{"post_id":"ck8npay2100cdqr3ljopyhf53","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay2o00gpqr3l2vpixbwr"},{"post_id":"ck8npay2300cjqr3lobo6a4wo","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npay2o00gqqr3l732mjl0j"},{"post_id":"ck8npay2400cnqr3llytu4ej1","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2o00grqr3ljfqh6opi"},{"post_id":"ck8npay2400cnqr3llytu4ej1","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay2o00gsqr3lgga4m7ht"},{"post_id":"ck8npay2200cgqr3lxlihd069","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2p00gtqr3lrxj0qntd"},{"post_id":"ck8npay2200cgqr3lxlihd069","tag_id":"ck8npay2400cmqr3ljn3qescf","_id":"ck8npay2p00guqr3lrix574bt"},{"post_id":"ck8npay2600cuqr3l9bx14dvw","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00gvqr3lj3b70pj3"},{"post_id":"ck8npay2600cuqr3l9bx14dvw","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay2p00gwqr3lxle8v8vp"},{"post_id":"ck8npay2800cyqr3lrg2d8p2k","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00gxqr3l4c7dpu2g"},{"post_id":"ck8npay2900d1qr3l7cmm6t6k","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npay2p00gyqr3l0sm4b00i"},{"post_id":"ck8npay2500crqr3lbmvlnflr","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2p00gzqr3loa47gm06"},{"post_id":"ck8npay2500crqr3lbmvlnflr","tag_id":"ck8npay2800cxqr3l9gtmspej","_id":"ck8npay2p00h0qr3l49jw4nb1"},{"post_id":"ck8npay2500crqr3lbmvlnflr","tag_id":"ck8npaxyy002iqr3lh64z85j0","_id":"ck8npay2p00h1qr3l8onosvlx"},{"post_id":"ck8npay2a00d4qr3l964lpq2h","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2p00h2qr3lbf4ydts5"},{"post_id":"ck8npay2b00d8qr3logd0tm8a","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00h3qr3lq11vjhe3"},{"post_id":"ck8npay2c00dbqr3lbzx0pwtw","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00h4qr3l8zanunjo"},{"post_id":"ck8npay2d00deqr3l3g61zdqd","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00h5qr3lt3mucd96"},{"post_id":"ck8npay2d00deqr3l3g61zdqd","tag_id":"ck8npaxyt001zqr3l2x6lkqhy","_id":"ck8npay2p00h6qr3ll1xmxgfh"},{"post_id":"ck8npay2e00diqr3lr419p3w4","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00h7qr3l7p2vn9o2"},{"post_id":"ck8npay2e00diqr3lr419p3w4","tag_id":"ck8npay07006tqr3llxw4jxm9","_id":"ck8npay2p00h8qr3lck2xverf"},{"post_id":"ck8npay2g00dlqr3lyisi379k","tag_id":"ck8npaxy30008qr3lcze9pz10","_id":"ck8npay2p00h9qr3lyjnlfnak"},{"post_id":"ck8npay2h00doqr3lmqec1w2m","tag_id":"ck8npaxya000iqr3liob4xsuf","_id":"ck8npay2p00haqr3lw5shty26"},{"post_id":"ck8npay2h00doqr3lmqec1w2m","tag_id":"ck8npay110092qr3l8ahfqfvh","_id":"ck8npay2p00hbqr3lvb04g8dn"},{"post_id":"ck8npay2j00drqr3lhv2jd9dm","tag_id":"ck8npaxyv0029qr3lzwjw92xo","_id":"ck8npay2q00hcqr3lxe0mrei5"}],"Tag":[{"name":"Leetcode","_id":"ck8npaxy30008qr3lcze9pz10"},{"name":"字节跳动","_id":"ck8npaxy7000dqr3lursx9ez8"},{"name":"Android","_id":"ck8npaxya000iqr3liob4xsuf"},{"name":"IPC","_id":"ck8npaxyn001jqr3lvhajee88"},{"name":"腾讯","_id":"ck8npaxyt001zqr3l2x6lkqhy"},{"name":"Java","_id":"ck8npaxyv0029qr3lzwjw92xo"},{"name":"源码解析","_id":"ck8npaxyy002iqr3lh64z85j0"},{"name":"开源框架","_id":"ck8npaxzc003rqr3lxa4jasee"},{"name":"位运算","_id":"ck8npaxze003yqr3l1scqduom"},{"name":"线程","_id":"ck8npaxzg0047qr3lc3091nw7"},{"name":"缓存","_id":"ck8npaxzi004gqr3lxi28eahw"},{"name":"Kotlin","_id":"ck8npaxzn004vqr3l090ye0vo"},{"name":"Android，消息机制","_id":"ck8npaxzs0059qr3l2npdm59v"},{"name":"动态规划","_id":"ck8npaxzu005iqr3lyggaepkp"},{"name":"回溯","_id":"ck8npaxzw005qqr3l3kk5l9hh"},{"name":"事件总线","_id":"ck8npaxzy005xqr3lkkc9tyb5"},{"name":"贪心","_id":"ck8npay000065qr3lg76jftsi"},{"name":"DFS","_id":"ck8npay03006eqr3lna49cuvx"},{"name":"字符串","_id":"ck8npay05006mqr3lqps8gnw0"},{"name":"剑指Offer","_id":"ck8npay07006tqr3llxw4jxm9"},{"name":"View事件体系","_id":"ck8npay0c007dqr3lxi5i3v0h"},{"name":"tensorflow","_id":"ck8npay0f007mqr3lqxvo9rh7"},{"name":"Function Programming","_id":"ck8npay0m008bqr3l7hwcp57c"},{"name":"View事件分发","_id":"ck8npay0x008uqr3lzmp2b2ht"},{"name":"View的工作原理","_id":"ck8npay110092qr3l8ahfqfvh"},{"name":"数学","_id":"ck8npay14009bqr3l20rcbdjh"},{"name":"深搜","_id":"ck8npay1b009xqr3ls19eg6zr"},{"name":"BFS","_id":"ck8npay1e00a5qr3l77m9s48k"},{"name":"暴力","_id":"ck8npay1k00anqr3l0qp17xrb"},{"name":"递归","_id":"ck8npay1m00avqr3lzwh0xqhq"},{"name":"Machine Learning","_id":"ck8npay1z00c6qr3lcamgdj2m"},{"name":"Bug调试","_id":"ck8npay2400cmqr3ljn3qescf"},{"name":"自定义View","_id":"ck8npay2800cxqr3l9gtmspej"}]}}